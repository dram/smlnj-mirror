<!-- HTML/imperative-io-fn.html -->

<!-- COPYRIGHT (c) 1997 Bell Labs, Lucent Technologies. -->

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<TITLE>The ImperativeIO functor</TITLE>
</HEAD>
<BODY>
<A NAME="top"></A>
<H1 align="CENTER">The Standard ML Basis Library</H1>
<HR>


<H3>The <CODE>ImperativeIO</CODE> functor</H3>
<P>
The optional ImperativeIO functor can be used to implement (derive) an imperative-style stream IO facility in terms of a lazy functional stream IO facility.  In the imperative style, input and output operations do not return a new stream each time but side-effect their arguments.  Most functions can raise the <A HREF="io.html#SIG:IO.Io:EXN:SPEC">Io</A> exception for various reasons, including illegal or inconsistent parameters, IO failures, and attempts to do IO on closed streams. 
<P>
The <A HREF="#ImperativeIO:FCT:SPEC">ImperativeIO</A> functor is not often needed, as the  required <A HREF="bin-io.html#BinIO:STR:SPEC">BinIO</A> and <A HREF="text-io.html#TextIO:STR:SPEC">TextIO</A> structures supply imperative-style IO for most situations. It plays a useful role when the programmer needs  to construct IO facilities with element types other than <A HREF="char.html#SIG:CHAR.char:TY:SPEC">char</A> or <A HREF="word.html#SIG:WORD.word:TY:SPEC">Word8.word</A>,  or ones based on user-specified IO primitives. 
<HR>
<H4>Synopsis</H4>
<BLOCKQUOTE>
<CODE><B>functor </B><A NAME="ImperativeIO:FCT:SPEC"><CODE>ImperativeIO</CODE></A><B> (</B> ... <B>)</B><B> : </B>IMPERATIVE_IO<BR>
</CODE>
</BLOCKQUOTE>
<HR>
<H4>Functor argument interface</H4>
<BLOCKQUOTE>
<CODE><B>structure</B> <A NAME="ARG:ImperativeIO.StreamIO:STR:SPEC" HREF="#ARG:ImperativeIO.StreamIO:STR">StreamIO</A> <B>:</B> STREAM_IO<BR>
<B>structure</B> <A NAME="ARG:ImperativeIO.Vector:STR:SPEC" HREF="#ARG:ImperativeIO.Vector:STR">Vector</A> <B>:</B> MONO_VECTOR<BR>
<B>structure</B> <A NAME="ARG:ImperativeIO.Array:STR:SPEC" HREF="#ARG:ImperativeIO.Array:STR">Array</A> <B>:</B> MONO_ARRAY<BR>
<B>sharing</B> StreamIO.elem <B>=</B> Vector.elem <B>=</B> Array.elem<BR>
<B>sharing</B> StreamIO.vector <B>=</B> Vector.vector <B>=</B> Array.vector<BR>
</CODE>
</BLOCKQUOTE>
<H4>Description</H4>
<DL>
<DT> <A NAME="ARG:ImperativeIO.StreamIO:STR"><CODE><B>structure</B> StreamIO</CODE></A>
<DD>
The particular functional stream IO facility from which this 	imperative IO facility is derived.  Most functions 	just call functions in <CODE>StreamIO</CODE> and do a little extra 	bookkeeping. 	
<BR>
<BR>

<DT> <A NAME="ARG:ImperativeIO.Vector:STR"><CODE><B>structure</B> Vector</CODE></A>
<DD>
<BR>

<DT> <A NAME="ARG:ImperativeIO.Array:STR"><CODE><B>structure</B> Array</CODE></A>
<DD>
<BR>

<DT> <A NAME="ARG:ImperativeIO.StreamIO.elem:SHARE"><CODE><B>sharing</B> StreamIO.elem</CODE></A>
<DT> <CODE><B>sharing</B> StreamIO.vector</CODE>
<DD>
<BR>

</DL>
<HR>
<H4>See Also</H4>
<BLOCKQUOTE>
<A HREF="stream-io.html#STREAM_IO:SIG:SPEC">STREAM_IO</A>, <A HREF="imperative-io.html#IMPERATIVE_IO:SIG:SPEC">IMPERATIVE_IO</A>, <A HREF="stream-io-fn.html#StreamIO:FCT:SPEC">StreamIO</A>
</BLOCKQUOTE>


<HR>
<CENTER>
<B>[ <A HREF="index-all.html">INDEX</A> | <A HREF="#top">TOP</A>
   | <A HREF="io-chapter.html">Parent</A> | <A HREF="sml-std-basis.html">Root</A>
   ]</B>
</CENTER>
<P>
<I>Last Modified April 15, 1996</I><BR>
<I>Comments to <A HREF="mailto:jhr@research.bell-labs.com">John Reppy.</A></I><BR>

Copyright &copy; 1997 Bell Labs, Lucent Technologies <BR>

<HR>
</BODY>
</HTML>
