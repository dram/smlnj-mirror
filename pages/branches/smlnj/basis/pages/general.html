<!-- HTML/general.html -->

<!-- COPYRIGHT (c) 1997 Bell Labs, Lucent Technologies. -->

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<TITLE>The General structure</TITLE>
</HEAD>
<BODY>
<A NAME="top"></A>
<H1 align="CENTER">The Standard ML Basis Library</H1>
<HR>


<H3>The <CODE>General</CODE> structure</H3>
<P>
 The structure General defines exceptions, datatypes and functions that are used throughout the SML Basis Library, and that are useful in a wide range of programs.  
<P>
All of the types and values defined in General are  available unqualified at the top-level. 
<HR>
<H4>Synopsis</H4>
<BLOCKQUOTE>
<CODE><B>signature </B><A NAME="GENERAL:SIG:SPEC"><CODE>GENERAL</CODE></A><BR>
<B>structure </B><A NAME="General:STR:SPEC"><CODE>General</CODE></A><B> : </B>GENERAL<BR>
</CODE>
</BLOCKQUOTE>
<HR>
<H4>Interface</H4>
<BLOCKQUOTE>
<CODE><B>eqtype</B> <A NAME="SIG:GENERAL.unit:TY:SPEC" HREF="#SIG:GENERAL.unit:TY">unit</A><BR>
<B>type</B> <A NAME="SIG:GENERAL.exn:TY:SPEC" HREF="#SIG:GENERAL.exn:TY">exn</A><BR>
<B>exception</B> <A NAME="SIG:GENERAL.Bind:EXN:SPEC" HREF="#SIG:GENERAL.Bind:EXN">Bind</A><BR>
<B>exception</B> <A NAME="SIG:GENERAL.Chr:EXN:SPEC" HREF="#SIG:GENERAL.Chr:EXN">Chr</A><BR>
<B>exception</B> <A NAME="SIG:GENERAL.Div:EXN:SPEC" HREF="#SIG:GENERAL.Div:EXN">Div</A><BR>
<B>exception</B> <A NAME="SIG:GENERAL.Domain:EXN:SPEC" HREF="#SIG:GENERAL.Domain:EXN">Domain</A><BR>
<B>exception</B> <A NAME="SIG:GENERAL.Fail:EXN:SPEC" HREF="#SIG:GENERAL.Fail:EXN">Fail</A> <B>of</B> string 	<BR>
<B>exception</B> <A NAME="SIG:GENERAL.Match:EXN:SPEC" HREF="#SIG:GENERAL.Match:EXN">Match</A><BR>
<B>exception</B> <A NAME="SIG:GENERAL.Overflow:EXN:SPEC" HREF="#SIG:GENERAL.Overflow:EXN">Overflow</A><BR>
<B>exception</B> <A NAME="SIG:GENERAL.Size:EXN:SPEC" HREF="#SIG:GENERAL.Size:EXN">Size</A><BR>
<B>exception</B> <A NAME="SIG:GENERAL.Span:EXN:SPEC" HREF="#SIG:GENERAL.Span:EXN">Span</A><BR>
<B>exception</B> <A NAME="SIG:GENERAL.Subscript:EXN:SPEC" HREF="#SIG:GENERAL.Subscript:EXN">Subscript</A><BR>
<B>val</B> <A NAME="SIG:GENERAL.exnName:VAL:SPEC" HREF="#SIG:GENERAL.exnName:VAL">exnName</A> <B>:</B> exn -&gt; string         <BR>
<B>val</B> <A NAME="SIG:GENERAL.exnMessage:VAL:SPEC" HREF="#SIG:GENERAL.exnMessage:VAL">exnMessage</A> <B>:</B> exn -&gt; string         <BR>
<B>datatype</B> <A NAME="SIG:GENERAL.order:TY:SPEC" HREF="#SIG:GENERAL.order:TY">order</A> <B>=</B> LESS <B>|</B> EQUAL <B>|</B> GREATER<BR>
<B>val</B> <A NAME="SIG:GENERAL.!:VAL:SPEC" HREF="#SIG:GENERAL.!:VAL">!</A> <B>:</B> 'a ref -&gt; 'a         <BR>
<B>val</B> <A NAME="SIG:GENERAL.:=:VAL:SPEC" HREF="#SIG:GENERAL.:=:VAL">:=</A> <B>:</B> ('a ref * 'a) -&gt; unit         <BR>
<B>val</B> <A NAME="SIG:GENERAL.o:VAL:SPEC" HREF="#SIG:GENERAL.o:VAL">o</A> <B>:</B> (('b -&gt; 'c) * ('a -&gt; 'b)) -&gt; 'a -&gt; 'c         <BR>
<B>val</B> <A NAME="SIG:GENERAL.before:VAL:SPEC" HREF="#SIG:GENERAL.before:VAL">before</A> <B>:</B> ('a * unit) -&gt; 'a         <BR>
<B>val</B> <A NAME="SIG:GENERAL.ignore:VAL:SPEC" HREF="#SIG:GENERAL.ignore:VAL">ignore</A> <B>:</B> 'a -&gt; unit         <BR>
</CODE>
</BLOCKQUOTE>
<H4>Description</H4>
<DL>
<DT> <A NAME="SIG:GENERAL.unit:TY"><CODE><B>eqtype</B> unit</CODE></A>
<DD>
The type containing a single value denoted <CODE>()</CODE>,         which is typically used as a trivial argument or as a return value          for a side-effecting function.     
<BR>
<BR>

<DT> <A NAME="SIG:GENERAL.exn:TY"><CODE><B>type</B> exn</CODE></A>
<DD>
The type of values transmitted when an exception is raised and handled. This type is special in that it behaves like a datatype with an extensible set of data constructors, where new constructors are created by exception declarations.     
<BR>
<BR>

<DT> <A NAME="SIG:GENERAL.Bind:EXN"><CODE><B>exception</B> Bind</CODE></A>
<DD>
indicates that pattern matching failed in a <CODE>val</CODE> binding.     
<BR>
<BR>

<DT> <A NAME="SIG:GENERAL.Chr:EXN"><CODE><B>exception</B> Chr</CODE></A>
<DD>
indicates an attempt to create a character with a code outside the range supported by the underlying character type.     
<BR>
<BR>

<DT> <A NAME="SIG:GENERAL.Div:EXN"><CODE><B>exception</B> Div</CODE></A>
<DD>
indicates an attempt to divide by zero. (Replaces the <CODE>Mod</CODE> exception required by the Definition).     
<BR>
<BR>

<DT> <A NAME="SIG:GENERAL.Domain:EXN"><CODE><B>exception</B> Domain</CODE></A>
<DD>
indicates that the argument of a mathematical function is outside the domain of the function.  Raised by functions in structures matching the <A HREF="math.html#MATH:SIG:SPEC">MATH</A> or <A HREF="large-int.html#INT_INF:SIG:SPEC">INT_INF</A> signatures.  (Replaces the <CODE>Sqrt</CODE> and <CODE>Ln</CODE> exceptions required by the Definition).     
<BR>
<BR>

<DT> <A NAME="SIG:GENERAL.Fail:EXN"><CODE><B>exception</B> Fail</CODE></A>
<DD>
A general-purpose exception to signify the failure of an operation.  Not raised by any function built into the SML Standard Library.	     
<BR>
<BR>

<DT> <A NAME="SIG:GENERAL.Match:EXN"><CODE><B>exception</B> Match</CODE></A>
<DD>
indicates that pattern matching failed in a <CODE>case</CODE> expression or function application.     
<BR>
<BR>

<DT> <A NAME="SIG:GENERAL.Overflow:EXN"><CODE><B>exception</B> Overflow</CODE></A>
<DD>
indicates that the result of an arithmetic function is not representable, e.g., is too large.   (Replaces the <CODE>Abs</CODE>, <CODE>Exp</CODE>, <CODE>Neg</CODE>, <CODE>Prod</CODE>, <CODE>Quot</CODE>, and <CODE>Sum</CODE> exceptions required by the Definition).     
<BR>
<BR>

<DT> <A NAME="SIG:GENERAL.Size:EXN"><CODE><B>exception</B> Size</CODE></A>
<DD>
indicates an attempt to create an aggregate data structure (such as an array, string or vector) whose size is too large or negative. 	
<BR>
<BR>

<DT> <A NAME="SIG:GENERAL.Span:EXN"><CODE><B>exception</B> Span</CODE></A>
<DD>
indicates an attempt to apply  <A HREF="substring.html#SIG:SUBSTRING.span:VAL:SPEC">SUBSTRING.span</A> to two incompatible substrings.     
<BR>
<BR>

<DT> <A NAME="SIG:GENERAL.Subscript:EXN"><CODE><B>exception</B> Subscript</CODE></A>
<DD>
indicates that an index is out of range, typically  arising when the program is accessing an element in an aggregate data structure (such as a list, string, array or vector). 	
<BR>
<BR>

<DT> <A NAME="SIG:GENERAL.exnName:VAL"><CODE>exnName <VAR>ex</VAR>
          </CODE></A>
<DD>
returns a name for the exception <VAR>ex</VAR>. The name returned may be that of any exception constructor aliasing with <VAR>ex</VAR>.  For instance,  <CODE>let exception E1; exception E2 = E1 in exnName E2 end</CODE>  might evaluate to <CODE>&quot;E1&quot;</CODE> or <CODE>&quot;E2&quot;</CODE>.     
<BR>
<BR>

<DT> <A NAME="SIG:GENERAL.exnMessage:VAL"><CODE>exnMessage <VAR>ex</VAR>
          </CODE></A>
<DD>
returns a message corresponding to exception <VAR>ex</VAR>. The precise format of the message may vary between implementations and locales, but will at least contain the string <CODE><A HREF="#SIG:GENERAL.exnName:VAL:SPEC">exnName</A> <VAR>ex</VAR></CODE>.  
<BLOCKQUOTE>
<B>Example:</B><BR>

<PRE>
exnMessage Div = &quot;Div&quot;
exnMessage (OS.SysErr (&quot;No such file or directory&quot;, <A HREF="option.html#SIG:OPTION.option:TY:SPEC">NONE</A>)) = 
  &quot;OS.SysErr \&quot;No such file or directory\&quot;&quot;
</PRE>
</BLOCKQUOTE>
      
<BR>
<BR>

<DT> <A NAME="SIG:GENERAL.order:TY"><CODE><B>datatype</B> order</CODE></A>
<DD>
Values of type <A HREF="#SIG:GENERAL.order:TY:SPEC">order</A> are used when comparing elements         of a type that has a linear ordering.     
<BR>
<BR>

<DT> <A NAME="SIG:GENERAL.!:VAL"><CODE>! <VAR>re</VAR>
          </CODE></A>
<DD>
returns the value referred to by the reference <VAR>re</VAR>.     
<BR>
<BR>

<DT> <A NAME="SIG:GENERAL.:=:VAL"><CODE><VAR>re</VAR> := <VAR>a</VAR>
          </CODE></A>
<DD>
makes the reference <VAR>re</VAR> refer to the value <VAR>a</VAR>.     
<BR>
<BR>

<DT> <A NAME="SIG:GENERAL.o:VAL"><CODE><VAR>f</VAR> o <VAR>g</VAR>
          </CODE></A>
<DD>
is the function composition of <VAR>f</VAR> and <VAR>g</VAR>.           Thus, <CODE>(<VAR>f</VAR> o <VAR>g</VAR>) <VAR>a</VAR></CODE>           is equivalent to <CODE><VAR>f</VAR>(<VAR>g</VAR> <VAR>a</VAR>)</CODE>.     
<BR>
<BR>

<DT> <A NAME="SIG:GENERAL.before:VAL"><CODE><VAR>a</VAR> before <VAR>b</VAR>
          </CODE></A>
<DD>
returns <VAR>a</VAR>. It provides a notational shorthand           for evaluating <VAR>a</VAR>, then <VAR>b</VAR>, before returning the value           of <VAR>a</VAR>.     
<BR>
<BR>

<DT> <A NAME="SIG:GENERAL.ignore:VAL"><CODE>ignore <VAR>a</VAR>
          </CODE></A>
<DD>
returns <CODE>()</CODE>. 	  The purpose of <A HREF="#SIG:GENERAL.ignore:VAL:SPEC">ignore</A> is           to discard the result of a computation, returning <CODE>()</CODE> instead. 	  This is useful, for example, when a higher-order function, such           as <A HREF="list.html#SIG:LIST.app:VAL:SPEC">List.app</A>, requires a function 	  returning <A HREF="#SIG:GENERAL.unit:TY:SPEC">unit</A>,           but the function to be used returns values of some other type.
<BR>
<BR>

</DL>
<HR>
<H4>Discussion</H4>
<P>
Some systems may provide a compatibility mode in which the replaced exceptions (e.g., <CODE>Abs</CODE>, <CODE>Sqrt</CODE>) are provided at top-level as aliases for the new exceptions.


<HR>
<CENTER>
<B>[ <A HREF="index-all.html">INDEX</A> | <A HREF="#top">TOP</A>
   | <A HREF="general-chapter.html">Parent</A> | <A HREF="sml-std-basis.html">Root</A>
   ]</B>
</CENTER>
<P>
<I>Last Modified February 20, 1997</I><BR>
<I>Comments to <A HREF="mailto:jhr@research.bell-labs.com">John Reppy.</A></I><BR>

Copyright &copy; 1997 Bell Labs, Lucent Technologies <BR>

<HR>
</BODY>
</HTML>
