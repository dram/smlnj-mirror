<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 99.1 release (March 30, 1999)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>3.2.1 Linkage to runtime system</TITLE>
<META NAME="description" CONTENT="3.2.1 Linkage to runtime system">
<META NAME="keywords" CONTENT="btcomp">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v99.1 release">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="btcomp.css">

<LINK REL="previous" HREF="node11.html">
<LINK REL="up" HREF="node11.html">
<LINK REL="next" HREF="node13.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html210"
 HREF="node13.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html206"
 HREF="node11.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html202"
 HREF="node11.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A> 
<A NAME="tex2html208"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html211"
 HREF="node13.html">3.3 BOOTLIST file</A>
<B> Up:</B> <A NAME="tex2html207"
 HREF="node11.html">3.2 Init library</A>
<B> Previous:</B> <A NAME="tex2html203"
 HREF="node11.html">3.2 Init library</A>
 &nbsp <B>  <A NAME="tex2html209"
 HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H3><A NAME="SECTION00042100000000000000">
3.2.1 Linkage to runtime system</A>
</H3>

<P>
The ML source file <TT> dummy.sml</TT> (located in directory <TT> 
src/system/smlnj/init</TT>) contains a carefully constructed module whose
signature matches that of the runtime system's binary API.  This file
is being compiled as part of constructing the init library, but it has
been marked specially as <EM> runtime system placeholder</EM>.  During
compilation, this file pretends to <EM> be</EM> the runtime system; other
modules that use the runtime system ``think'' they are using <TT> 
dummy.sml</TT>.

<P>
At link time (i.e., bootstrap time--when <TT> makeml</TT> is run), the
boot loader will ignore <TT> dummy.sml</TT> and use the actual runtime
system in its place.  This trick makes it possible that (from the
point of view of all other modules) using services from the runtime
system appears to be no different than using services from an ordinary
ML compilation unit.

<P>
<BR><HR>
<ADDRESS>
<I>Matthias Blume</I>
<BR><I>2001-07-19</I>
</ADDRESS>
</BODY>
</HTML>
