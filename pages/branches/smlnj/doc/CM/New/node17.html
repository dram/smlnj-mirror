<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 99.1 release (March 30, 1999)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>3.3 Anchor environments</TITLE>
<META NAME="description" CONTENT="3.3 Anchor environments">
<META NAME="keywords" CONTENT="manual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v99.1 release">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="manual.css">

<LINK REL="next" HREF="node18.html">
<LINK REL="previous" HREF="node16.html">
<LINK REL="up" HREF="node14.html">
<LINK REL="next" HREF="node18.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html455"
 HREF="node18.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html451"
 HREF="node14.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html445"
 HREF="node16.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A> 
<A NAME="tex2html453"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html456"
 HREF="node18.html">3.4 Anchor configuration</A>
<B> Up:</B> <A NAME="tex2html452"
 HREF="node14.html">3. Naming objects in</A>
<B> Previous:</B> <A NAME="tex2html446"
 HREF="node16.html">3.2 Basic rules</A>
 &nbsp <B>  <A NAME="tex2html454"
 HREF="node1.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00043000000000000000"></A>
<A NAME="sec:anchor:env"></A>
<BR>
3.3 Anchor environments
</H2>

<P>
Anchor names are resolved in the <EM> anchor environment</EM> that is in
effect at the time the anchor is read.

<P>
The basis for all anchor environments is the <EM> root environment</EM>.
Conceptually, the root environments is a fixed mapping that binds
every possible anchor to a mutable location.  The location can store a
native directory name or can be marked ``undefined''.  Most locations
initially start out undefined.  The contents of each location is
configurable (see Section&nbsp;<A HREF="node18.html#sec:anchor:config">3.4</A>).

<P>
At the time a CM description file <IMG
 WIDTH="12" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img7.gif"
 ALT="$a$"><TT> .cm</TT> refers to another
library's or library component's description file <IMG
 WIDTH="11" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img9.gif"
 ALT="$b$"><TT> .cm</TT>, it can
augment the current anchor environment with new bindings.  The new
bindings are in effect while <IMG
 WIDTH="11" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img9.gif"
 ALT="$b$"><TT> .cm</TT> (including any description
files <I> it</I> mentions!) is being processed.  If a new binding
binds an anchor name that was already bound in the current
environment<A NAME="tex2html3"
 HREF="footnode.html#foot570"><SUP>3</SUP></A>, then the old binding is being
hidden.  The effect is scoping for anchor names.

<P>
Using CM's <EM> tool parameter</EM> mechanism (see
Section&nbsp;<A HREF="node41.html#sec:toolparam">6.1</A>), a new binding is specified as a pair of
anchor name and anchor value.  The value has the form of another path
name (standard or native). Example:

<P>
 
<PRE>

  a.cm (bind:(anchor:lib value:$mystuff/a-lib)
        bind:(anchor:support value:$lib)
        bind:(anchor:utils value:/home/bob/stuff/ML/utils))
</PRE>

<P>
As shown in this example, it is perfectly legal for the specification
of the value to involve the use of another anchor.  That anchor will
be resolved in the original anchor environment. Thus, a path anchored
at <TT> $lib</TT> in <TT> a.cm</TT> will be resolved using the binding for
<TT> $mystuff</TT> that is currently in effect.  The point here is that a
re-configuration of the root environment that affects <TT> $mystuff</TT>
now also affects how <TT> $lib</TT> is resolved as it occurs within <TT> 
a.cm</TT>.

<P>
CM processes the list of <TT> bind</TT>-directives ``in parallel.'' This
means that the anchor <TT> $support</TT> will refer to the original
meaning of <TT> $lib</TT> and is <EM> not</EM> being bound to <TT> 
$mystuff/a-lib/asupport</TT>.

<P>
The example also demonstrates that <TT> value</TT>-paths can be single
anchors. In other words, the restriction that there has to be at least
one arc after the anchor does not apply here. This makes it possible
to ``rename'' anchors, or, to put it more precisely, for one anchor
name to be established as an ``alias'' for another anchor name.

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html455"
 HREF="node18.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html451"
 HREF="node14.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html445"
 HREF="node16.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A> 
<A NAME="tex2html453"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html456"
 HREF="node18.html">3.4 Anchor configuration</A>
<B> Up:</B> <A NAME="tex2html452"
 HREF="node14.html">3. Naming objects in</A>
<B> Previous:</B> <A NAME="tex2html446"
 HREF="node16.html">3.2 Basic rules</A>
 &nbsp <B>  <A NAME="tex2html454"
 HREF="node1.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<I>Matthias Blume</I>
<BR><I>2001-07-19</I>
</ADDRESS>
</BODY>
</HTML>
