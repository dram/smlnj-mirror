%!PS-Adobe-2.0
%%Creator: dvips(k) 5.86 Copyright 1999 Radical Eye Software
%%Title: manual.dvi
%%Pages: 57
%%PageOrder: Ascend
%%BoundingBox: 0 0 612 792
%%DocumentFonts: Times-Bold Times-Roman Times-Italic Courier
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -t letter -o manual.ps manual
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2001.07.19:1421
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "1 July 1998",
%   filename = "8r.enc",
%   email = "tex-fonts@@tug.org",
%   docstring = "Encoding for TrueType or Type 1 fonts
%                to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both 
% ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
TeXDict begin 40258431 52099146 1000 600 600 (manual.dvi)
@start
%DVIPSBitmapFont: Fa cmsy8 8 1
/Fa 1 2 df<123C127E12FFA4127E123C08087A9414>1 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fb cmr8 8 2
/Fb 2 94 df<EAFFE0A3EAE000B3B3B3A7EAFFE0A30B4379B114>91
D<EAFFE0A31200B3B3B3A712FFA30B437FB114>93 D E
%EndDVIPSBitmapFont
/Fc 107[33 33 24[33 37 37 54 37 37 21 29 25 37 37 37
37 58 21 37 1[21 37 37 25 33 37 33 37 33 7[54 1[71 1[54
46 42 50 1[42 54 54 66 46 1[29 25 54 4[50 50 54 5[21
7[37 37 37 37 21 1[25 19 2[25 25 25 36[42 2[{
TeXBase1Encoding ReEncodeFont}56 74.7198 /Times-Roman
rf
%DVIPSBitmapFont: Fd cmmi9 9 1
/Fd 1 100 df<147F903803FFC090380FC0F090383F0038137C4913F83801F0013803E0
031207EA0FC090388001F0001F90C7FC123F90C8FCA25A127EA45AA3127C150C151C1538
6C147015E06CEB03C0390F800F003807C07E3801FFF038007F801E227EA021>99
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fe cmmi7 7 2
/Fe 2 116 df<EA01F0123FA2EA03E0A21207A25BA2120FA25BA2121F139FEB3FC0EBE0
E0383FC0F0EB0078A2123E007E137CA2127CA212FC14F85AA338F001F0A214E0130314C0
EB078038700F00EA781E6C5AEA1FF0EA07C016297CA71D>98 D<EB0FE0EB7FF8EBF03C38
01C00E0003131E3807803EA2143C000F1318EBE0006CB4FC14C06C13E06C13F06C13F813
071301EA3C00007E1378A24813F05A387001E0EB03C0383C0F80381FFE00EA07F8171B7C
991F>115 D E
%EndDVIPSBitmapFont
/Ff 130[45 45 45 45 45 45 45 45 45 45 45 45 45 45 45
45 45 45 45 45 45 45 45 45 45 45 45 45 45 1[45 5[45 45
45 45 45 45 45 45 1[45 45 45 45 45 45 1[45 45 45 45 45
45 45 45 45 2[45 45 2[45 1[45 1[45 2[45 45 45 45 45 45
45 45 1[45 45 45 45 2[45 36[{TeXBase1Encoding ReEncodeFont}71
74.7198 /Courier rf /Fg 138[60 60 60 60 2[60 60 60 60
60 1[60 60 60 1[60 1[60 1[60 10[60 1[60 60 83[{
TeXBase1Encoding ReEncodeFont}18 99.6264 /Courier rf
/Fh 138[72 72 72 72 2[72 72 72 72 1[72 4[72 1[72 21[72
9[72 19[72 72 9[72 36[{TeXBase1Encoding ReEncodeFont}16
119.552 /Courier rf
%DVIPSBitmapFont: Fi cmr7 7 2
/Fi 2 51 df<13381378EA01F8121F12FE12E01200B3AB487EB512F8A215267BA521>49
D<13FF000313E0380E03F0381800F848137C48137E00787F12FC6CEB1F80A4127CC7FC15
005C143E147E147C5C495A495A5C495A010EC7FC5B5B903870018013E0EA018039030003
0012065A001FB5FC5A485BB5FCA219267DA521>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fj cmmi8 8 3
/Fj 3 121 df<13FC13FFEB1FC0130F6D7EA36D7EA2130180A26D7EA3147EA280A36E7E
A2140F81A24A7E143F147FECF3F0EB01E3EB03C190380781F8130F49C67E133E5B49137E
485A48487F1207485A4848EB1F8048C7FC127E48EC0FC048EC07E000701403232F7DAD29
>21 D<15C0140114031580A214071500A25C140EA2141E141CA2143C143814781470A214
F05CA213015CA213035C130791C7FCA25B130EA2131E131CA2133C1338A21378137013F0
5BA212015BA212035BA2120790C8FC5A120EA2121E121CA2123C1238A212781270A212F0
5AA21A437CB123>61 D<013F137C9038FFC1FF3A01C1E383803A0380F703C0390700F60F
000E13FE4813FC12180038EC0700003049C7FCA2EA200100005BA313035CA301075B5D14
C000385CD87C0F130600FC140E011F130C011B131C39F03BE038D8707113F0393FE0FFC0
260F803FC7FC221F7E9D28>120 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fk cmr10 10 8
/Fk 8 127 df<146014E0EB01C0EB0380EB0700130E131E5B5BA25B485AA2485AA21207
5B120F90C7FCA25A121EA2123EA35AA65AB2127CA67EA3121EA2121F7EA27F12077F1203
A26C7EA26C7E1378A27F7F130E7FEB0380EB01C0EB00E01460135278BD20>40
D<12C07E12707E7E7E120F6C7E6C7EA26C7E6C7EA21378A2137C133C133E131EA2131F7F
A21480A3EB07C0A6EB03E0B2EB07C0A6EB0F80A31400A25B131EA2133E133C137C1378A2
5BA2485A485AA2485A48C7FC120E5A5A5A5A5A13527CBD20>I<EB03F8EB1FFF90387E0F
C09038F803E03901E000F0484813780007147C48487FA248C77EA2481580A3007EEC0FC0
A600FE15E0B3007E15C0A4007F141F6C1580A36C15006D5B000F143EA26C6C5B6C6C5B6C
6C485A6C6C485A90387E0FC0D91FFFC7FCEB03F8233A7DB72A>48
D<EB01C013031307131F13FFB5FCA2131F1200B3B3A8497E007FB512F0A31C3879B72A>
I<007FB812F8B912FCA26C17F8CCFCAE007FB812F8B912FCA26C17F836167B9F41>61
D<EAFFF8A4EAF000B3B3B3B3A3EAFFF8A40D5378BD17>91 D<EAFFF8A4EA0078B3B3B3B3
A3EAFFF8A40D537FBD17>93 D<D801E01340D807F813E0390FFE01C0391FFF8780393C3F
FF0038700FFE38E003FC384000F01B0879B62A>126 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fl cmmi10 10 21
/Fl 21 121 df<121C127FEAFF80A5EA7F00121C0909798817>58
D<121C127FEAFF80A213C0A3127F121C1200A412011380A2120313005A1206120E5A5A5A
12600A19798817>I<1760177017F01601A21603A21607160FA24C7EA216331673166316
C3A2ED0183A2ED0303150683150C160115181530A21560A215C014011580DA03007FA202
061300140E140C5C021FB5FC5CA20260C7FC5C83495A8349C8FC1306A25BA25B13385B01
F01680487E000716FFB56C013F13FF5EA2383C7DBB3E>65 D<0103B77E4916F018FC903B
0007F80003FE4BEB00FFF07F80020FED3FC0181F4B15E0A2141FA25DA2143F19C04B143F
1980027F157F190092C812FE4D5A4A4A5AEF0FF04AEC1FC005FFC7FC49B612FC5F02FCC7
B4FCEF3FC00103ED0FE0717E5C717E1307844A1401A2130F17035CA2131F4D5A5C4D5A13
3F4D5A4A4A5A4D5A017F4BC7FC4C5A91C7EA07FC49EC3FF0B812C094C8FC16F83B397DB8
3F>I<0103B7FC4916E018F8903B0007F80007FC4BEB00FE187F020FED3F80F01FC05DA2
021F16E0A25DA2143FF03FC05DA2027FED7F80A292C8130018FE4A4A5A604AEC07F04D5A
0101ED3FC04CB4C7FC91B612FC17E0D903FCCAFCA25CA21307A25CA2130FA25CA2131FA2
5CA2133FA25CA2137FA291CBFC497EB6FCA33B397DB835>80 D<0003B812FEA25A903AF8
003FC00101C0913880007E4848163C90C7007F141C121E001C92C7FCA2485CA200305C00
7017180060130112E0485CA21403C716005DA21407A25DA2140FA25DA2141FA25DA2143F
A25DA2147FA292C9FCA25CA25CA21301A25CA21303A25CEB0FFC003FB6FC5AA237397EB8
31>84 D<147E903803FF8090390FC1C38090391F00EFC0017E137F49133F485A4848EB1F
8012075B000F143F48481400A2485A5D007F147E90C7FCA215FE485C5AA214015D48150C
A21403EDF01C16181407007C1538007E010F1330003E131F027B13706C01E113E03A0F83
C0F9C03A03FF007F80D800FCEB1F0026267DA42C>97 D<133FEA1FFFA3C67E137EA313FE
5BA312015BA312035BA31207EBE0FCEBE3FF9038E707C0390FFE03E09038F801F001F013
F8EBE000485A15FC5BA2123F90C7FCA214015A127EA2140312FE4814F8A2140715F05AEC
0FE0A215C0EC1F80143F00781400007C137E5C383C01F86C485A380F07C06CB4C7FCEA01
FC1E3B7CB924>I<EC3FC0903801FFF0903807E03C90380F800E90383F0007017E131F49
137F484813FF485A485A120F4913FE001F143848481300A2127F90C8FCA35A5AA45AA315
031507007E1406150E003E143C003F14706C14E0390F8007C03907C03F003801FFF83800
3FC020267DA424>I<163FED1FFFA3ED007F167EA216FEA216FCA21501A216F8A21503A2
16F0A21507A2027E13E0903803FF8790380FC1CF90381F00EF017EEB7FC049133F485A48
48131F000715805B000F143F485A1600485A5D127F90C7127EA215FE5A485CA21401A248
ECF80CA21403161CEDF0181407007C1538007E010F1330003E131F027B13706C01E113E0
3A0F83C0F9C03A03FF007F80D800FCEB1F00283B7DB92B>I<16F8ED03FEED0F8792381F
0F80ED3E3F167F157CA215FC1700161C4A48C7FCA414035DA414075DA20107B512F0A390
26000FE0C7FC5DA4141F5DA4143F92C8FCA45C147EA514FE5CA413015CA4495AA45C1307
A25C121E123F387F8F80A200FF90C9FC131E12FEEA7C3CEA7878EA1FF0EA07C0294C7CBA
29>102 D<EB0FC0EA03FF5AA2EA001F1480A2133FA21400A25BA2137EA213FEA25BA212
01A25BA21203A25BA21207A25BA2120FA25BA2121FA25BA2123FA290C7FCA25AA2EA7E03
A2EAFE07130612FCA2130E130C131C1318EA7C38EA3C70EA1FE0EA0780123B7DB919>
108 D<D803E0017F14FE3D07F801FFE003FFC03D0E3C0781F00F03E03D1C3E1E00F83C01
F026383F38D9FC707F00304914E04A90387DC000007049EB7F8000604991C7FCA200E090
C700FE1301485A017E5CA200000201140301FE5F495CA203031407000160495C180F0307
5D1203494A011F13601980030F023F13E00007F000C0495C1901031F023E1380000F1803
494A150061033F150E001FEF1E1C4991C7EA0FF80007C7000EEC03E043267EA449>I<D8
03E0137F3A07F801FFE03A0E3C0781F03A1C3E1E00F826383F387F00305B4A137C00705B
00605BA200E090C712FC485A137EA20000140101FE5C5BA2150300015D5B15075E120349
010F133016C0031F13700007ED80605B17E0EE00C0000F15014915801603EE0700001FEC
0F0E49EB07FC0007C7EA01F02C267EA432>I<EC1FC0ECFFF8903807E07E90380F801F90
393F000F80017E14C0491307484814E0485A4848EB03F0120F5B121F48481307A2127F90
C7FCA2150F5A4815E0A2151F16C0A248EC3F8016005D157E007E5C4A5A003E495A003F49
5A6C495A6C6C48C7FC3807E07E3801FFF038003F8024267DA428>I<90390F8003F09039
1FE00FFC903939F03C1F903A70F8700F80903AE0FDE007C09038C0FF80030013E0000149
1303018015F05CEA038113015CA2D800031407A25CA20107140FA24A14E0A2010F141F17
C05CEE3F80131FEE7F004A137E16FE013F5C6E485A4B5A6E485A90397F700F80DA383FC7
FC90387E1FFCEC07E001FEC9FCA25BA21201A25BA21203A25B1207B512C0A32C3583A42A
>I<3903E001F83907F807FE390E3C1E07391C3E381F3A183F703F800038EBE07F0030EB
C0FF00705B00601500EC007E153CD8E07F90C7FCEAC07EA2120013FE5BA312015BA31203
5BA312075BA3120F5BA3121F5B0007C9FC21267EA425>114 D<14FF010313C090380F80
F090383E00380178131C153C4913FC0001130113E0A33903F000F06D13007F3801FFE014
FC14FF6C14806D13C0011F13E013039038003FF014071403001E1301127FA24814E0A348
EB03C012F800E0EB07800070EB0F006C133E001E13F83807FFE0000190C7FC1E267CA427
>I<EB01C0497E1307A4130F5CA3131F5CA3133F91C7FC007FB51280A2B6FCD8007EC7FC
A313FE5BA312015BA312035BA312075BA3120FEBC006A2140E001F130CEB801C14181438
5C146014E0380F81C038078780D803FEC7FCEA00F819357EB31E>I<01F8EB03C0D803FE
EB07E0D8070F130F000E018013F0121C12180038140700301403D8701F130112601500D8
E03F14E000C090C7FC5BEA007E16C013FE5B1501000115805B150316001203495B150615
0E150C151C151815385D00015C6D485A6C6C485AD97E0FC7FCEB1FFEEB07F024267EA428
>118 D<903907E001F090391FF807FC9039783E0E0F9039E01F1C1FD801C09038383F80
3A03800FF07F0100EBE0FF5A000E4A1300000C157E021F133C001C4AC7FC1218A2C7123F
A292C8FCA25CA2147EA214FEA24A130CA20101141C001E1518003F5BD87F81143801835C
00FF1560010714E03AFE0E7C01C0D87C1C495A2778383E0FC7FC391FF00FFC3907C003F0
29267EA42F>120 D E
%EndDVIPSBitmapFont
/Fm 134[40 40 2[40 40 40 40 1[40 40 40 40 40 40 40 40
40 40 40 40 1[40 40 40 19[40 9[40 19[40 40 40 8[40 36[{
TeXBase1Encoding ReEncodeFont}27 66.4176 /Courier rf
/Fn 139[18 26 3[33 2[18 108[{TeXBase1Encoding ReEncodeFont}4
66.4176 /Times-Italic rf /Fo 107[29 29 25[33 33 48 33
33 18 26 22 33 33 33 33 52 18 33 1[18 33 33 22 29 33
29 33 29 3[22 1[22 2[48 3[41 37 44 2[48 48 59 41 1[26
22 1[48 2[48 44 44 48 7[33 1[33 33 6[18 17 22 17 2[22
22 22 36[37 2[{TeXBase1Encoding ReEncodeFont}54 66.4176
/Times-Roman rf /Fp 198[25 25 25 25 25 25 25 25 25 25
48[{TeXBase1Encoding ReEncodeFont}10 49.8132 /Times-Roman
rf /Fq 198[29 29 29 29 29 29 29 29 29 29 48[{
TeXBase1Encoding ReEncodeFont}10 58.1154 /Times-Roman
rf /Fr 134[50 50 72 50 55 33 39 44 1[55 50 55 83 28 55
1[28 55 50 33 44 55 44 55 50 9[100 72 1[66 55 1[78 61
1[72 94 66 1[50 39 78 78 61 66 72 72 66 72 7[50 50 50
50 50 50 50 50 50 50 28 25 33 3[33 33 33 35[55 55 2[{
TeXBase1Encoding ReEncodeFont}60 99.6264 /Times-Bold
rf
%DVIPSBitmapFont: Fs cmsy10 10 7
/Fs 7 107 df<007FB81280B912C0A26C17803204799641>0 D<EB1FF0EBFFFE487F0007
14C04814E04814F04814F8A24814FCA3B612FEA96C14FCA36C14F8A26C14F06C14E06C14
C0000114006C5BEB1FF01F1F7BA42A>15 D<181EA4181F84A285180785727EA2727E727E
85197E85F11F80F10FC0F107F0007FBA12FCBCFCA26C19FCCCEA07F0F10FC0F11F80F13F
00197E61614E5A4E5AA24E5A61180F96C7FCA260181EA4482C7BAA53>33
D<D90FF0ED07F0D93FFEED3FFE90B56C91B5FC00036E903903F807C02707F07FF0903907
C001E0270F801FF890390F8000F090260007FC013EC71270001E6D6C491438486D6C0178
141C00386D6D5A48DA7FC1150E92383FE3E0006091261FF3C01406EEF78000E0DA0FFF15
07486E90C812036F5AA26F7E6F7F707EA24C7E6C4A6D14070060DBEFF81406ED03CF0070
912607C7FC140E92380F83FE6CDB01FF141CDB1E006D133C6C023E6D6C13786C4A6D6C13
F0000FD901F090381FF8016C6C484890390FFE0FE02703E01FC00103B512C0C6B5C76C14
00D97FFC9138007FFCD90FE0ED0FF048267BA453>49 D<EC01F8140FEC3F80ECFC00495A
495A495AA2130F5CB3A7131F5C133F49C7FC13FEEA03F8EA7FE048C8FCEA7FE0EA03F8EA
00FE137F6D7E131F80130FB3A7801307A26D7E6D7E6D7EEC3F80EC0FF814011D537ABD2A
>102 D<12FCEAFFC0EA07F0EA01FCEA007E7F80131F80130FB3A7801307806D7E6D7EEB
007EEC1FF0EC07F8EC1FF0EC7E00495A495A495A5C130F5CB3A7131F5C133F91C7FC137E
485AEA07F0EAFFC000FCC8FC1D537ABD2A>I<126012F0B3B3B3B3A91260045377BD17>
106 D E
%EndDVIPSBitmapFont
/Ft 104[74 28[32 37 37 55 37 42 23 32 32 42 42 42 42
60 23 37 23 23 42 42 23 37 42 37 42 42 9[69 51 60 46
42 51 1[51 60 55 69 46 1[37 28 60 60 51 51 60 55 51 51
5[28 28 42 1[42 2[42 42 42 42 42 23 21 28 21 2[28 28
28 35[42 42 2[{TeXBase1Encoding ReEncodeFont}66 83.022
/Times-Italic rf /Fu 119[50 10[50 50 50 50 50 50 50 50
50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50
50 50 50 1[50 1[50 50 50 50 50 50 50 50 50 50 50 50 1[50
50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50
50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50
50 50 50 50 50 50 50 50 50 50 50 33[{TeXBase1Encoding ReEncodeFont}91
83.022 /Courier rf /Fv 104[83 42 1[37 37 24[37 42 42
60 42 42 23 32 28 42 42 42 42 65 23 42 23 23 42 42 28
37 42 37 42 37 3[28 1[28 1[60 1[78 60 60 51 46 55 60
46 60 60 74 51 60 32 28 60 60 46 51 60 55 55 60 3[47
1[23 23 42 42 42 42 42 42 42 42 42 42 23 21 28 21 2[28
28 28 65 69 3[28 29[46 46 2[{TeXBase1Encoding ReEncodeFont}81
83.022 /Times-Roman rf /Fw 107[42 42 25[42 42 60 42 46
28 32 37 1[46 42 46 69 23 46 28 23 46 42 28 37 46 37
46 42 7[60 1[83 60 60 55 46 60 1[51 65 60 78 55 2[32
65 65 51 55 60 60 55 60 6[28 42 42 42 42 42 42 42 42
42 42 23 21 28 21 1[42 28 28 2[83 42 42 1[28 29[46 46
2[{TeXBase1Encoding ReEncodeFont}71 83.022 /Times-Bold
rf /Fx 134[60 60 1[60 66 40 47 53 1[66 60 66 100 33 66
40 33 66 60 40 53 66 53 66 60 10[86 86 80 66 86 1[73
1[86 113 80 2[47 1[93 73 80 86 86 80 86 6[40 60 60 60
60 60 60 60 60 60 60 2[40 42[66 2[{TeXBase1Encoding ReEncodeFont}53
119.552 /Times-Bold rf /Fy 134[50 3[50 28 39 3[50 50
78 28 2[28 50 50 1[44 1[44 50 44 12[61 6[89 61 1[39 7[66
8[50 6[50 50 50 3[25 44[{TeXBase1Encoding ReEncodeFont}25
99.6264 /Times-Roman rf /Fz 137[33 1[21 29 29 2[37 37
1[21 2[21 2[21 33 37 2[37 13[37 4[50 62 42 1[33 20[37
1[37 1[37 37 21 19 4[25 25 40[{TeXBase1Encoding ReEncodeFont}25
74.7198 /Times-Italic rf /FA 134[72 3[72 40 56 48 1[72
72 72 112 40 2[40 72 72 1[64 72 1[72 64 11[104 88 80
4[104 128 88 1[56 6[96 19[40 47[{TeXBase1Encoding ReEncodeFont}26
143.462 /Times-Roman rf /FB 178[135 9[104 67[{
TeXBase1Encoding ReEncodeFont}2 143.462 /Times-Bold rf
end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%BeginPaperSize: Letter
letter
%%EndPaperSize

%%EndSetup
%%Page: 1 1
1 0 bop 1890 1813 a FB(CM)629 1996 y FA(The)35 b(SML/NJ)f(Compilation)g
(and)h(Library)f(Manager)1433 2179 y Fz(\(for)19 b(SML/NJ)g(ver)o(sion)
h(110.35)g(and)g(later\))1638 2361 y FA(User)34 b(Manual)1690
2776 y Fy(Matthias)24 b(Blume)1377 2893 y(Lucent)h(T)-7
b(echnologies,)23 b(Bell)i(Labs)1740 3178 y(July)f(19,)h(2001)p
eop
%%Page: 1 2
1 1 bop 0 83 a Fx(Contents)0 313 y Fw(1)83 b(Intr)o(oduction)3401
b(4)0 540 y(2)83 b(The)21 b(CM)g(model)3318 b(5)125 684
y Fv(2.1)85 b(Basic)22 b(philosophy)62 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)138 b(5)125 828 y(2.2)85 b(Description)20
b(\002les)30 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)138
b(5)125 972 y(2.3)85 b(In)m(v)n(oking)18 b(CM)70 b(.)41
b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)138
b(6)125 1116 y(2.4)85 b(Members)20 b(of)g(a)g(library)59
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)138 b(6)125
1260 y(2.5)85 b(Name)20 b(visibility)62 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)138 b(7)125 1404 y(2.6)85 b(Library)19
b(components)f(\(groups\))37 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)138
b(7)125 1548 y(2.7)85 b(Multiple)20 b(occurences)f(of)h(the)g(same)g
(member)75 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)138 b(8)125 1693 y(2.8)85 b(Stable)21 b(libraries)75
b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)138
b(9)125 1837 y(2.9)85 b(T)-7 b(op-le)n(v)o(el)19 b(groups)78
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)138
b(9)125 1981 y(2.10)43 b(Proxy)20 b(libraries)i(.)41
b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)138
b(9)0 2208 y Fw(3)83 b(Naming)20 b(objects)f(in)i(the)g(\002le)g
(system)2693 b(9)125 2352 y Fv(3.1)85 b(Moti)n(v)n(ation)24
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)138
b(9)125 2496 y(3.2)85 b(Basic)22 b(rules)h(.)41 b(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(10)125 2640
y(3.3)85 b(Anchor)19 b(en)m(vironments)42 b(.)g(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)97 b(10)125 2784 y(3.4)85 b(Anchor)19 b(con\002guration)48
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(11)125
2928 y(3.5)85 b(When)20 b(to)h(use)f(anchor)f(en)m(vironments)65
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)97 b(12)0 3155 y Fw(4)83 b(Using)20 b(CM)3451
b(12)125 3299 y Fv(4.1)85 b(Structure)20 b(CM)60 b(.)41
b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(12)315 3443 y(4.1.1)h(Compiling)79 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)97 b(13)315 3587 y(4.1.2)h(Linking)19
b(and)g(e)o(x)o(ecution)63 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(13)315
3731 y(4.1.3)h(Re)o(gisters)66 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)97 b(13)315 3875 y(4.1.4)h(P)o(ath)20 b(anchors)71
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(14)315
4019 y(4.1.5)h(Setting)20 b(CM)h(v)n(ariables)42 b(.)g(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)97 b(15)315 4163 y(4.1.6)h(Library)19 b(re)o(gistry)37
b(.)k(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(15)315 4308
y(4.1.7)h(Internal)19 b(state)67 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)97 b(16)315 4452 y(4.1.8)h(Compile)20 b(serv)o(ers)81
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(16)315 4596 y(4.1.9)h(Plug-ins)
33 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(17)315 4740 y(4.1.10)56 b(Support)19 b(for)g(stand-alone)g(programs)
62 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
97 b(17)315 4884 y(4.1.11)56 b(Finding)19 b(all)i(sources)52
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(18)125 5028 y(4.2)85
b(The)20 b(autoloader)74 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)97 b(19)125 5172 y(4.3)85 b(Sharing)20 b(of)f(state)56
b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(19)315 5316 y(4.3.1)h(Sharing)19 b(annotations)i(.)41
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)97 b(19)315 5460 y(4.3.2)h(Sharing)19
b(with)i(the)f(interacti)n(v)o(e)f(system)76 b(.)42 b(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(19)1989
5709 y(1)p eop
%%Page: 2 3
2 2 bop 0 83 a Fw(5)83 b(V)-8 b(ersion)20 b(numbers)3210
b(20)125 219 y Fv(5.1)85 b(Ho)n(w)21 b(v)o(ersions)e(are)h(compared)i
(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(20)125 354 y(5.2)85
b(V)-9 b(ersion)20 b(checking)63 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)97 b(20)0 573 y Fw(6)83 b(Member)21 b(classes)g(and)f
(tools)2910 b(20)125 708 y Fv(6.1)85 b(T)-7 b(ool)20
b(parameters)40 b(.)i(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(21)315 844 y(6.1.1)h(P)o(arameters)20 b(for)f(class)i
Fu(sml)34 b Fv(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(21)315 979 y(6.1.2)h(P)o
(arameters)20 b(for)f(class)i Fu(cm)h Fv(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(22)315 1115 y(6.1.3)h(P)o(arameters)20 b(for)f(classes)i
Fu(tool)f Fv(and)g Fu(suffix)77 b Fv(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)97 b(22)125 1250 y(6.2)85 b(Built-in)21 b(tools)73
b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(23)315 1386 y(6.2.1)h(ML-Y)-8 b(acc)58 b(.)41 b(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)97 b(23)315 1521 y(6.2.2)h(ML-Le)o(x)29
b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(23)315 1657 y(6.2.3)h(ML-Bur)o(g)55 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)97 b(23)315 1792 y(6.2.4)h(Shell)78
b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(23)315 1928 y(6.2.5)h(Mak)o(e)60 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)97 b(24)315 2063 y(6.2.6)h(No)n(web)72
b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(25)315 2199 y(6.2.7)h(Dir)76 b(.)41 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)97 b(26)0 2417 y Fw(7)83 b(Conditional)19
b(compilation)2951 b(28)125 2553 y Fv(7.1)85 b(CM)21
b(v)n(ariables)66 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)97 b(28)125 2688 y(7.2)85 b(Querying)19 b(e)o(xported)f
(de\002nitions)79 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(28)125 2824
y(7.3)85 b(Explicit)20 b(errors)36 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)97 b(29)0 3043 y Fw(8)83 b(Access)20
b(contr)o(ol)3303 b(29)0 3261 y(9)83 b(The)21 b(per)o(v)o(asi)o(v)o(e)f
(en)m(vir)o(onment)2850 b(30)0 3480 y(10)41 b(Files)3646
b(30)125 3615 y Fv(10.1)43 b(T)m(ime)21 b(stamps)28 b(.)41
b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(31)125 3751 y(10.2)43 b(Inde)o(x)19 b(\002les)44 b(.)d(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(31)0
3969 y Fw(11)41 b(Extending)20 b(the)g(tool)g(set)3044
b(31)125 4105 y Fv(11.1)43 b(Adding)19 b(simple)h(shell-command)e
(tools)55 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)97 b(31)125 4240 y(11.2)43 b(Adding)19
b(other)h(classes)72 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(33)315 4376 y(11.2.1)56 b(Filename)20 b(abstractions)f(.)42
b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)97 b(33)315 4511 y(11.2.2)56 b(Adding)19
b(a)i(class)g(and)e(its)j(rule)54 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(34)315
4647 y(11.2.3)56 b(Reporting)19 b(errors)g(from)h(tools)i(.)41
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)97 b(35)315 4782 y(11.2.4)56 b(Adding)19 b(a)i(classi\002er)62
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(36)315 4918 y(11.2.5)56
b(Miscellaneous)80 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(36)125 5053 y(11.3)43 b(Plug-in)20 b(T)-7 b(ools)66
b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(38)315 5189 y(11.3.1)56 b(Automatically)19 b(loaded,)g(global)g
(plug-in)g(tools)j(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
97 b(38)315 5324 y(11.3.2)56 b(Explicitly)19 b(loaded,)g(local)h
(plug-in)f(tools)29 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)97 b(38)315 5460 y(11.3.3)56 b(Locally)20
b(declared)e(suf)n(\002x)o(es)40 b(.)h(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(38)1989
5709 y(2)p eop
%%Page: 3 4
3 3 bop 0 83 a Fw(12)41 b(P)o(arallel)19 b(and)i(distrib)n(uted)g
(compilation)2529 b(39)125 218 y Fv(12.1)43 b(P)o(athname)19
b(protocol)g(encoding)61 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(40)125 354 y(12.2)43 b(P)o(arallel)21 b(bootstrap)d(compilation)74
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)97 b(40)0 572 y Fw(13)41 b(The)21
b Fu(sml)f Fw(command)g(line)2983 b(41)125 707 y Fv(13.1)43
b(File)21 b(ar)o(guments)80 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)97 b(41)125 842 y(13.2)43 b(Mode-switching)18
b(\003ags)42 b(.)g(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(41)125 978 y(13.3)43 b(De\002ning)20 b(and)f(unde\002ning)f(CM)j
(preprocessor)d(symbols)60 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)97 b(41)0 1196 y Fw(14)41 b(A)l(uxiliary)19 b(scripts)3224
b(42)125 1331 y Fv(14.1)43 b(Building)20 b(stand-alone)e(programs)45
b(.)c(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)97 b(42)315 1466 y(14.1.1)56 b(Bootstrapping:)23
b(Ho)n(w)e Fu(ml-build)e Fv(w)o(orks)48 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(42)125 1602 y(14.2)43
b(Generating)19 b(dependencies)f(for)i Fu(make)k Fv(.)41
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)97 b(42)0 1820 y Fw(15)41 b(Example:)25 b(Dynamic)20
b(linking)2857 b(43)0 2038 y(16)41 b(Some)20 b(history)3348
b(45)0 2257 y(A)65 b(CM)21 b(description)f(\002le)h(syntax)2877
b(46)125 2392 y Fv(A.1)67 b(Le)o(xical)20 b(Analysis)80
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(46)125 2527 y(A.2)67 b(EBNF)21 b(for)f(preprocessor)e(e)o(xpressions)
78 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)97 b(47)125 2662 y(A.3)67 b(EBNF)21 b(for)f(e)o(xport)f
(lists)48 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(47)125 2798 y(A.4)67 b(EBNF)21 b(for)f(tool)g(options)80
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(47)125 2933
y(A.5)67 b(EBNF)21 b(for)f(member)f(lists)50 b(.)41 b(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)97 b(48)125 3068 y(A.6)67 b(EBNF)21 b(for)f(library)f
(descriptions)80 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(48)125 3203
y(A.7)67 b(EBNF)21 b(for)f(library)f(component)f(descriptions)h
(\(group)f(descriptions\))56 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(48)0 3422 y Fw(B)70 b(Full)20 b(signatur)o(e)g(of)g
Fu(structure)48 b(CM)2609 b Fw(48)0 3640 y(C)65 b(Listing)20
b(of)g(all)h(pr)o(e-de\002ned)f(CM)h(identi\002ers)2405
b(50)0 3858 y(D)65 b(Listing)20 b(of)g(all)h(CM-speci\002c)g(en)m(vir)o
(onment)e(v)o(ariables)2108 b(50)0 4077 y(E)70 b(Listing)20
b(of)g(all)h(class)g(names)f(and)h(their)f(tools)2398
b(51)0 4295 y(F)74 b(A)-8 b(v)o(ailable)19 b(libraries)3164
b(51)125 4430 y Fv(F)-7 b(.1)88 b(Libraries)20 b(for)g(general)f
(programming)40 b(.)h(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(51)125 4565 y(F)-7 b(.2)88
b(Libraries)20 b(for)g(controlling)e(SML/NJ')-5 b(s)21
b(operation)72 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)97 b(52)125 4701 y(F)-7 b(.3)88 b(Libraries)20 b(for)g(SML/NJ)g
(compiler)f(hack)o(ers)72 b(.)41 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(52)125 4836 y(F)-7 b(.4)88
b(Internal)19 b(libraries)25 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)97 b(53)0 5054 y Fw(G)60 b(Exports)20
b(of)g(library)f Fu($smlnj/cm/tools.cm)2251 b Fw(53)125
5189 y Fv(G.1)67 b(The)20 b(public)g(signature)f(of)h
Fu(structure)48 b(Tools)32 b Fv(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)97 b(53)125 5325 y(G.2)67 b(The)20
b(public)g(signature)f(of)h Fu(structure)48 b(Version)56
b Fv(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(55)125 5460 y(G.3)67 b(The)20 b(public)g(signature)f(of)h
Fu(structure)48 b(Sharing)56 b Fv(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)97 b(55)1989 5709 y(3)p eop
%%Page: 4 5
4 4 bop 0 83 a Fx(1)119 b(Intr)n(oduction)0 318 y Fv(This)24
b(manual)e(describes)h(a)i(ne)n(w)e(implementation)e(of)j(CM,)g(the)f
(\223Compilation)g(and)g(Library)f(Manager\224)g(for)h(Standard)f(ML)i
(of)f(Ne)n(w)0 418 y(Jerse)o(y)e(\(SML/NJ\).)h(Lik)o(e)f(its)i(pre)n
(vious)d(incarnation,)g(CM)i(is)h(in)f(char)o(ge)e(of)h(managing)f
(separate)h(compilation)f(and)h(f)o(acilitates)h(access)0
518 y(to)e(stable)h(libraries.)0 667 y(Most)f(programming)d(projects)i
(that)h(use)h(CM)f(are)g(composed)e(of)i(separate)g Ft(libr)o(aries)p
Fv(.)25 b(Libraries)19 b(are)h(collections)f(of)h(ML)g(compilation)0
767 y(units.)25 b(These)20 b(collections)f(themselv)o(es)h(can)g(be)g
(internally)f(sub-structured)f(using)h(CM')-5 b(s)22
b(notion)d(of)h Ft(libr)o(ary)g(components)p Fv(.)0 916
y(CM)h(of)n(fers)e(the)h(follo)n(wing)f(features)g(to)i(the)f
(programmer:)125 1149 y Fs(\017)41 b Fv(separate)19 b(compilation)g
(and)g(type-safe)g(linking)g([AM94)o(])125 1315 y Fs(\017)41
b Fv(hierarchical)18 b(modularity)g([B)m(A99)o(])125
1481 y Fs(\017)41 b Fv(automatic)19 b(dependenc)o(y)e(analysis)j
([Blu99)o(])125 1647 y Fs(\017)41 b Fv(optimization)18
b(of)i(the)g(compilation)f(process)g(via)i Ft(cutof)o(f)p
Fv(-recompilation)16 b(techniques)j([A)-9 b(TW94)n(])125
1813 y Fs(\017)41 b Fv(management)16 b(of)i(program)f(libraries,)h
(distinguishing)f(between)h(libraries)g(that)h(are)g
Ft(under)f(de)o(velopment)e Fv(and)j(libraries)f(that)h(are)208
1912 y Ft(stable)125 2078 y Fs(\017)41 b Fv(operating-system)17
b(independent)h(\002le)j(naming)d(\(with)i(optional)f(escape)h(to)h
(nati)n(v)o(e)e(\002le)i(names\))125 2244 y Fs(\017)41
b Fv(adaptability)18 b(to)j(changing)d(en)m(vironments)f(using)j(the)g
Ft(path)f(anc)o(hor)g Fv(f)o(acility)125 2411 y Fs(\017)41
b Fv(an)28 b(e)o(xtensible)g(set)i(of)f(auxiliary)e Ft(tools)i
Fv(that)h(lets)f(CM)h(seemlessly)f(interoperate)e(with)i(other)g
(program)d(generators,)k(source-)208 2510 y(control)19
b(systems,)h(literate-programming)c(f)o(acilities,)k(or)g
(shell-scripts)125 2676 y Fs(\017)41 b Fv(check)o(ed)18
b(v)o(ersion)h(numbers)g(on)h(libraries)125 2842 y Fs(\017)41
b Fv(\(still)21 b(rudimentary\))c(support)i(for)g(access)i(control)125
3008 y Fs(\017)41 b Fv(access)20 b(to)h(libraries)f(from)f(the)h
(interacti)n(v)o(e)f(tople)n(v)o(el)g(loop)125 3174 y
Fs(\017)41 b Fv(sharing)24 b(of)h(code)g(that)h(is)g(common)e(to)h(se)n
(v)o(eral)g(programs)f(or)h(code)g(that)h(is)g(common)e(to)h(both)g
(user)g(programs)f(and)h(SML/NJ)208 3274 y(itself)125
3440 y Fs(\017)41 b Fv(management)18 b(of)h(\(the)h(sharing)f(of\))h
(link-time)f(state)125 3606 y Fs(\017)41 b Fv(conditional)18
b(compilation)g(\(at)j(compilation)d(unit)i(granularity\))125
3772 y Fs(\017)41 b Fv(support)18 b(for)i(parallel)g(and)f(distrib)n
(uted)h(compilation)125 3938 y Fs(\017)41 b Fv(f)o(acilities)20
b(for)g(generating)e(stand-alone)h(ML)h(programs)125
4104 y Fs(\017)41 b Fv(a)20 b(mechanism)f(for)h(deri)n(ving)e
(dependenc)o(y)f(information)h(for)h(use)i(by)f(other)f(compilation)f
(managers)h(\(e.g.,)g(Unix')h Fw(mak)o(e)p Fv(\))125
4270 y Fs(\017)41 b Fv(an)20 b(API)g(to)h(access)f(all)h(these)f(f)o
(acilities)h(at)g(SML/NJ')-5 b(s)21 b(interacti)n(v)o(e)e(prompt)g(or)h
(from)f(user)h(programs)0 4503 y(CM)i(puts)g(emphasis)f(on)h
Ft(working)f(with)h(libr)o(aries)p Fv(.)30 b(This)22
b(contrasts)f(with)h(pre)n(vious)e(compilation)g(managers)g(for)h
(SML/NJ)h(where)g(the)0 4602 y(focus)e(w)o(as)h(on)e(compilation)g
(management)f(while)i(libraries)g(were)g(added)f(as)i(an)f
(afterthought.)1989 5709 y(4)p eop
%%Page: 5 6
5 5 bop 0 83 a Fx(2)119 b(The)31 b(CM)f(model)0 335 y
Fr(2.1)99 b(Basic)25 b(philosoph)o(y)0 540 y Fv(The)c(v)o(enerable)f
Fw(mak)o(e)j Fv(of)e(Unix)h([Fel79)n(])g(is)h Ft(tar)m(g)o(et-oriented)
r Fv(:)k(one)22 b(starts)g(with)g(a)h(main)e(goal)g(\(tar)o(get\))g
(and)g(applies)g(production)f(rules)0 640 y(\(with)30
b(associated)f(actions)h(such)f(as)i(in)m(v)n(oking)d(a)i(compiler\))e
(until)i(no)f(more)g(rules)h(are)g(applicable.)53 b(The)29
b(lea)n(v)o(es)h(of)g(the)f(resulting)0 740 y(deri)n(v)n(ation)18
b(tree)478 710 y Fq(1)532 740 y Fv(can)i(be)g(seen)g(as)h(de\002ning)e
(the)h(set)h(of)f(source)f(\002les)j(that)e(are)g(used)g(to)g(mak)o(e)g
(the)g(main)g(tar)o(get.)0 889 y(CM,)i(on)e(the)h(other)f(hand,)g(is)i
(lar)o(gely)e Ft(sour)m(ce-oriented)r Fv(:)25 b(Whereas)c(with)g
Fw(mak)o(e)h Fv(one)e(speci\002es)i(the)f(tree)g(and)f(lets)i(the)f
(program)e(deri)n(v)o(e)0 989 y(the)24 b(lea)n(v)o(es,)i(with)e(CM)i
(one)d(speci\002es)i(the)g(lea)n(v)o(es)f(and)g(lets)h(the)g(program)d
(deri)n(v)o(e)h(the)i(tree.)37 b(Thus,)25 b(the)g(programmer)c(writes)k
(do)n(wn)e(a)0 1088 y(list)k(of)f(sources,)g(and)g(CM)g(will)h
(calculate)e(and)h(then)f(e)o(x)o(ecute)g(a)h(series)h(of)e(steps)i(to)
f(mak)o(e)f(the)h(corresponding)d(program.)40 b(In)25
b Fw(mak)o(e)0 1188 y Fv(terminology)-5 b(,)16 b(this)j(resulting)f
(program)e(acts)j(as)h(the)e(\223main)g(goal\224,)g(b)n(ut)h(under)e
(CM)i(it)h(does)e(not)g(need)g(to)h(be)f(e)o(xplicitly)g(named.)23
b(In)c(f)o(act,)0 1288 y(since)h(there)g(typically)f(is)j(no)d
(corresponding)e(single)j(\002le)h(system)f(object)g(for)g(it,)g(a)h
(\223natural\224)e(name)g(does)h(not)g(e)n(v)o(en)f(e)o(xist.)0
1437 y(F)o(or)j(simple)h(projects)f(it)h(is)g(literally)g(true)f(that)h
(all)g(the)g(programmer)c(has)k(to)g(do)f(is)h(tell)g(CM)h(about)d(the)
i(set)g(of)g(sources:)29 b(a)23 b(description)0 1537
y(\002le)28 b(lists)h(little)f(more)f(than)g(the)g(names)g(of)h
(participating)d(ML)j(source)e(\002les.)48 b(Ho)n(we)n(v)o(er)m(,)27
b(lar)o(ger)f(projects)h(typically)g(bene\002t)g(from)f(a)0
1636 y(hierarchical)17 b(structuring.)23 b(This)c(can)g(be)f(achie)n(v)
o(ed)f(by)i(grouping)d(ML)j(source)f(\002les)i(into)e(separate)h
(libraries)f(and)g(library)g(components.)0 1736 y(Dependencies)g
(between)i(such)g(libraries)g(ha)n(v)o(e)f(to)h(be)h(speci\002ed)f(e)o
(xplicitly)f(and)g(must)i(form)e(an)h(ac)o(yclic)f(directed)h(graph)e
(\(D)m(A)m(G\).)0 1885 y(CM')-5 b(s)20 b(o)n(wn)f(semantics,)g
(particularly)f(its)i(dependenc)o(y)c(analysis,)k(interact)f(with)g
(the)g(ML)h(language)d(in)j(such)f(a)g(w)o(ay)h(that)f(for)g(an)o(y)f
(well-)0 1985 y(formed)f(project)g(there)h(will)h(be)f(e)o(xactly)f
(one)h(possible)g(interpretation)e(as)j(f)o(ar)f(as)h(static)g
(semantics)g(are)f(concerned.)k(Only)c(well-formed)0
2085 y(projects)i(are)g(accepted)g(by)g(CM;)h(projects)f(that)h(are)f
(not)g(well-formed)e(will)k(cause)e(error)f(messages.)26
b(\(W)-7 b(ell-formedness)19 b(is)j Ft(de\002ned)c Fv(to)0
2184 y(enforce)h(a)h(unique)f(de\002nition-use)f(relation)i(for)f(ML)i
(de\002nitions)e([Blu99)o(].\))0 2472 y Fr(2.2)99 b(Description)26
b(\002les)0 2677 y Fv(T)-6 b(echnically)h(,)25 b(a)i(CM)g(library)d(is)
j(a)g(\(possibly)e(empty\))g(collection)g(of)g(ML)h(source)g(\002les)g
(and)g(may)f(also)i(contain)e(references)f(to)i(other)0
2777 y(libraries.)32 b(Each)22 b(library)g(comes)g(with)h(an)f(e)o
(xplicit)g(e)o(xport)f(interf)o(ace)h(which)g(lists)i(all)f(tople)n(v)o
(el-de\002ned)d(symbols)i(of)g(the)h(library)e(that)0
2877 y(shall)g(be)f(e)o(xported)e(to)i(its)h(clients.)26
b(A)20 b(library)f(is)i(described)e(by)h(the)g(contents)g(of)g(its)h
Ft(description)e(\002le)p Fv(.)3002 2846 y Fq(2)0 3026
y Fv(Example:)100 3258 y Fu(Library)299 3358 y(signature)48
b(BAR)299 3458 y(structure)g(Foo)100 3557 y(is)299 3657
y(bar.sig)299 3757 y(foo.sml)299 3856 y(helper.sml)299
4055 y($/basis.cm)299 4155 y($/smlnj-lib.cm)0 4388 y
Fv(This)20 b(library)e(e)o(xports)g(tw)o(o)i(de\002nitions,)e(one)h
(for)g(a)h(structure)e(named)h Fu(Foo)g Fv(and)g(one)g(for)g(a)g
(signature)g(named)f Fu(BAR)p Fv(.)h(The)g(speci\002cation)0
4487 y(for)28 b(such)h(e)o(xports)e(appear)h(between)g(the)g(k)o(e)o
(yw)o(ords)g Fu(Library)g Fv(and)g Fu(is)p Fv(.)51 b(The)28
b Ft(member)o(s)h Fv(of)g(the)f(library)g(are)h(speci\002ed)f(after)h
(the)0 4587 y(k)o(e)o(yw)o(ord)16 b Fu(is)p Fv(.)24 b(Here)17
b(we)h(ha)n(v)o(e)f(three)g(ML)g(source)g(\002les)h(\()p
Fu(bar.sig)p Fv(,)f Fu(foo.sml)p Fv(,)g(and)g Fu(helper.sml)p
Fv(\))e(as)k(well)f(as)g(references)e(to)h(tw)o(o)0 4686
y(e)o(xternal)22 b(libraries)i(\()p Fu($/basis.cm)e Fv(and)h
Fu($/smlnj-lib.cm)p Fv(\).)32 b(The)24 b(entry)f Fu($/basis.cm)f
Fv(typically)h(denotes)f(the)i(description)0 4786 y(\002le)i(for)f(the)
h Ft(Standar)m(d)e(ML)i(Basis)g(Libr)o(ary)g Fv([RG99)o(];)i(most)e
(programs)e(will)i(w)o(ant)g(to)g(list)h(it)f(in)g(their)f(o)n(wn)g
(description)f(\002le\(s\).)42 b(The)0 4886 y(other)19
b(library)f(in)i(this)g(e)o(xample)e(\()p Fu($/smlnj-lib.cm)p
Fv(\))f(is)j(a)g(library)f(of)g(data)g(structures)g(and)g(algorithms)g
(that)g(comes)g(b)n(undled)f(with)0 4985 y(SML/NJ.)p
0 5038 1608 4 v 90 5094 a Fp(1)120 5117 y Fo(\223T)n(ree\224)f(is)g
(\002gurati)n(v)o(e)j(speech)e(here)g(since)g(the)g(deri)n(v)n(ation)j
(really)d(yields)h(a)e(D)m(A)m(G.)90 5175 y Fp(2)120
5198 y Fo(The)f(description)k(\002le)e(may)f(also)g(contain)i
(references)h(to)d(input)h(\002les)g(for)f Fn(tools)g
Fo(lik)o(e)i Fm(ml-lex)d Fo(or)h Fm(ml-yacc)e Fo(that)j(produce)h(ML)d
(source)i(\002les.)j(See)d(section)g(6.)1989 5709 y Fv(5)p
eop
%%Page: 6 7
6 6 bop 0 83 a Fr(2.3)99 b(In)l(v)o(oking)25 b(CM)0 288
y Fv(Once)16 b(a)h(library)e(has)i(been)e(set)i(up)f(as)h(sho)n(wn)f
(in)g(the)g(e)o(xample)f(abo)o(v)o(e,)h(one)f(can)h(load)g(it)h(into)f
(a)h(running)d(interacti)n(v)o(e)h(session)i(by)f(in)m(v)n(oking)0
387 y(function)i Fu(CM.make)p Fv(.)25 b(If)20 b(the)g(name)f(of)h(the)h
(library')-5 b(s)19 b(description)g(\002le)i(is,)g(say)-5
b(,)19 b Fu(fb.cm)p Fv(,)h(then)g(one)f(w)o(ould)h(type)100
616 y Fu(CM.make)48 b("fb.cm";)0 845 y Fv(at)21 b(SML/NJ')-5
b(s)21 b(interacti)n(v)o(e)e(prompt.)k(This)d(will)h(cause)f(CM)h(to)
104 1074 y(1.)41 b(parse)19 b(the)i(description)d(\002le)j
Fu(fb.cm)p Fv(,)104 1239 y(2.)41 b(locate)20 b(all)g(its)i(sources)d
(and)h(all)h(its)g(sub-libraries,)104 1404 y(3.)41 b(calculate)19
b(the)i(dependenc)o(y)c(graph,)104 1569 y(4.)41 b(issue)20
b(w)o(arnings)g(and)f(errors)h(\(and)f(skip)h(the)g(remaining)f
(steps\))h(if)h(necessary)-5 b(,)104 1735 y(5.)41 b(compile)19
b(those)h(sources)g(for)f(which)h(that)g(is)h(required,)104
1900 y(6.)41 b(e)o(x)o(ecute)18 b(module)h(initialization)h(code,)104
2065 y(7.)41 b(and)24 b(augment)f(the)i(tople)n(v)o(el)f(en)m
(vironment)e(with)j(bindings)e(for)i(e)o(xported)d(symbols,)k(i.e.,)g
(in)f(our)f(e)o(xample)f(for)i Fu(signature)208 2164
y(BAR)20 b Fv(and)f Fu(structure)49 b(Foo)p Fv(.)0 2393
y(CM)27 b(does)f(not)g(compile)f(sources)h(that)h(are)f(not)g
(\223reachable\224)e(from)i(the)g(library')-5 b(s)26
b(e)o(xports.)42 b(F)o(or)26 b(e)n(v)o(ery)e(other)i(source,)h(it)g
(will)g(a)n(v)n(oid)0 2493 y(recompilation)18 b(if)i(all)h(of)f(the)g
(follo)n(wing)f(is)i(true:)125 2722 y Fs(\017)41 b Fv(The)19
b Ft(bin\002le)h Fv(for)f(the)h(source)g(e)o(xists.)125
2887 y Fs(\017)41 b Fv(The)19 b(bin\002le)h(has)h(the)f(same)g(time)h
(stamp)f(as)h(the)f(source.)125 3052 y Fs(\017)41 b Fv(The)21
b(current)f(compilation)g(en)m(vironment)f(for)i(the)h(source)f(is)h
(precisely)f(the)h(same)g(as)h(the)e(compilation)f(en)m(vironment)f
(that)j(w)o(as)208 3152 y(in)e(ef)n(fect)g(when)f(the)h(bin\002le)g(w)o
(as)h(produced.)0 3438 y Fr(2.4)99 b(Members)26 b(of)f(a)g(library)0
3642 y Fv(Members)17 b(of)g(a)h(library)f(do)g(not)g(ha)n(v)o(e)g(to)h
(be)g(listed)g(in)g(an)o(y)e(particular)h(order)f(since)i(CM)g(will)h
(automatically)d(calculate)h(the)h(dependenc)o(y)0 3742
y(graph.)24 b(Some)19 b(minor)h(restrictions)f(on)h(the)g(source)g
(language)e(are)i(necessary)g(to)g(mak)o(e)g(this)g(w)o(ork:)104
3955 y(1.)41 b(All)19 b(top-le)n(v)o(el)e(de\002nitions)g(must)i(be)f
Ft(module)g Fv(de\002nitions)f(\(structures,)h(signatures,)g(functors,)
f(or)h(functor)f(signatures\).)23 b(In)18 b(other)208
4054 y(w)o(ords,)h(there)h(can)g(be)g(no)g(top-le)n(v)o(el)e(type-,)h
(v)n(alue-,)g(or)h(in\002x-de\002nitions.)104 4220 y(2.)41
b(F)o(or)23 b(a)h(gi)n(v)o(en)e(symbol,)h(there)g(can)h(be)f(at)h(most)
g(one)f(ML)h(source)e(\002le)j(per)e(library)f(\(or)n(\227more)g
(correctly\227one)f(\002le)k(per)e(library)208 4319 y(component;)17
b(see)k(Section)f(2.6\))f(that)h(de\002nes)g(the)h(symbol)e(at)i(top)e
(le)n(v)o(el.)104 4484 y(3.)41 b(If)18 b(more)g(than)g(one)g(of)g(the)g
(listed)h(libraries)g(or)f(components)e(is)k(e)o(xporting)c(the)i(same)
h(symbol,)f(then)g(the)g(de\002nition)g(\(i.e.,)g(the)g(ML)208
4584 y(source)h(\002le)i(that)f(actually)g(de\002nes)g(the)g(symbol\))f
(must)h(be)g(identical)g(in)g(all)h(cases.)104 4749 y(4.)41
b(The)19 b(use)h(of)f(ML)-8 b(')j(s)21 b Fw(open)f Fv(construct)e(is)j
(not)e(permitted)g(at)h(the)g(top)f(le)n(v)o(el)h(of)f(ML)h(\002les)g
(compiled)f(by)g(CM.)h(\(The)f(use)h(is)h(still)g(ok)e(at)208
4849 y(the)h(interacti)n(v)o(e)f(top)g(le)n(v)o(el.\))0
5061 y(Note)i(that)h(these)g(rules)f(do)g(not)g(require)g(the)g(e)o
(xports)f(of)i(imported)d(libraries)j(to)f(be)h(distinct)f(from)g(the)g
(e)o(xports)f(of)i(ML)f(source)g(\002les)h(in)0 5161
y(the)c(current)f(library)-5 b(.)23 b(If)18 b(an)h(ML)f(source)g
(\002le)h Fl(f)27 b Fv(re-de\002nes)17 b(a)i(name)f Fl(n)h
Fv(that)f(is)h(also)g(imported)e(from)g(library)g Fl(l)r
Fv(,)i(then)f(the)g(disambiguating)0 5261 y(rule)k(is)h(that)f(the)g
(de\002nition)f(from)g Fl(f)32 b Fv(tak)o(es)22 b(precedence)e(o)o(v)o
(er)h(that)h(from)f Fl(l)k Fv(in)d(all)h(sources)e(e)o(xcept)g
Fl(f)32 b Fv(itself.)f(Free)22 b(occurences)f(of)h Fl(n)g
Fv(in)0 5360 y Fl(f)34 b Fv(refer)24 b(to)h Fl(l)r Fv(')-5
b(s)25 b(de\002nition.)37 b(This)25 b(rule)f(mak)o(es)g(it)i(possible)e
(to)h(easily)g(write)g(code)f(for)g(e)o(xporting)e(an)j
(\223augmented\224)d(v)o(ersion)h(of)i(some)0 5460 y(module.)f
(Example:)1989 5709 y(6)p eop
%%Page: 7 8
7 7 bop 100 83 a Fu(structure)48 b(A)h(=)h(struct)f(\(*)g(defines)g
(augmented)f(A)h(*\))299 183 y(open)g(A)548 b(\(*)49
b(refers)g(to)g(imported)g(A)g(*\))299 282 y(fun)g(f)h(x)f(=)h(B.f)f(x)
h(+)g(C.g)f(\(x)g(+)h(1\))100 382 y(end)0 614 y Fv(Rule)22
b(3)g(may)f(come)g(as)i(a)f(bit)g(of)f(a)h(surprise)f(considering)f
(that)i(each)f(ML)h(source)f(\002le)h(can)g(be)g(a)g(member)e(of)i(at)g
(most)g(one)f(library)f(\(see)0 714 y(section)e(2.7\).)23
b(Ho)n(we)n(v)o(er)m(,)16 b(it)i(is)h(indeed)e(possible)g(for)g(tw)o(o)
h(libraries)g(to)g(\(re-\)e)o(xport)c(the)k(\223same\224)g
(de\002nition)e(pro)o(vided)g(the)o(y)h(both)g(import)0
814 y(that)28 b(de\002nition)e(from)h(a)h(third)f(library)-5
b(.)45 b(F)o(or)28 b(e)o(xample,)f(let)i(us)f(assume)f(that)h
Fu(a.cm)f Fv(e)o(xports)g(a)h(structure)e Fu(X)i Fv(which)f(w)o(as)i
(de\002ned)d(in)0 913 y Fu(x.sml)p Fv(\227one)20 b(of)h
Fu(a.cm)p Fv(')-5 b(s)22 b(members.)27 b(No)n(w)-5 b(,)21
b(if)g(both)g Fu(b.cm)g Fv(and)g Fu(c.cm)g Fv(re-e)o(xport)e(that)i
(same)h(structure)e Fu(X)i Fv(after)f(importing)f(it)i(from)0
1013 y Fu(a.cm)p Fv(,)e(it)h(is)g(le)o(gal)e(for)h(a)g(fourth)f
(library)g Fu(d.cm)h Fv(to)h(import)e(from)g(both)g Fu(b.cm)h
Fv(and)g Fu(c.cm)p Fv(.)0 1162 y(The)25 b(full)g(syntax)f(for)h
(library)f(description)f(\002les)k(also)e(includes)f(pro)o(visions)g
(for)g(a)i(simple)f(\223conditional)e(compilation\224)g(f)o(acility)i
(\(see)0 1262 y(Section)20 b(7\),)f(for)h(access)h(control)e(\(see)h
(Section)g(8\),)g(and)f(it)i(accepts)f(ML-style)g(nestable)g(comments)f
(delimited)g(by)h Fu(\(*)h Fv(and)e Fu(*\))p Fv(.)0 1549
y Fr(2.5)99 b(Name)25 b(visibility)0 1755 y Fv(In)h(general,)g(all)h
(de\002nitions)e(e)o(xported)g(from)g(members)g(\(i.e.,)i(ML)f(source)g
(\002les,)i(sublibraries,)f(and)e(components\))f(of)i(a)h(library)e
(are)0 1855 y(visible)20 b(in)h(all)f(other)g(ML)g(source)g(\002les)h
(of)f(that)g(library)-5 b(.)24 b(The)c(source)f(code)h(in)g(those)g
(source)g(\002les)h(can)f(refer)g(to)g(them)g(directly)f(without)0
1954 y(further)e(quali\002cation.)24 b(Here,)19 b(\223e)o(xported\224)d
(means)j(either)f(a)i(top-le)n(v)o(el)d(de\002nition)h(within)h(an)g
(ML)g(source)f(\002le)i(or)f(a)g(de\002nition)f(listed)h(in)0
2054 y(a)i(sublibrary')-5 b(s)18 b(e)o(xport)h(list.)0
2203 y(If)35 b(a)g(library)e(is)j(structured)e(into)g(library)g
(components)e(using)i Ft(gr)l(oups)h Fv(\(see)g(Section)f(2.6\),)j
(then\227as)e(f)o(ar)f(as)i(name)e(visibility)h(is)0
2303 y(concerned\227each)17 b(component)h(\(group\))f(is)22
b(treated)d(lik)o(e)i(a)f(separate)g(library)-5 b(.)0
2452 y(Cyclic)21 b(dependencies)e(among)g(libraries,)h(library)g
(components,)f(or)h(ML)h(source)f(\002les)i(within)e(a)h(library)f(are)
h(detected)f(and)g(\003agged)g(as)0 2552 y(errors.)0
2839 y Fr(2.6)99 b(Library)26 b(components)g(\(gr)n(oups\))0
3045 y Fv(CM')-5 b(s)30 b(group)d(model)g(eliminates)i(a)g(whole)f
(class)h(of)g(potential)e(naming)h(problems)f(by)h(pro)o(viding)e
(control)h(o)o(v)o(er)g(name)h(spaces)h(for)0 3144 y(program)17
b(linkage.)23 b(The)c(group)e(model)h(in)h(full)g(generality)e
(sometimes)i(requires)f(bindings)f(to)i(be)g(renamed)e(at)j(the)f(time)
g(of)f(import.)24 b(As)0 3244 y(has)f(been)f(described)f(separately)h
([B)m(A99)o(],)h(in)g(the)g(case)g(of)f(ML)h(this)g(can)g(also)f(be)h
(achie)n(v)o(ed)e(using)h(\223administati)n(v)o(e\224)f(libaries,)i
(which)0 3344 y(is)e(why)e(CM)i(can)f(get)h(a)o(w)o(ay)e(with)i(not)f
(pro)o(viding)d(more)i(direct)h(support)f(for)h(renaming.)0
3493 y(Ho)n(we)n(v)o(er)m(,)g(under)h(CM,)i(the)f(term)f
(\223library\224)g(does)h(not)g(only)f(mean)g(namespace)g(management)f
(\(as)i(it)h(w)o(ould)f(from)f(the)h(point)f(of)h(vie)n(w)0
3593 y(of)e(the)f(pure)g(group)f(model\))h(b)n(ut)h(also)g(refers)f(to)
h(actual)g(\002le)h(system)f(objects)f(\(e.g.,)g(CM)i(description)d
(\002les)j(and)e(stable)h(library)f(\002les\).)25 b(It)0
3692 y(w)o(ould)e(be)h(incon)m(v)o(enient)c(if)k(name)g(resolution)e
(problems)g(w)o(ould)h(result)h(in)g(a)g(proliferation)e(of)h
(additional)g(library)f(\002les.)37 b(Therefore,)0 3792
y(CM)24 b(also)g(pro)o(vides)e(the)i(notion)f(of)g(library)g
(components)e(\(\223groups\224\).)33 b(Name)24 b(resolution)e(for)h
(groups)f(w)o(orks)i(lik)o(e)g(name)f(resolution)0 3892
y(for)d(entire)f(libraries,)h(b)n(ut)g(grouping)e(is)j(entirely)e
(internal)h(to)g(each)g(library)-5 b(.)0 4041 y(When)20
b(a)g(library)f(is)i Ft(stabilized)f Fv(\(via)f Fu(CM.stabilize)g
Fv(\226)h(see)g(Section)g(2.8\),)f(the)h(entire)f(library)g(is)i
(compiled)e(to)h(a)g(single)g(\002le)h(\(hence)0 4141
y(groups)e(do)h(not)f(result)i(in)f(separate)g(stable)g(\002les\).)0
4290 y(During)k(de)n(v)o(elopment,)f(each)i(group)f(has)h(its)h(o)n(wn)
f(description)f(\002le)h(which)g(will)h(be)f(referred)f(to)h(by)g(the)g
(surrounding)d(library)i(or)h(by)0 4390 y(other)d(groups)g(of)h(that)g
(library)-5 b(.)32 b(The)23 b(syntax)g(of)g(group)e(description)h
(\002les)i(is)g(the)f(same)g(as)h(that)g(of)e(library)g(description)g
(\002les)i(with)g(the)0 4489 y(follo)n(wing)19 b(e)o(xceptions:)125
4722 y Fs(\017)41 b Fv(The)26 b(initial)i(k)o(e)o(yw)o(ord)d
Fu(Library)h Fv(is)i(replaced)e(with)h Fu(Group)p Fv(.)45
b(It)27 b(is)h(follo)n(wed)e(by)g(the)h(name)g(of)f(the)h(surrounding)d
(library')-5 b(s)208 4822 y(description)18 b(\002le)j(in)f
(parentheses.)125 4988 y Fs(\017)41 b Fv(The)22 b(e)o(xport)f(list)i
(can)f(be)h(left)g(empty)-5 b(,)21 b(in)i(which)f(case)h(CM)g(will)g
(pro)o(vide)e(a)h(def)o(ault)g(e)o(xport)f(list:)31 b(all)23
b(e)o(xports)e(from)h(ML)g(source)208 5087 y(\002les)j(plus)f(all)h(e)o
(xports)f(from)f(subcomponents)f(of)i(the)g(component.)35
b(Imports)24 b(from)f(other)h(libraries)g(will)h(not)f(be)h(re-e)o
(xported)208 5187 y(in)e(this)g(case.)34 b(\(Notice)22
b(that)h(an)g(e)o(xport)e(list)j(that)g(is)f(not)g Ft(syntactically)f
Fv(empty)g(b)n(ut)h(which)g(ef)n(fecti)n(v)o(ely)e(contains)h(zero)g
(symbols)208 5286 y(because)31 b(of)i(conditional)d(compilation\227see)
h(Section)h(7\227does)g(not)h(count)e(as)i(being)f(\223left)h
(empty\224)e(in)i(the)g(abo)o(v)o(e)d(sense.)208 5386
y(Instead,)19 b(the)h(result)g(w)o(ould)g(be)g(an)g(almost)g(certainly)
f(useless)i(component)d(with)i(truly)g(no)g(e)o(xports.\))1989
5709 y(7)p eop
%%Page: 8 9
8 8 bop 125 83 a Fs(\017)41 b Fv(There)19 b(are)h(some)g(small)h
(restrictions)e(on)h(access)h(control)e(speci\002cations)h(\(see)g
(Section)g(8\).)0 315 y(As)h(an)f(e)o(xample,)f(let)h(us)h(assume)f
(that)g Fu(foo-utils.cm)f Fv(contains)g(the)i(follo)n(wing)d(te)o(xt:)
100 548 y Fu(Group)49 b(\(foo-lib.cm\))100 648 y(is)299
747 y(set-util.sml)299 847 y(map-util.sml)299 946 y($/basis.cm)0
1179 y Fv(This)20 b(description)f(de\002nes)h(group)e
Fu(foo-utils.cm)h Fv(to)h(ha)n(v)o(e)g(the)g(follo)n(wing)f
(properties:)125 1411 y Fs(\017)41 b Fv(it)28 b(is)g(a)g(component)d
(of)i(library)f Fu(foo-lib.cm)g Fv(\(meaning)f(that)j(only)e(foo-lib)m
(.cm)f(itself)j(or)f(other)g(groups)f(thereof)g(may)g(list)208
1511 y Fu(foo-utils.cm)18 b Fv(as)j(one)f(of)g(their)f(members\))125
1677 y Fs(\017)41 b Fu(set-utils.sml)18 b Fv(and)i Fu(map-util.sml)e
Fv(are)i(ML)g(source)g(\002les)h(belonging)d(to)i(this)h(component)125
1843 y Fs(\017)41 b Fv(e)o(xports)18 b(from)i(the)g(Standard)f(Basis)i
(Library)e(are)h(a)n(v)n(ailable)g(when)g(compiling)e(these)i(ML)h
(source)e(\002les)125 2009 y Fs(\017)41 b Fv(since)23
b(the)g(e)o(xport)e(list)k(has)e(been)f(left)i(blank,)e(the)h(only)g
(\(implicitly)f(speci\002ed\))g(e)o(xports)g(of)h(this)g(component)e
(are)i(the)g(top-le)n(v)o(el)208 2109 y(de\002nitions)c(in)h(its)h(ML)g
(source)e(\002les)0 2341 y(W)m(ith)h(this,)h(the)f(library)f
(description)g(\002le)i Fu(foo-lib.cm)e Fv(could)g(list)i
Fu(foo-utils.cm)e Fv(as)i(one)e(of)h(its)h(members:)100
2574 y Fu(Library)299 2673 y(signature)48 b(FOO)299 2773
y(structure)g(Foo)100 2873 y(is)299 2972 y(foo.sig)299
3072 y(foo.sml)299 3171 y(foo-utils.cm)299 3271 y($/basis.cm)0
3504 y Fv(No)c(harm)f(is)h(done)f(if)h Fu(foo-lib.cm)e
Fv(does)i(not)f(actually)g(mention)g Fu(foo-utils.cm)p
Fv(.)94 b(In)43 b(this)h(case)h(it)f(could)f(be)g(that)0
3603 y Fu(foo-utils.cm)26 b Fv(is)j(mentioned)d(indirectly)h(via)h(a)h
(chain)e(of)h(other)f(components)f(of)i Fu(foo-lib.cm)p
Fv(.)47 b(The)28 b(other)f(possibility)h(is)0 3703 y(that)20
b(it)h(is)g(not)f(mentioned)e(at)j(all)g(\(in)f(which)g(case)g(CM)h(w)o
(ould)f(ne)n(v)o(er)e(kno)n(w)i(about)f(it,)i(so)f(it)h(cannot)e
(complain\).)0 3990 y Fr(2.7)99 b(Multiple)25 b(occur)n(ences)i(of)e
(the)h(same)f(member)0 4196 y Fv(The)d(follo)n(wing)e(rules)i(apply)e
(to)i(multiple)g(occurences)e(of)h(the)h(same)g(ML)g(source)f(\002le,)i
(the)f(same)g(library)-5 b(,)20 b(or)i(the)g(same)g(group)e(within)0
4295 y(a)h(program:)125 4528 y Fs(\017)41 b Fv(W)m(ithin)20
b(the)g(same)g(description)f(\002le,)i(each)e(member)g(can)h(be)g
(speci\002ed)g(at)h(most)f(once.)125 4694 y Fs(\017)41
b Fv(Libraries)19 b(can)h(be)g(referred)f(to)h(freely)f(from)g(as)i
(man)o(y)e(other)h(groups)e(or)i(libraries)g(as)h(the)f(programmer)d
(desires.)125 4860 y Fs(\017)41 b Fv(A)21 b(group)f(cannot)g(be)h(used)
g(from)f(outside)h(the)g(uniquely)f(de\002ned)g(library)g(\(as)i
(speci\002ed)f(in)g(its)i(description)c(\002le\))j(of)f(which)g(it)h
(is)208 4960 y(a)e(component.)j(Ho)n(we)n(v)o(er)m(,)18
b(within)i(that)g(library)f(it)i(can)f(be)g(referred)e(to)j(from)e
(arbitrarily)g(man)o(y)g(other)g(groups.)125 5126 y Fs(\017)41
b Fv(The)18 b(same)h(ML)f(source)g(\002le)h(cannot)f(appear)f(more)h
(than)g(once.)24 b(If)18 b(an)h(ML)g(source)f(\002le)h(is)g(to)g(be)g
(referred)e(to)h(by)h(multiple)e(clients,)208 5225 y(it)j(must)h
(\002rst)g(be)f(\223wrapped\224)e(into)i(a)h(library)e(\(or)n(\227if)g
(all)i(references)e(are)h(from)f(within)h(the)g(same)h(library\227a)e
(group\).)1989 5709 y(8)p eop
%%Page: 9 10
9 9 bop 0 83 a Fr(2.8)99 b(Stable)26 b(libraries)0 289
y Fv(CM)21 b(distinguishes)f(between)f(libraries)h(that)g(are)h
Ft(under)e(de)o(velopment)f Fv(and)i(libraries)g(that)g(are)h
Ft(stable)p Fv(.)k(A)20 b(stable)h(library)e(is)i(created)f(by)0
388 y(a)h(call)f(of)g Fu(CM.stabilize)f Fv(\(see)h(Section)g(4.1.1\).)0
538 y(Access)f(to)g(stable)g(libraries)g(is)g(subject)g(to)g(less)g
(internal)f(consistenc)o(y-checking)d(and)j(touches)g(f)o(ar)h(fe)n
(wer)f(\002le-system)h(objects.)24 b(There-)0 637 y(fore,)h(it)g(is)h
(typically)e(more)g(ef)n(\002cient.)38 b(Stable)25 b(libraries)f(play)g
(an)h(additional)e(semantic)i(role)f(in)h(the)g(conte)o(xt)e(of)i
(access)g(control)e(\(see)0 737 y(Section)d(8\).)0 886
y(From)k(the)g(client)h(program')-5 b(s)22 b(point)i(of)g(vie)n(w)-5
b(,)24 b(using)g(a)h(stable)g(library)e(is)i(completely)e(transparent.)
36 b(When)24 b(referring)e(to)j(a)g(library\227)0 986
y(re)o(gardless)d(of)h(whether)f(it)i(is)g(under)e(de)n(v)o(elopment)e
(or)j(stable\227one)g Ft(always)g Fv(uses)h(the)f(name)g(of)g(the)g
(library')-5 b(s)22 b(description)g(\002le.)35 b(CM)0
1086 y(will)29 b(check)e(whether)g(there)g(is)i(a)g(stable)f(v)o
(ersion)f(of)g(the)h(library)f(and)h(pro)o(vided)d(that)j(is)h(the)f
(case)g(use)h(it.)49 b(This)28 b(means)f(that)h(in)h(the)0
1185 y(presence)21 b(of)i(a)g(stable)f(v)o(ersion,)g(the)h(library')-5
b(s)21 b(actual)i(description)e(\002le)i(does)f(not)g(ha)n(v)o(e)g(to)h
(physically)e(e)o(xists)i(\(e)n(v)o(en)e(though)g(its)i(name)0
1285 y(is)e(used)f(by)g(CM)h(to)f(\002nd)g(the)g(corresponding)d
(stable)j(\002le\).)0 1572 y Fr(2.9)99 b(T)-9 b(op-le)o(v)o(el)25
b(gr)n(oups)0 1778 y Fv(Mainly)f(to)g(f)o(acilitate)h(some)f
(super\002cial)f(backw)o(ard-compatibility)-5 b(,)21
b(CM)k(also)g(allo)n(ws)f(groups)f(to)i(appear)e(at)h(top)g(le)n(v)o
(el,)h(i.e.,)g(outside)0 1877 y(of)19 b(an)o(y)g(library)-5
b(.)23 b(Such)c(groups)f(must)h(omit)h(the)f(parenthetical)f(library)g
(speci\002cation)h(and)g(then)f(cannot)h(also)h(be)f(used)g(within)g
(libraries.)0 1977 y(One)h(could)f(think)h(of)g(the)g(top)g(le)n(v)o
(el)g(itself)g(as)h(a)g(\223virtual)e(unnamed)f(library\224)h(whose)h
(components)e(are)i(these)h(top-le)n(v)o(el)d(groups.)0
2264 y Fr(2.10)99 b(Pr)n(oxy)25 b(libraries)0 2470 y
Fv(There)i(is)h(some)g(syntactic)f(support)g(for)g(setting)g(up)g
(\223proxy\224)f(libraries.)47 b(A)28 b(proxy)e(library)h
Fl(A)h Fv(is)h(a)f(library)e(with)i(a)g(single)g(member)0
2570 y(which)19 b(is)i(another)d(library)h Fl(B)25 b
Fv(so)20 b(that)g(the)g(e)o(xport)e(lists)j(of)f Fl(A)g
Fv(and)g Fl(B)k Fv(coincide.)g(Proxy)19 b(libraries)g(are)h(mainly)f
(used)h(for)f(the)h(purpose)e(of)0 2669 y(managing)g(anchor)h(names)h
(and)f(anchor)g(en)m(vironments)e(\(see)k(Section)f(3.3\).)0
2819 y(T)-7 b(o)19 b(a)n(v)n(oid)f(the)g(need)g(for)g(cumbersome)e
(repetition)h(of)h(long)g(e)o(xport)f(lists,)j(a)e(proxy)f(library)g
(can)i(be)f(set)h(up)f(by)g(writing)g(a)h(description)e(\002le)0
2918 y(which)j(almost)g(looks)g(lik)o(e)h(a)g(re)o(gular)e(library)g
(description\227the)f(only)i(e)o(xception)e(being)i(that)g(the)h(e)o
(xport)e(list)i(is)g(syntactically)f(empty)-5 b(.)0 3018
y(Moreo)o(v)o(er)m(,)17 b(there)j(are)g(a)h(some)f(additional)e
(conditions:)125 3234 y Fs(\017)41 b Fv(The)19 b(proxy)g(library)g
(cannot)g(ha)n(v)o(e)h(a)g(v)o(ersion)f(number)g(of)g(its)j(o)n(wn.)125
3400 y Fs(\017)41 b Fv(The)19 b(proxy)g(library)g(must)h(ef)n(fecti)n
(v)o(ely)f(\(after)g(conditional)f(compilation\))g(ha)n(v)o(e)i
(precisely)g(one)f(member)-5 b(.)125 3566 y Fs(\017)41
b Fv(The)19 b(single)i(member)d(must)j(either)e(be)h(a)h(CM)g(library)e
(\(possibly)g(another)g(proxy\))f(or)i(a)h(library)e(component.)125
3732 y Fs(\017)41 b Fv(In)26 b(the)g(case)h(of)f(the)g(member)f(being)g
(a)i(library)e(component)f(\(group\),)h(this)i(group)e(must)h(ha)n(v)o
(e)g(an)g(e)o(xplicit)g(e)o(xport)f(list.)44 b(\(CM)208
3831 y(insists)21 b(on)f(ha)n(ving)f(the)h(e)o(xport)f(list)i(of)f
(each)g(library)f(be)h(spelled)g(out)g(e)o(xplicitly)f(at)i(least)g
(once,)e(hence)g(this)i(rule.\))0 4161 y Fx(3)119 b(Naming)30
b(objects)g(in)g(the)h(\002le)f(system)0 4413 y Fr(3.1)99
b(Moti)o(v)o(ation)0 4619 y Fv(The)24 b(main)f(dif)n(\002culty)g(with)h
(\002le)h(naming)d(lies)j(in)f(the)g(f)o(act)g(that)g(\002les)h(or)f(e)
n(v)o(en)f(whole)g(directories)g(may)h(mo)o(v)o(e)e(after)i(CM)g(has)h
(already)0 4719 y(partially)16 b(\(b)n(ut)f(not)h(fully\))g(processed)f
(them.)23 b(F)o(or)16 b(e)o(xample,)f(this)i(happens)e(when)g(the)i
Ft(autoloader)d Fv(\(see)i(Section)g(4.2\))f(has)i(been)e(in)m(v)n(ok)o
(ed)0 4818 y(and)20 b(the)g(session)g(\(including)f(CM')-5
b(s)21 b(internal)e(state\))i(is)g(then)f(frozen)e(\(i.e.,)i(sa)n(v)o
(ed)g(to)g(a)h(\002le\))f(via)h Fu(SMLofNJ.exportML)p
Fv(.)0 4968 y(CM')-5 b(s)28 b(con\002gurable)c Ft(path)j(anc)o(hor)e
Fv(mechanism)h(enables)g(it)i(to)f(resume)f(such)h(a)g(session)g(e)n(v)
o(en)f(when)g(operating)f(in)i(a)h(dif)n(ferent)d(en-)0
5067 y(vironment,)j(perhaps)e(on)i(a)g(dif)n(ferent)f(machine)f(with)j
(dif)n(ferent)d(\002le)j(systems)f(mounted,)g(or)g(a)g(dif)n(ferent)e
(location)h(of)h(the)g(SML/NJ)0 5167 y(installation.)37
b(Ev)n(aluation)23 b(of)h(path)g(anchors)f(al)o(w)o(ays)i(tak)o(es)g
(place)f(as)h(late)g(as)g(possible,)g(and)f(CM)h(will)g(re-e)n(v)n
(aluate)e(path)h(anchors)f(as)0 5266 y(this)e(becomes)e(necessary)g
(due)h(to)g(changes)g(to)g(their)g(con\002guration.)1989
5709 y(9)p eop
%%Page: 10 11
10 10 bop 0 83 a Fr(3.2)99 b(Basic)25 b(rules)0 289 y
Fv(CM)19 b(uses)g(its)h(o)n(wn)e(\223standard\224)f(syntax)h(for)g
(pathnames)f(which)h(for)g(the)g(most)h(part)f(happens)f(to)i(be)f(the)
h(same)f(as)i(the)e(one)g(used)g(by)h(most)0 388 y(Unix-lik)o(e)g
(systems:)125 604 y Fs(\017)41 b Fv(P)o(ath)20 b(name)f(components)f
(are)i(separated)g(by)f(\223)p Fw(/)p Fv(\224.)125 770
y Fs(\017)41 b Fv(Special)20 b(components)e(\223)p Fw(.)p
Fv(\224)25 b(and)20 b(\223)p Fw(..)p Fv(\224)25 b(denote)19
b Ft(curr)m(ent)h Fv(and)f Ft(pr)m(e)o(vious)h Fv(directory)-5
b(,)18 b(respecti)n(v)o(ely)-5 b(.)125 936 y Fs(\017)41
b Fv(P)o(aths)20 b(be)o(ginning)e(with)i(\223)p Fw(/)p
Fv(\224)g(are)h(considered)d Ft(absolute)p Fv(.)125 1102
y Fs(\017)41 b Fv(Other)19 b(paths)h(are)g Ft(r)m(elative)h
Fv(unless)f(the)o(y)g(start)g(with)h(\223)p Fw($)p Fv(\224.)0
1318 y(There)e(is)i(an)g(important)d(third)i(form)f(of)h(standard)f
(paths:)25 b Ft(anc)o(hor)m(ed)18 b Fv(paths.)25 b(Anchored)18
b(paths)i(al)o(w)o(ays)h(start)f(with)h(\223)p Fw($)p
Fv(\224.)0 1467 y(Since)26 b(this)g(standard)e(syntax)h(does)g(not)g
(co)o(v)o(er)f(system-speci\002c)h(aspects)h(such)f(as)i(v)n(olume)d
(names,)j(it)f(is)g(also)g(possible)f(to)h(re)n(v)o(ert)e(to)0
1567 y(\223nati)n(v)o(e\224)i(syntax)h(by)g(enclosing)g(a)g(path)g
(name)g(in)h(double-quotes.)44 b(Of)27 b(course,)i(description)d
(\002les)i(that)g(use)g(path)f(names)g(in)g(nati)n(v)o(e)0
1667 y(syntax)20 b(are)g(not)g(portable)e(across)j(operating)d
(systems.)0 1899 y Fw(Absolute)i(pathnames)41 b Fv(are)20
b(resolv)o(ed)d(in)j(the)f(usual)g(manner)f(speci\002c)i(to)f(the)g
(operating)f(system.)24 b(Ho)n(we)n(v)o(er)m(,)18 b(it)i(is)g
(advisable)e(to)i(a)n(v)n(oid)208 1999 y(absolute)f(pathnames)g
(because)g(the)o(y)h(are)g(certain)g(to)g(\223break\224)f(if)h(the)h
(corresponding)16 b(\002le)21 b(mo)o(v)o(es)e(to)h(a)h(dif)n(ferent)e
(location.)0 2165 y Fw(Relati)o(v)o(e)h(pathnames)g(that)g(occur)g(in)h
(some)f(CM)h(description)g(\002le)41 b Fv(whose)26 b(name)f(is)i
Ft(path)p Fu(/)p Ft(\002le)p Fu(.cm)d Fv(will)i(be)g(resolv)o(ed)e
(relati)n(v)o(e)h(to)208 2264 y Ft(path)p Fv(,)19 b(i.e.,)h(relati)n(v)
o(e)f(to)h(the)h(directory)d(that)i(contains)g(the)g(description)f
(\002le.)0 2430 y Fw(Relati)o(v)o(e)h(pathnames)g(that)g(ha)n(v)o(e)f
(been)i(enter)o(ed)f(interacti)o(v)o(ely)-5 b(,)40 b
Fv(usually)23 b(as)j(an)e(ar)o(gument)e(to)j(one)f(of)g(CM')-5
b(s)26 b(interf)o(ace)d(functions,)208 2530 y(will)18
b(be)h(resolv)o(ed)d(in)j(the)f(OS-speci\002c)g(manner)m(,)f(i.e.,)h
(relati)n(v)o(e)f(to)i(the)f(current)f(w)o(orking)f(directory)-5
b(.)22 b(Ho)n(we)n(v)o(er)m(,)17 b(notice)g(that)i(some)208
2630 y(of)e(CM')-5 b(s)18 b(operations)e(\(see)h(section)h
(4.2\227autoload\))c(will)k(be)f(e)o(x)o(ecuted)f(lazily)h(and,)g
(thus,)h(can)f(occur)f(interlea)n(v)o(ed)g(with)i(arbitary)208
2729 y(other)h(operations\227including)d(changes)j(of)h(the)g(w)o
(orking)f(directory)-5 b(.)22 b(This)f(is)g(handled)d(by)i(CM)h(in)f
(such)g(a)g(w)o(ay)g(that)h(it)f(appears)208 2829 y(as)h(if)f(all)h
(path)f(deri)n(v)o(ed)e(from)h(an)h(interacti)n(v)o(e)f(relati)n(v)o(e)
h(path)f Fl(p)i Fv(had)f(been)f(completely)g(resolv)o(ed)g(at)i(the)f
(time)g Fl(p)h Fv(w)o(as)g(entered.)j(As)208 2929 y(a)f(result,)g(tw)o
(o)g(names)f(speci\002ed)h(using)f(identical)g(strings)h(b)n(ut)f(at)i
(dif)n(ferent)d(times)i(when)f(dif)n(ferent)f(w)o(orking)g(directories)
h(were)208 3028 y(in)e(ef)n(fect)g(will)g(be)h(k)o(ept)e(apart)h(and)g
(continue)f(to)h(refer)f(to)i(their)f(respecti)n(v)o(e)f(original)g
(\002le)h(system)h(locations.)0 3194 y Fw(Anchor)o(ed)f(paths)41
b Fv(consist)26 b(of)g(an)g(anchor)e(name)h(\(of)g(non-zero)f(length\))
h(and)g(a)h(non-empty)d(list)k(of)f(additional)f(arcs.)42
b(The)25 b(name)h(is)208 3294 y(enclosed)20 b(by)i(the)g(path')-5
b(s)22 b(leading)e Fw($)i Fv(on)g(the)g(left)g(and)f(the)h(path')-5
b(s)22 b(\002rst)g Fw(/)h Fv(on)e(the)h(right.)29 b(The)22
b(list)h(of)e(arcs)h(follo)n(ws)g(the)g(\002rst)g Fw(/)p
Fv(.)31 b(As)208 3394 y(with)22 b(all)h(standard)e(paths,)h(the)h(arcs)
f(themselv)o(es)g(are)g(also)g(separated)g(by)f Fw(/)p
Fv(.)32 b(An)23 b(error)e(is)i(signalled)e(if)i(the)f(anchor)f(name)h
(is)h(not)208 3493 y(kno)n(wn)c(to)i(CM.)g(If)g Fl(a)g
Fv(is)h(a)f(kno)n(w)f(anchor)f(name)i(currently)e(bound)g(to)i(some)f
(directory)g(name)g Fl(d)p Fv(,)h(then)g(the)g(standard)e(path)i
Fu($)p Fl(a)p Fu(/)p Fl(p)208 3593 y Fv(\(where)g Fl(p)i
Fv(is)g(a)g(list)g(of)f(arcs\))h(refers)f(to)g Fl(d)p
Fu(/)p Fl(p)p Fv(.)32 b(The)22 b(frequently)e(occuring)h(case)h(where)g
Fl(a)h Fv(coincides)f(with)g(the)h(\002rst)g(arc)f(of)g
Fl(p)h Fv(can)208 3692 y(be)d(abbre)n(viated)e(as)j Fu($/)p
Fl(p)p Fv(.)0 3980 y Fr(3.3)99 b(Anchor)26 b(en)l(vir)n(onments)0
4185 y Fv(Anchor)19 b(names)h(are)g(resolv)o(ed)f(in)h(the)g
Ft(anc)o(hor)f(en)m(vir)l(onment)g Fv(that)h(is)h(in)f(ef)n(fect)g(at)h
(the)f(time)g(the)g(anchor)f(is)i(read.)0 4335 y(The)k(basis)h(for)f
(all)h(anchor)e(en)m(vironments)f(is)k(the)e Ft(r)l(oot)h(en)m(vir)l
(onment)p Fv(.)39 b(Conceptually)-5 b(,)25 b(the)g(root)g(en)m
(vironments)e(is)k(a)f(\002x)o(ed)e(mapping)0 4434 y(that)f(binds)f(e)n
(v)o(ery)g(possible)g(anchor)g(to)h(a)g(mutable)f(location.)32
b(The)23 b(location)f(can)g(store)h(a)g(nati)n(v)o(e)f(directory)g
(name)g(or)g(can)h(be)g(mark)o(ed)0 4534 y(\223unde\002ned\224.)g(Most)
d(locations)g(initially)g(start)g(out)g(unde\002ned.)j(The)d(contents)g
(of)f(each)h(location)g(is)h(con\002gurable)c(\(see)k(Section)f(3.4\).)
0 4683 y(At)27 b(the)g(time)f(a)h(CM)h(description)d(\002le)i
Fl(a)p Fu(.cm)g Fv(refers)f(to)g(another)g(library')-5
b(s)25 b(or)i(library)e(component')-5 b(s)25 b(description)g(\002le)i
Fl(b)p Fu(.cm)p Fv(,)g(it)h(can)0 4783 y(augment)23 b(the)h(current)e
(anchor)h(en)m(vironment)e(with)j(ne)n(w)g(bindings.)35
b(The)24 b(ne)n(w)f(bindings)g(are)h(in)g(ef)n(fect)g(while)g
Fl(b)p Fu(.cm)f Fv(\(including)f(an)o(y)0 4883 y(description)g(\002les)
i Ft(it)i Fv(mentions!\))33 b(is)24 b(being)e(processed.)33
b(If)24 b(a)f(ne)n(w)h(binding)d(binds)i(an)g(anchor)f(name)h(that)g(w)
o(as)h(already)f(bound)e(in)j(the)0 4982 y(current)19
b(en)m(vironment)676 4952 y Fq(3)705 4982 y Fv(,)i(then)f(the)g(old)g
(binding)e(is)j(being)f(hidden.)j(The)d(ef)n(fect)g(is)h(scoping)e(for)
g(anchor)g(names.)0 5132 y(Using)h(CM')-5 b(s)22 b Ft(tool)e(par)o
(ameter)f Fv(mechanism)g(\(see)i(Section)f(6.1\),)f(a)h(ne)n(w)g
(binding)f(is)i(speci\002ed)f(as)h(a)g(pair)f(of)g(anchor)f(name)g(and)
h(anchor)0 5231 y(v)n(alue.)k(The)c(v)n(alue)g(has)g(the)g(form)f(of)h
(another)f(path)h(name)f(\(standard)g(or)h(nati)n(v)o(e\).)k(Example:)p
0 5285 1608 4 v 90 5340 a Fp(3)120 5364 y Fo(which)17
b(is)g(technically)k(al)o(w)o(ays)e(the)f(case)g(gi)n(v)o(en)g(our)f(e)
o(xplanation)k(of)c(the)h(root)f(en)m(vironment)1968
5709 y Fv(10)p eop
%%Page: 11 12
11 11 bop 100 83 a Fu(a.cm)49 b(\(bind:\(anchor:lib)d
(value:$mystuff/a-lib\))399 183 y(bind:\(anchor:support)g(value:$lib\))
399 282 y(bind:\(anchor:utils)g(value:/home/bob/stuff/ML/utils\)\))0
515 y Fv(As)21 b(sho)n(wn)f(in)h(this)g(e)o(xample,)f(it)h(is)h
(perfectly)d(le)o(gal)h(for)g(the)h(speci\002cation)e(of)i(the)g(v)n
(alue)e(to)i(in)m(v)n(olv)o(e)e(the)i(use)g(of)f(another)g(anchor)-5
b(.)25 b(That)0 614 y(anchor)15 b(will)j(be)f(resolv)o(ed)e(in)j(the)f
(original)e(anchor)h(en)m(vironment.)k(Thus,)d(a)h(path)e(anchored)f
(at)i Fu($lib)g Fv(in)g Fu(a.cm)g Fv(will)h(be)f(resolv)o(ed)e(using)0
714 y(the)25 b(binding)f(for)g Fu($mystuff)g Fv(that)h(is)h(currently)e
(in)h(ef)n(fect.)39 b(The)25 b(point)f(here)h(is)h(that)f(a)h
(re-con\002guration)21 b(of)k(the)g(root)g(en)m(vironment)0
814 y(that)20 b(af)n(fects)g Fu($mystuff)f Fv(no)n(w)h(also)h(af)n
(fects)f(ho)n(w)f Fu($lib)h Fv(is)h(resolv)o(ed)e(as)i(it)g(occurs)e
(within)h Fu(a.cm)p Fv(.)0 963 y(CM)k(processes)e(the)h(list)h(of)f
Fu(bind)p Fv(-directi)n(v)o(es)d(\223in)j(parallel.)-6
b(\224)33 b(This)23 b(means)f(that)h(the)g(anchor)e Fu($support)h
Fv(will)i(refer)e(to)h(the)g(original)0 1063 y(meaning)c(of)h
Fu($lib)g Fv(and)f(is)i Ft(not)f Fv(being)f(bound)g(to)h
Fu($mystuff/a-lib/asupport)p Fv(.)0 1212 y(The)i(e)o(xample)f(also)i
(demonstrates)e(that)i Fu(value)p Fv(-paths)e(can)h(be)h(single)f
(anchors.)31 b(In)22 b(other)f(w)o(ords,)i(the)f(restriction)g(that)h
(there)f(has)g(to)0 1312 y(be)j(at)h(least)g(one)e(arc)h(after)g(the)g
(anchor)f(does)h(not)g(apply)f(here.)39 b(This)26 b(mak)o(es)f(it)h
(possible)f(to)g(\223rename\224)f(anchors,)h(or)m(,)g(to)h(put)e(it)i
(more)0 1411 y(precisely)-5 b(,)19 b(for)g(one)h(anchor)f(name)g(to)i
(be)f(established)f(as)i(an)f(\223alias\224)h(for)f(another)e(anchor)h
(name.)0 1699 y Fr(3.4)99 b(Anchor)26 b(con\002guration)0
1904 y Fv(Anchor)f(con\002guration)e(is)28 b(concerned)c(with)i(the)g
(v)n(alues)g(that)h(are)f(stored)g(in)g(the)h(root)e(anchor)g(en)m
(vironment.)40 b(At)27 b(startup)f(time,)i(the)0 2004
y(root)g(en)m(vironment)e(is)k(initialized)f(by)g(reading)e(tw)o(o)j
(con\002guration)c(\002les:)44 b(an)29 b(installation-speci\002c)f(one)
h(and)f(a)i(user)n(-speci\002c)e(one.)0 2104 y(After)c(that,)i(the)e
(contents)g(of)g(root)g(locations)f(can)i(be)f(maintained)f(using)h
(CM')-5 b(s)25 b(interf)o(ace)f(functions)f Fu(CM.Anchor.anchor)f
Fv(and)0 2203 y Fu(CM.Anchor.reset)c Fv(\(see)i(Section)g(4.1.4\).)0
2353 y(Although)25 b(there)h(is)i(a)f(hard-wired)d(def)o(ault)i(for)g
(the)h(installation-speci\002c)f(con\002guration)e(\002le)2836
2323 y Fq(4)2869 2353 y Fv(,)k(this)g(def)o(ault)e(in)g(rarely)g(being)
g(used.)0 2452 y(Instead,)20 b(in)h(a)g(typical)f(installation)h(of)f
(SML/NJ)i(the)e(def)o(ault)g(will)i(be)f(a)g(\002le)g
Fl(r)r Fu(/lib/pathconfig)f Fv(where)g Fl(r)k Fv(is)e(the)e
Ft(r)l(oot)h Fv(directory)0 2552 y(into)c(which)g(SML/NJ)i(had)e(been)g
(installed.)24 b(\(The)17 b(installation)g(procedure)e(establishes)j
(this)g(ne)n(w)f(def)o(ault)g(by)g(setting)h(the)g(en)m(vironment)0
2652 y(v)n(ariable)24 b Fu(CM)p 396 2652 25 4 v 30 w(PATHCONFIG)p
926 2652 V 28 w(DEFAULT)g Fv(at)h(the)h(time)f(it)h(produces)d(the)i
(heap)g(image)f(for)h(the)g(interacti)n(v)o(e)f(system.\))39
b(The)25 b(user)g(can)0 2751 y(specify)20 b(a)g(ne)n(w)g(location)f(at)
i(startup)f(time)g(using)g(the)g(en)m(vironment)d(v)n(ariable)i
Fu(CM)p 2410 2751 V 30 w(PATHCONFIG)p Fv(.)0 2901 y(The)f(def)o(ault)f
(location)g(of)h(the)g(user)n(-speci\002c)g(con\002guration)d(\002le)k
(is)g Fu(.smlnj-pathconfig)c Fv(in)k(the)f(user')-5 b(s)18
b(home)f(directory)f(\(which)0 3000 y(must)28 b(be)f(gi)n(v)o(en)f(by)h
(the)h Fu(HOME)f Fv(en)m(vironment)e(v)n(ariable\).)45
b(At)28 b(startup)f(time,)j(this)e(def)o(ault)f(can)g(be)g(o)o(v)o
(erridden)e(by)i(a)h(\002x)o(ed)f(location)0 3100 y(which)20
b(must)g(be)g(gi)n(v)o(en)f(as)i(the)f(v)n(alue)g(of)f(the)i(en)m
(vironment)c(v)n(ariable)i Fu(CM)p 2158 3100 V 29 w(LOCAL)p
2437 3100 V 29 w(PATHCONFIG)p Fv(.)0 3249 y(The)k(syntax)f(of)g(all)i
(con\002guration)c(\002les)k(is)g(identical.)32 b(Lines)23
b(are)g(processed)f(from)g(top)g(to)h(bottom.)32 b(White)23
b(space)g(di)n(vides)g(lines)g(into)0 3349 y(tok)o(ens.)125
3565 y Fs(\017)41 b Fv(A)24 b(line)h(with)f(e)o(xactly)f(tw)o(o)i(tok)o
(ens)f(associates)h(an)f(anchor)e(\(the)i(\002rst)h(tok)o(en\))e(with)i
(a)g(directory)d(in)j(nati)n(v)o(e)e(syntax)h(\(the)f(second)208
3664 y(tok)o(en\).)36 b(Neither)24 b(anchor)f(nor)h(directory)e(name)i
(may)g(contain)g(white)g(space)h(and)f(the)g(anchor)f(should)g(not)i
(contain)e(a)i Fw(/)p Fv(.)38 b(If)25 b(the)208 3764
y(directory)d(name)i(is)h(a)f(relati)n(v)o(e)g(name,)g(then)g(it)h
(will)g(be)f(e)o(xpanded)e(by)h(prepending)f(the)i(name)f(of)h(the)h
(directory)d(that)i(contains)208 3864 y(the)c(con\002guration)d
(\002le.)125 4030 y Fs(\017)41 b Fv(A)25 b(line)g(containing)f(e)o
(xactly)g(one)g(tok)o(en)h(that)g(is)h(the)f(name)f(of)h(an)g(anchor)f
(cancels)h(an)o(y)f(e)o(xisting)g(association)h(of)g(that)g(anchor)208
4129 y(with)20 b(a)h(directory)-5 b(.)125 4295 y Fs(\017)41
b Fv(A)23 b(line)g(with)h(a)f(single)g(tok)o(en)f(that)h(consists)h(of)
f(a)g(single)g(minus)g(sign)g Fw(-)g Fv(cancels)g(all)h(e)o(xisting)e
(anchors.)32 b(This)24 b(typically)e(mak)o(es)208 4395
y(sense)28 b(only)f(at)h(the)g(be)o(ginning)d(of)i(the)h(user)n
(-speci\002c)g(con\002guration)d(\002le)j(and)f(erases)h(an)o(y)f
(settings)h(that)g(were)g(made)f(by)h(the)208 4495 y
(installation-speci\002c)19 b(con\002guration)e(\002le.)125
4661 y Fs(\017)41 b Fv(Lines)20 b(with)g(no)g(tok)o(en)f(\(i.e.,)h
(empty)f(lines\))h(will)h(be)g(silently)f(ignored.)125
4827 y Fs(\017)41 b Fv(An)o(y)19 b(other)g(line)i(is)g(considered)d
(malformed)g(and)i(will)h(cause)f(a)h(w)o(arning)e(b)n(ut)h(will)h
(otherwise)e(be)h(ignored.)p 0 4898 1608 4 v 90 4953
a Fp(4)120 4977 y Fo(which)d(happens)i(to)e(be)g Fm
(/usr/lib/smlnj-pathconfig)1968 5709 y Fv(11)p eop
%%Page: 12 13
12 12 bop 0 83 a Fr(3.5)99 b(When)26 b(to)f(use)g(anchor)h(en)l(vir)n
(onments)0 289 y Fv(The)f(follo)n(wing)e(sample)i(scenario)f(for)g
(using)h(anchor)e(en)m(vironments)f(will)k(pro)o(vide)d(some)i
(background)c(on)k(the)g(reasons)f(that)h(led)g(to)0
388 y(the)e(inclusion)f(of)h(this)h(feature)e(into)h(CM.)g(In)g(short,)
g(anchor)f(en)m(vironments)e(will)k(typically)e(be)h(used)g(to)h
(disambiguate)d(between)h(tw)o(o)0 488 y(or)f(more)f(dif)n(ferent)f
(uses)j(of)f(the)g(same)g(anchor)e(name.)27 b(This)21
b(is)h(something)e(that)h(the)g(root)g(en)m(vironment)c(alone)k
(\(i.e.,)g(a)g(\002x)o(ed)f(mapping)0 587 y(from)f(anchors)g(to)h
(directory)f(names\))g(cannot)h(do)f(because)h(the)g(root)g(en)m
(vironment)d(binds)i(each)h(anchor)f(to)h(at)h(most)f(one)g
(\223meaning.)-6 b(\224)0 737 y(Suppose)23 b(you)g(are)h(de)n(v)o
(eloping)d(a)j(project)f Fu(P.cm)h Fv(for)f(which)h(you)f(obtain)g(tw)o
(o)h(utility)g(libraries)g Fu(A.cm)f Fv(and)h Fu(B.cm)g
Fv(from)f(other)g(pro-)0 836 y(grammers.)49 b(Unfortunately)-5
b(,)27 b(since)i(these)g(programmers)d(did)i(not)g(coordinate)f(their)h
(w)o(ork)g(\(perhaps)f(because)h(the)o(y)g(did)g(not)h(e)n(v)o(en)0
936 y(kno)n(w)21 b(of)i(each)f(other\),)f(both)h Fu(A.cm)g
Fv(and)g Fu(B.cm)h Fv(each)f(uses)h(its)g(o)n(wn)f(helper)g(library)f
(that)i(is)g(e)o(xpected)e(to)h(be)h(found)e(under)g(the)h(name)0
1036 y Fu($H/H.cm)p Fv(.)0 1185 y(Y)-9 b(our)26 b(task)g(is)i(to)e(put)
h(references)e(to)h Fu(A.cm)h Fv(and)f Fu(B.cm)g Fv(into)g
Fu(P.cm)g Fv(so)h(that)g(e)n(v)o(erything)d(\223w)o(orks.)-6
b(\224)43 b(No)n(w)-5 b(,)27 b(mentioning)e Fu(A.cm)h
Fv(and)0 1285 y Fu(B.cm)f Fv(is)h(easy)f(enough,)e(b)n(ut)i(if)h(you)e
(do)g(so)h(without)g(special)g(precautions,)f(you)g(arri)n(v)o(e)g(at)h
(a)g(situation)g(where)f(both)g(helpers)h(end)f(up)0
1384 y(being)19 b(the)h(same\227no)g(matter)g(ho)n(w)f(you)h
(con\002gure)e(the)i(binding)f(for)g(anchor)g Fu($H)p
Fv(.)0 1534 y(If)28 b(you)f(ha)n(v)o(e)g(access)h(to)g(the)g
(description)f(\002les)h(for)g Fu(A.cm)f Fv(and)h Fu(B.cm)p
Fv(,)h(you)e(could)g(w)o(ork)g(around)f(this)i(problem)e(by)i(changing)
e(the)0 1633 y(reference)21 b(to)j Fu($H)f Fv(in)g(one)f(of)h(them)g
(into)g(something)e(else.)34 b(Remember)m(,)22 b(ho)n(we)n(v)o(er)m(,)g
(that)h(in)g(general)f(you)g(may)h(not)f(be)h(able)g(to)g(do)g(this)0
1733 y(because)18 b(it)h(could)f(be)g(that)h(either)f(you)g(do)g(not)g
(ha)n(v)o(e)g(permissions)g(to)h(change)e(the)i(description)e(\002les,)
j(or)e(you)g(might)g(not)g(e)n(v)o(en)f(ha)n(v)o(e)h(an)o(y)0
1833 y(description)h(\002le)i(that)f(you)f(could)g(change)g(because)h
(the)g(tw)o(o)g(libraries)g(were)g(gi)n(v)o(en)f(to)i(you)e(in)h
(\223stable\224)g(form.)0 1982 y(The)h(correct)g(solution)g(is)i(to)f
(add)f Fu(bind:)p Fv(-directi)n(v)o(es)f(where)h(you)g
Ft(use)h Fu(A.cm)g Fv(and)f Fu(B.cm)h Fv(in)g(your)e(o)n(wn)h
(description)g(\002le)h Fu(P.cm)p Fv(.)30 b(F)o(or)0
2082 y(e)o(xample,)19 b(you)g(could)g(write)h(there:)100
2314 y Fu(A.cm)49 b(\(bind:\(anchor:H)e(value:$AH\)\))100
2414 y(B.cm)i(\(bind:\(anchor:H)e(value:$BH\)\))0 2646
y Fv(W)m(ith)27 b(this,)i(the)e(tw)o(o)h(uses)f(of)g(anchor)e
Fu($H)j Fv(will)f(occur)f(in)i(dif)n(ferent)d Ft(local)i
Fv(anchor)e(en)m(vironments.)43 b(In)26 b(the)h(e)o(xample)f(as)i(sho)n
(wn,)g(the)0 2746 y(\002rst)23 b(such)f(local)g(en)m(vironment)d(ef)n
(fecti)n(v)o(ely)h(renames)h Fu($H)i Fv(into)f Fu($AH)g
Fv(while)g(the)g(second)f(renames)h Fu($H)g Fv(into)g
Fu($BH)p Fv(.)g(Thus,)g(you)f(can)h(put)0 2846 y(independent)j
(bindings)h(for)h Fu($AH)g Fv(and)g Fu($HB)g Fv(into)g(your)g(root)f
(con\002guration,)h(these)g(independent)e(bindings)h(will)i(propagate)d
(to)j(the)0 2945 y(respecti)n(v)o(e)19 b(local)h(en)m(vironment,)d(and)
j(the)g(tw)o(o)g(uses)h(of)f Fu($H)g Fv(will)h(be)f(resolv)o(ed)f(dif)n
(ferently\227as)f(w)o(as)j(intended.)0 3095 y(Another)h(situation)h
(where)g(anchor)f(name)g(clashes)i(w)o(ould)f(de\002nitely)f(happen)g
(is)i(when)f(tw)o(o)h(dif)n(ferent)d(v)o(ersions)i(\(i.e.,)g(de)n(v)o
(elopment)0 3194 y(stages\))c(of)f(the)h(same)g(set)g(of)g(libraries)f
(are)h(being)f(used)g(at)h(the)g(same)g(time.)25 b(In)18
b(this)h(case,)h(one)e(should)f(let)j(the)f(libraries)f(within)g(each)h
(set)0 3294 y(refer)i(to)i(each)f(other)f(using)h(anchored)e(names)i
(and)g(pro)o(vide)e(\(dif)n(ferent\))g(bindings)h(for)g(these)i(names)f
(using)g Fu(bind:)p Fv(-directi)n(v)o(es)e(from)0 3394
y(within)g(their)g(respecti)n(v)o(e)f(clients.)0 3543
y(A)24 b(good)d(w)o(ay)i(of)g(encapsulating)e(the)i(construction)f(of)g
(the)h(required)f(local)h(anchor)e(en)m(vironment)f(for)j(a)g(library)f
(is)i(to)f(create)g(a)h Ft(pr)l(oxy)0 3643 y Fv(for)c(it)g(\(see)h
(Section)f(2.10\).)0 3973 y Fx(4)119 b(Using)31 b(CM)0
4225 y Fr(4.1)99 b(Structur)n(e)28 b(CM)0 4430 y Fv(Functions)19
b(that)i(control)d(CM')-5 b(s)22 b(operation)c(are)i(accessible)g(as)h
(members)e(of)h(a)h(structure)e(named)g Fu(CM)i Fv(which)e(itself)i(is)
g(e)o(xported)d(from)h(a)0 4530 y(library)i(called)i
Fu($smlnj/cm.cm)e Fv(\(or)m(,)h(alternati)n(v)o(ely)-5
b(,)20 b Fu($smlnj/cm/cm.cm)p Fv(\).)30 b(This)23 b(library)e(is)j
(pre-re)o(gistered)19 b(for)j(auto-loading)0 4629 y(at)f(the)f
(interacti)n(v)o(e)f(top)h(le)n(v)o(el.)0 4779 y(Other)g(libraries)g
(can)h(e)o(xploit)e(CM')-5 b(s)22 b(functionality)c(simply)i(by)h
(putting)e(a)i Fu($smlnj/cm.cm)e Fv(entry)h(into)g(their)g(o)n(wn)g
(description)f(\002le.)0 4878 y(Section)h(15)g(sho)n(ws)g(one)f
(interesting)h(use)g(of)g(this)h(feature.)0 5028 y(Here)f(is)h(a)g
(description)e(of)g(all)i(members:)1968 5709 y(12)p eop
%%Page: 13 14
13 13 bop 0 83 a Fw(4.1.1)81 b(Compiling)0 289 y Fv(T)-7
b(w)o(o)20 b(main)g(acti)n(vities)h(when)e(using)h(CM)h(are)f(to)g
(compile)g(ML)g(source)f(code)h(and)f(to)i(b)n(uild)f(stable)g
(libraries:)100 521 y Fu(val)49 b(recomp)g(:)g(string)g(->)g(bool)100
621 y(val)g(stabilize)f(:)i(bool)f(->)g(string)g(->)g(bool)0
853 y(CM.recomp)24 b Fv(tak)o(es)h(the)f(name)h(of)f(a)h(program')-5
b(s)23 b(\223root\224)h(description)f(\002le)i(and)g(compiles)f(or)g
(recompiles)g(all)h(ML)g(source)f(\002les)h(that)0 953
y(are)20 b(necessary)f(to)h(pro)o(vide)e(de\002nitions)h(for)g(the)h
(root)f(library')-5 b(s)20 b(e)o(xport)e(list.)26 b(\()p
Ft(Note:)f Fv(The)19 b(dif)n(ference)f(to)i Fu(CM.make)f
Fv(is)i(that)f(no)g(linking)0 1052 y(tak)o(es)h(place.\))0
1202 y Fu(CM.stabilize)j Fv(tak)o(es)i(a)g(boolean)f(\003ag)g(and)h
(then)f(the)h(name)f(of)g(a)h(library)f(and)g Ft(stabilizes)i
Fv(this)f(library)-5 b(.)40 b(A)26 b(library)f(is)i(stabilized)0
1301 y(by)j(writing)f(all)h(information)e(pertaining)g(to)i(it,)j
(including)28 b(all)j(of)e(its)i(library)e(components)f(\(i.e.,)k
(subgroups\),)d(into)h(a)g(single)g(\002le.)0 1401 y(Sublibraries)22
b(do)h(not)f(become)g(part)h(of)g(the)g(stabilized)g(library;)g(CM)h
(records)e(stub)h(entries)g(for)g(them.)33 b(When)23
b(a)h(stabilized)f(library)f(is)0 1501 y(used)g(in)g(other)f(programs,)
f(all)i(members)f(of)h(the)g(library)e(are)i(guaranteed)e(to)i(be)g
(up-to-date;)e(no)i(dependenc)o(y)c(analysis)k(w)o(ork)g(and)f(no)0
1600 y(recompilation)h(w)o(ork)h(will)i(be)g(necessary)-5
b(.)35 b(If)24 b(the)h(boolean)d(\003ag)j(is)g Fu(false)p
Fv(,)f(then)g(all)h(sublibraries)e(of)h(the)g(library)f(must)i(already)
e(be)0 1700 y(stable.)i(If)20 b(the)g(\003ag)h(is)g Fu(true)p
Fv(,)f(then)f(CM)i(will)g(recursi)n(v)o(ely)e(stabilize)h(all)h
(libraries)f(reachable)e(from)i(the)g(gi)n(v)o(en)f(root.)0
1849 y(After)j(a)g(library)f(has)i(been)e(stabilized)h(it)h(can)f(be)g
(used)g(e)n(v)o(en)f(if)h(none)f(of)h(its)h(original)e
(sources\227including)f(the)i(description)f(\002le\227are)0
1949 y(present.)0 2098 y(The)e(boolean)f(result)i(of)g
Fu(CM.recomp)e Fv(and)h Fu(CM.stabilize)f Fv(indicates)i(success)g(or)f
(f)o(ailure)g(of)h(the)g(operation)d(\()p Fu(true)j Fv(=)g(success\).)0
2369 y Fw(4.1.2)81 b(Linking)21 b(and)g(execution)0 2575
y Fv(In)27 b(SML/NJ,)h(linking)e(means)h(e)o(x)o(ecuting)e(top-le)n(v)o
(el)h(code)g(\(i.e.,)j(module)d(creation)g(and)h(initialization)f
(code\))g(of)h(each)g(compilation)0 2674 y(unit.)e(The)20
b(resulting)f(bindings)g(can)h(then)f(be)h(re)o(gistered)f(at)i(the)f
(interacti)n(v)o(e)f(top)h(le)n(v)o(el.)100 2907 y Fu(val)49
b(make)g(:)h(string)e(->)i(bool)100 3006 y(val)f(autoload)f(:)i(string)
f(->)g(bool)0 3239 y(CM.make)22 b Fv(\002rst)i(acts)f(lik)o(e)h
Fu(CM.recomp)p Fv(.)32 b(If)23 b(the)f(\(re-\)compilation)e(is)k
(successful,)f(then)g(it)g(proceeds)f(by)g(linking)g(all)i(modules)d
(that)0 3339 y(require)e(linking.)24 b(Pro)o(vided)18
b(there)i(are)g(no)g(link-time)f(errors,)g(it)i(\002nally)f(introduces)
e(ne)n(w)i(bindings)f(at)i(top)f(le)n(v)o(el.)0 3488
y(During)25 b(the)g(course)g(of)h(the)g(same)g Fu(CM.make)p
Fv(,)g(the)g(code)f(of)g(each)h(compilation)e(module)g(that)i(is)h
(reachable)d(from)h(the)h(root)f(will)i(be)0 3588 y(e)o(x)o(ecuted)20
b(at)i(most)f(once.)28 b(Code)22 b(in)f(units)h(that)f(are)h(mark)o(ed)
e(as)i Ft(private)g Fv(\(see)f(Section)h(4.3\))e(will)i(be)g(e)o(x)o
(ecuted)d(e)o(xactly)i(once.)28 b(Code)21 b(in)0 3687
y(other)d(units)h(will)h(be)e(e)o(x)o(ecuted)f(only)h(if)i(the)f(unit)f
(has)h(been)f(recompiled)f(since)j(it)f(w)o(as)h(e)o(x)o(ecuted)d(last)
j(time)f(or)f(if)h(it)h(depends)e(on)g(another)0 3787
y(compilation)g(unit)i(whose)g(code)g(has)g(been)g(e)o(x)o(ecuted)e
(since.)0 3936 y(In)j(ef)n(fect,)f(dif)n(ferent)g(in)m(v)n(ocations)f
(of)i Fu(CM.make)f Fv(\(and)g Fu(CM.autoload)p Fv(\))g(will)i(share)e
(dynamic)g(state)i(created)e(at)i(link)e(time)i(as)g(much)0
4036 y(as)f(possible)f(unless)g(the)g(compilation)f(units)h(in)g
(question)f(ha)n(v)o(e)h(been)g(e)o(xplicitly)f(mark)o(ed)g(pri)n(v)n
(ate.)0 4185 y Fu(CM.autoload)g Fv(acts)i(lik)o(e)f Fu(CM.make)p
Fv(,)f(only)h(\223lazily\224.)k(See)d(Section)f(4.2)f(for)h(more)f
(information.)0 4335 y(As)25 b(before,)e(the)h(result)g(of)g
Fu(CM.make)f Fv(indicates)h(success)g(or)g(f)o(ailure)g(of)f(the)h
(operation.)35 b(The)24 b(result)g(of)f Fu(CM.autoload)g
Fv(indicates)0 4434 y(success)e(or)f(f)o(ailure)f(of)h(the)g
Ft(r)m(e)m(gistr)o(ation)p Fv(.)k(\(It)c(does)g(not)g(kno)n(w)f(yet)i
(whether)e(loading)g(will)i(actually)e(succeed.\))0 4705
y Fw(4.1.3)81 b(Registers)0 4911 y Fv(Se)n(v)o(eral)24
b(internal)f(re)o(gisters)h(control)f(the)i(operation)d(of)j(CM.)f(A)h
(re)o(gister)f(of)g(type)g Fl(T)36 b Fv(is)26 b(accessible)e(via)g(a)h
(v)n(ariable)f(of)g(type)g Fl(T)36 b Fu(con-)0 5010 y(troller)p
Fv(,)23 b(i.e.,)h(a)f(pair)g(of)g Fu(get)g Fv(and)g Fu(set)g
Fv(functions.)1669 4980 y Fq(5)1735 5010 y Fv(An)o(y)g(in)m(v)n
(ocation)e(of)i(the)g(corresponding)d Fu(get)j Fv(function)f(reads)h
(the)g(current)0 5110 y(v)n(alue)d(of)f(the)i(re)o(gister)-5
b(.)24 b(An)c(in)m(v)n(ocation)f(of)h(the)g Fu(set)g
Fv(function)f(replaces)g(the)i(current)d(v)n(alue)i(with)g(the)g(ar)o
(gument)e(gi)n(v)o(en)h(to)i Fu(set)p Fv(.)0 5259 y(Controllers)e(are)h
(members)g(of)f Fu(CM.Control)p Fv(,)g(a)i(sub-structure)d(of)i
(structure)f Fu(CM)p Fv(.)p 0 5313 1608 4 v 90 5368 a
Fp(5)120 5392 y Fo(The)d(type)i(constructor)i Fm(controller)15
b Fo(is)i(de\002ned)h(as)f(part)h(of)f Fm(structure)38
b(CM)p Fo(.)1968 5709 y Fv(13)p eop
%%Page: 14 15
14 14 bop 100 83 a Fu(type)49 b('a)g(controller)f(=)i({)f(get:)g(unit)g
(->)h('a,)f(set:)g('a)h(->)f(unit)g(})100 183 y(structure)f(Control)g
(:)i(sig)199 282 y(val)g(verbose)e(:)i(bool)f(controller)199
382 y(val)h(debug)e(:)i(bool)f(controller)199 482 y(val)h(keep_going)d
(:)j(bool)f(controller)199 581 y(val)h(parse_caching)d(:)j(int)f
(controller)199 681 y(val)h(warn_obsolete)d(:)j(bool)f(controller)199
780 y(val)h(conserve_memory)d(:)i(bool)g(controller)199
880 y(val)h(generate_index)d(:)i(bool)g(controller)100
980 y(end)0 1212 y(CM.Control.verbose)21 b Fv(can)i(be)h(used)f(to)h
(turn)f(of)n(f)g(CM')-5 b(s)25 b(progress)d(messages.)35
b(The)24 b(def)o(ault)f(is)h Ft(true)g Fv(and)f(can)h(be)f(o)o(v)o
(erriden)e(at)0 1312 y(startup)f(time)g(by)g(the)g(en)m(vironment)d(v)n
(ariable)i Fu(CM)p 1469 1312 25 4 v 30 w(VERBOSE)p Fv(.)0
1461 y(In)g(the)f(case)i(of)e(a)h(compile-time)e(error)h
Fu(CM.Contol.keep)p 1864 1461 V 27 w(going)h Fv(instructs)g(the)f
Fu(CM.recomp)g Fv(phase)g(to)h(continue)f(w)o(orking)f(on)0
1561 y(parts)24 b(of)g(the)g(dependenc)o(y)d(graph)h(that)i(are)g(not)g
(related)g(to)g(the)g(error)-5 b(.)36 b(\(This)23 b(does)h(not)g(w)o
(ork)f(for)h(outright)e(syntax)i(errors)f(because)g(a)0
1660 y(correct)17 b(parse)g(is)i(needed)d(before)g(CM)j(can)e
(construct)g(the)h(dependenc)o(y)c(graph.\))23 b(The)17
b(def)o(ault)g(is)i Ft(false)p Fv(,)f(meaning)e(\223quit)h(on)h
(\002rst)g(error\224,)0 1760 y(and)i(can)g(be)g(o)o(v)o(erriden)d(at)k
(startup)f(by)f(the)i(en)m(vironment)c(v)n(ariable)i
Fu(CM)p 2094 1760 V 29 w(KEEP)p 2323 1760 V 29 w(GOING)p
Fv(.)0 1910 y Fu(CM.Control.parse)p 805 1910 V 27 w(caching)26
b Fv(sets)j(a)e(limit)h(on)e(ho)n(w)h(man)o(y)f(parse)h(trees)g(are)g
(cached)g(in)g(main)g(memory)-5 b(.)43 b(In)27 b(certain)g(cases)0
2009 y(CM)e(must)g(parse)f(source)g(\002les)h(in)g(order)e(to)i(be)f
(able)h(to)f(calculate)g(the)h(dependenc)o(y)c(graph.)37
b(Later)m(,)24 b(the)h(same)g(\002les)g(may)f(need)g(to)h(be)0
2109 y(compiled,)18 b(in)i(which)g(case)g(an)g(e)o(xisting)f(parse)h
(tree)f(sa)n(v)o(es)i(the)f(time)g(to)g(parse)f(the)h(\002le)h(again.)j
(K)n(eeping)18 b(parse)i(trees)g(can)g(be)g(e)o(xpensi)n(v)o(e)0
2208 y(in)f(terms)g(of)f(memory)f(usage.)24 b(Moreo)o(v)o(er)m(,)16
b(CM)k(mak)o(es)e(special)h(ef)n(forts)f(to)h(a)n(v)n(oid)g(re-parsing)
e(\002les)i(in)g(the)g(\002rst)h(place)e(unless)h(the)o(y)f(ha)n(v)o(e)
0 2308 y(actually)i(been)g(modi\002ed.)25 b(Therefore,)18
b(it)j(may)f(not)h(mak)o(e)f(much)f(sense)i(to)g(set)g(this)g(v)n(alue)
f(v)o(ery)g(high.)25 b(The)20 b(def)o(ault)g(is)i Ft(100)d
Fv(and)h(can)h(be)0 2408 y(o)o(v)o(erriden)c(at)k(startup)f(time)g(by)g
(the)g(en)m(vironment)d(v)n(ariable)i Fu(CM)p 1886 2408
V 30 w(PARSE)p 2166 2408 V 29 w(CACHING)p Fv(.)0 2557
y(This)34 b(v)o(ersion)e(of)i(CM)h(uses)f(an)g(ML-inspired)e(syntax)h
(for)g(e)o(xpressions)f(in)i(its)h(conditional)d(compilation)g
(subsystem)h(\(see)h(Sec-)0 2657 y(tion)26 b(7\).)43
b(Ho)n(we)n(v)o(er)m(,)25 b(for)h(the)g(time)h(being)e(it)i(will)g
(accept)f(most)g(of)g(the)g(original)f(C-inspired)g(e)o(xpressions)g(b)
n(ut)i(produces)d(a)j(w)o(arning)0 2756 y(for)c(each)f(occurrence)f(of)
i(an)g(old-style)f(operator)-5 b(.)33 b Fu(CM.Control.warn)p
2276 2756 V 27 w(obsolete)22 b Fv(can)h(be)g(used)g(to)g(turn)g(these)g
(w)o(arnings)g(of)n(f.)0 2856 y(The)28 b(def)o(ault)g(is)i
Ft(true)p Fv(,)h(meaning)c(\223w)o(arnings)g(are)i(issued\224,)h(and)e
(can)h(be)f(o)o(v)o(erriden)e(at)j(startup)f(time)h(by)f(the)h(en)m
(vironment)d(v)n(ariable)0 2956 y Fu(CM)p 105 2956 V
30 w(WARN)p 335 2956 V 29 w(OBSOLETE)p Fv(.)0 3105 y
Fu(CM.Control.debug)15 b Fv(can)i(be)g(used)g(to)g(turn)g(on)g(deb)n
(ug)f(mode.)23 b(This)17 b(currently)e(has)j(the)f(ef)n(fect)g(of)g
(dumping)e(a)i(trace)h(of)e(the)i(master)n(-)0 3205 y(sla)n(v)o(e)23
b(protocol)d(for)i(parallel)g(and)g(distrib)n(uted)f(compilation)g
(\(see)h(Section)g(12\))g(to)g(T)-6 b(e)o(xtIO.stdOut.)30
b(The)22 b(def)o(ault)g(is)h Ft(false)g Fv(and)e(can)i(be)0
3304 y(o)o(v)o(erriden)17 b(at)k(startup)f(time)g(by)g(the)g(en)m
(vironment)d(v)n(ariable)i Fu(CM)p 1886 3304 V 30 w(DEBUG)p
Fv(.)0 3454 y(Using)h Fu(CM.Control.conserve)p 1174 3454
V 26 w(memory)p Fv(,)g(CM)h(can)f(be)g(told)f(to)i(be)f(slightly)g
(more)f(conserv)n(ati)n(v)o(e)f(with)i(its)h(use)g(of)f(main)f(mem-)0
3553 y(ory)29 b(at)i(the)f(e)o(xpense)e(of)i(occasionally)e(incurring)g
(additional)h(input)g(from)g(stable)h(library)f(\002les.)55
b(This)30 b(does)g(not)g(sa)n(v)o(e)g(v)o(ery)f(much)0
3653 y(and,)35 b(therefore,)f(is)g(normally)d(turned)g(of)n(f.)62
b(The)32 b(def)o(ault)g(\()p Ft(false)p Fv(\))h(can)f(be)h(o)o(v)o
(erridden)c(at)34 b(startup)e(by)g(the)h(en)m(vironment)d(v)n(ariable)0
3753 y Fu(CM)p 105 3753 V 30 w(CONSERVE)p 535 3753 V
28 w(MEMORY)p Fv(.)0 3902 y Fu(CM.Control.generate)p
955 3902 V 26 w(index)d Fv(is)h(used)e(to)h(control)f(the)h(generation)
e(of)h(human-readable)e Ft(inde)n(x)i(\002les)i Fv(\(see)f(section)f
(10.2\).)0 4002 y(The)20 b(def)o(ault)f(setting)h(is)i
Ft(false)e Fv(and)g(can)g(be)g(o)o(v)o(erridden)d(at)k(startup)e(by)h
(the)g(en)m(vironment)d(v)n(ariable)i Fu(CM)p 3031 4002
V 30 w(GENERATE)p 3461 4002 V 28 w(INDEX)p Fv(.)0 4273
y Fw(4.1.4)81 b(P)o(ath)20 b(anchors)0 4478 y Fv(Structure)e
Fu(CM)h Fv(also)g(pro)o(vides)e(functions)g(to)i(e)o(xplicitly)f
(manipulate)f(the)i(path)f(anchor)f(con\002guration.)22
b(These)d(functions)e(are)i(members)0 4578 y(of)h(structure)f
Fu(CM.Anchor)p Fv(.)100 4810 y Fu(structure)48 b(Anchor)g(:)i(sig)199
4910 y(val)g(anchor)e(:)i(string)f(->)g(string)g(option)f(controller)
199 5009 y(val)i(reset)e(:)i(unit)f(->)h(unit)100 5109
y(end)0 5341 y(CM.Anchor.anchor)21 b Fv(returns)i(a)h(pair)f(of)h
Fu(get)g Fv(and)f Fu(set)g Fv(functions)g(that)g(can)h(be)f(used)h(to)g
(query)e(and)h(modify)f(the)i(status)g(of)g(the)0 5441
y(named)16 b(anchor)-5 b(.)22 b(Note)17 b(that)g(the)g
Fu(get)p Fv(-)p Fu(set)p Fv(-pair)e(operates)h(o)o(v)o(er)f(type)h
Fu(string)49 b(option)p Fv(;)17 b(a)h(v)n(alue)e(of)g
Fu(NONE)h Fv(means)f(that)h(the)g(anchor)1968 5709 y(14)p
eop
%%Page: 15 16
15 15 bop 0 83 a Fv(is)26 b(currently)d(not)h(bound)f(\(or)m(,)i(in)g
(the)f(case)i(of)e Fu(set)p Fv(,)i(that)f(it)g(is)h(being)e
(cancelled\).)37 b(The)24 b(\(optional\))f(string)i(gi)n(v)o(en)e(to)i
Fu(set)g Fv(must)f(be)h(a)0 183 y(directory)d(name)i(in)g(nati)n(v)o(e)
f(syntax)g(\()p Ft(without)h Fv(trailing)f(arc)h(separator)m(,)f(e.g.,)
h Fw(/)h Fv(in)f(Unix\).)35 b(If)24 b(it)h(is)g(speci\002ed)f(as)g(a)h
(relati)n(v)o(e)e(path)g(name,)0 282 y(then)d(it)h(will)g(be)f(e)o
(xpanded)d(by)j(prepending)d(the)k(name)e(of)h(the)g(current)f(w)o
(orking)g(directory)-5 b(.)0 432 y Fu(CM.Anchor.reset)22
b Fv(erases)k(the)e(entire)h(e)o(xisting)f(path)g(con\002guration.)36
b(After)24 b(a)h(call)g(of)g(this)g(function)e(has)i(completed,)f(all)h
(root)0 531 y(en)m(vironment)17 b(locations)j(are)g(mark)o(ed)f(as)i
(being)e(\223unde\002ned\224.)0 802 y Fw(4.1.5)81 b(Setting)20
b(CM)h(v)o(ariables)0 1008 y Fv(CM)j(v)n(ariables)f(are)g(used)h(by)f
(the)g(conditional)f(compilation)f(system)j(\(see)g(Section)f(7.1\).)34
b(Some)23 b(of)g(these)h(v)n(ariables)e(are)i(prede\002ned,)0
1107 y(b)n(ut)c(the)g(user)g(can)g(add)g(ne)n(w)g(ones)g(and)g(alter)g
(or)g(remo)o(v)o(e)e(those)i(that)g(already)f(e)o(xist.)100
1340 y Fu(val)49 b(symval)g(:)g(string)g(->)g(int)h(option)e
(controller)0 1572 y Fv(Function)23 b Fu(CM.symval)h
Fv(returns)f(a)i Fu(get)p Fv(-)p Fu(set)p Fv(-pair)d(for)i(the)h
(symbol)e(whose)h(name)g(string)g(w)o(as)h(speci\002ed)g(as)g(the)f(ar)
o(gument.)36 b(Note)0 1672 y(that)20 b(the)g Fu(get)p
Fv(-)p Fu(set)p Fv(-pair)f(operates)g(o)o(v)o(er)g(type)g
Fu(int)50 b(option)p Fv(;)19 b(a)i(v)n(alue)e(of)h Fu(NONE)g
Fv(means)g(that)h(the)f(v)n(ariable)f(is)i(not)f(de\002ned.)0
1821 y(Examples:)100 2037 y Fu(#get)49 b(\(CM.symval)f("X"\))h(\(\);)
348 b(\(*)49 b(query)g(value)g(of)g(X)h(*\))100 2137
y(#set)f(\(CM.symval)f("Y"\))h(\(SOME)g(1\);)g(\(*)g(set)h(Y)f(to)h(1)f
(*\))100 2236 y(#set)g(\(CM.symval)f("Z"\))h(NONE;)248
b(\(*)49 b(remove)g(definition)f(for)h(Z)h(*\))0 2452
y Fv(Some)20 b(care)g(is)h(necessary)f(as)h Fu(CM.symval)e
Fv(does)h(not)g(check)g(whether)f(the)h(syntax)g(of)g(the)h(ar)o
(gument)d(string)i(is)h(v)n(alid.)k(\(Ho)n(we)n(v)o(er)m(,)18
b(the)0 2552 y(w)o(orst)g(thing)f(that)h(could)e(happen)h(is)h(that)g
(a)g(v)n(ariable)f(de\002ned)f(via)i Fu(CM.symval)f Fv(is)h(not)g
(accessible)2934 2522 y Fq(6)2985 2552 y Fv(because)f(there)g(is)i(no)e
(le)o(gal)g(syntax)0 2652 y(to)j(name)g(it.\))0 2922
y Fw(4.1.6)81 b(Library)20 b(r)o(egistry)0 3128 y Fv(T)-7
b(o)26 b(be)g(able)f(to)h(share)g(associated)f(data)h(structures)f
(such)g(as)i(symbol)e(tables)h(and)f(dependenc)o(y)d(graphs,)k(CM)h
(maintains)e(an)g(internal)0 3227 y(re)o(gistry)k(of)h(all)h(stable)f
(libraries)g(that)g(it)h(has)g(encountered)c(during)i(an)h(ongoing)e
(interacti)n(v)o(e)h(session.)55 b(The)30 b Fu(CM.Library)f
Fv(sub-)0 3327 y(structure)19 b(of)h(structure)f Fu(CM)i
Fv(pro)o(vides)d(access)j(to)f(this)h(re)o(gistry)-5
b(.)100 3560 y Fu(structure)48 b(Library)g(:)i(sig)199
3659 y(type)f(lib)199 3759 y(val)h(known)e(:)i(unit)f(->)h(lib)f(list)
199 3858 y(val)h(descr)e(:)i(lib)f(->)h(string)199 3958
y(val)g(osstring)e(:)h(lib)h(->)f(string)199 4058 y(val)h(dismiss)e(:)i
(lib)f(->)g(unit)199 4157 y(val)h(unshare)e(:)i(lib)f(->)g(unit)100
4257 y(end)0 4489 y(CM.Library.known)p Fv(,)17 b(when)i(called,)g
(produces)f(a)i(list)h(of)e(currently)f(kno)n(wn)g(stable)i(libraries.)
25 b(Each)19 b(such)g(library)g(is)h(represented)0 4589
y(by)g(an)g(element)g(of)f(the)i(abstract)f(data)g(type)f
Fu(CM.Library.lib)p Fv(.)0 4738 y Fu(CM.Library.descr)29
b Fv(e)o(xtracts)i(a)h(string)f(describing)e(the)j(location)e(of)h(the)
h(CM)g(description)e(\002le)i(associated)f(with)g(the)h(gi)n(v)o(en)0
4838 y(library)-5 b(.)23 b(The)d(syntax)g(of)g(this)g(string)g(is)h
(almost)g(the)f(same)g(as)h(that)f(being)g(used)g(by)f(CM')-5
b(s)22 b(master)n(-sla)n(v)o(e)d(protocol)g(\(see)h(section)g(12.1\).)0
4988 y Fu(CM.Library.osstring)d Fv(produces)h(a)j(string)f(denoting)e
(the)i(gi)n(v)o(en)f(library')-5 b(s)19 b(description)g(\002le)h(using)
g(the)g(underlying)d(operating)0 5087 y(system')-5 b(s)29
b(nati)n(v)o(e)f(pathname)f(syntax.)50 b(In)29 b(other)f(w)o(ords,)i
(the)f(result)g(of)f(a)h(call)h(of)e Fu(CM.Library.osstring)e
Fv(is)k(suitable)e(as)i(an)0 5187 y(ar)o(gument)18 b(to)i
Fu(TextIO.openIn)p Fv(.)p 0 5240 1608 4 v 90 5295 a Fp(6)120
5319 y Fo(from)c(within)j(CM')l(s)e(description)j(\002les)1968
5709 y Fv(15)p eop
%%Page: 16 17
16 16 bop 0 83 a Fu(CM.Library.dismiss)22 b Fv(is)k(used)f(to)g(remo)o
(v)o(e)e(a)i(stable)g(library)f(from)g(CM')-5 b(s)26
b(internal)e(re)o(gistry)-5 b(.)38 b(Although)23 b(remo)o(ving)f(a)k
(library)0 183 y(from)20 b(the)h(re)o(gistry)e(may)i(reco)o(v)o(er)e
(considerable)f(amounts)i(of)h(main)f(memory)-5 b(,)19
b(doing)g(so)j(also)f(eliminates)f(an)o(y)g(chance)g(of)h(sharing)f
(the)0 282 y(associated)i(data)g(structures)f(with)i(later)f
(references)e(to)j(the)f(same)g(library)-5 b(.)29 b(Therefore,)20
b(it)j(is)g(not)f(al)o(w)o(ays)g(in)h(the)f(interest)g(of)g(memory-)0
382 y(conscious)d(users)i(to)f(use)g(this)h(feature.)0
529 y(While)f(dependenc)o(y)c(graphs)i(and)h(symbol)f(tables)i(need)e
(to)i(be)f(reloaded)e(when)i(a)h(pre)n(viously)d(dismissed)i(library)g
(is)h(referenced)d(again,)0 628 y(the)28 b(sharing)e(of)i(link-time)f
(state)h(created)f(by)g(this)h(library)f(is)i Ft(not)e
Fv(af)n(fected.)46 b(\(Link-time)26 b(state)j(is)f(independently)d
(maintained)h(in)i(a)0 728 y(separate)20 b(data)g(structure.)k(See)c
(the)h(discussion)e(of)h Fu(CM.unshare)f Fv(belo)n(w)-5
b(.\))0 875 y Fu(CM.Library.unshare)27 b Fv(is)j(used)g(to)g(remo)o(v)o
(e)d(a)j(stable)g(library)f(from)f(CM')-5 b(s)31 b(internal)e(re)o
(gistry)-5 b(,)30 b(and\227at)f(the)h(same)g(time\227to)0
974 y(inhibit)25 b(future)f(sharing)g(with)i(its)g(e)o(xisting)e
(link-time)h(state.)41 b(An)o(y)24 b(future)g(references)g(to)i(this)g
(library)e(will)i(see)g(ne)n(wly)e(created)h(state)0
1074 y(\(which)d(will)h(then)g(be)g(properly)d(shared)i(again\).)32
b(\()p Fw(W)-5 b(ar)o(ning:)28 b Ft(This)c(featur)m(e)e(is)i(not)f(the)
f(pr)m(eferr)m(ed)h(way)g(of)g(cr)m(eating)f(unshar)m(ed)g(state;)0
1173 y(use)30 b(functor)o(s)g(for)h(that.)54 b(Howe)o(ver)-9
b(,)32 b(it)f(can)e(come)h(in)g(handy)f(when)g(two)i(dif)o(fer)m(ent)e
(\(and)g(perhaps)g(incompatible\))f(ver)o(sions)i(of)h(the)0
1273 y(same)f(libr)o(ary)f(ar)m(e)g(supposed)f(to)i(coe)n
(xist\227especially)e(if)j(one)d(of)i(the)f(two)h(ver)o(sions)g(is)g
(used)f(by)h(SML/NJ)g(itself)o(.)53 b(Normally)-5 b(,)32
b(only)0 1373 y(pr)l(o)o(gr)o(ammer)o(s)20 b(working)g(on)g(SML/NJ')m
(s)g(compiler)g(ar)m(e)h(e)n(xpected)e(to)h(be)g(using)g(this)h
(facility)-5 b(.)p Fv(\))0 1640 y Fw(4.1.7)81 b(Inter)o(nal)20
b(state)0 1842 y Fv(F)o(or)g(CM)h(to)g(w)o(ork)f(correctly)-5
b(,)18 b(it)j(must)g(maintain)e(an)i(up-to-date)d(picture)h(of)i(the)f
(state)h(of)f(the)h(surrounding)c(w)o(orld)j(\(as)h(f)o(ar)f(as)h(that)
g(state)0 1942 y(af)n(fects)k(CM')-5 b(s)27 b(operation\).)38
b(Most)26 b(of)f(the)h(time,)h(this)f(happens)e(automatically)g(and)h
(should)f(be)i(transparent)d(to)j(the)g(user)-5 b(.)41
b(Ho)n(we)n(v)o(er)m(,)0 2042 y(occasionally)19 b(it)i(may)e(become)g
(necessary)h(to)g(interv)o(ene)f(e)o(xpliticly)-5 b(.)0
2188 y(Access)21 b(to)f(CM')-5 b(s)22 b(internal)d(state)i(is)g(f)o
(acilitated)f(by)g(members)f(of)h(the)g Fu(CM.State)f
Fv(structure.)100 2411 y Fu(structure)48 b(State)h(:)g(sig)199
2511 y(val)h(pending)e(:)i(unit)f(->)g(string)g(list)199
2610 y(val)h(synchronize)d(:)j(unit)f(->)g(unit)199 2710
y(val)h(reset)e(:)i(unit)f(->)h(unit)100 2810 y(end)0
3032 y(CM.State.pending)15 b Fv(produces)i(a)h(list)h(of)f(strings,)g
(each)f(string)h(naming)e(one)i(of)f(the)h(symbols)g(that)g(are)f
(currently)g(re)o(gistered)f(\(i.e.,)0 3132 y(\223virtually)j
(bound\224\))f(b)n(ut)i(not)g(yet)g(resolv)o(ed)f(by)h(the)g
(autoloading)e(mechanism.)0 3279 y Fu(CM.State.synchronize)e
Fv(updates)h(tables)i(internal)f(to)h(CM)h(to)e(re\003ect)h(changes)f
(in)h(the)f(\002le)i(system.)k(In)19 b(particular)m(,)e(this)i(will)h
(be)0 3378 y(necessary)i(when)f(the)i(association)f(of)g(\002le)h
(names)f(to)h(\223\002le)g(IDs\224)f(\(in)h(Unix:)29
b(inode)21 b(numbers\))g(changes)g(during)g(an)h(ongoing)e(session.)0
3478 y(In)g(practice,)f(the)h(need)g(for)f(this)i(tends)f(to)h(be)f
(rare.)0 3625 y Fu(CM.State.reset)c Fv(completely)h(erases)h(all)h
(internal)e(state)i(in)f(CM.)g(T)-7 b(o)19 b(do)e(this)i(is)g(not)e(v)o
(ery)g(advisable)g(since)i(it)f(will)h(also)g(break)e(the)0
3724 y(association)i(with)h(pre-loaded)e(libraries.)24
b(It)c(may)f(be)h(a)g(useful)g(tool)f(for)g(determining)f(the)i(amount)
e(of)i(space)f(tak)o(en)h(up)f(by)h(the)f(internal)0
3824 y(state,)i(though.)0 4091 y Fw(4.1.8)81 b(Compile)21
b(ser)o(v)o(ers)0 4293 y Fv(On)f(Unix-lik)o(e)g(systems,)g(CM)h
(supports)e(parallel)h(compilation.)j(F)o(or)d(computers)f(connected)f
(using)i(a)h(LAN,)f(this)h(can)f(be)g(e)o(xtended)e(to)0
4393 y(distrib)n(uted)24 b(compilation)f(using)h(a)h(netw)o(ork)f
(\002le)h(system)g(and)f(the)h(operating)e(system')-5
b(s)25 b(\223rsh\224)g(f)o(acility)-5 b(.)38 b(F)o(or)24
b(a)h(detailed)f(discussion,)0 4493 y(see)d(Section)f(12.)0
4639 y(Sub-structure)g Fu(CM.Server)i Fv(pro)o(vides)e(access)j(to)g
(and)f(manipulation)e(of)i(compile)g(serv)o(ers.)31 b(Each)22
b(attached)f(serv)o(er)h(is)h(represented)0 4739 y(by)d(a)g(v)n(alue)g
(of)g(type)g Fu(CM.Server.server)p Fv(.)100 4962 y Fu(structure)48
b(Server)g(:)i(sig)199 5061 y(type)f(server)199 5161
y(val)h(start)e(:)i({)g(name:)f(string,)897 5261 y(cmd:)g(string)f(*)i
(string)f(list,)897 5360 y(pathtrans:)f(\(string)g(->)i(string\))e
(option,)897 5460 y(pref:)h(int)g(})g(->)h(server)f(option)1968
5709 y Fv(16)p eop
%%Page: 17 18
17 17 bop 199 83 a Fu(val)50 b(stop)f(:)g(server)g(->)g(unit)199
183 y(val)h(kill)f(:)g(server)g(->)g(unit)199 282 y(val)h(name)f(:)g
(server)g(->)g(string)100 382 y(end)0 614 y Fv(CM)24
b(is)f(put)g(into)g(\223parallel\224)f(mode)g(by)g(attaching)g(at)h
(least)h(one)e(compile)g(serv)o(er)-5 b(.)33 b(Compile)23
b(serv)o(ers)f(are)h(attached)f(using)g(in)m(v)n(ocations)0
714 y(of)g Fu(CM.Server.start)p Fv(.)31 b(The)22 b(function)f(tak)o(es)
i(the)g(name)f(of)g(the)h(serv)o(er)f(\(as)h(an)f(arbitrary)f(string\))
h(\()p Fu(name)p Fv(\),)h(the)f(Unix)h(command)0 814
y(used)i(to)h(start)g(the)f(serv)o(er)g(in)g(a)h(form)f(suitable)g(as)h
(an)g(ar)o(gument)d(to)i Fu(Unix.execute)f Fv(\()p Fu(cmd)p
Fv(\),)i(an)f(optional)f(\223path)h(transformation)0
913 y(function\224)20 b(for)h(con)m(v)o(erting)e(local)j(path)f(names)g
(to)h(remote)f(pathnames)g(\()p Fu(pathtrans)p Fv(\),)f(and)h(a)h
(numeric)e(\223preference\224)g(v)n(alue)h(that)h(is)0
1013 y(used)k(to)h(choose)e(serv)o(ers)h(at)h(times)f(when)g(more)f
(than)h(one)g(is)h(idle)g(\()p Fu(pref)p Fv(\).)42 b(The)26
b(optional)f(result)i(is)g(the)f(handle)f(representing)g(the)0
1112 y(successfully)20 b(attached)f(serv)o(er)-5 b(.)0
1262 y(An)28 b(e)o(xisting)f(serv)o(er)g(can)h(be)g(shut)g(do)n(wn)f
(and)g(detached)g(using)g Fu(CM.Server.stop)f Fv(or)i
Fu(CM.Server.kill)p Fv(.)46 b(The)28 b(ar)o(gument)0
1362 y(in)f(either)g(case)g(must)h(be)f(the)g(result)g(of)g(an)g
(earlier)f(call)i(of)f Fu(CM.Server.start)p Fv(.)43 b(Function)26
b Fu(CM.Server.stop)f Fv(uses)i(CM')-5 b(s)0 1461 y(master)n(-sla)n(v)o
(e)27 b(protocol)f(to)h(instruct)g(the)h(serv)o(er)e(to)i(shut)f(do)n
(wn)f(gracefully)-5 b(.)44 b(Only)27 b(if)h(this)g(f)o(ails)g(it)g(may)
f(become)f(necessary)h(to)g(use)0 1561 y Fu(CM.Server.kill)p
Fv(,)18 b(which)i(will)g(send)g(a)h(Unix)f(TERM)g(signal)g(to)h(destro)
o(y)e(the)h(serv)o(er)-5 b(.)0 1710 y(Gi)n(v)o(en)44
b(a)h(serv)o(er)f(handle,)50 b(function)43 b Fu(CM.Server.name)g
Fv(returns)h(the)h(string)f(that)h(w)o(as)h(originally)d(gi)n(v)o(en)h
(to)h(the)g(call)g(of)0 1810 y Fu(CM.Server.start)18
b Fv(used)i(to)g(created)g(the)g(serv)o(er)-5 b(.)0 2081
y Fw(4.1.9)81 b(Plug-ins)0 2286 y Fv(As)19 b(an)e(alternati)n(v)o(e)g
(to)h Fu(CM.make)f Fv(or)g Fu(CM.autoload)p Fv(,)g(where)g(the)g(main)h
(purpose)e(is)j(to)f(subsequently)d(be)j(able)g(to)g(access)g(the)g
(library)0 2386 y(from)h(interacti)n(v)o(ely)g(entered)g(code,)g(one)h
(can)g(instruct)f(CM)i(to)g(load)e(libraries)h(\223for)g(ef)n
(fect\224.)100 2618 y Fu(val)49 b(load_plugin)f(:)h(string)g(->)g(bool)
0 2851 y Fv(Function)25 b Fu(CM.load)p 677 2851 25 4
v 29 w(plugin)h Fv(acts)h(e)o(xactly)f(lik)o(e)h Fu(CM.make)f
Fv(e)o(xcept)f(that)i(e)n(v)o(en)e(in)i(the)g(case)g(of)f(success)h(no)
f(ne)n(w)h(symbols)f(will)0 2950 y(be)d(bound)e(in)i(the)g(interacti)n
(v)o(e)e(top-le)n(v)o(el)g(en)m(vironment.)30 b(That)23
b(means)f(that)h(link-time)f(side-ef)n(fects)g(will)h(be)g(visible,)g
(b)n(ut)g(none)f(of)h(the)0 3050 y(e)o(xported)18 b(de\002nitions)g
(become)h(a)n(v)n(ailable.)24 b(This)c(mechanism)e(can)i(be)g(used)f
(for)g(\223plug-in\224)f(modules:)24 b(a)c(core)f(library)g(pro)o
(vides)f(hooks)0 3150 y(where)e(additional)f(functionality)g(can)h(be)h
(re)o(gistered)e(later)i(via)f(side-ef)n(fects;)h(e)o(xtensions)f(to)g
(this)h(core)f(are)h(implemented)e(as)i(additional)0
3249 y(libraries)k(which,)g(when)g(loaded,)f(re)o(gister)h(themselv)o
(es)g(with)h(those)f(hooks.)28 b(By)22 b(using)f Fu(CM.load)p
2958 3249 V 28 w(plugin)g Fv(instead)g(of)h Fu(CM.make)p
Fv(,)0 3349 y(one)e(can)g(a)n(v)n(oid)g(polluting)e(the)i(interacti)n
(v)o(e)f(top-le)n(v)o(el)g(en)m(vironment)e(with)j(spurious)f(e)o
(xports)g(of)h(the)g(e)o(xtension)f(module.)0 3498 y(CM)h(itself)g
(uses)g(plug-in)e(modules)g(in)h(its)i(member)n(-class)d(subsystem)h
(\(see)g(section)g(11\).)24 b(This)c(mak)o(es)f(it)h(possible)f(to)h
(add)e(ne)n(w)h(classes)0 3598 y(and)h(tools)g(v)o(ery)f(easily)h
(without)g(ha)n(ving)f(to)h(recon\002gure)e(or)i(recompile)f(CM,)h(not)
g(to)h(mention)e(modify)f(its)j(source)f(code.)0 3869
y Fw(4.1.10)81 b(Support)20 b(f)n(or)g(stand-alone)f(pr)o(ograms)0
4074 y Fv(CM)30 b(can)g(be)f(used)h(to)f(b)n(uild)h(stand-alone)d
(programs.)52 b(In)29 b(f)o(act)h(SML/NJ)g(itself\227including)e
(CM\227is)j(an)e(e)o(xample)f(of)i(this.)53 b(\(The)0
4174 y(interacti)n(v)o(e)19 b(system)h(cannot)f(rely)h(on)g(an)g(e)o
(xisting)g(compilation)e(manager)h(when)g(starting)h(up.\))0
4323 y(A)f(stand-alone)e(program)f(is)k(constructed)d(by)h(the)h
(runtime)e(system)i(from)f(e)o(xisting)g(bin\002les)g(or)h(members)e
(of)h(e)o(xisting)g(stable)h(libraries.)0 4423 y(CM)i(must)f(prepare)f
(those)h(bin\002les)g(or)g(libraries)g(together)f(with)h(a)h(list)g
(that)f(describes)g(them)g(to)g(the)g(runtime)f(system.)100
4655 y Fu(val)49 b(mk_standalone)e(:)j(bool)f(option)g(->)1096
4755 y({)h(project:)e(string,)g(wrapper:)h(string,)f(target:)h(string)f
(})i(->)1096 4855 y(string)f(list)g(option)0 5087 y Fv(Here,)26
b Fu(project)e Fv(and)g Fu(wrapper)g Fv(name)g(description)f(\002les)j
(and)e Fu(target)h Fv(is)g(the)g(name)f(of)h(a)g(heap)f(image\227with)g
(or)g(without)h(the)0 5187 y(usual)e(implicit)g(heap)f(image)g(suf)n
(\002x;)i(see)g(the)f(description)e(of)i Fu(SMLofNJ.exportFn)d
Fv(from)i(the)h(\(SML/NJ-speci\002c)f(e)o(xtension)g(of)0
5286 y(the\))e(Basis)i(Library)c([RG99)o(].)0 5436 y(A)j(call)f(of)g
Fu(mk)p 416 5436 V 30 w(standalone)f Fv(triggers)g(the)h(follo)n(wing)f
(three-stage)g(procedure:)1968 5709 y(17)p eop
%%Page: 18 19
18 18 bop 104 83 a Fv(1.)41 b(Depending)23 b(on)i(the)h(optional)e
(boolean)g(ar)o(gument,)h Fu(project)g Fv(is)h(subjected)f(to)h(the)g
(equi)n(v)n(alent)e(of)h(either)g Fu(CM.recomp)g Fv(or)208
183 y Fu(CM.stabilize)p Fv(.)34 b Fu(NONE)24 b Fv(means)g
Fu(CM.recomp)p Fv(,)f(and)g Fu(\(SOME)49 b Fl(r)r Fu(\))25
b Fv(means)f Fu(CM.stabilize)48 b Fl(r)r Fv(.)37 b(There)23
b(are)h(tree)g(w)o(ays)208 282 y(of)19 b(ho)n(w)h(to)g(continue)f(from)
g(here:)257 448 y(\(a\))40 b(If)20 b(recompilation)e(of)i
Fu(project)g Fv(f)o(ailed,)f(then)h(a)h(result)f(of)g
Fu(NONE)g Fv(will)h(be)f(returned)e(immediately)-5 b(.)252
581 y(\(b\))40 b(If)18 b(e)n(v)o(erything)e(w)o(as)j(up-to-date)d
(\(i.e,)j(if)f(no)g(ML)h(source)e(had)h(to)h(be)f(compiled)f(and)h(all)
h(these)f(sources)g(were)g(older)g(than)g(the)390 681
y(e)o(xisting)i Fu(target)p Fv(\),)f(then)g(a)i(result)f(of)g
Fu(SOME)49 b([])21 b Fv(will)g(be)f(returned.)257 814
y(\(c\))40 b(Otherwise)20 b(e)o(x)o(ecution)e(proceeds)h(to)h(the)h(ne)
o(xt)e(stage.)104 980 y(2.)41 b(The)20 b Ft(wr)o(apper)h(libr)o(ary)g
Fv(named)f(by)h Fu(wrapper)f Fv(is)i(being)e(recompiled)f(\(using)h
(the)h(equi)n(v)n(alent)f(of)h Fu(CM.recomp)p Fv(\).)26
b(If)21 b(this)g(f)o(ails,)208 1079 y Fu(NONE)f Fv(is)h(returned.)i
(Otherwise)d(e)o(x)o(ecution)e(proceeds)h(to)h(the)g(ne)o(xt)g(stage.)
104 1245 y(3.)41 b(CM.mk)p 470 1245 25 4 v 28 w(standalone)25
b(constructs)f(a)i(topologically)d(sorted)i(list)i Fl(l)g
Fv(of)e(strings)g(that,)i(when)e(written)g(to)h(a)f(\002le,)j(can)d(be)
g(passed)g(to)208 1345 y(the)d(runtime)f(system)i(in)f(order)f(to)i
(perform)d(stand-alone)g(linkage)i(of)g(the)g(program)e(gi)n(v)o(en)h
(by)h Fu(wrapper)p Fv(.)31 b(The)22 b(\002nal)g(result)h(is)208
1445 y Fu(SOME)49 b Fl(l)r Fv(.)0 1660 y(The)31 b(idea)g(is)h(that)g
Fu(project)e Fv(names)h(the)h(library)e(that)h(actually)g(implements)f
(the)i(main)f(program)e(while)i Fu(wrapper)g Fv(names)g(an)0
1760 y(auxiliary)e(wrapper)g(library)g(responsible)h(for)f(issuing)i(a)
g(call)g(of)f Fu(SMLofNJ.exportFn)e Fv(\(generating)g
Fu(target)p Fv(\))h(on)h(behalf)g(of)0 1860 y Fu(project)p
Fv(.)0 2009 y(The)24 b(programmer)d(should)j(normally)e(ne)n(v)o(er)h
(ha)n(v)o(e)h(a)h(need)e(to)i(in)m(v)n(ok)o(e)e Fu(CM.mk)p
2378 2009 V 29 w(standalone)g Fv(directly)-5 b(.)36 b(Instead,)24
b(this)h(function)e(is)0 2109 y(used)d(by)g(an)g(auxiliary)f(script)h
(called)g Fu(ml-build)f Fv(\(see)i(Section)e(14.1\).)0
2380 y Fw(4.1.11)81 b(Finding)20 b(all)h(sour)o(ces)0
2585 y Fv(The)e Fu(CM.sources)e Fv(function)g(can)i(be)g(used)f(to)h
(\002nd)g(the)g(names)f(of)h(all)g(source)f(\002les)i(that)f(a)h(gi)n
(v)o(en)d(library)h(depends)f(on.)24 b(It)c(returns)e(the)0
2685 y(names)e(of)h(all)g(\002les)h(in)m(v)n(olv)o(ed)d(with)i(the)g(e)
o(xception)d(of)j(sk)o(eleton)f(\002les)i(and)e(bin\002les)h(\(see)g
(Section)f(10\).)23 b(Stable)17 b(libraries)g(are)f(represented)0
2784 y(by)k(their)g(library)f(\002le;)i(their)f(description)e(\002le)j
(or)f(consitutent)f(members)g(are)i Ft(not)e Fv(listed.)0
2934 y(Normally)-5 b(,)15 b(the)i(function)e(reports)h(actual)g(\002le)
h(names)g(as)g(used)f(for)g(accessing)h(the)f(\002le)i(system.)24
b(F)o(or)16 b(\(stable\))g(library)f(\002les)j(this)f(beha)n(vior)0
3033 y(can)24 b(be)g(incon)m(v)o(enient)e(because)h(these)i(names)f
(depend)e(on)i(architecture)f(and)h(operating)e(system.)38
b(F)o(or)24 b(this)h(reason,)f Fu(CM.sources)0 3133 y
Fv(accepts)c(an)g(optional)f(pair)h(of)g(strings)g(that)g(then)g(will)h
(be)f(used)g(in)g(place)g(of)g(the)g(architecture-)f(and)g
(OS-speci\002c)h(part)g(of)g(these)h(names.)100 3366
y Fu(val)49 b(sources)f(:)199 3465 y({)i(arch:)f(string,)f(os:)i
(string)e(})i(option)f(->)199 3565 y(string)g(->)199
3664 y({)h(file:)f(string,)f(class:)h(string,)f(derived:)h(bool)g(})g
(list)h(option)0 3897 y Fv(In)21 b(case)h(there)f(w)o(as)i(some)e
(error)g(analyzing)f(the)h(speci\002ed)h(library)e(or)h(group,)f
Fu(CM.sources)h Fv(returns)f Fu(NONE)p Fv(.)i(Otherwise)f(the)h(result)
0 3996 y(is)j(a)g(list)h(of)e(records,)g(each)g(carrying)f(a)i(\002le)g
(name,)g(the)f(corresponding)d(class,)27 b(and)c(information)g(about)g
(whether)g(or)i(not)f(the)g(source)0 4096 y(w)o(as)d(created)e(by)h
(some)g(tool.)0 4246 y(Examples:)0 4478 y Fw(generating)f(\223mak)o
(e\224)h(dependencies:)41 b Fv(T)-7 b(o)26 b(generate)f(dependenc)o(y)e
(information)h(usable)i(by)f(Unix')h Fu(make)f Fv(command,)h(one)f(w)o
(ould)208 4578 y(be)d(interested)g(in)g(all)h(\002les)h(that)e(were)h
(not)f(deri)n(v)o(ed)f(by)h(some)g(tool)g(application.)30
b(Moreo)o(v)o(er)m(,)20 b(one)i(w)o(ould)g(probably)e(lik)o(e)j(to)f
(use)208 4677 y(shell)e(v)n(ariables)g(instead)f(of)h(concrete)f
(architecture-)g(and)g(OS-names:)307 4877 y Fu(Option.map)48
b(\(List.filter)g(\(not)h(o)g(#derived\)\))407 4976 y(\(CM.sources)f
(\(SOME)g({)i(arch)f(=)h("$ARCH",)e(os)i(=)f("$OPSYS")f(}\))656
5076 y("foo.cm"\);)208 5275 y Fv(A)31 b(call)h(of)f Fu(CM.sources)e
Fv(similar)j(to)f(the)g(one)g(sho)n(wn)f(here)g(is)i(used)f(by)g(the)g
(auxiliary)f(script)h Fu(ml-makedepend)e Fv(\(see)208
5375 y(Section)19 b(14.2\).)1968 5709 y(18)p eop
%%Page: 19 20
19 19 bop 0 83 a Fw(\002nding)21 b(all)f Fu(noweb)g Fw(sour)o(ces:)41
b Fv(T)-7 b(o)21 b(\002nd)g(all)g Fu(noweb)g Fv(sources)f(\(see)i
(Section)e(6.2.6\),)g(e.g.,)g(to)h(be)g(able)g(to)g(run)f(the)h
(document)e(prepara-)208 183 y(tion)k(program)f Fu(noweave)h
Fv(on)g(them,)h(one)f(can)h(simply)f(look)g(for)g(entries)g(of)h(the)g
Fu(noweb)f Fv(class.)36 b(Here,)25 b(one)e(w)o(ould)g(probably)208
282 y(w)o(ant)d(to)g(include)f(deri)n(v)o(ed)g(sources:)307
482 y Fu(Option.map)48 b(\(List.filter)g(\(fn)h(x)h(=>)f(#class)g(x)g
(=)h("noweb"\)\))407 581 y(\(CM.sources)e(NONE)h("foo.cm"\);)0
869 y Fr(4.2)99 b(The)26 b(autoloader)0 1074 y Fv(From)20
b(the)g(user')-5 b(s)21 b(point)e(of)h(vie)n(w)-5 b(,)20
b(a)g(call)h(of)f Fu(CM.autoload)f Fv(acts)i(v)o(ery)e(much)g(lik)o(e)i
(the)f(corresponding)d(call)k(of)f Fu(CM.make)f Fv(because)0
1174 y(the)i(same)h(bindings)e(that)h Fu(CM.make)g Fv(w)o(ould)g
(introduce)e(into)i(the)h(top-le)n(v)o(el)e(en)m(viroment)e(are)k(also)
f(introduced)e(by)i Fu(CM.autoload)p Fv(.)0 1273 y(Ho)n(we)n(v)o(er)m
(,)h(most)h(w)o(ork)f(will)i(be)f(deferred)e(until)i(some)g(code)f
(that)h(is)h(entered)e(later)h(refers)f(to)i(one)e(or)h(more)f(of)h
(these)g(bindings.)32 b(Only)0 1373 y(then)20 b(will)h(CM)g(go)e(and)h
(perform)e(just)j(the)f(minimal)g(w)o(ork)f(necessary)h(to)g(pro)o
(vide)e(the)i(actual)g(de\002nitions.)0 1522 y(The)k(autoloader)e
(plays)i(a)h(central)e(role)h(for)g(the)g(interacti)n(v)o(e)f(system.)
37 b(Unlik)o(e)24 b(in)g(earlier)g(v)o(ersions,)g(it)h(cannot)e(be)h
(turned)f(of)n(f)g(since)i(it)0 1622 y(pro)o(vides)18
b(man)o(y)h(of)h(the)h(standard)e(pre-de\002ned)e(top-le)n(v)o(el)i
(bindings.)0 1771 y(The)g(autoloader)f(is)j(a)f(con)m(v)o(enient)d
(mechanism)h(for)h(virtually)g(\223loading\224)f(an)i(entire)f(library)
g(without)g(incurring)e(an)j(undue)e(increase)h(in)0
1871 y(memory)f(consumption)g(for)i(library)f(modules)g(that)h(are)g
(not)g(actually)g(being)f(used.)0 2159 y Fr(4.3)99 b(Sharing)26
b(of)f(state)0 2364 y Fv(Whene)n(v)o(er)14 b(it)i(is)h(le)o(gal)e(to)h
(do)f(so,)i(CM)f(lets)g(multiple)f(in)m(v)n(ocations)f(of)i
Fu(CM.make)f Fv(or)g Fu(CM.autoload)f Fv(share)i(dynamic)e(state)i
(created)f(by)0 2464 y(link-time)i(ef)n(fects.)24 b(Of)18
b(course,)g(sharing)f(is)i(not)f(possible)g(\(and)f(hence)g(not)h
(\223le)o(gal\224\))f(if)h(the)h(compilation)d(unit)i(in)g(question)f
(has)i(recently)0 2563 y(been)g(recompiled)e(or)j(depends)e(on)h
(another)f(compilation)g(unit)h(whose)g(code)g(has)h(recently)e(been)h
(re-e)o(x)o(ecuted.)j(The)d(programmer)e(can)0 2663 y(e)o(xplicitly)26
b(mark)g(certain)g(ML)h(\002les)h(as)f Ft(shar)m(ed)p
Fv(,)h(in)f(which)f(case)i(CM)f(will)h(issue)f(a)g(w)o(arning)f(whene)n
(v)o(er)f(the)i(unit')-5 b(s)26 b(code)h(has)g(to)g(be)0
2763 y(re-e)o(x)o(ecuted.)0 2912 y(State)17 b(created)e(by)g
(compilation)f(units)i(mark)o(ed)f(as)h Ft(private)g
Fv(is)h(ne)n(v)o(er)d(shared)i(across)g(multiple)f(calls)h(to)h
Fu(CM.make)e Fv(or)g Fu(CM.autoload)p Fv(.)0 3012 y(T)-7
b(o)23 b(understand)d(this)j(beha)n(vior)e(it)i(is)g(useful)f(to)h
(introduce)d(the)j(notion)e(of)h(a)h Ft(tr)o(aver)o(sal)p
Fv(.)32 b(A)23 b(tra)n(v)o(ersal)f(is)h(the)f(process)g(of)g(tra)n(v)o
(ersing)g(the)0 3111 y(dependenc)o(y)f(graph)h(on)h(behalf)g(of)h
Fu(CM.make)f Fv(or)g Fu(CM.autoload)p Fv(.)34 b(Se)n(v)o(eral)23
b(tra)n(v)o(ersals)h(can)f(be)h(e)o(x)o(ecuted)e(interlea)n(v)o(ed)g
(with)i(each)0 3211 y(other)19 b(because)g(a)h Fu(CM.autoload)f
Fv(tra)n(v)o(ersal)g(normally)f(stays)j(suspended)d(and)h(is)i
(performed)c(incrementally)h(dri)n(v)o(en)g(by)i(input)f(from)0
3311 y(the)h(interacti)n(v)o(e)f(top)h(le)n(v)o(el)g(loop.)0
3460 y(As)k(f)o(ar)f(as)h(sharing)e(is)i(concerned,)d(the)j(rule)e(is)i
(that)g(during)d(one)i(tra)n(v)o(ersal)f(each)h(compilation)f(unit)g
(will)i(be)f(e)o(x)o(ecuted)f(at)h(most)g(once.)0 3560
y(This)g(means)f(that)h(the)g(same)g(\223program\224)d(will)j(not)g
(see)g(multiple)f(instantiations)g(of)g(the)h(same)g(compilation)e
(unit)h(\(where)g(\223program\224)0 3659 y(refers)h(to)h(the)g(code)f
(managed)f(by)i(one)f(call)h(of)g Fu(CM.make)f Fv(or)g
Fu(CM.autoload)p Fv(\).)34 b(Each)23 b(compilation)f(unit)i(will)g(be)g
(link)o(ed)f(at)i(most)0 3759 y(once)d(during)e(a)j(tra)n(v)o(ersal)f
(and)g(pri)n(v)n(ate)f(state)i(will)h(not)e(be)g(confused)f(with)h(pri)
n(v)n(ate)g(state)h(of)f(other)f(tra)n(v)o(ersals)i(that)f(might)g(be)g
(acti)n(v)o(e)g(at)0 3858 y(the)e(same)h(time.)0 4129
y Fw(4.3.1)81 b(Sharing)20 b(annotations)0 4335 y Fv(ML)c(source)f
(\002les)h(in)g(CM)g(description)f(\002les)h(can)g(be)f(speci\002ed)h
(as)g(being)f Ft(private)g Fv(or)h Ft(shar)m(ed)p Fv(.)22
b(This)16 b(is)h(done)d(by)i(adding)e(a)i Ft(tool)f(par)o(ameter)0
4434 y Fv(speci\002cation)20 b(for)f(the)h(\002le)h(in)g(the)f
(library-)f(or)h(group)f(description)f(\002le)j(\(see)g(Section)f(6\).)
25 b(T)-7 b(o)20 b(mark)g(an)g(ML)g(\002le)h(as)g Ft(private)p
Fv(,)f(follo)n(w)g(the)0 4534 y(\002le)h(name)e(with)i(the)f(w)o(ord)g
Fu(private)f Fv(in)h(parentheses.)k(F)o(or)c Ft(shar)m(ed)g
Fv(ML)g(\002les,)h(replace)e Fu(private)h Fv(with)g Fu(shared)p
Fv(.)0 4683 y(An)29 b(ML)g(source)f(\002le)i(that)f(is)h(not)f
(annotated)e(will)j(typically)e(be)h(treated)g(as)g Ft(shar)m(ed)g
Fv(unless)g(it)h(statically)f(depends)f(on)h(some)f(other)0
4783 y Ft(private)20 b Fv(source.)k(It)d(is)g(an)f(error)m(,)e(check)o
(ed)h(by)h(CM,)h(for)e(a)i Ft(shar)m(ed)f Fv(source)f(to)h(depend)f(on)
h(a)g Ft(private)g Fv(source.)0 5054 y Fw(4.3.2)81 b(Sharing)20
b(with)h(the)f(interacti)o(v)o(e)f(system)0 5259 y Fv(The)i(SML/NJ)h
(interacti)n(v)o(e)f(system,)h(which)f(includes)g(the)g(compiler)m(,)f
(is)j(itself)f(created)f(by)g(linking)g(modules)f(from)h(v)n(arious)f
(libraries.)0 5359 y(Some)h(of)g(these)h(libraries)f(can)g(also)h(be)g
(used)f(in)h(user)f(programs.)27 b(Examples)20 b(are)i(the)f(Standard)g
(ML)g(Basis)i(Library)d Fu($/basis.cm)p Fv(,)0 5459 y(the)g(SML/NJ)h
(library)e Fu($/smlnj-lib.cm)p Fv(,)f(and)i(the)g(ML-Y)-8
b(acc)19 b(library)g Fu($/ml-yacc-lib.cm)p Fv(.)1968
5709 y(19)p eop
%%Page: 20 21
20 20 bop 0 83 a Fv(If)16 b(a)g(module)f(from)g(a)h(library)f(is)i
(used)f(by)g(both)f(the)h(interacti)n(v)o(e)f(system)h(and)f(a)i(user)f
(program)e(running)g(under)g(control)h(of)h(the)g(interacti)n(v)o(e)0
183 y(system,)j(then)g(CM)h(will)g(let)g(them)f(share)g(code)g(and)f
(dynamic)g(state.)25 b(Moreo)o(v)o(er)m(,)17 b(the)i(af)n(fected)f
(portion)g(of)h(the)g(library)f(will)i(ne)n(v)o(er)e(ha)n(v)o(e)0
282 y(to)i(be)g(\223relink)o(ed\224.)0 612 y Fx(5)119
b(V)-12 b(ersion)31 b(numbers)0 848 y Fv(A)23 b(CM)g(library)f(can)g
(carry)g(a)h(v)o(ersion)e(number)-5 b(.)31 b(V)-9 b(ersion)22
b(numbers)f(are)i(speci\002ed)f(in)h(parentheses)e(after)i(the)f(k)o(e)
o(yw)o(ord)f Fu(Library)h Fv(as)0 947 y(non-empty)17
b(dot-separated)h(sequences)i(of)g(non-ne)o(gati)n(v)o(e)c(inte)o
(gers.)24 b(Example:)100 1180 y Fu(Library)48 b(\(1.4.1.4.2.1.3.5\))299
1279 y(structure)g(Sqrt2)100 1379 y(is)299 1479 y(sqrt2.sml)0
1766 y Fr(5.1)99 b(Ho)o(w)24 b(v)o(ersions)h(ar)n(e)g(compar)n(ed)0
1972 y Fv(V)-9 b(ersion)31 b(numbers)e(are)j(compared)d(le)o
(xicographically)-5 b(,)30 b(dot-separated)f(component)g(by)i
(dot-separated)e(component,)j(from)e(left)h(to)0 2071
y(right.)24 b(The)c(components)e(themselv)o(es)i(are)g(compared)e
(numerically)-5 b(.)0 2359 y Fr(5.2)99 b(V)-10 b(ersion)25
b(checking)0 2564 y Fv(An)c(importing)d(library)i(or)g(library)f
(component)f(can)j(specify)f(which)g(v)o(ersion)f(of)h(the)h(imported)e
(library)g(it)j(w)o(ould)d(lik)o(e)i(to)g(see.)27 b(See)21
b(the)0 2664 y(discussion)i(is)h(section)f(6.1.2)f(for)h(ho)n(w)f(this)
i(is)h(done.)33 b(Where)23 b(a)h(v)o(ersion)e(number)f(is)j(requested,)
f(an)g(error)f(is)j(signalled)d(if)i(one)f(of)g(the)0
2763 y(follo)n(wing)c(is)i(true:)125 2996 y Fs(\017)41
b Fv(the)20 b(imported)e(library)h(does)h(not)g(carry)f(a)i(v)o(ersion)
e(number)125 3162 y Fs(\017)41 b Fv(the)20 b(imported)e(library')-5
b(s)20 b(v)o(ersion)f(number)f(is)j(smaller)f(than)g(the)g(one)g
(requested)125 3328 y Fs(\017)41 b Fv(the)21 b(imported)e(library')-5
b(s)20 b(v)o(ersion)g(number)f(has)j(a)f(\002rst)h(component)d(\(kno)n
(wn)g(as)j(the)f(\223major\224)f(v)o(ersion)f(number\))g(that)j(is)g
(greater)208 3428 y(than)d(the)h(one)g(requested)0 3660
y(A)h(w)o(arning)e(\(b)n(ut)i(no)f(error\))f(is)i(issued)g(if)g(the)f
(imported)f(library)g(has)i(the)g(same)f(major)g(v)o(ersion)g(b)n(ut)g
(the)h(v)o(ersion)e(as)i(a)g(whole)f(is)i(greater)0 3760
y(than)e(the)g(one)g(requested.)0 3909 y(Note:)j Ft(V)-9
b(er)o(sion)15 b(number)o(s)g(should)g(be)g(incr)m(emented)g(on)g(e)o
(very)g(c)o(hang)o(e)f(to)i(a)f(libr)o(ary)-5 b(.)24
b(The)16 b(major)f(ver)o(sion)h(number)e(should)h(be)g(incr)m(eased)0
4009 y(on)20 b(e)o(very)g(c)o(hang)o(e)e(that)i(is)i(not)d(bac)n(kwar)m
(d-compatible)o(.)0 4339 y Fx(6)119 b(Member)30 b(classes)f(and)i
(tools)0 4574 y Fv(Most)g(members)e(of)h(groups)f(and)h(libraries)g
(are)g(either)g(plain)g(ML)h(\002les)g(or)f(other)g(description)f
(\002les.)56 b(Ho)n(we)n(v)o(er)m(,)31 b(it)g(is)g(possible)f(to)0
4674 y(incorporate)16 b(other)h(types)h(of)g(\002les\227as)h(long)e(as)
i(their)e(contents)h(can)g(in)g(some)g(w)o(ay)g(be)g(e)o(xpanded)d
(into)j(ML)g(code)f(or)h(CM)h(descriptions.)0 4773 y(The)h(e)o
(xpansion)e(is)j(carried)e(out)h(by)g(CM')-5 b(s)21 b
Ft(tools)g Fv(f)o(acility)-5 b(.)0 4923 y(CM)28 b(maintains)f(an)g
(internal)f(re)o(gistry)g(of)h Ft(classes)h Fv(and)f(associated)g
Ft(rules)p Fv(.)46 b(Each)27 b(class)h(represents)f(the)g(set)h(of)f
(source)f(\002les)i(that)g(its)0 5022 y(corresponding)d(rule)k(is)g
(applicable)f(to.)50 b(F)o(or)29 b(e)o(xample,)g(the)g(class)g
Fu(mlyacc)f Fv(is)i(responsible)d(for)h(\002les)i(that)f(contain)f
(input)f(for)i(the)0 5122 y(parser)22 b(generator)f(ML-Y)-8
b(acc)21 b([T)-8 b(A90)o(].)33 b(The)22 b(rule)g(for)g
Fu(mlyacc)g Fv(tak)o(es)h(care)g(of)f(e)o(xpanding)e(an)j(ML-Y)-8
b(acc)21 b(speci\002cations)h Fu(foo.grm)0 5222 y Fv(by)d(in)m(v)n
(oking)e(the)j(auxiliary)e(program)f Fu(ml-yacc)p Fv(.)24
b(The)19 b(resulting)f(ML)i(\002les)g Fu(foo.grm.sig)e
Fv(and)h Fu(foo.grm.sml)f Fv(are)h(then)g(used)0 5321
y(as)i(if)f(their)g(names)g(had)g(directly)f(been)h(speci\002ed)g(in)g
(place)g(of)g Fu(foo.grm)p Fv(.)1968 5709 y(20)p eop
%%Page: 21 22
21 21 bop 0 83 a Fv(CM)20 b(kno)n(ws)f(a)h(small)h(number)c(of)j(b)n
(uilt-in)f(classes.)26 b(In)19 b(man)o(y)g(situations)g(these)h
(classes)h(will)f(be)g(suf)n(\002cient,)f(b)n(ut)h(in)f(more)g
(complicated)0 183 y(cases)i(it)g(may)f(be)g(w)o(orthwhile)f(to)h(add)g
(a)h(ne)n(w)f(class.)26 b(Since)20 b(class)h(rules)g(are)f(programmed)d
(in)j(ML,)g(adding)f(a)i(class)g(is)g(not)f(as)h(simple)f(a)0
282 y(matter)f(as)h(writing)e(a)i(rule)f(for)i(U)t Fo(N)t(I)t(X)r
Fv(')e Fu(make)g Fv(program)e([Fel79)o(].)25 b(Of)19
b(course,)g(using)g(ML)g(has)g(also)h(adv)n(antages)d(because)i(it)h(k)
o(eeps)f(CM)0 382 y(e)o(xtremely)h(\003e)o(xible)h(in)h(what)f(rules)h
(can)f(do.)29 b(Moreo)o(v)o(er)m(,)18 b(it)23 b(is)f(not)g(necessary)e
(to)i(learn)f(yet)h(another)e(\223little)i(language\224)e(in)i(order)e
(to)i(be)0 482 y(able)e(to)g(program)e(CM')-5 b(s)22
b(tool)e(f)o(acility)-5 b(.)0 621 y(When)20 b(looking)e(at)j(the)f
(member)f(of)g(a)i(description)d(\002le,)j(CM)g(determines)e(which)g
(tool)h(to)g(use)g(by)g(looking)e(at)j(clues)f(lik)o(e)g(the)g(\002le)h
(name)0 720 y(suf)n(\002x.)28 b(Ho)n(we)n(v)o(er)m(,)20
b(it)i(is)g(also)g(possible)f(to)g(specify)g(the)g(class)i(of)e(a)h
(member)e(e)o(xplicitly)-5 b(.)27 b(F)o(or)21 b(this,)h(the)f(member)f
(name)h(is)h(follo)n(wed)e(by)0 820 y(a)h(colon)e Fw(:)25
b Fv(and)20 b(the)g(name)g(of)g(the)g(member)f(class.)25
b(All)c(class)g(names)f(are)g(case-insensiti)n(v)o(e.)0
959 y(In)g(addition)f(to)h(genuine)f(tool)h(classes,)h(there)e(are)i
(four)e(member)f(classes)k(that)e(refer)f(to)i(f)o(acilities)g
(internal)e(to)h(CM:)0 1144 y Fu(sml)41 b Fv(is)21 b(the)f(class)h(of)f
(ordinary)e(ML)j(source)e(\002les.)0 1300 y Fu(cm)41
b Fv(is)21 b(the)f(class)i(of)e(CM)g(library)g(or)f(group)g
(description)g(\002les.)0 1455 y Fu(tool)41 b Fv(is)25
b(the)f(class)h(of)f Ft(plugin)f(tools)p Fv(.)37 b(Its)25
b(purpose)e(is)i(to)f(trigger)f(the)i(loading)d(of)i(an)h(auxiliary)d
(plugin)h(module\227usually)f(with)j(the)208 1555 y(purpose)18
b(of)i(e)o(xtending)e(the)i(set)h(of)f(tool)g(classes)h(that)g(CM)g
(understands.)i(See)d(section)g(11.3)f(for)h(more)f(information.)0
1711 y Fu(suffix)40 b Fv(is)19 b(a)g(class)g(similar)f(to)g
Fu(tool)p Fv(.)24 b(Its)19 b(purpose)d(is)j(to)g(declare)e(additional)g
(\002lename)g(suf)n(\002x)o(es)h(and)f(their)h(associated)g(classes.)25
b(See)208 1810 y(section)20 b(11.3.)0 1995 y(By)29 b(def)o(ault,)h(CM)f
(automatically)e(classi\002es)j(\002les)f(with)g(a)g
Fu(.sml)f Fv(suf)n(\002x,)i(a)f Fu(.sig)f Fv(suf)n(\002x,)i(or)f(a)f
Fu(.fun)h Fv(suf)n(\002x)f(as)h(ML-source,)g(\002le)0
2095 y(names)20 b(ending)f(in)h Fu(.cm)g Fv(as)h(CM)g(descriptions.)j
(F)o(ailure)19 b(to)i(classify)f(a)h(member)e(will)i(be)f(reported)e
(as)j(an)f(error)-5 b(.)0 2367 y Fr(6.1)99 b(T)-9 b(ool)25
b(parameters)0 2562 y Fv(In)c(man)o(y)g(cases)h(the)g(name)f(of)g(the)h
(member)e(that)i(caused)f(a)h(rule)f(to)h(be)f(in)m(v)n(ok)o(ed)f(is)j
(the)e(only)g(input)g(to)h(that)f(rule.)29 b(Ho)n(we)n(v)o(er)m(,)20
b(rules)i(can)0 2662 y(be)g(written)g(in)g(such)g(a)h(w)o(ay)f(that)h
(the)o(y)e(tak)o(e)h(additional)f(parameters.)30 b(Those)21
b(parameters,)h(if)g(present,)g(must)g(be)g(speci\002ed)g(in)h(the)f
(CM)0 2762 y(description)d(\002le)i(between)e(parentheses)g(follo)n
(wing)g(the)h(name)f(of)h(the)g(member)f(and)h(the)g(optional)f(member)
g(class.)0 2901 y(CM')-5 b(s)17 b(core)f(mechanism)f(parses)h(these)h
(tool)f(options)f(and)g(breaks)h(them)g(up)g(into)f(a)i(list)g(of)f
(items,)i(where)d(each)h(item)g(is)i(either)d(a)i(\002lename)0
3000 y(\(i.e.,)h Ft(looks)h Fv(lik)o(e)g(a)g(\002lename\))f(or)h(a)g
(named)f(list)h(of)g(sub-options.)j(Ho)n(we)n(v)o(er)m(,)17
b(CM)j(itself)f(does)g(not)f(interpret)g(the)g(result)h(b)n(ut)g
(passes)g(it)h(on)0 3100 y(to)g(the)h(tool')-5 b(s)20
b(rule)g(function.)j(It)d(is)i(in)e(each)g(rule')-5 b(s)20
b(o)n(wn)g(responsibility)e(to)j(assign)f(meaning)f(to)h(its)h
(options.)0 3239 y(All)h(named)d(sub-option)g(lists)j(\(for)e(an)o(y)g
(class\))i(are)e(speci\002ed)h(by)f(a)i(name)e(string)h(follo)n(wed)e
(by)h(a)i(colon)e Fw(:)26 b Fv(and)21 b(a)g(parenthesized)e(list)j(of)0
3339 y(other)d(tool)h(options.)k(If)c(the)h(list)g(contains)e
(precisely)h(one)f(element,)h(then)f(its)j(parentheses)d(may)g(be)i
(omitted.)0 3595 y Fw(6.1.1)81 b(P)o(arameters)19 b(f)n(or)h(class)h
Fu(sml)0 3790 y Fv(The)29 b Fu(sml)h Fv(class)g(accepts)g(three)f
(optional)f(parameters.)52 b(One)30 b(is)g(the)g Ft(sharing)f
(annotation)e Fv(that)i(w)o(as)i(e)o(xplained)c(earlier)j(\(see)f(Sec-)
0 3890 y(tion)i(4.3\).)57 b(The)31 b(sharing)f(annotation)f(must)i(be)g
(one)g(of)g(the)g(tw)o(o)h(strings)f Fu(shared)f Fv(and)h
Fu(private)p Fv(.)57 b(If)31 b Fu(shared)g Fv(is)h(speci\002ed,)0
3989 y(then)i(dynamic)f(state)i(created)f(by)g(the)g(compilation)f
(unit)h(at)h(link-time)f(must)g(be)h(shared)f(across)g(in)m(v)n
(ocations)f(of)h Fu(CM.make)g Fv(or)0 4089 y Fu(CM.autoload)p
Fv(.)i(The)24 b Fu(private)g Fv(annotation,)f(on)h(the)g(other)g(hand,)
g(means)g(that)g(dynamic)f(state)i(cannot)f(be)g(shared)f(across)i
(such)0 4188 y(calls)c(to)f Fu(CM.make)g Fv(or)g Fu(CM.autoload)p
Fv(.)0 4328 y(The)27 b(second)g(possible)g(parameter)f(for)g(class)j
Fu(sml)e Fv(is)i(a)e(sub-option)f(list)i(labeled)f Fu(setup)g
Fv(and)g(can)g(be)g(used)g(to)h(specify)f(code)f(that)0
4427 y(will)i(be)e(e)o(x)o(ecuted)f(just)j(before)d(and)h(just)i(after)
e(the)h(compiler)e(is)j(in)m(v)n(ok)o(ed)d(for)h(the)h(ML)g(source)f
(\002le.)46 b(Code)26 b(to)h(be)g(e)o(x)o(ecuted)e(before)0
4527 y(compilation)f(is)i(labeled)f Fu(pre)p Fv(,)i(code)d(to)i(be)g(e)
o(x)o(ecuted)d(after)i(compilation)f(is)j(complete)d(is)i(labeled)f
Fu(post)p Fv(;)j(either)d(part)h(is)g(optional.)0 4626
y(Ex)o(ecutable)18 b(code)i(itself)h(is)g(speci\002ed)f(using)f
(strings)i(that)f(contain)f(ML)h(source)g(te)o(xt.)0
4766 y(F)o(or)k(e)o(xample,)h(if)g(one)f(wishes)h(to)g(disable)g(w)o
(arning)e(messages)i(for)f(a)i(speci\002c)f(source)f(\002le)h
Fu(poorlywritten.sml)d Fv(\(b)n(ut)j(not)f(for)0 4865
y(others\),)19 b(then)h(one)f(could)h(write:)100 5061
y Fu(poorlywritten.sml)46 b(\(setup:\(pre:)i("local)h(open)g
(Compiler.Control\\n\\)1644 5161 y(\\)149 b(in)50 b(val)f(w)g(=)h
(!printWarnings)d(before\\n\\)1644 5261 y(\\)697 b(printWarnings)47
b(:=)j(false\\n\\)1644 5360 y(\\)99 b(end;")1395 5460
y(post:"Compiler.Control.printWarnin)o(gs)44 b(:=)49
b(w;"\)\))1968 5709 y Fv(21)p eop
%%Page: 22 23
22 22 bop 0 83 a Fv(Note)20 b(that)g(neither)g(the)g(pre-)f(nor)h(the)g
(post-section)f(will)i(be)f(e)o(x)o(ecuted)e(if)j(the)f(ML)g(\002le)h
(does)f(not)g(need)f(to)i(be)f(compiled.)0 226 y(The)27
b(pre-section)e(is)j(compiled)d(and)i(e)o(x)o(ecuted)e(in)i(the)g
(current)e(tople)n(v)o(el-en)m(vironment)d(while)27 b(the)g
(post-section)f(uses)h(the)g(tople)n(v)o(el-)0 326 y(en)m(vironment)20
b(augmented)g(with)j(de\002nitions)f(from)g(the)g(pre-section.)31
b(After)23 b(the)f(ML)h(\002le)h(has)f(been)f(compiled)f(and)h(the)h
(post-section)0 426 y(\(if)i(present\))g(has)h(completed)d(e)o(x)o
(ecution,)i(de\002nitions)g(made)f(by)h(either)h(section)f(will)h(be)f
(erased.)41 b(This)25 b(means)h(that)f(setup)g(code)g(for)0
525 y(other)19 b(\002les)j Ft(cannot)c Fv(refer)i(to)g(them,)g(and)f
(neither)h(can)g(code)f(that)h(in)h(the)f(future)f(might)g(be)i
(entered)e(at)h(top)g(le)n(v)o(el.)0 669 y(Finally)-5
b(,)21 b(the)g(third)f(possible)h(parameter)e(for)i(class)h
Fu(sml)f Fv(is)h(a)g(sub-option)c(labelled)j Fu(lambdasplit)p
Fv(.)26 b(It)21 b(controls)g(the)g(cross-module)0 768
y(inlining)h(mechanism)f(of)h(SML/NJ.)1082 738 y Fq(7)1139
768 y Fv(The)g(v)n(alue)g(of)g(the)h(option)f(can)g(either)g(be)h(a)g
(non-ne)o(gati)n(v)o(e)c(decimal)j(inte)o(ger)f(or)i(one)f(of)g(the)h
(fol-)0 868 y(lo)n(wing)f(w)o(ords:)30 b Fu(default)p
Fv(,)22 b Fu(on)p Fv(,)h Fu(off)p Fv(,)g(or)g Fu(infinity)p
Fv(.)31 b(The)22 b(ef)n(fect)g(of)h(this)g(parameter)e(also)i(depends)e
(on)i(a)g(system-wide)f(setting)0 968 y(\(accessible)e(via)g(structure)
f Fu(Compiler.Control.LambdaSplitting)p Fv(\))o(.)h(In)f(the)h(follo)n
(wing)e(table,)i(the)g(per)n(-\002le)f Fu(lambdas-)0
1067 y(plit)d Fv(parameter)e(is)j(sho)n(wn)e(at)i(the)f(top)f(and)h
(the)g(system-wide)f(def)o(ault)g(is)i(sho)n(wn)e(on)h(the)g(left)g
(side.)24 b(T)-7 b(able)16 b(entries)g(sho)n(w)g(the)g(combined)0
1167 y(ef)n(fect)21 b(of)f(the)i(tw)o(o:)27 b(-1)21 b(means)g(\223no)f
(inlinable)g(e)o(xports)g(from)g(this)i(\002le\224,)g
Fs(1)f Fv(means)g(\223as)h(man)o(y)e(inlinable)g(e)o(xports)g(as)i
(possible\224,)f(and)f(a)0 1267 y(non-ne)o(gati)n(v)o(e)c(numeric)j(v)n
(alue)h(speci\002es)g(some)g(intermediate)f(\223aggressi)n(v)o
(eness\224)g(of)g(the)i(splitting)f(engine.)p 1656 1504
4 100 v 1673 1504 V 1725 1474 a Fu(default)p 2121 1504
V 98 w(on)p 2327 1504 V 106 w(off)p 2576 1504 V 99 w(infinity)p
3074 1504 V 98 w Fl(n)p 738 1508 2544 4 v 738 1524 V
1459 1594 a Fu(Off)p 1656 1624 4 100 v 1673 1624 V 116
w Fs(\000)p Fk(1)p 2121 1624 V 341 w Fs(\000)p Fk(1)p
2327 1624 V 99 w Fs(\000)p Fk(1)p 2576 1624 V 142 w Fs(\000)p
Fk(1)p 3074 1624 V 391 w Fs(\000)p Fk(1)p 738 1627 2544
4 v 961 1697 a Fu(Default)48 b(NONE)p 1656 1727 4 100
v 1673 1727 V 166 w Fs(\000)p Fk(1)p 2121 1727 V 341
w(0)p 2327 1727 V 164 w Fs(\000)p Fk(1)p 2576 1727 V
142 w Fs(1)p 3074 1727 V 415 w Fl(n)p 738 1730 2544 4
v 788 1800 a Fu(Default)h(\(SOME)g Fl(m)p Fu(\))p 1656
1830 4 100 v 1673 1830 V 116 w Fl(m)p 2121 1830 V 375
w(m)p 2327 1830 V 133 w Fs(\000)p Fk(1)p 2576 1830 V
142 w Fs(1)p 3074 1830 V 415 w Fl(n)0 2058 y Fw(6.1.2)81
b(P)o(arameters)19 b(f)n(or)h(class)h Fu(cm)0 2257 y
Fv(The)26 b Fu(cm)g Fv(class)h(understands)d(tw)o(o)i(kinds)g(of)g
(parameters.)41 b(The)25 b(\002rst)i(is)g(a)g(named)d(parameter)h
(labeled)g(by)h(the)g(string)g Fu(version)p Fv(.)41 b(It)0
2357 y(must)21 b(ha)n(v)o(e)g(the)h(format)e(of)h(a)h(v)o(ersion)e
(number)-5 b(.)27 b(CM)22 b(will)g(interpret)f(this)g(as)i(a)e(v)o
(ersion)g(request,)f(thereby)g(insuring)g(that)i(the)f(imported)0
2457 y(library)e(is)i(not)f(too)g(old)g(or)g(too)g(ne)n(w)-5
b(.)24 b(\(See)c(section)g(5)g(for)g(more)f(on)h(this)h(topic.\))0
2600 y(Example:)100 2812 y Fu(euler.cm)48 b(\(version:2.71828\))100
2911 y(pi.cm)198 b(\(version:3.14159\))0 3123 y Fv(Normally)-5
b(,)28 b(CM)g(looks)f(for)h(stable)g(library)e(\002les)j(in)f
(directory)e Fu(CM/)p Ft(ar)m(c)o(h)p Fu(-)p Ft(os)g
Fv(\(see)i(section)g(10\).)46 b(Ho)n(we)n(v)o(er)m(,)28
b(if)g(an)g(e)o(xplicit)f(v)o(ersion)0 3222 y(has)e(been)f(requested,)g
(it)i(will)f(\002rst)h(try)e(directory)g Fu(CM/)p Ft(ver)o(sion)p
Fu(/)p Ft(ar)m(c)o(h)p Fu(-)p Ft(os)e Fv(before)i(looking)f(at)i(the)g
(def)o(ault)f(location.)37 b(This)25 b(w)o(ay)g(it)h(is)0
3322 y(possible)20 b(to)g(k)o(eep)g(se)n(v)o(eral)f(v)o(ersions)h(of)g
(the)g(same)g(library)f(in)i(the)f(\002le)h(system.)0
3466 y(Ho)n(we)n(v)o(er)m(,)d(CM)i(normally)e(does)i
Ft(not)f Fv(permit)g(the)h(simultaneous)f(use)g(of)h(multiple)f(v)o
(ersions)g(of)g(the)h(same)g(library)f(in)h(one)f(session.)25
b(The)0 3565 y(disambiguating)20 b(rule)i(is)h(that)g(the)f(v)o(ersion)
f(that)h(gets)h(loaded)e(\002rst)i(\223wins\224;)h(subsequent)d
(attempts)h(to)h(load)e(dif)n(ferent)g(v)o(ersions)h(result)0
3665 y(in)e(w)o(arnings)g(or)g(errors.)k(\(See)c(the)g(discussion)g(of)
g Fu(CM.unshare)f Fv(in)h(section)g(4.1.6)f(for)g(ho)n(w)h(to)g(to)h
(circumv)o(ent)d(this)i(restriction.\))0 3808 y(The)k(second)g(kind)g
(of)g(parameter)f(understood)f(by)i Fu(cm)h Fv(is)g(a)g(named)f
(parameter)f(labeled)h(by)g(the)h(string)f Fu(bind)g
Fv(\(see)h(Section)f(3.3\).)37 b(It)0 3908 y(can)19 b(occur)f
(arbitrarily)f(man)o(y)h(times)h(and)f(each)h(occurence)e(must)i(be)g
(a)g(suboption-list)e(of)i(the)g(form)f Fu(\(anchor:)p
Fl(a)48 b Fu(value:)p Fl(v)s Fu(\))p Fv(.)24 b(The)0
4007 y(set)e(of)g Fu(bind)p Fv(-parameters)d(augments)h(the)i(current)e
(anchor)h(en)m(vironment)d(to)k(form)e(the)i(en)m(vironment)d(that)i
(is)i(used)e(while)h(processing)0 4107 y(the)e(contents)g(of)g(the)g
(named)f(CM)i(description)e(\002le.)0 4369 y Fw(6.1.3)81
b(P)o(arameters)19 b(f)n(or)h(classes)h Fu(tool)f Fw(and)h
Fu(suffix)0 4569 y Fv(Class)h Fu(tool)e Fv(\(see)g(the)g(discussion)g
(is)h(section)f(11.3.2\))e(does)i(not)g(accept)g(an)o(y)f(parameters.)0
4712 y(Class)j Fu(suffix)f Fv(\(see)g(section)f(11.3.3\))f(tak)o(es)i
(one)f(mandatory)f(parameter)g(which)h(is)i(either)f(simply)f(a)h
(class)h(name)e(or)h(the)g(same)g(class)0 4812 y(name)f(labeled)f(by)h
Fu(class)p Fv(.)k(Thus,)c(the)g(follo)n(wing)f(tw)o(o)h(lines)h(are)f
(equi)n(v)n(alent:)0 5023 y Fu(ml)49 b(:)h(suffix)f(\(sml\))0
5123 y(ml)g(:)h(suffix)f(\(class:sml\))0 5335 y Fv(There)19
b(are)h(no)g(recognized)e(\002lename)i(suf)n(\002x)o(es)g(for)f(these)i
(tw)o(o)f(classes.)p 0 5382 1608 4 v 90 5437 a Fp(7)120
5460 y Fo(The)c(label)j(is)e(named)h(after)g(the)g(technique)i(\(\223)p
Fj(\025)p Fo(-splitting\224)g([B)n(A97)q(]\))d(used)g(to)g(achie)n(v)o
(e)j(the)e(ef)n(fect)h(of)e(cross-module)h(inlining.)1968
5709 y Fv(22)p eop
%%Page: 23 24
23 23 bop 0 83 a Fr(6.2)99 b(Built-in)26 b(tools)0 289
y Fw(6.2.1)81 b(ML-Y)-7 b(acc)0 494 y Fv(The)28 b(ML-Y)-8
b(acc)27 b(tool)h(is)i(responsible)d(for)g(\002les)j(that)e(are)g
(input)g(to)g(the)h(ML-Y)-8 b(acc)27 b(parser)g(generator)-5
b(.)48 b(Its)29 b(class)g(name)f(is)h Fu(mlyacc)p Fv(.)0
594 y(Recognized)22 b(\002le)i(name)f(suf)n(\002x)o(es)f(are)i
Fu(.grm)f Fv(and)g Fu(.y)p Fv(.)34 b(F)o(or)23 b(a)h(source)e(\002le)i
Fl(f)9 b Fv(,)25 b(the)e(tool)g(produces)f(tw)o(o)h(tar)o(gets)g
Fl(f)9 b Fu(.sig)23 b Fv(and)f Fl(f)9 b Fu(.sml)p Fv(,)0
693 y(both)26 b(of)h(which)f(are)h(al)o(w)o(ays)g(treated)f(as)i(ML)f
(source)f(\002les.)46 b(The)26 b Fu(mlyacc)h Fv(class)h(accepts)e(tw)o
(o)h(optional)f(tool)h(parameters)e(labeled)0 793 y Fu(sigoptions)f
Fv(and)h Fu(smloptions)p Fv(.)39 b(The)o(y)25 b(specify)f(tool)i
(options)e(to)i(be)f(passed)g(on)g(to)h(the)f(generated)f
Fu(.sig)p Fv(-)h(and)g Fu(.sml)p Fv(-\002les,)0 892 y(respecti)n(v)o
(ely)-5 b(.)23 b(Example)736 862 y Fq(8)767 892 y Fv(:)100
1125 y Fu(lang.grm)48 b(\(sigoptions:\(setup:\(pre:"print)c
(\\"compiling)k(lang.grm.sig\\\\n\\";"\)\))598 1225 y
(smloptions:\(private\)\))0 1457 y Fv(The)22 b(tool)h(in)m(v)n(ok)o(es)
e(the)i Fu(ml-yacc)f Fv(command)e(if)j(the)g(tar)o(gets)f(are)g
(\223outdated\224.)30 b(A)24 b(tar)o(get)d(is)j(outdated)d(if)i(it)g
(is)g(missing)g(or)f(older)g(than)0 1557 y(the)e(source.)25
b(Unless)c(anchored)e(using)h(the)g(path)g(anchor)f(mechanism)g(\(see)i
(Section)f(3.3\),)f(the)i(command)d Fu(ml-yacc)i Fv(will)h(be)f
(located)0 1656 y(using)g(the)g(operating)e(system')-5
b(s)21 b(path)f(search)f(mechanism)g(\(e.g.,)g(the)i
Fu($PATH)e Fv(en)m(vironment)f(v)n(ariable\).)0 1927
y Fw(6.2.2)81 b(ML-Lex)0 2133 y Fv(The)16 b(ML-Le)o(x)f(tool)i(go)o(v)o
(erns)d(\002les)k(that)e(are)h(input)f(to)g(the)h(ML-Le)o(x)e(le)o
(xical)h(analyzer)f(generator)g([AMT89)n(].)24 b(Its)17
b(class)h(name)e(is)h Fu(mllex)p Fv(.)0 2232 y(Recognized)25
b(\002le)h(name)g(suf)n(\002x)o(es)f(are)h Fu(.lex)g
Fv(and)g Fu(.l)p Fv(.)43 b(F)o(or)25 b(a)i(source)e(\002le)i
Fl(f)9 b Fv(,)27 b(the)g(tool)e(produces)g(one)g(tar)o(gets)h
Fl(f)9 b Fu(.sml)25 b Fv(which)h(will)0 2332 y(al)o(w)o(ays)21
b(be)f(treated)f(as)i(ML)g(source)e(code.)24 b(T)-7 b(ool)20
b(parameters)f(are)h(passed)g(on)g(without)g(change)f(to)h(that)g
(\002le.)0 2481 y(The)e(tool)f(in)m(v)n(ok)o(es)g(the)i
Fu(ml-lex)e Fv(command)f(if)i(the)g(tar)o(get)f(is)i(outdated)e(\(just)
h(lik)o(e)g(in)h(the)f(case)g(of)g(ML-Y)-8 b(acc\).)23
b(Unless)18 b(anchored)e(using)0 2581 y(the)25 b(path)g(anchor)e
(mechanism)h(\(see)h(Section)g(3.3\),)g(the)g(command)f
Fu(ml-lex)g Fv(will)i(be)f(located)f(using)h(the)g(operating)e(system')
-5 b(s)26 b(path)0 2681 y(search)20 b(mechanism)f(\(e.g.,)g(the)h
Fu($PATH)g Fv(en)m(vironment)d(v)n(ariable\).)0 2951
y Fw(6.2.3)81 b(ML-Bur)o(g)0 3157 y Fv(The)28 b(ML-Bur)o(g)f(tool)h
(deals)h(with)f(\002les)i(that)e(are)h(input)e(to)i(the)f(ML-Bur)o(g)f
(code-generater)e(generator)i([GG93)n(].)50 b(Its)29
b(class)h(name)e(is)0 3257 y Fu(mlburg)p Fv(.)53 b(The)30
b(only)f(recognized)e(\002le)k(name)e(suf)n(\002x)h(is)g
Fu(.burg)p Fv(.)54 b(F)o(or)29 b(a)i(source)e(\002le)h
Fl(f)9 b Fu(.burg)p Fv(,)31 b(the)f(tool)g(produces)e(one)h(tar)o(gets)
0 3356 y Fl(f)9 b Fu(.sml)19 b Fv(which)h(will)g(al)o(w)o(ays)h(be)e
(treated)h(as)g(ML)g(source)f(code.)25 b(An)o(y)19 b(tool)g(parameters)
g(are)h(passed)g(on)f(without)g(change)g(to)h(the)g(tar)o(get.)0
3506 y(The)26 b(tool)g(in)m(v)n(ok)o(es)f(the)h Fu(ml-burg)g
Fv(command)e(if)i(the)g(tar)o(get)g(is)h(outdated.)41
b(Unless)27 b(anchored)d(using)h(the)i(path)e(anchor)g(mechanism)0
3605 y(\(see)g(Section)f(3.3\),)g(the)g(command)f Fu(ml-lex)g
Fv(will)j(be)e(located)g(using)f(the)i(operating)d(system')-5
b(s)25 b(path)f(search)g(mechanism)f(\(e.g.,)i(the)0
3705 y Fu($PATH)20 b Fv(en)m(vironment)d(v)n(ariable\).)0
3976 y Fw(6.2.4)81 b(Shell)0 4181 y Fv(The)23 b(Shell)g(tool)f(can)h
(be)g(used)f(to)i(specify)e(arbitrary)f(shell)i(commands)e(to)j(be)e
(in)m(v)n(ok)o(ed)f(on)i(behalf)f(of)h(a)g(gi)n(v)o(en)e(\002le.)34
b(The)23 b(name)f(of)h(the)0 4281 y(class)d(is)f Fu(shell)p
Fv(.)24 b(There)18 b(are)g(no)g(recognized)f(\002le)i(name)f(suf)n
(\002x)o(es.)24 b(This)18 b(means)h(that)f(in)h(order)e(to)i(use)g(the)
f(shell)h(tool)g(one)f(must)g(al)o(w)o(ays)0 4380 y(specify)i(the)g
Fu(shell)g Fv(member)e(class)k(e)o(xplicitly)-5 b(.)0
4530 y(The)24 b(rule)f(for)h(the)g Fu(shell)g Fv(class)g(relies)h(on)f
(tool)f(parameters.)36 b(The)23 b(parameter)g(list)i(must)f(be)g(gi)n
(v)o(en)f(in)h(parentheses)f(and)g(follo)n(w)h(the)0
4630 y Fu(shell)c Fv(class)h(speci\002cation.)0 4779
y(Consider)f(the)g(follo)n(wing)e(e)o(xample:)100 5011
y Fu(foo.pp)48 b(:)i(shell)f(\(target:foo.sml)e(options:\(shared\))1196
5111 y(/lib/cpp)h(-P)h(-Dbar=baz)f(\045s)i(\045t\))p
0 5164 1608 4 v 90 5220 a Fp(8)120 5243 y Fo(Since)18
b(the)g(generated)h Fm(.sig)p Fo(-\002le)e(contains)i(nothing)g(more)e
(than)h(an)f(ML)f(signature)k(de\002nition,)e(it)g(is)f(typically)j
(not)d(v)o(ery)h(useful)g(to)f(pass)g(an)o(y)h(options)g(to)f(it.)1968
5709 y Fv(23)p eop
%%Page: 24 25
24 24 bop 0 83 a Fv(This)16 b(member)e(speci\002cation)h(says)h(that)g
(\002le)g Fu(foo.sml)f Fv(can)h(be)f(obtained)f(from)h
Fu(foo.pp)g Fv(by)g(running)f(it)i(through)e(the)h(C)i(preprocessor)0
183 y Fu(cpp)p Fv(.)43 b(The)25 b(f)o(act)i(that)f(the)g(tar)o(get)f
(\002le)i(is)g(gi)n(v)o(en)e(as)i(a)f(tool)g(parameter)f(implies)h
(that)g(the)g(member)f(itself)i(is)g(the)f(source.)42
b(The)26 b(named)0 282 y(parameter)18 b Fu(options)h
Fv(lists)i(the)f(tool)f(parameters)f(to)i(be)g(used)f(for)g(that)h(tar)
o(get.)k(\(In)19 b(the)g(e)o(xample,)f(the)i(parentheses)e(around)g
Fu(shared)0 382 y Fv(are)24 b(optional)f(because)g(it)i(is)g(the)f
(only)f(element)h(of)f(the)i(list.\))37 b(The)24 b(command)e(line)i
(itself)g(is)h(gi)n(v)o(en)e(by)h(the)g(remaining)e(non-k)o(e)o(yw)o
(ord)0 482 y(parameters.)h(Here,)c(a)h(single)e Fw(\045s)i
Fv(is)g(replaced)e(by)g(the)h(source)g(\002le)g(name,)g(and)f(a)i
(single)e Fw(\045t)i Fv(is)g(replaced)d(by)i(the)g(tar)o(get)f(\002le)i
(name;)e(an)o(y)0 581 y(other)h(string)h(be)o(ginning)e(with)i
Fw(\045)h Fv(is)g(shortened)e(by)g(its)j(\002rst)f(character)-5
b(.)0 716 y(In)24 b(the)g(speci\002cation)g(one)g(can)g(sw)o(ap)h(the)f
(positions)g(of)g(source)g(and)f(tar)o(get)h(\(i.e.,)h(let)g(the)f
(member)f(name)h(be)g(the)g(tar)o(get\))f(by)h(using)g(a)0
816 y Fu(source)c Fv(parameter:)100 998 y Fu(foo.sml)48
b(:)i(shell)f(\(source:foo.pp)e(options:shared)1245 1098
y(/lib/cpp)i(-P)g(-Dbar=baz)f(\045s)i(\045t\))0 1280
y Fv(Exactly)24 b(one)h(of)f(the)h Fu(source)g Fv(and)f
Fu(target)h Fv(parameters)e(must)i(be)g(speci\002ed;)i(the)e(other)g
(one)f(is)i(tak)o(en)f(to)g(be)g(the)g(member)e(name)0
1379 y(itself.)44 b(The)27 b(tar)o(get)e(class)j(can)e(be)g(gi)n(v)o
(en)g(by)g(writing)g(a)g Fu(class)h Fv(parameter)e(whose)h(single)g
(sub-option)e(must)j(be)f(the)h(desired)f(class)0 1479
y(name.)0 1614 y(The)20 b(usual)g(distinction)f(between)h(nati)n(v)o(e)
f(and)h(standard)f(\002lename)g(syntax)h(applies)g(to)g(an)o(y)g(gi)n
(v)o(en)e Fu(source)i Fv(or)g Fu(target)g Fv(parameter)-5
b(.)0 1749 y(F)o(or)20 b(e)o(xample,)e(if)i(one)g(were)f(w)o(orking)g
(on)g(a)i(W)m(in32)e(system)h(and)f(the)h(tar)o(get)f(\002le)i(is)g
(supposed)e(to)h(be)f(in)i(the)f(root)f(directory)f(on)i(v)n(olume)0
1849 y Fu(D:)p Fv(,)g(then)g(one)f(must)i(use)f(nati)n(v)o(e)f(syntax)h
(to)g(write)h(it.)k(One)20 b(w)o(ay)h(of)f(doing)e(this)j(w)o(ould)f
(be:)100 2031 y Fu("D:\\\\foo.sml")47 b(:)j(shell)f(\(source)f(:)i
(foo.pp)e(options)h(:)g(shared)1544 2131 y(cpp)g(-P)h(-Dbar=baz)e
(\045s)h(\045t\))0 2313 y Fv(As)22 b(a)g(result,)g Fu(foo.sml)f
Fv(is)h(interpreted)e(using)h(nati)n(v)o(e)g(syntax)f(while)i
Fu(foo.pp)f Fv(uses)h(standard)e(con)m(v)o(entions)f(\(although)g(in)j
(this)g(case)0 2412 y(it)f(does)f(not)g(mak)o(e)f(a)i(dif)n(ference\).)
i(Had)d(we)g(used)g(the)g Fu(target)g Fv(v)o(ersion)f(from)g(abo)o(v)o
(e,)f(one)i(w)o(ould)f(ha)n(v)o(e)h(to)g(write:)100 2595
y Fu(foo.pp)48 b(:)i(shell)f(\(target)f(:)i("D:\\\\foo.sml")d(options)i
(:)g(shared)1644 2694 y(cpp)g(-P)h(-Dbar=baz)e(\045s)h(\045t\))0
2876 y Fv(The)20 b(shell)g(tool)g(in)m(v)n(ok)o(es)g(its)h(command)d
(whene)n(v)o(er)g(the)i(tar)o(get)g(is)h(outdated)d(with)j(respect)f
(to)g(the)g(source.)0 3126 y Fw(6.2.5)81 b(Mak)o(e)0
3318 y Fv(The)18 b(Mak)o(e)g(tool)g(\(class)h Fu(make)p
Fv(\))f(can)g(\(almost\))g(be)g(seen)h(as)g(a)g(specialized)f(v)o
(ersion)f(of)h(the)g(Shell)h(tool.)24 b(It)19 b(has)f(no)g(source)g
(and)g(one)f(tar)o(get)0 3417 y(\(the)22 b(member)f(itself\))h(which)f
(is)j(al)o(w)o(ays)e(considered)e(outdated.)30 b(As)23
b(with)f(the)g(Shell)g(tool,)g(it)h(is)g(possible)f(to)g(specify)g(tar)
o(get)f(class)i(and)0 3517 y(parameters)c(using)h(the)g
Fu(class)g Fv(and)f Fu(options)h Fv(k)o(e)o(yw)o(ord)e(parameters.)0
3652 y(The)28 b(tool)g(in)m(v)n(ok)o(es)g(the)g(shell)h(command)e
Fu(make)h Fv(on)g(the)h(tar)o(get.)49 b(Unless)29 b(anchored)d(using)i
(the)h(path)f(anchor)f(mechanism)g(3.3,)j(the)0 3751
y(command)18 b(will)j(be)f(located)g(using)f(the)i(operating)d(system')
-5 b(s)21 b(path)e(search)h(mechanism)f(\(e.g.,)g(the)h
Fu($PATH)g Fv(en)m(vironment)d(v)n(ariable\).)0 3887
y(An)o(y)28 b(parameters)g(other)g(than)g(the)h Fu(class)f
Fv(and)g Fu(options)g Fv(speci\002cations)g(must)h(be)g(plain)f
(strings)h(and)f(are)h(gi)n(v)o(en)e(as)j(additional)0
3986 y(command)18 b(line)i(ar)o(guments)f(to)h Fu(make)p
Fv(.)25 b(The)20 b(tar)o(get)f(name)g(is)j(al)o(w)o(ays)e(the)g(last)h
(command)e(line)h(ar)o(gument.)0 4121 y(Example:)100
4303 y Fu(bar-grm)48 b(:)i(make)f(\(class:mlyacc)e(-f)j(bar-grm.mk\))0
4486 y Fv(Here,)20 b(\002le)h Fu(bar-grm)e Fv(is)i(generated)e(\(and)g
(k)o(ept)h(up-to-date\))e(by)h(in)m(v)n(oking)f(the)i(command:)100
4658 y Fu(make)49 b(-f)g(bar-grm.mk)f(bar-grm)0 4831
y Fv(The)20 b(tar)o(get)f(\002le)i(is)g(then)f(treated)g(as)g(input)g
(for)f Fu(ml-yacc)p Fv(.)0 4966 y(Cascading)24 b(Shell-)g(and)f(Mak)o
(e-tools)g(is)i(easily)f(possible.)37 b(Here)24 b(is)h(an)f(e)o(xample)
e(that)j(\002rst)g(uses)f(Mak)o(e)g(to)g(b)n(uild)g Fu(bar.pp)f
Fv(and)h(then)0 5066 y(\002lters)d(the)f(contens)f(of)h
Fu(bar.pp)g Fv(through)e(the)i(C)h(preprocessor)d(to)j(arri)n(v)o(e)e
(at)h Fu(bar.sml)p Fv(:)100 5248 y Fu(bar.pp)48 b(:)i(make)f
(\(class:shell)1046 5348 y(options:\(target:bar.sml)d(cpp)j(-Dbar=baz)f
(\045s)h(\045t\))847 5447 y(-f)g(bar-pp.mk\))1968 5709
y Fv(24)p eop
%%Page: 25 26
25 25 bop 0 83 a Fw(6.2.6)81 b(No)o(web)0 285 y Fv(The)21
b Fu(noweb)g Fv(class)i(handles)e(sources)g(written)g(for)g(Ramse)o(y')
-5 b(s)22 b Ft(noweb)f Fv(literate)g(programming)d(f)o(acility)k
([Ram94)n(].)30 b(Files)22 b(ending)e(with)0 385 y(suf)n(\002x)g
Fu(.nw)g Fv(are)g(automatically)f(recognized)f(as)j(belonging)d(to)i
(this)h(class.)0 530 y(The)f(list)h(of)f(tar)o(gets)f(that)h(are)g(to)g
(be)g(e)o(xtracted)f(from)g(a)h(no)n(web)f(\002le)i(must)f(be)g
(speci\002ed)f(using)h(tool)g(options.)k(A)c(tar)o(get)f(can)h(then)g
(ha)n(v)o(e)f(a)0 630 y(v)n(ariety)g(of)h(its)h(o)n(wn)f(options.)k
(Each)c(tar)o(get)f(is)i(speci\002ed)f(by)g(a)g(separate)g(tool)g
(option)f(labelled)g Fu(target)p Fv(.)25 b(The)20 b(option)f(usually)g
(has)i(the)0 730 y(form)e(of)h(a)h(sub-option)d(list.)26
b(Recognized)18 b(sub-options)h(are:)0 950 y Fw(name)41
b Fv(the)20 b(name)g(of)g(the)g(tar)o(get)0 1112 y Fw(r)o(oot)40
b Fv(the)21 b(\(optional\))e(root)i(tag)g(for)f(the)i(tar)o(get)e(\(gi)
n(v)o(en)g(to)h(the)g Fu(-R)h Fv(command)d(line)i(switch)h(for)e(the)h
Fu(notangle)g Fv(command\);)e(if)j Fu(root)208 1212 y
Fv(is)f(missing,)f Fu(name)g Fv(is)h(used)f(instead)0
1374 y Fw(class)42 b Fv(the)20 b(\(optional\))e(class)j(of)f(the)g(tar)
o(get)0 1537 y Fw(options)41 b Fv(\(optional\))18 b(options)h(for)h
(the)g(tool)g(that)g(handles)g(the)g(tar)o(get')-5 b(s)20
b(class)0 1699 y Fw(linef)n(ormat)40 b Fv(a)21 b(string)e(that)i(will)g
(be)f(passed)g(to)g(the)g Fu(-L)h Fv(command)d(line)i(option)f(of)h
Fu(notangle)0 1919 y Fv(Example:)100 2139 y Fu(project.nw)48
b(\(target:\(name:main.sml)d(options:\(private\)\))697
2238 y(target:\(name:grammar)h(class:mlyacc\))697 2338
y(target:\(name:parse.sml\)\))0 2558 y Fv(In)30 b(place)h(of)f(the)h
(sub-option)e(list)i(there)g(can)f(be)h(a)g(single)g(string)f(option)f
(which)i(will)g(be)g(used)f(for)g Fu(name)h Fv(or)f(e)n(v)o(en)g(an)h
(unnamed)0 2657 y(parameter)16 b(\(i.e.,)h(without)f(the)h
Fu(target)g Fv(label\).)23 b(If)17 b(no)g(tar)o(gets)f(are)h
(speci\002ed,)g(the)g(tool)g(will)h(assume)f(tw)o(o)g(def)o(ault)g(tar)
o(gets)f(by)h(stripping)0 2757 y(the)j Fu(.nw)g Fv(suf)n(\002x)g(\(if)g
(present\))f(from)h(the)g(source)f(name)h(and)g(adding)e
Fu(.sig)i Fv(as)h(well)g(as)g Fu(.sml)p Fv(.)0 2903 y(The)f(follo)n
(wing)e(four)h(e)o(xamples)h(are)g(all)g(equi)n(v)n(alent:)100
3123 y Fu(foo.nw)48 b(\(target:\(name:foo.sig\))e
(target:\(name:foo.sml\)\))100 3222 y(foo.nw)i(\(target:foo.sig)f
(target:foo.sml\))100 3322 y(foo.nw)h(\(foo.sig)h(foo.sml\))100
3422 y(foo.nw)0 3642 y Fv(If)23 b Fu(lineformat)e Fv(is)j(missing,)f
(then)g(a)g(def)o(ault)f(based)h(on)f(the)h(tar)o(get)f(class)i(is)g
(used.)33 b(Currently)21 b(only)h(the)h Fu(sml)g Fv(and)g
Fu(cm)g Fv(classes)h(are)0 3741 y(kno)n(wn)19 b(to)i(CM;)h(other)e
(classes)h(can)g(be)g(added)e(or)i(remo)o(v)o(ed)d(by)i(using)g(the)h
Fu(NowebTool.lineNumbering)c Fv(controller)i(function)0
3841 y(e)o(xported)f(from)h(library)g Fu($/noweb-tool.cm)p
Fv(:)100 4061 y Fu(val)49 b(lineNumbering:)e(string)i(->)g({)h(get:)f
(unit)g(->)g(string)g(option,)1644 4160 y(set:)g(string)g(option)f(->)i
(unit)f(})0 4380 y Fv(The)20 b Fu(noweb)g Fv(class)h(accepts)f(tw)o(o)g
(other)g(parameter)e(besides)j Fu(target)p Fv(:)0 4600
y Fw(subdir)42 b Fv(speci\002es)24 b(a)g(sub-option)d(that)j(is)g(used)
g(to)f(specify)g(a)h(directory)e(where)g(deri)n(v)o(ed)g(\002les)j
(\(i.e.,)e(tar)o(get)g(\002les)h(and)f(witness)h(\002les)h(as)208
4700 y(f)o(ar)e(as)i(the)o(y)e(ha)n(v)o(e)g(been)g(speci\002ed)h(using)
f(relati)n(v)o(e)g(path)g(names\))g(are)h(created.)35
b(If)24 b(the)g Fu(subdir)f Fv(option)f(is)j(missing,)f(its)h(v)n(alue)
208 4799 y(def)o(aults)19 b(to)i Fu(NW)p Fv(.)0 4962
y Fw(witness)42 b Fv(speci\002es)25 b(an)g(auxiliary)e(deri)n(v)o(ed)g
(\002le)j(whose)e(time)h(stamp)g(is)g(used)g(by)f(CM)i(to)f(a)n(v)n
(oid)f(recompiling)f(e)o(xtracted)g(\002les)j(whose)208
5061 y(contents)15 b(ha)n(v)o(e)h(not)g(changed.)22 b(If)16
b Fu(witness)g Fv(has)g(not)h(been)e(speci\002ed,)i(then)f(CM)h(uses)g
(time)f(stamps)h(on)f(e)o(xtracted)f(\002les)i(directly)208
5161 y(to)i(determine)f(whether)h Fu(notangle)f Fv(needs)i(to)f(be)h
(run.)k(Thus,)19 b(with)h(no)f(witness,)h(an)o(y)e(change)h(to)g(the)h
(master)f(\002le)i(causes)e(time)208 5261 y(stamps)25
b(on)g(all)g(e)o(xtracted)f(\002les)i(to)f(be)h(updated)d(as)j(well.)40
b(If)25 b(a)h(witness)g(w)o(as)g(speci\002ed,)f(then)g(CM)h(will)g
(write)f(o)o(v)o(er)f(e)o(xtracted)208 5360 y(\002les,)c(causing)g
(their)f(time)i(stamps)f(to)g(change,)e(only)i(if)g(their)g(contents)f
(ha)n(v)o(e)g(also)i(changed.)i(The)d Fu(subdir)f Fv(speci\002cation)g
(also)208 5460 y(applies)h(to)g(the)g(name)g(of)g(the)g(witness)h
(\002le.)1968 5709 y(25)p eop
%%Page: 26 27
26 26 bop 0 83 a Fv(Example:)100 312 y Fu(foo.nw)48 b
(\(subdir:NOWEBFILES)498 412 y(witness:foo.wtn)498 511
y(target:\(name:main.sml\)\))0 740 y Fv(Here,)20 b(the)g(\002les)h
(named)e Fu(main.sml)h Fv(and)f Fu(foo.wtn)h Fv(will)h(be)f(created)f
(as)100 953 y Fu(NOWEBFILES/main.sml)100 1053 y(NOWEBFILES/foo.wtn)0
1265 y Fv(while)h(without)g(the)g Fu(subdir)p Fv(-option)d(it)k(w)o
(ould)f(ha)n(v)o(e)f(been)100 1478 y Fu(NW/main.sml)100
1578 y(NW/foo.wtn)0 1791 y Fv(T)-7 b(o)20 b(a)n(v)n(oid)g(the)g
(creation)g(of)g(such)f(a)i(sub-directory)-5 b(,)17 b(one)j(can)g(use)g
(the)g Ft(curr)m(ent)g(ar)m(c)h Fv(\223)p Fw(.)p Fv(\224)k(and)19
b(write:)100 2004 y Fu(foo.nw)48 b(\(subdir:.)498 2103
y(witness:foo.wtn)498 2203 y(target:\(name:main.sml\)\))0
2472 y Fw(6.2.7)81 b(Dir)0 2677 y Fv(Using)20 b(the)g(Dir)h(tool)f(one)
f(can)h(use)h(directory)d(names)i(in)g(description)f(\002les.)26
b(There)19 b(are)h(tw)o(o)h(possible)f(uses)h(for)e(the)h(Dir)h(tool:)
104 2906 y(1.)41 b(F)o(actoring)18 b(out)i(common)e(directory)h(names.)
104 3071 y(2.)41 b(Scanning)18 b(the)j(contents)e(of)h(directories)f
(for)h(\002les)h(with)f(ML)g(code.)0 3340 y Fw(Dir)o(ectory)f
(factoring:)81 b Fv(The)20 b(main)h(purpose)e(of)i(the)g(Dir)g(tool)g
(\(class)g Fu(dir)p Fv(\))g(is)h(to)f(simplify)f(CM)i(descriptions)d
(that)j(mention)d(a)j(lar)o(ge)0 3440 y(number)c(of)i(\002les)h(all)g
(of)f(which)g(are)g(located)f(in)i(in)f(the)g(same)h(directory)-5
b(.)23 b(F)o(or)c(this)i(style)g(of)f(usage,)f(tool)h(options)f(ha)n(v)
o(e)h(to)g(be)g(speci\002ed.)0 3588 y(F)o(or)g(e)o(xample,)e(writing)0
3817 y Fu(Group)49 b(is)100 3917 y(long/directory/name)d(:)k(dir)f
(\(a.sml)f(b/c.sml)h(d.sml\))0 4146 y Fv(is)21 b(equi)n(v)n(alent)e(to)
h(the)g(follo)n(wing)f(v)o(erbose)f(description:)0 4375
y Fu(Group)49 b(is)100 4474 y(long/directory/name/a.sml)100
4574 y(long/directory/name/b/c.sml)100 4674 y
(long/directory/name/d.sml)0 4902 y Fv(Since)20 b(CM)h(automatically)e
(classi\002es)i(directory)e(names)h(as)h(members)e(of)h(class)h
Fu(dir)p Fv(,)f(the)g(e)o(xample)f(can)h(be)g(further)f(simpli\002ed:)0
5131 y Fu(Group)49 b(is)100 5231 y(long/directory/name)d(\(a.sml)j
(b/c.sml)f(d.sml\))0 5460 y Fv(Options)20 b(for)f(class)i
Fu(dir)g Fv(consist)f(of)g(a)g(list)i(of)e(items,)g(each)g(item)g(ha)n
(ving)f(one)h(of)g(tw)o(o)g(possible)g(forms:)1968 5709
y(26)p eop
%%Page: 27 28
27 27 bop 104 83 a Fv(1.)41 b(The)18 b(item)g(can)g(be)g(a)h
(sub-option)d(list)k(of)e(the)g(form)f Fu(member:\()p
Fl(m)49 b Fu(class:)p Fl(c)f Fu(options:)p Fl(o)p Fu(\))18
b Fv(which)f(emulates)h(an)h(ordinary)208 183 y(member)f
(speci\002cation)g(with)i(class)g(and)f(options.)k(The)c
Fu(class)p Fv(-)g(and)g Fu(options)p Fv(-\002elds)f(may)h
(\(independently)d(of)j(each)g(other\))208 282 y(be)h(missing,)g(b)n
(ut)g(the)g(order)f(of)h(\002elds)g(that)h(are)f(present)f(is)j(\002x)o
(ed.)104 448 y(2.)41 b(The)20 b(item)i(can)f(be)g(a)g(simple)g(name)g
(\(as)g(sho)n(wn)g(in)g(the)g(e)o(xample\).)26 b(Such)21
b(a)h(simple)f(name)f Fl(m)i Fv(is)g(equi)n(v)n(alent)d(to)j(the)f
(longer)f(form)208 548 y Fu(member:\()p Fl(m)p Fu(\))p
Fv(.)0 780 y(Members)f Fl(m)i Fv(must)f(al)o(w)o(ays)h(be)f
(speci\002ed)g(using)g Ft(r)m(elative)g Fv(path)g(names.)0
930 y(F)o(or)g(e)o(xample,)e(the)j(description)0 1162
y Fu(Group)49 b(is)100 1262 y(alpha/a.sml)e(\(private\))100
1362 y(alpha/b.ml)h(:)h(sml)g(\(shared\))100 1461 y(alpha/c.cm)100
1561 y(beta/d.sml)100 1660 y(beta/e.sml)0 1893 y Fv(can)20
b(be)g(simpli\002ed)g(as:)0 2125 y Fu(Group)49 b(is)100
2225 y(alpha)g(\(member:\(a.sml)e(options:private\))448
2325 y(member:\(b.ml)h(class:sml)g(options:shared\))448
2424 y(c.cm\))100 2524 y(beta)h(\(d.sml)f(e.sml\))0 2795
y Fw(Dir)o(ectory)19 b(scanning:)83 b Fv(Another)19 b(use)j(of)f(the)g
(Dir)g(tool,)g(indicated)f(by)g(the)i(absence)e(of)h(tool)g(options,)f
(is)i(to)f(include)f(all)i(ML)f(code)f(in)0 2894 y(a)h(gi)n(v)o(en)e
(directory)f(\223whole-sale)h(style\224.)25 b(F)o(or)20
b(e)o(xample,)f(a)h(member)f(of)h(the)g(form)100 3127
y Fu(projects/ml/foo)47 b(:)i(dir)0 3359 y Fv(lets)23
b(CM)f(scan)g(the)f(contents)g(of)h(directory)d Fu(projects/ml/foo)h
Fv(and)h(proceed)f(as)i(if)g(a)g(list)h(of)e(all)h(disco)o(v)o(ered)e
(ML)i(\002les)g(had)f(been)0 3459 y(written)e(in)g(place)g(of)g(the)g
Fu(dir)g Fv(member)-5 b(.)24 b(F)o(or)19 b(this,)h(the)f(usual)g
(classi\002cation)g(mechanism)f(is)i(used)f(to)g(decide)g(which)f
(directory)g(entries)0 3559 y(are)i(to)g(be)h(considered)d(\002les)j
(containing)d(ML)j(code.)0 3708 y(As)f(before,)d(the)i(e)o(xample)f
(could)g(be)h(further)e(simpli\002ed)i(by)f(omitting)g(the)h(class)h
(name.)k(Thus,)18 b(a)i(v)o(ery)e(quick)g(w)o(ay)h(of)f(putting)g
(together)0 3808 y(a)j(small)f(project)g(is)h(to)f(use)g(a)h(generic)e
(description)g(\002le)i(of)f(the)g(form:)0 4040 y Fu(Group)49
b(is)g($/basis.cm)f(.)0 4273 y Fv(As)21 b(usual,)f(the)g(dot)f(denotes)
h(the)g(current)f(directory)-5 b(.)22 b(Therefore,)c(CM)j(will)g(scan)f
(the)g(current)f(directory)f(and)i(include)f(an)o(y)g(ML)h(code)g(it)0
4372 y(\002nds)g(there.)25 b(\(Library)18 b Fu($/basis.cm)h
Fv(is)i(necessary)f(for)f(most)h(non-tri)n(vial)f(programs,)f(so)i(we)h
(included)d(it)j(also.\))0 4522 y(This)j(is)h(decepti)n(v)o(ely)e
(simple,)h(b)n(ut)h(be)f(w)o(arned:)32 b(The)24 b(technique)e(of)i
(letting)g(CM)h(scan)f(the)g(physical)f(directory)g(is)i(to)f(be)g(a)n
(v)n(oided)f(for)0 4621 y(an)o(y)f(serious)h(project)g(because)f(it)i
(is)g(v)o(ery)f(fragile.)33 b(It)23 b(does)g(not)g(mix)g(well)h(with)f
(the)h(use)f(of)g(other)g(tools,)g(it)h(will)g(break)e(when)h(certain)0
4721 y(otherwise)g(unrelated)e(ML)i(\002les)i(are)e(present,)g(and)f
(so)i(on,)f(and)g(so)g(forth.)33 b(In)23 b(short,)g(for)g(serious)f
(programming)e(the)j(Dir)h(tool)f(should)0 4820 y(not)d(be)g(used)g
(without)f(specifying)g(options.)1968 5709 y(27)p eop
%%Page: 28 29
28 28 bop 0 83 a Fx(7)119 b(Conditional)32 b(compilation)0
318 y Fv(In)27 b(its)h(description)e(\002les,)k(CM)e(of)n(fers)e(a)i
(simple)f(conditional)e(compilation)h(f)o(acility)h(inspired)f(by)h
(the)g(preprocessor)e(for)i(the)g(C)h(lan-)0 418 y(guage)22
b([KR88)o(].)33 b(Ho)n(we)n(v)o(er)m(,)22 b(it)h(is)h(not)f(really)f(a)
i Ft(pr)m(e)p Fv(-processor)m(,)d(and)h(the)h(syntax)f(of)h(the)g
(controlling)e(e)o(xpressions)g(is)j(borro)n(wed)d(from)0
518 y(SML.)0 667 y(Sequences)c(of)g(members)f(can)i(be)f(guarded)f(by)h
Fu(#if)p Fv(-)p Fu(#endif)f Fv(brack)o(ets)h(with)g(optional)g
Fu(#elif)g Fv(and)g Fu(#else)g Fv(lines)h(in)g(between.)23
b(The)0 767 y(same)c(guarding)d(syntax)i(can)g(also)h(be)f(used)g(to)h
(conditionalize)d(the)j(e)o(xport)e(list.)25 b Fu(#if)p
Fv(-,)19 b Fu(#elif)p Fv(-,)e Fu(#else)p Fv(-,)h(and)g
Fu(#endif)p Fv(-lines)g(must)0 866 y(start)j(in)g(the)g(\002rst)g
(column)e(and)h(al)o(w)o(ays)h(e)o(xtend)f(to)g(the)h(end)f(of)g(the)h
(current)e(line.)27 b Fu(#if)20 b Fv(and)g Fu(#elif)g
Fv(must)h(be)g(follo)n(wed)e(by)h(a)h(boolean)0 966 y(e)o(xpression.)0
1115 y(Boolean)26 b(e)o(xpressions)f(can)h(be)g(formed)f(by)h
(comparing)e(arithmetic)h(e)o(xpressions)g(\(using)h(operators)f
Fu(<)p Fv(,)j Fu(<=)p Fv(,)g Fu(=)p Fv(,)g Fu(>=)p Fv(,)f
Fu(>)p Fv(,)h(or)e Fu(<>)p Fv(\),)i(by)0 1215 y(logically)i(combining)f
(tw)o(o)i(other)g(boolean)e(e)o(xpressions)h(\(using)g(operators)g
Fu(andalso)p Fv(,)j Fu(orelse)p Fv(,)g Fu(=)p Fv(,)h(or)c
Fu(<>)p Fv(,)k(by)d(querying)e(the)0 1315 y(e)o(xistence)19
b(of)h(a)h(CM)g(symbol)e(de\002nition,)g(or)h(by)g(querying)e(the)i(e)o
(xistence)f(of)h(an)g(e)o(xported)e(ML)j(de\002nition.)0
1464 y(Arithmetic)d(e)o(xpressions)g(can)h(be)g(numbers)f(or)h
(references)f(to)h(CM)h(symbols,)f(or)f(can)h(be)g(formed)f(from)g
(other)g(arithmetic)h(e)o(xpressions)0 1564 y(using)h(operators)e
Fu(+)p Fv(,)j Fu(-)f Fv(\(subtraction\),)e Fu(*)p Fv(,)i
Fu(div)p Fv(,)g Fu(mod)p Fv(,)g(or)10 b Fk(~)g Fv(\(unary)18
b(minus\).)24 b(All)d(arithmetic)e(is)j(done)d(on)h(signed)f(inte)o
(gers.)0 1713 y(An)o(y)g(e)o(xpression)g(\(arithmetic)g(or)h(boolean\))
e(can)i(be)g(surrounded)e(by)h(parentheses)g(to)i(enforce)d
(precedence.)0 2001 y Fr(7.1)99 b(CM)25 b(v)o(ariables)0
2206 y Fv(CM)e(pro)o(vides)d(a)i(number)f(of)g(\223v)n(ariables\224)g
(\(names)h(that)g(stand)f(for)h(certain)f(inte)o(gers\).)29
b(These)22 b(v)n(ariables)f(may)h(appear)f(in)h(e)o(xpressions)0
2306 y(of)d(the)h(conditional-compilation)15 b(f)o(acility)-5
b(.)25 b(The)19 b(e)o(xact)g(set)i(of)e(v)n(ariables)g(pro)o(vided)e
(depends)h(on)i(SML/NJ)g(v)o(ersion)e(number)m(,)g(machine)0
2405 y(architecture,)g(and)h(operating)f(system.)25 b(A)20
b(reference)e(to)i(a)g(CM)h(v)n(ariable)d(is)j(considered)d(an)i
(arithmetic)f(e)o(xpression.)k(If)c(the)h(v)n(ariable)f(is)0
2505 y(not)h(de\002ned,)g(then)g(it)h(e)n(v)n(aluates)f(to)g(0.)26
b(The)20 b(e)o(xpression)f Fu(defined)p Fv(\()p Fl(v)s
Fv(\))h(is)h(a)g(boolean)e(e)o(xpression)g(that)h(yields)h(true)f(if)h
(and)f(only)g(if)g Fl(v)25 b Fv(is)0 2605 y(a)c(de\002ned)e(CM)i(v)n
(ariable.)0 2754 y(The)c(names)f(of)h(CM)g(v)n(ariables)f(are)h(formed)
e(starting)i(with)g(a)g(letter)g(follo)n(wed)f(by)g(zero)g(or)h(more)f
(occurences)f(of)i(letters,)g(decimal)g(digits,)0 2854
y(apostrophes,)h(or)i(underscores.)0 3003 y(The)g(follo)n(wing)e(v)n
(ariables)i(will)h(be)f(de\002ned)f(and)h(bound)e(to)i(1:)125
3219 y Fs(\017)41 b Fv(depending)17 b(on)j(the)g(operating)e(system:)
208 3319 y Fu(OPSYS)p 463 3319 25 4 v 29 w(UNIX)p Fv(,)h
Fu(OPSYS)p 982 3319 V 29 w(WIN32)p Fv(,)h Fu(OPSYS)p
1552 3319 V 29 w(MACOS)p Fv(,)f Fu(OPSYS)p 2121 3319
V 29 w(OS2)p Fv(,)h(or)g Fu(OPSYS)p 2681 3319 V 29 w(BEOS)125
3485 y Fs(\017)41 b Fv(depending)17 b(on)j(processor)f(architecture:)
208 3584 y Fu(ARCH)p 413 3584 V 29 w(SPARC)p Fv(,)g Fu(ARCH)p
932 3584 V 29 w(ALPHA)p Fv(,)h Fu(ARCH)p 1452 3584 V
29 w(MIPS)p Fv(,)g Fu(ARCH)p 1922 3584 V 29 w(X86)p Fv(,)g
Fu(ARCH)p 2342 3584 V 29 w(HPPA)p Fv(,)g Fu(ARCH)p 2812
3584 V 29 w(RS6000)p Fv(,)f(or)h Fu(ARCH)p 3471 3584
V 29 w(PPC)125 3750 y Fs(\017)41 b Fv(depending)17 b(on)j(the)g
(processor')-5 b(s)19 b(endianness:)25 b Fu(BIG)p 1763
3750 V 29 w(ENDIAN)20 b Fv(or)f Fu(LITTLE)p 2501 3750
V 29 w(ENDIAN)125 3916 y Fs(\017)41 b Fv(depending)17
b(on)j(the)g(nati)n(v)o(e)g(w)o(ord)f(size)i(of)f(the)g
(implementation:)j Fu(SIZE)p 2348 3916 V 29 w(32)e Fv(or)e
Fu(SIZE)p 2787 3916 V 30 w(64)125 4082 y Fs(\017)41 b
Fv(the)20 b(symbol)f Fu(NEW)p 750 4082 V 29 w(CM)0 4298
y Fv(Furthermore,)29 b(the)g(symbol)f Fu(SMLNJ)p 1128
4298 V 29 w(VERSION)g Fv(will)i(be)f(bound)e(to)j(the)f(major)f(v)o
(ersion)g(number)f(of)i(SML/NJ)h(\(i.e.,)g(the)f(number)0
4398 y(before)19 b(the)h(\002rst)g(dot\))g(and)f Fu(SMLNJ)p
1054 4398 V 29 w(MINOR)p 1333 4398 V 29 w(VERSION)g Fv(will)i(be)f
(bound)e(to)i(the)g(system')-5 b(s)21 b(minor)e(v)o(ersion)g(number)f
(\(i.e.,)h(the)h(number)0 4498 y(after)g(the)g(\002rst)h(dot\).)0
4647 y(Using)f(the)g Fu(CM.symval)f Fv(interf)o(ace)h(one)f(can)h
(de\002ne)g(additional)f(v)n(ariables)g(or)h(modify)f(e)o(xisting)g
(ones.)0 4934 y Fr(7.2)99 b(Querying)25 b(exported)h(de\002nitions)0
5140 y Fv(An)d(e)o(xpression)f(of)h(the)h(form)e Fu(defined)p
Fv(\()p Fl(n)g(s)p Fv(\),)i(where)f Fl(s)h Fv(is)g(an)g(ML)f(symbol)g
(and)f Fl(n)i Fv(is)h(an)e(ML)g(namespace)g(speci\002er)m(,)g(is)h(a)g
(boolean)0 5240 y(e)o(xpression)17 b(that)i(yields)g(true)f(if)h(and)f
(only)g(if)h(an)o(y)f(member)g(included)f(before)g(this)i(test)h(e)o
(xports)e(a)h(de\002nition)e(under)h(this)h(name.)24
b(There-)0 5339 y(fore,)19 b(order)f(among)g(members)g(matters)h(after)
g(all)h(\(b)n(ut)f(it)i(remains)d(unrelated)g(to)i(the)f(problem)f(of)h
(determining)e(static)j(dependencies\)!)0 5439 y(The)g(namespace)f
(speci\002er)h(must)g(be)g(one)g(of:)25 b Fu(structure)p
Fv(,)19 b Fu(signature)p Fv(,)f Fu(functor)p Fv(,)i(or)g
Fu(funsig)p Fv(.)1968 5709 y(28)p eop
%%Page: 29 30
29 29 bop 0 83 a Fv(If)25 b(the)g(query)e(tak)o(es)i(place)g(in)g(the)g
(\223e)o(xports\224)e(section)i(of)g(a)g(description)e(\002le,)k(then)d
(it)i(yields)f(true)f(if)h Ft(any)g Fv(of)f(the)h(included)f(members)0
183 y(e)o(xports)19 b(the)h(named)f(symbol.)0 330 y(Example:)100
556 y Fu(Library)299 655 y(structure)48 b(Foo)100 755
y(#if)h(defined\(structure)e(Bar\))299 854 y(structure)h(Bar)100
954 y(#endif)100 1054 y(is)100 1153 y(#if)h(SMLNJ_VERSION)e(>)j(110)299
1253 y(new-foo.sml)100 1353 y(#else)299 1452 y(old-foo.sml)100
1552 y(#endif)100 1651 y(#if)f(defined\(structure)e(Bar\))299
1751 y(bar-client.sml)100 1851 y(#else)299 1950 y(no-bar-so-far.sml)100
2050 y(#endif)0 2275 y Fv(Here,)22 b(the)f(\002le)i Fu(bar-client.sml)c
Fv(gets)j(included)e(if)i Fu(SMLNJ)p 1968 2275 25 4 v
29 w(VERSION)f Fv(is)i(greater)e(than)g(110)f(and)i Fu(new-foo.sml)e
Fv(e)o(xports)g(a)0 2375 y(structure)j Fu(Bar)i Ft(or)f
Fv(if)h Fu(SMLNJ)p 919 2375 V 29 w(VERSION)48 b(<=)i(110)24
b Fv(and)g Fu(old-foo.sml)f Fv(e)o(xports)g(structure)g
Fu(Bar)p Fv(.)37 b(Otherwise)24 b(\002le)h Fu(no-bar-)0
2475 y(so-far.sml)20 b Fv(gets)h(included)e(instead.)27
b(In)20 b(addition,)g(the)h(e)o(xport)e(of)i(structure)f
Fu(Bar)g Fv(is)i(guarded)d(by)i(its)g(o)n(wn)g(e)o(xistence.)26
b(\(Structure)0 2574 y Fu(Bar)21 b Fv(could)f(also)h(be)g(de\002ned)e
(by)i Fu(no-bar-so-far.sml)d Fv(in)j(which)f(case)i(it)f(w)o(ould)f
(get)h(e)o(xported)e(re)o(gardless)g(of)i(the)g(outcome)e(of)0
2674 y(the)h(other)g Fu(defined)f Fv(test.\))0 2959 y
Fr(7.3)99 b(Explicit)25 b(err)n(ors)0 3162 y Fv(A)19
b(pseudo-member)c(of)k(the)g(form)e Fu(#error)49 b Fl(:)14
b(:)g(:)p Fv(,)19 b(which\227lik)o(e)f(other)g Fu(#)p
Fv(-items\227starts)h(in)g(the)g(\002rst)g(column)f(and)g(e)o(xtends)f
(to)i(the)g(end)0 3262 y(of)f(the)g(line,)h(causes)f(an)h(e)o(xplicit)e
(error)h(message)g(to)g(be)g(printed)f(unless)i(it)g(gets)f(e)o
(xcluded)f(by)h(the)g(conditional)e(compilation)h(logic.)24
b(The)0 3361 y(error)19 b(message)h(is)h(gi)n(v)o(en)e(by)h(the)g
(remainder)e(of)i(the)h(line)f(after)g(the)g(w)o(ord)f
Fu(error)p Fv(.)0 3688 y Fx(8)119 b(Access)30 b(contr)n(ol)0
3922 y Fv(The)17 b(basic)g(idea)g(behind)f(CM')-5 b(s)18
b(access)g(control)e(is)i(the)g(follo)n(wing:)k(In)17
b(their)g(description)e(\002les,)k(groups)d(and)g(libraries)h(can)g
(specify)g(a)g(list)0 4021 y(of)k Ft(privile)m(g)o(es)h
Fv(that)g(the)g(client)g(must)f(ha)n(v)o(e)h(in)g(order)e(to)i(be)g
(able)f(to)h(use)g(them.)30 b(Pri)n(vile)o(ges)21 b(at)h(this)g(le)n(v)
o(el)g(are)f(just)i(names)e(\(strings\))g(and)0 4121
y(must)h(be)g(written)g(in)g(front)f(of)h(the)g(initial)h(k)o(e)o(yw)o
(ord)d Fu(Library)h Fv(or)h Fu(Group)p Fv(.)31 b(If)21
b(one)h(group)e(or)i(library)f(imports)h(from)f(another)f(group)0
4221 y(or)e(library)-5 b(,)17 b(then)g(pri)n(vile)o(ges)g(\(or)g
(rather:)24 b(pri)n(vile)o(ge)16 b(requirements\))g(are)i(being)f
(inherited.)23 b(In)18 b(ef)n(fect,)g(to)g(be)g(able)g(to)g(use)g(a)h
(program,)d(one)0 4320 y(must)k(ha)n(v)o(e)g(all)h(pri)n(vile)o(ges)d
(for)i(all)h(its)g(libraries,)f(sub-libraries)e(and)i(library)f
(components,)f(components)g(of)i(sub-libraries,)e(and)i(so)g(on.)0
4468 y(Of)29 b(course,)g(this)h(alone)e(w)o(ould)f(not)i(yet)f(be)h
(satisf)o(actory)-5 b(.)49 b(The)28 b(main)g(service)h(of)f(the)h
(access)g(control)e(system)i(is)h(that)e(it)i(can)e(let)h(a)0
4567 y(client)g(use)h(an)f(\223unsafe\224)g(library)f(\223safely\224.)
52 b(F)o(or)29 b(e)o(xample,)h(a)g(library)e Fu(LSafe.cm)h
Fv(could)f(\223wrap\224)h(all)h(the)f(unsafe)g(operations)e(in)0
4667 y Fu(LUnsafe.cm)d Fv(with)i(enough)d(error)i(checking)e(that)j
(the)o(y)f(become)f(safe.)41 b(Therefore,)24 b(a)i(user)g(of)f
Fu(LSafe.cm)f Fv(should)h(not)g(also)h(be)0 4767 y(required)18
b(to)j(possess)g(the)f(pri)n(vile)o(ges)f(that)h(w)o(ould)f(be)i
(required)d(if)i(one)g(were)g(to)g(use)h Fu(LUnsafe.cm)e
Fv(directly)-5 b(.)0 4914 y(In)20 b(CM')-5 b(s)22 b(access)f(control)e
(model)g(it)i(is)h(possible)e(for)g(a)g(library)g(to)g(\223wrap\224)g
(pri)n(vile)o(ges.)k(If)c(a)h(pri)n(vile)o(ge)e Fl(P)33
b Fv(has)20 b(been)g(wrapped,)f(then)h(the)0 5014 y(user)f(of)f(the)h
(library)e(does)h(not)h(need)f(to)h(ha)n(v)o(e)f(pri)n(vile)o(ge)f
Fl(P)31 b Fv(e)n(v)o(en)17 b(though)g(the)i(library)e(is)j(using)e
(another)f(library)h(that)h(requires)e(pri)n(vile)o(ge)0
5113 y Fl(P)12 b Fv(.)25 b(In)20 b(essence,)g(the)h(library)e(acts)h
(as)h(a)g(\223proxy\224)d(who)i(pro)o(vides)e(the)i(necessary)g
(credentials)f(for)h(pri)n(vile)o(ge)e Fl(P)33 b Fv(to)20
b(the)h(sub-library)-5 b(.)0 5261 y(Of)21 b(course,)g(not)f(e)n(v)o
(erybody)e(can)j(be)g(allo)n(wed)f(to)h(establish)h(a)f(library)f(with)
h(such)g(a)h(\223wrapped\224)d(pri)n(vile)o(ge)g Fl(P)12
b Fv(.)28 b(The)21 b(programmer)d(who)0 5360 y(does)23
b(that)g(should)g(at)h(least)g(herself)e(ha)n(v)o(e)h(pri)n(vile)o(ge)f
(P)i(\(b)n(ut)f(perhaps)f(better)m(,)h(she)g(should)g(ha)n(v)o(e)f
Ft(permission)i(to)f(wr)o(ap)g Fl(P)12 b Fv(\227a)24
b(stronger)0 5460 y(requirement\).)1968 5709 y(29)p eop
%%Page: 30 31
30 30 bop 0 83 a Fv(In)21 b(CM,)h(wrapping)e(a)i(pri)n(vile)o(ge)e(is)j
(done)d(by)h(specifying)f(the)i(name)f(of)g(that)h(pri)n(vile)o(ge)e
(within)h(parenthesis.)29 b(The)21 b(wrapping)f(becomes)0
183 y(ef)n(fecti)n(v)o(e)f(once)h(the)h(library)f(gets)h(stabilized)f
(via)h Fu(CM.stabilize)p Fv(.)j(The)d(\(not)f(yet)g(implemented\))f
(enforcement)f(mechanism)i(must)0 282 y(ensure)f(that)i(an)o(yone)d
(who)i(stabilizes)g(a)h(library)e(that)h(wraps)g Fl(P)33
b Fv(has)20 b(permission)g(to)g(wrap)g Fl(P)12 b Fv(.)0
428 y(Note)20 b(that)g(pri)n(vile)o(ges)f(cannot)g(be)i(wrapped)d(at)j
(the)f(le)n(v)o(el)g(of)g(CM)h(groups.)0 573 y(Access)e(control)e(is)i
(a)f(ne)n(w)g(feature.)24 b(At)18 b(the)g(moment,)f(only)h(the)g(basic)
g(mechanisms)f(are)h(implemented,)f(b)n(ut)h(there)g(is)h(no)e
(enforcement.)0 672 y(In)k(other)f(w)o(ords,)g(e)n(v)o(erybody)d(is)22
b(assumed)f(to)f(ha)n(v)o(e)h(e)n(v)o(ery)e(possible)i(pri)n(vile)o
(ge.)k(CM)d(merely)d(reports)h(which)h(pri)n(vile)o(ges)e(\223w)o(ould)
h(ha)n(v)o(e)0 772 y(been)g(required\224.)0 1096 y Fx(9)119
b(The)31 b(per)o(v)o(asi)o(v)o(e)d(en)-5 b(vir)n(onment)0
1327 y Fv(The)29 b Ft(pervasive)f(en)m(vir)l(onment)g
Fv(can)g(be)h(thought)e(of)i(as)h(a)f(compilation)e(unit)i(that)g(all)g
(compilation)f(units)h(implicitly)f(depend)f(upon.)0
1427 y(The)22 b(perv)n(asi)n(v)o(e)g(en)m(viroment)e(e)o(xports)h(all)j
(non-modular)19 b(bindings)i(\(types,)i(v)n(alues,)g(in\002x)f
(operators,)g(o)o(v)o(erloaded)e(symbols\))i(that)h(are)0
1526 y(mandated)h(by)h(the)g(speci\002cation)f(for)h(the)g(Standard)f
(ML)i(Basis)g(Library)e([RG99)o(].)41 b(\(All)25 b(other)g(bindings)f
(of)h(the)g(Basis)i(Library)d(are)0 1626 y(e)o(xported)18
b(by)i Fu($/basis.cm)f Fv(which)g(is)i(a)g(genuine)e(CM)i(library)-5
b(.\))0 1771 y(The)30 b(perv)n(asi)n(v)o(e)f(en)m(vironment)e(is)32
b(the)e(only)g(place)g(where)g(CM)i(con)m(v)o(e)o(ys)c(non-modular)f
(bindings)i(from)g(one)h(compilation)f(unit)h(to)0 1871
y(another)m(,)18 b(and)i(its)h(de\002nition)e(is)i(\002x)o(ed.)0
2195 y Fx(10)119 b(Files)0 2426 y Fv(CM)21 b(uses)g(three)e(kinds)h(of)
g(\002les)h(to)f(store)h(deri)n(v)o(ed)d(information)g(during)g(and)i
(between)f(sessions:)104 2644 y(1.)41 b Ft(Sk)o(eleton)15
b(\002les)i Fv(are)f(used)h(to)f(store)h(a)g(highly)e(abbre)n(viated)f
(v)o(ersion)i(of)g(each)g(ML)h(source)e(\002le')-5 b(s)18
b(abstract)e(syntax)g(tree\227just)h(barely)208 2743
y(suf)n(\002cient)24 b(to)i(dri)n(v)o(e)e(CM')-5 b(s)27
b(dependenc)o(y)22 b(analysis.)40 b(Sk)o(eleton)25 b(\002les)h(are)g
(much)e(smaller)h(and)g(\(for)f(a)i(program\))d(easier)j(to)f(read)208
2843 y(than)20 b(actual)h(ML)g(source)g(code.)27 b(Therefore,)18
b(the)k(e)o(xistence)e(of)h(v)n(alid)f(sk)o(eleton)h(\002les)h(mak)o
(es)f(CM)h(a)f(lot)h(f)o(aster)f(because)f(usually)208
2943 y(most)g(parsing)f(operations)g(can)h(be)g(a)n(v)n(oided)f(that)h
(w)o(ay)-5 b(.)104 3105 y(2.)41 b Ft(Bin\002les)20 b
Fv(are)g(the)h(SML/NJ)g(equi)n(v)n(alent)e(of)h(object)h(\002les.)27
b(The)o(y)19 b(contain)h(e)o(x)o(ecutable)f(code)g(and)i(a)g(symbol)e
(table)i(for)f(the)g(associ-)208 3204 y(ated)g(ML)g(source)f(\002le.)
104 3366 y(3.)41 b Ft(Libr)o(ary)23 b(\002les)h Fv(\(sometimes)f
(called:)32 b Ft(stable\002les)p Fv(\))23 b(contain)g(dependenc)o(y)d
(graph,)j(e)o(x)o(ecutable)f(code,)i(and)f(symbol)g(tables)h(for)f(an)
208 3466 y(entire)d(CM)h(library)e(including)g(all)i(of)f(its)h
(components)e(\(groups\).)k(Other)d(libraries)g(used)h(by)f(a)h(stable)
f(library)g(are)g(not)g(included)208 3565 y(in)g(full.)25
b(Instead,)19 b(references)g(to)h(those)g(libraries)g(are)g(recorded)e
(using)i(their)g(\(preferably)d(anchored\))h(pathnames.)0
3783 y(Normally)-5 b(,)18 b(all)j(these)g(\002les)g(are)f(stored)g(in)g
(a)h(subdirectory)d(of)i(directory)e Fu(CM)p Fv(.)i Fu(CM)h
Fv(itself)g(is)g(a)f(subdirectory)e(of)i(the)g(directory)f(where)h(the)
0 3883 y(original)f(ML)h(source)g(\002le)h(or)n(\227in)e(the)i(case)f
(of)g(library)f(\002les\227the)i(original)e(CM)i(description)e(\002le)h
(is)i(located.)0 4028 y(Sk)o(eleton)e(\002les)i(are)e(machine-)g(and)g
(operating)f(system-independent.)k(Therefore,)18 b(the)o(y)i(are)h(al)o
(w)o(ays)g(placed)f(into)h(the)f(same)h(directory)0 4128
y Fu(CM/SKEL)p Fv(.)31 b(P)o(arsing)g(\(for)f(the)i(purpose)e(of)i
(dependenc)o(y)c(analysis\))k(will)g(be)g(done)e(only)h(once)g(e)n(v)o
(en)g(if)h(the)g(same)f(\002le)i(system)f(is)0 4227 y(accessible)20
b(from)f(machines)h(of)g(dif)n(ferent)e(type.)0 4372
y(Bin\002les)35 b(and)e(library)f(\002les)j(contain)d(e)o(x)o(ecutable)
g(code)h(and)g(other)g(information)e(that)j(is)h(potentially)d(system-)
h(and)g(architecture-)0 4472 y(dependent.)k(Therefore,)24
b(the)o(y)h(are)g(stored)f(under)g Fu(CM/)p Ft(ar)m(c)o(h)p
Fu(-)p Ft(os)g Fv(where)g Ft(ar)m(c)o(h)h Fv(is)h(a)f(string)g
(indicating)f(the)h(type)g(of)g(the)g(current)f(CPU)0
4572 y(architecture)19 b(and)g Ft(os)i Fv(a)f(string)g(denoting)f(the)h
(current)f(operating)f(system)i(type.)0 4717 y(As)26
b(e)o(xplained)e(in)i(Section)f(2.8,)h(library)f(\002les)h(are)g(a)g
(bit)g(of)f(an)h(e)o(xception)d(in)j(the)g(sense)g(that)f(the)o(y)g(do)
g(not)h(require)e(an)o(y)h(source)g(\002les)0 4817 y(or)j(an)o(y)e
(other)h(deri)n(v)o(ed)f(\002les)j(of)f(the)f(same)h(library)f(to)h(e)o
(xist.)48 b(As)28 b(a)h(consequence,)e(the)h(location)e(of)i(such)g(a)g
(library)e(\002le)j(should)e(be)0 4916 y(described)e(as)h(being)f
(relati)n(v)o(e)g(to)h(\223the)g(location)e(of)i(the)g(original)e(CM)j
(description)d(\002le)j(if)f(that)g(description)e(\002le)j(still)g(e)o
(xisted\224.)41 b(\(Of)0 5016 y(course,)25 b(nothing)e(precludes)h(the)
h(CM)g(description)f(\002le)h(from)f(actually)h(e)o(xisting,)g(b)n(ut)f
(in)i(the)e(presence)g(of)h(a)g(corresponding)d(library)0
5115 y(\002le)f(CM)g(will)g(not)f(tak)o(e)g(an)o(y)f(notice)h(of)g
(that.\))0 5261 y Ft(Note:)25 b Fv(As)c(discussed)f(in)h(section)e
(6.1.2,)g(CM)i(sometimes)f(looks)g(for)f(library)g(\002les)i(in)g
Fu(CM/)p Ft(ver)o(sion)p Fu(/)p Ft(ar)m(c)o(h)p Fu(-)p
Ft(os)p Fv(.)h(Ho)n(we)n(v)o(er)m(,)d(library)g(\002les)0
5360 y(are)k(ne)n(v)o(er)f Ft(cr)m(eated)h Fv(there)g(by)f(CM.)i(If)f
(se)n(v)o(eral)g(v)o(ersions)f(of)h(the)g(same)h(library)e(are)h(to)h
(be)f(pro)o(vided,)e(an)i(administrator)f(must)h(arrange)0
5460 y(the)d(directory)f(hierarchy)e(accordingly)h(\223by)i(hand\224.)
1968 5709 y(30)p eop
%%Page: 31 32
31 31 bop 0 83 a Fr(10.1)99 b(T)n(ime)25 b(stamps)0 289
y Fv(F)o(or)e(sk)o(eleton)g(\002les)h(and)f(bin\002les,)h(CM)g(uses)g
(\002le)g(system)g(time)f(stamps)h(\(i.e.,)g(modi\002cation)d(time\))j
(to)f(determine)f(whether)g(a)i(\002le)g(has)0 388 y(become)19
b(outdated.)k(The)d(rule)g(is)h(that)f(in)h(order)d(to)j(be)f
(considered)e(\223up-to-date\224)g(the)i(time)g(stamp)g(on)g(sk)o
(eleton)g(\002le)h(and)e(bin\002le)h(has)g(to)0 488 y(be)h(e)o(xactly)e
(the)i(same)653 458 y Fq(9)707 488 y Fv(as)g(the)g(one)f(on)g(the)g(ML)
h(source)f(\002le.)27 b(This)20 b(guarantees)f(that)i(all)g(changes)f
(to)h(a)f(source)g(will)i(be)e(noticed\227e)n(v)o(en)0
587 y(those)g(that)g(re)n(v)o(ert)f(to)i(an)f(older)f(v)o(ersion)g(of)h
(a)h(source)e(\002le.)1704 557 y Fq(10)0 737 y Fv(CM)i(also)f(uses)h
(time)g(stamps)f(to)g(decide)g(whether)f(tools)h(such)g(as)h(ML-Y)-8
b(acc)19 b(or)h(ML-Le)o(x)f(need)h(to)g(be)g(run)g(\(see)g(Section)g
(6\).)25 b(Ho)n(we)n(v)o(er)m(,)0 836 y(the)i(dif)n(ference)f(is)i
(that)g(a)g(\002le)g(is)g(considered)e(outdated)f(if)j(it)g(is)h(older)
d(than)h(its)i(source.)46 b(Some)27 b(care)g(on)g(the)g(programmers)e
(side)j(is)0 936 y(necessary)17 b(since)h(this)g(scheme)g(does)f(not)h
(allo)n(w)f(CM)i(to)f(detect)f(the)h(situation)f(where)h(a)g(source)f
(\002le)h(gets)g(replaced)f(by)g(an)h(older)f(v)o(ersion)0
1036 y(of)j(itself.)0 1323 y Fr(10.2)99 b(Index)25 b(\002les)0
1529 y Fv(CM)h(can)e(optionally)f(generate)h(a)h(human-readable)c(inde)
o(x)j(\002le)i(for)e(each)g(description)g(\002le.)39
b(An)25 b(inde)o(x)f(\002les)i(alphabetically)d(lists)j(all)0
1628 y(symbols)18 b(de\002ned)g(or)h(imported)e(within)i(the)g(gi)n(v)o
(en)e(library)h(or)h(library)f(component.)k(Inde)o(x-\002le)17
b(generation)g(is)i(normally)f(disabled.)23 b(T)-7 b(o)0
1728 y(enable)19 b(it,)i Fu(CM.Control.generate)p 1280
1728 25 4 v 26 w(index)f Fv(must)h(be)f(set)h(to)f(true)g(\(see)g
(section)g(4.1\).)0 1877 y(W)m(ith)h(inde)o(x-\002le)e(generation)g
(enabled,)g(inde)o(x)g(\002les)j(will)f(be)f(written)h(for)f(all)h
(description)e(\002les)j(in)m(v)n(olv)o(ed)c(e)n(v)o(ery)h(time)i(CM)g
(performs)e(a)0 1977 y(dependenc)o(y)d(analysis.)25 b(\(In)18
b(other)h(w)o(ords,)g(it)g(is)i(a)e(side-ef)n(fect)f(to)i(other)e(CM)i
(operations)e(such)h(as)h Fu(CM.make)e Fv(etc.\))25 b(If)19
b(the)g(name)g(of)g(the)0 2077 y(description)g(\002les)i(is)g
Fl(p)p Fu(/)p Fl(d)p Fu(.cm)p Fv(,)f(then)f(the)i(corresponding)16
b(inde)o(x)j(\002le)i(will)g(be)f(in)h Fl(p)p Fu(/CM/INDEX/)p
Fl(d)p Fu(.cm)p Fv(.)0 2407 y Fx(11)119 b(Extending)31
b(the)f(tool)g(set)0 2642 y Fv(CM')-5 b(s)23 b(tool)f(set)g(is)h(e)o
(xtensible:)28 b(ne)n(w)22 b(tools)g(can)f(be)h(added)f(by)g(writing)h
(a)g(fe)n(w)g(lines)g(of)g(ML)g(code.)29 b(The)22 b(necessary)f(hooks)g
(for)g(this)i(are)0 2742 y(pro)o(vided)18 b(by)h(a)i(structure)e
Fu(Tools)h Fv(which)g(is)h(e)o(xported)d(by)i(the)g Fu
($smlnj/cm/tools.cm)d Fv(library)-5 b(.)0 3029 y Fr(11.1)99
b(Adding)25 b(simple)g(shell-command)h(tools)0 3235 y
Fv(If)20 b(the)g(tool)g(is)h(implemented)e(as)i(a)f(\223typical\224)g
(shell)g(command,)e(then)i(all)h(that)f(needs)g(to)g(be)g(done)f(is)i
(a)g(single)f(call)h(of:)100 3467 y Fu(Tools.registerStdShellCmdTool)0
3699 y Fv(F)o(or)27 b(e)o(xample,)h(suppose)f(you)g(ha)n(v)o(e)g(made)g
(a)h(ne)n(w)-5 b(,)29 b(impro)o(v)o(ed)c(v)o(ersion)h(of)h(ML-Y)-8
b(acc)27 b(\(\223Ne)n(w-ML-Y)-8 b(acc\224\))25 b(and)i(w)o(ant)h(to)g
(re)o(gister)f(it)0 3799 y(under)19 b(a)h(class)i(called)e
Fu(nmlyacc)p Fv(.)k(Here)c(is)h(what)f(you)f(write:)100
4032 y Fu(val)49 b(_)h(=)f(Tools.registerStdShellCmdTool)199
4131 y({)h(tool)f(=)h("New-ML-Yacc",)299 4231 y(class)f(=)g("nmlyacc",)
299 4330 y(suffixes)f(=)i(["ngrm",)e("ny"],)299 4430
y(cmdStdPath)g(=)h("new-ml-yacc",)299 4530 y(template)f(=)i(NONE,)299
4629 y(extensionStyle)d(=)498 4729 y(Tools.EXTEND)h([\("sig",)g(SOME)h
("sml",)g(fn)g(_)h(=>)f(NONE\),)1196 4829 y(\("sml",)f(SOME)h("sml",)g
(fn)g(x)h(=>)f(x\)],)299 4928 y(dflopts)f(=)i([])f(})p
0 4981 1608 4 v 90 5037 a Fp(9)120 5060 y Fo(CM)17 b(e)o(xplicitly)j
(sets)d(the)h(time)g(stamp)f(to)g(be)h(the)f(same.)66
5118 y Fp(10)120 5141 y Fo(e)o(xcept)i(for)e(the)g(pathological)k(case)
d(where)g(tw)o(o)g(dif)n(ferent)h(v)o(ersions)f(of)f(the)h(same)f
(source)h(\002le)f(ha)o(v)o(e)h(e)o(xactly)i(the)d(same)g(time)h(stamp)
1968 5709 y Fv(31)p eop
%%Page: 32 33
32 32 bop 0 83 a Fv(This)26 b(code)e(can)h(be)h(packaged)d(as)j(a)g(CM)
g(library)e(and)h(loaded)f(via)i Fu(CM.make)e Fv(or)i
Fu(CM.load)p 2847 83 25 4 v 28 w(plugin)p Fv(.)40 b(\()p
Fu(CM.autoload)24 b Fv(is)i(not)0 183 y(enough)18 b(because)i(of)g(its)
i(lazy)e(nature)f(which)h(pre)n(v)o(ents)f(the)h(required)f(side-ef)n
(fects)g(to)i(occur)-5 b(.\))24 b(Alternati)n(v)o(ely)-5
b(,)18 b(the)j(code)f(could)f(also)i(be)0 282 y(entered)e(at)i(the)f
(interacti)n(v)o(e)f(top)h(le)n(v)o(el)g(after)f(loading)g(library)g
Fu($smlnj/cm/tools.cm)p Fv(.)0 419 y(In)h(our)g(e)o(xample,)g(the)g
(shell)i(command)c(name)i(for)h(our)f(tool)g(is)i Fu(new-ml-yacc)p
Fv(.)j(When)20 b(looking)f(for)h(this)i(command)c(in)j(the)g
(\002lesys-)0 519 y(tem,)30 b(CM)g(\002rst)f(tries)g(to)f(treat)h(it)g
(as)g(a)g(path)f(anchor)f(\(see)i(section)f(3.3\).)49
b(F)o(or)28 b(e)o(xample,)h(suppose)e Fu(new-ml-yacc)g
Fv(is)j(mapped)c(to)0 618 y Fu(/bin)p Fv(.)e(In)19 b(this)h(case)g(the)
f(command)e(to)j(be)f(in)m(v)n(ok)o(ed)e(w)o(ould)i(be)g
Fu(/bin/new-ml-yacc)p Fv(.)j(If)d(path)g(anchor)f(resolution)g(f)o
(ails,)i(then)f(the)0 718 y(command)f(name)i(will)h(be)f(used)g(as-is.)
25 b(Normally)19 b(this)i(causes)g(the)f(shell')-5 b(s)21
b(path)e(search)h(mechanism)f(to)i(be)f(used)g(as)g(a)h(f)o(allback.)0
854 y Fu(Tools.registerStdShellCmdTool)c Fv(creates)22
b(the)g(class)h(and)e(installs)i(the)f(tool)g(for)f(it.)31
b(The)22 b(ar)o(guments)e(must)i(be)g(speci\002ed)0 954
y(as)f(follo)n(ws:)0 1142 y Fw(tool)40 b Fv(a)21 b(descripti)n(v)o(e)e
(name)g(of)h(the)g(tool)g(\(used)g(in)g(error)f(messages\);)h(type:)25
b Fu(string)0 1295 y Fw(class)42 b Fv(the)20 b(name)f(of)h(the)g
(class;)i(the)e(string)g(must)g(not)g(contain)f(upper)n(-case)g
(letters;)h(type:)25 b Fu(string)0 1448 y Fw(suf\002xes)41
b Fv(a)21 b(list)g(of)f(\002le)h(name)f(suf)n(\002x)o(es)f(that)i(let)f
(CM)h(automatically)e(recognize)g(\002les)i(of)f(the)g(class;)h(type:)k
Fu(string)49 b(list)0 1602 y Fw(cmdStdP)o(ath)41 b Fv(the)20
b(command)e(string)i(from)f(abo)o(v)o(e;)g(type:)25 b
Fu(string)0 1755 y Fw(template)40 b Fv(an)21 b(optional)d(string)i
(that)h(describes)e(ho)n(w)h(the)g(command)e(line)j(is)g(to)f(be)g
(constructed)f(from)g(pieces;)208 1854 y(The)g(string)h(is)h(tak)o(en)f
(v)o(erbatim)f(e)o(xcept)g(for)h(embedded)e(\045)i(format)g
(speci\002ers:)208 2008 y Fw(\045c)41 b Fv(the)20 b(command)e(name)i
(\(i.e.,)g(the)g(elaboration)e(of)i Fu(cmdStdPath)p Fv(\))208
2118 y Fw(\045s)41 b Fv(the)21 b(source)e(\002le)i(name)e(in)i(nati)n
(v)o(e)e(pathname)g(syntax)208 2227 y Fw(\045)p Fl(n)p
Fw(t)41 b Fv(the)20 b Fl(n)p Fv(-th)g(tar)o(get)f(\002le)i(in)f(nati)n
(v)o(e)f(pathname)g(syntax;)390 2327 y(\()p Fl(n)27 b
Fv(is)h(speci\002ed)f(as)h(a)f(decimal)g(number)m(,)f(counting)f
(starts)j(at)f Fk(1)p Fv(,)i(and)d(each)h(tar)o(get)f(\002le)i(name)e
(is)i(constructed)e(from)g(the)390 2427 y(corresponding)13
b Fu(extensionStyle)h Fv(entry;)j(if)g Fl(n)g Fv(is)g
Fk(0)g Fv(\(or)e(missing\),)i(then)f(all)h(tar)o(gets\227separated)d
(by)i(single)g(spaces\227)390 2526 y(are)26 b(inserted;)i(if)d
Fl(n)i Fv(is)f(not)f(in)h(the)g(range)e(between)h Fk(0)h
Fv(and)f(the)h(number)d(of)j(a)n(v)n(ailable)f(tar)o(gets,)h(then)f
Fw(\045)p Fl(n)p Fw(t)h Fv(e)o(xpands)e(into)390 2626
y(itself\))208 2736 y Fw(\045)p Fl(n)p Fw(o)40 b Fv(the)21
b Fl(n)p Fv(-th)e(tool)h(parameter;)390 2835 y(\(named)i(sub-option)f
(parameters)h(are)h(ignored;)g Fl(n)h Fv(is)g(speci\002ed)f(as)h(a)f
(decimal)g(number)m(,)e(counting)h(starts)i(at)f Fk(1)p
Fv(;)i(if)f Fl(n)f Fv(is)h Fk(0)390 2935 y Fv(\(or)18
b(missing\),)g(then)g(all)h(options\227separated)c(by)j(single)g
(spaces\227are)g(inserted;)h(if)f Fl(n)h Fv(is)g(not)f(in)h(the)f
(range)f(between)h Fk(0)g Fv(and)390 3035 y(the)i(number)f(of)h(a)n(v)n
(ailable)f(options,)g(then)h Fw(\045)p Fl(n)p Fw(o)g
Fv(e)o(xpands)f(into)h(itself\))208 3144 y Fw(\045)p
Fl(x)42 b Fv(the)20 b(character)f Fl(x)i Fv(\(where)e
Fl(x)i Fv(is)g(neither)f Fw(c)p Fv(,)g(nor)g Fw(s)p Fv(,)g
Fw(t)p Fv(,)h(or)e Fw(o)p Fv(\))208 3298 y(If)h(no)f(template)h(string)
g(is)h(gi)n(v)o(en,)e(then)g(it)i(def)o(aults)f(to)g
Fu("\045c)50 b(\045s")p Fv(.)0 3451 y Fw(extensionStyle)40
b Fv(a)26 b(speci\002cation)e(of)h(ho)n(w)g(the)g(names)g(of)g(\002les)
h(generated)e(by)h(the)g(tool)g(relate)g(to)h(the)f(name)g(of)g(the)g
(tool)g(input)g(\002le;)208 3551 y(type:)f Fu(Tools.extensionStyle)p
Fv(.)208 3650 y(Currently)-5 b(,)18 b(there)i(are)g(tw)o(o)g(possible)g
(cases:)286 3803 y(1.)41 b(\223)p Fu(Tools.EXTEND)19
b Fl(l)r Fv(\224)h(says)h(that)f(if)h(the)f(tool)h(source)e(\002le)i
(is)g Ft(\002le)g Fv(then)f(for)g(each)g(suf)n(\002x)g
Ft(sfx)h Fv(in)f Fu(\(map)49 b(#1)h Fl(l)r Fu(\))20 b
Fv(there)g(will)390 3903 y(be)26 b(one)f(tool)g(output)g(\002le)h
(named)f Ft(\002le)p Fu(.)p Ft(sfx)p Fv(.)41 b(The)26
b(list)h Fl(l)g Fv(consists)g(of)e(triplets)h(where)f(the)h(\002rst)g
(component)d(speci\002es)k(the)390 4003 y(suf)n(\002x)21
b(string,)g(the)g(second)f(component)f(optionally)g(speci\002es)i(the)h
(member)d(class)j(name)f(of)g(the)g(corresponding)c(deri)n(v)o(ed)390
4102 y(\002le,)29 b(and)d(the)h(third)g(component)d(is)k(a)f(function)e
(to)i(calculate)g(tool)f(options)g(for)h(the)g(tar)o(get)f(from)f
(those)i(of)g(the)g(source.)390 4202 y(\(Ar)o(gument)18
b(and)h(result)i(type)e(of)h(these)h(functions)d(is)k
Fu(Tools.toolopts)47 b(option)p Fv(.\))286 4322 y(2.)41
b(\223)p Fu(Tools.REPLACE)47 b Fk(\()p Fl(l)1181 4334
y Fi(1)1219 4322 y Fl(;)14 b(l)1281 4334 y Fi(2)1318
4322 y Fk(\))p Fv(\224)24 b(says)h(that)f(gi)n(v)o(en)f(the)h(base)g
(name)f Ft(base)h Fv(there)f(will)i(be)f(one)g(tool)f(output)g(\002le)i
Ft(base)p Fu(.)p Ft(sfx)390 4422 y Fv(for)d(each)g(suf)n(\002x)f
Ft(sfx)i Fv(in)g Fu(\(map)49 b(#1)g Fl(l)1520 4434 y
Fi(2)1557 4422 y Fu(\))p Fv(.)32 b(Here,)22 b Ft(base)g
Fv(is)h(determined)d(by)i(the)g(follo)n(wing)f(rule:)29
b(If)22 b(the)g(name)g(of)g(the)g(tool)390 4521 y(input)17
b(\002le)h(has)f(a)h(suf)n(\002x)e(that)i(occurs)e(in)h
Fl(l)1574 4533 y Fi(1)1611 4521 y Fv(,)i(then)d Ft(base)h
Fv(is)h(the)g(name)e(without)h(that)g(suf)n(\002x.)23
b(Otherwise)17 b(the)h(whole)e(\002le)i(name)390 4621
y(is)h(tak)o(en)d(as)j Ft(base)e Fv(\(just)g(lik)o(e)h(in)f(the)h(case)
g(of)f Fu(Tools.EXTEND)p Fv(\).)e(As)j(with)f Fu(Tools.EXTEND)p
Fv(,)f(the)h(second)g(components)390 4721 y(of)k(the)g(elements)f(of)h
Fl(l)1036 4733 y Fi(2)1095 4721 y Fv(can)f(optionally)g(specify)g(the)h
(member)e(class)j(name)e(of)h(the)g(corresponding)c(deri)n(v)o(ed)j
(\002le,)h(and)g(the)390 4820 y(third)f(component)d(maps)k(source)e
(options)g(to)i(tar)o(get)e(options.)0 4973 y Fw(d\003opts)41
b Fv(a)29 b(list)h(of)e(tool)g(options)f(which)h(is)h(used)f(for)g
(substituting)f Fw(\045)p Fl(n)p Fw(o)h Fv(\002elds)h(in)g
Fu(template)e Fv(\(see)i(abo)o(v)o(e\))d(if)i(no)g(options)g(were)208
5073 y(speci\002ed.)c(\(Note)18 b(that)h(the)g(v)n(alue)g(of)f
Fu(dflopts)h Fv(is)h(ne)n(v)o(er)d(passed)i(to)g(the)g(option)f
(mappers)g(in)h Fu(Tools.EXTEND)e Fv(or)i Fu(Tools.)208
5173 y(REPLACE)p Fv(.\))f(T)-7 b(ype:)25 b Fu(Tools.toolopts)p
Fv(.)0 5360 y(Examples)20 b(for)g(the)h Fu(EXTEND)f Fv(e)o(xpansion)f
(style)i(are)g(tools)g(such)f(as)i(ML-Y)-8 b(acc)20 b(and)g(ML-Le)o(x,)
f(while)i(others,)f(e.g.,)g(ML-Bur)o(g,)f(use)j(the)0
5460 y Fu(REPLACE)d Fv(style)i(\(see)f(section)g(6.2\).)1968
5709 y(32)p eop
%%Page: 33 34
33 33 bop 0 83 a Fr(11.2)99 b(Adding)25 b(other)h(classes)0
281 y Fv(Adding)20 b(a)i(ne)n(w)f(class)h(whose)f(beha)n(vior)e(is)j
(not)f(co)o(v)o(ered)e(by)i(the)g(mechanism)f(described)g(in)i(section)
f(11.1)f(is)i(not)f(complicated)f(either)m(,)0 381 y(b)n(ut)g(it)h
(requires)e(a)i(bit)f(more)g(code.)0 641 y Fw(11.2.1)81
b(Filename)20 b(abstractions)0 840 y Fv(CM)e(represents)f(\002lenames)g
(as)h(something)e(that)h(could)g(be)g(called)g(a)h Ft(\002lename)e
(closur)m(e)p Fv(.)24 b(Essentially)-5 b(,)17 b(what)h(this)g(means)f
(is)h(that)f(not)g(only)0 939 y(a)k(string)g(is)h(being)e(remembered)e
(b)n(ut)j(also)g(the)g(conte)o(xt)f(in)h(which)f(to)h(interpret)f(the)h
(string.)27 b(F)o(or)20 b(a)i(relati)n(v)o(e)e(path,)g(conte)o(xt)g
(information)0 1039 y(is)h(the)f(directory)f(in)h(which)g(it)h(is)g(to)
f(be)g(interpreted;)f(for)g(an)h(anchored)f(path,)g(the)h(conte)o(xt)f
(tak)o(es)i(care)f(of)g(the)g(anchoring.)0 1181 y(The)g
Fu(Tools)g Fv(module)e(pro)o(vides)h(tw)o(o)h(abstract)g(types)g
(related)g(to)g(this)h(\002lename)f(abstraction:)100
1388 y Fu(type)49 b(presrcpath)100 1488 y(type)g(srcpath)0
1695 y Fv(Since)27 b(man)o(y)e(tools)h(in)m(v)n(ok)o(e)g(e)o(xternal)f
(shell)i(commands)e(or)h(perform)e(other)i(operation)f(on)h(physical)f
(\002les,)k(it)e(is)h(often)e(necessary)f(to)0 1795 y(obtain)19
b(an)h(actual)g(nati)n(v)o(e)g(\002lename)f(string)h(from)f(an)i
(abstract)f(path:)100 2002 y Fu(val)49 b(nativeSpec)f(:)h(srcpath)g(->)
g(string)100 2102 y(val)g(nativePreSpec)e(:)j(presrcpath)e(->)h(string)
0 2309 y Fv(It)26 b(is)g(important)f(to)g(remember)f(that)i(these)g(tw)
o(o)f(functions)g(frequently)e(return)i(relati)n(v)o(e)f(\002lenames,)j
(and)e(such)g(relati)n(v)o(e)g(names)h(must)0 2409 y(be)21
b(interpreted)e(from)h(within)h(the)g(right)f(directory)-5
b(.)25 b(This)c(\223right\224)f(directory)f(is)j(the)f(directory)f
(that)h(contains)f(the)h(CM)g(description)f(\002le)0
2508 y(on)26 b(whose)f(behalf)h(the)g(tool')-5 b(s)26
b(rule)g(w)o(as)h(in)m(v)n(ok)o(ed.)41 b(Rules)26 b(that)h(perform)d
(physical)h(operations)f(on)i(\002les)h(whose)f(names)f(result)i(from)0
2608 y Fu(nativeSpec)d Fv(or)i Fu(nativePreSpec)d Fv(must)j(therefore)e
(\002rst)i(switch)g(to)f(that)h(directory)-5 b(.)39 b(See)26
b(the)f(discussion)g(of)h(the)f Fu(context)0 2708 y Fv(ar)o(gument)18
b(to)i(rule)g(functions)f(belo)n(w)-5 b(.)0 2850 y(Strings)21
b(that)g(can)g(potentially)f(be)h(used)g(as)h(pathnames)e(are)h(being)g
(passed)g(around)e(as)j(records)e(containing)f(a)j Fu(name)p
Fv(-)f(and)f(a)i Fu(mkpath)0 2949 y Fv(\002eld.)j(The)20
b Fu(name)g Fv(\002eld)g(contains)g(the)g(string)g(itself)h(while)f
Fu(mkpath)g Fv(is)h(a)f(\223suspended\224)f(abstract)h(v)o(ersion)f(of)
g(the)i(path.)0 3092 y(A)h(fresh)e(pathmak)o(er)f(can)i(be)g
(constructed)e(from)h(nati)n(v)o(e)g(strings)h(using)g
Fu(native2pathmaker)p Fv(,)d(which)j(lik)o(e)g Fu(context)f
Fv(is)i(also)g(an)0 3191 y(ar)o(gument)c(to)j(rule)f(functions.)25
b(This)c(function)d(tak)o(es)j(care)g(of)f(interpreting)e(relati)n(v)o
(e)i(strings)h(within)f(the)h(correct)e(conte)o(xt.)25
b(\(F)o(or)20 b(this,)h(it)0 3291 y(is)g(not)f(e)n(v)o(en)f(necessary)h
(to)g(\002rst)h(switch)f(the)h(current)e(w)o(orking)f(directory)-5
b(.\))0 3433 y(Recall)24 b(that)f(\002lenames)g(that)g(appear)f(in)i
(description)d(\002les)j(can)f(be)g(written)g(using)g(either)g
(\223standard\224)e(or)i(\223nati)n(v)o(e\224)f(syntax.)34
b(The)22 b(\002eld)0 3533 y Fu(name)h Fv(will,)i(thus,)f(contain)f(a)h
(string)f(that)h(can)f(be)g(in)h(either)f(of)g(these)h(tw)o(o)g(forms.)
34 b(Ho)n(we)n(v)o(er)m(,)22 b(CM)j(will)f(pass)g(an)f
Fu(mkpath)g Fv(function)0 3632 y(that)d(accounts)g(for)f(these)h
(syntactic)g(dif)n(ferences)f(and)g(which)h(also)h(tak)o(es)f(care)g
(of)g(interpreting)e(the)i(string)g(in)h(the)f(correct)f(conte)o(xt.)0
3775 y(When)h(ne)n(w)f(name)g(speci\002cations)g(are)h(constructed)e
(by)h(the)h(tool,)f(the)h(appropriate)d Fu(mkpath)j Fv(function)e(must)
h(be)h(pro)o(vided.)i(F)o(or)e(most)0 3874 y(tools)k(this)h(will)g(be)f
(a)h(v)n(alue)e(constructed)g(by)h(applying)e Fu(native2pathmaker)g
Fv(to)i(some)g(nati)n(v)o(e)g(\002lename)f(string)h(\(because)g(most)0
3974 y(tools)c(internally)f(operate)g(on)h(nati)n(v)o(e)f(paths\).)0
4116 y(As)e(sho)n(wn)e(abo)o(v)o(e,)g(there)g(are)h(tw)o(o)h(abstract)e
(path)h(types:)23 b Fu(presrcpath)14 b Fv(and)i Fu(srcpath)p
Fv(.)23 b(The)15 b(former)g(can)g(represent)g(both)g(directory)0
4216 y(names)h(and)g(source)g(\002le)h(names,)f(the)h(latter)f(can)h
(represent)e(only)g(source)h(\002le)h(names.)24 b(T)-7
b(o)16 b(con)m(v)o(ert)e(from)i Fu(presrcpath)f Fv(to)i
Fu(srcpath)p Fv(,)0 4315 y(use)j(function)f Fu(Tools.srcpath)p
Fv(:)100 4510 y Fu(val)49 b(srcpath)f(:)i(presrcpath)e(->)h(srcpath)0
4704 y Fv(This)26 b(function)d(enforces)i(CM')-5 b(s)26
b(rule)g(that)f(there)g(has)h(to)g(be)f(at)h(least)g(one)f(arc)h(in)f
(e)n(v)o(ery)f(such)i(name)f(\(i.e.,)h(that)g(it)g(cannot)e(be)i(just)g
(an)0 4804 y(anchor\).)0 4946 y(One)g(can)g(also)h(construct)e(a)i(ne)n
(w)f(abstract)g(path)g(from)f(an)h(e)o(xisting)g(path)g(by)f(adding)g
(arcs)i(at)g(the)f(end.)42 b(The)26 b(constructed)f(path)h(will)0
5045 y(share)20 b(its)h(internal)f(conte)o(xt)e(with)j(the)f(old)g
(one.)100 5253 y Fu(val)49 b(augment)f(:)i(presrcpath)e(->)h(string)g
(list)g(->)h(presrcpath)0 5460 y Fv(The)20 b(list)h(of)f(strings)g
(must)g(contain)g(simple)g(pathname)e(arcs.)1968 5709
y(33)p eop
%%Page: 34 35
34 34 bop 0 83 a Fw(11.2.2)81 b(Adding)20 b(a)h(class)f(and)h(its)g
(rule)0 286 y Fv(The)f(interf)o(ace)f(to)i(add)e(arbitrary)g(classes)i
(is)g(the)f(routine)f Fu(Tools.registerClass)p Fv(:)100
508 y Fu(val)49 b(registerClass)e(:)j(class)f(*)g(rule)g(->)h(unit)0
731 y Fv(Here,)22 b(type)f Fu(class)g Fv(is)h(simply)f(synon)o(ymous)e
(to)j Fu(string)p Fv(;)g(a)g(class)g(string)f(is)i(the)e(name)g(of)h
(the)f(class)i(to)e(be)h(re)o(gistered.)27 b(It)22 b(must)g(not)0
830 y(contain)d(upper)n(-case)g(letters:)100 1053 y Fu(type)49
b(class)g(=)g(string)0 1276 y Fv(T)-7 b(ype)20 b Fu(rule)h
Fv(is)h(a)f(function)f(type.)26 b(It)c(describes)e(the)h(rule)g
(function)e(that)i(CM)h(will)f(in)m(v)n(ok)o(e)f(for)g(e)n(v)o(ery)g
(member)f(of)i(the)g(ne)n(w)g(class.)28 b(The)0 1375
y(rule)23 b(function)e(is)j(responsible)e(for)h(in)m(v)n(oking)e(the)i
(auxiliary)f(mechanism)g(necessary)g(to)h(bring)f(its)i(tar)o(gets)f
(up-to-date.)31 b(The)23 b(function)0 1475 y(result)j(of)f(the)g(rule)g
(function)f(describes)h(to)h(CM)g(what)g(the)f(tar)o(gets)g(are.)41
b(Thus,)26 b(the)g(function)d(maps)j(the)f Ft(speci\002cation)f
Fv(of)h(the)h(gi)n(v)o(en)0 1575 y(member)19 b(to)h(its)h(\(partial\))f
Ft(e)n(xpansion)p Fv(:)100 1797 y Fu(type)49 b(rule)g(=)199
1897 y({)h(spec:)f(spec,)299 1996 y(native2pathmaker:)e(string)h(->)i
(pathmaker,)299 2096 y(context:)e(rulecontext,)299 2196
y(defaultClassOf:)f(fnspec)i(->)g(class)g(option)g(})g(->)199
2295 y(partial_expansion)0 2518 y Fv(The)18 b(speci\002cation)f
Fu(spec)i Fv(consists)f(of)g(the)h(name)e(of)h(the)h(member)d(together)
h(with)i(a)f(function)f(to)h(produce)f(its)i(corresponding)c(abstract)0
2617 y(path)22 b(\(should)f(that)i(be)f(necessary\),)g(the)g(member')-5
b(s)22 b(optional)f(class)i(\(in)f(case)h(it)h(had)d(been)h(gi)n(v)o
(en)f(e)o(xplicitly\),)h(its)h(tool)f(options,)g(and)g(a)0
2717 y(boolean)d(\003ag)h(that)g(tells)h(whether)e(this)i(member)e(w)o
(as)i(the)f(result)g(of)g(another)f(tool:)100 2940 y
Fu(type)49 b(spec)g(=)g({)h(name:)f(string,)797 3039
y(mkpath:)g(pathmaker,)797 3139 y(class:)g(class)g(option,)797
3239 y(opts:)g(toolopts)f(option,)797 3338 y(derived:)g(bool)h(})0
3561 y Fw(name:)41 b Fv(The)22 b(name)g(is)h(the)f(v)o(erbatim)f
(member)g(string)h(from)g(the)g(description)f(\002le.)32
b(Be)23 b(sure)f(not)g(to)h(use)f(this)h(string)f(directly)g(as)h(a)g
(\002le)208 3660 y(name)g(\(although)f(some)h(tools)h(might)f(use)i(it)
f(directly)f(for)h(purposes)e(other)h(than)h(\002le)g(names\).)36
b(Instead,)23 b(\002rst)i(con)m(v)o(ert)d(it)j(to)f(an)208
3760 y(abstract)18 b(path)h(\(see)g Fu(mkpath)f Fv(belo)n(w\))g(and)h
(then)f(con)m(v)o(ert)f(back)h(to)h(a)h Ft(native)e Fv(\002le)i(name)e
(string)h(using)f(one)h(of)f Fu(nativeSpec)g Fv(or)208
3860 y Fu(nativePreSpec)p Fv(.)0 4023 y Fw(mkpath)41
b Fv(This)25 b(is)h(a)g(function)d(of)i(type)f Fu(pathmaker)g
Fv(that)h(produces)e(an)i(abstract)g(pathname)e(corresponding)f(to)j
Fu(name)p Fv(.)39 b(CM)26 b(will)208 4122 y(pass)19 b(in)h(dif)n
(ferent)e(functions)g(here)h(depending)d(on)j(whether)g
Fu(name)g Fv(w)o(as)h(gi)n(v)o(en)e(in)i(CM')-5 b(s)20
b(standard)e(pathname)g(syntax)h(or)g(in)h(the)208 4222
y(underlying)d(operating)h(system')-5 b(s)21 b(nati)n(v)o(e)e(syntax.)
307 4414 y Fu(type)49 b(pathmaker)f(=)i(unit)f(->)h(presrcpath)0
4606 y Fw(class:)41 b Fv(This)23 b(ar)o(gument)e(carries)h(the)h(class)
h(name)e(if)h(such)f(a)h(class)h(name)e(w)o(as)i(e)o(xplicitly)e
(speci\002ed.)32 b(If)22 b(the)h(class)h(w)o(as)g(inferred)d(from)208
4706 y(the)f(member)f(name,)g(then)h(it)h(will)f(be)h(set)g(to)f
Fu(NONE)p Fv(.)0 4869 y Fw(opts:)41 b Fv(T)-7 b(ool)20
b(options)f(are)h(represented)e(by)i(a)h(data)f(structure)f(resembling)
g(Lisp)h(lists:)307 5061 y Fu(type)49 b(fnspec)g(=)h({)f(name:)g
(string,)g(mkpath:)f(pathmaker)g(})307 5161 y(datatype)h(toolopt)f(=)
506 5261 y(STRING)h(of)h(fnspec)407 5360 y(|)f(SUBOPTS)g(of)g({)h
(name:)f(string,)f(opts:)h(toolopts)g(})307 5460 y(withtype)g(toolopts)
f(=)h(toolopt)g(list)1968 5709 y Fv(34)p eop
%%Page: 35 36
35 35 bop 208 83 a Fv(The)22 b(nesting)h(of)f Fu(SUBOPTS)h
Fv(re\003ects)g(the)g(nesting)f(of)h(sub-option)e(lists)j(in)g(the)f
(member')-5 b(s)22 b(tool)g(option)g(speci\002cation.)33
b(Again,)208 183 y(names)19 b(which)g(are)h(potentially)e(to)i(be)g
(interpreted)e(as)i(\002le)g(names)g(are)g(represented)d(by)j(their)f
(original)g(speci\002cation)g(string)g(and)208 282 y(a)k(function)e
Fu(mkpath)h Fv(to)h(get)g(the)g(corresponding)d(abstract)i(path,)h
(thereby)e(taking)h(care)h(of)g(interpreting)d(the)j(name)g(according)
208 382 y(to)h(its)i(respecti)n(v)o(e)d(syntactic)h(rules)h(and)f(its)h
(conte)o(xt.)37 b(\(T)-7 b(ype)24 b Fu(fnspec)g Fv(is)h(a)g(slimmed-do)
n(wn)d(v)o(ersion)h(of)i(type)f Fu(spec)p Fv(.)37 b(It)25
b(also)208 482 y(appears)19 b(as)i(the)f(ar)o(gument)e(type)i(of)f
(function)g Fu(defaultClassOf)p Fv(.)k(See)d(belo)n(w)-5
b(.\))0 638 y Fw(deri)o(v)o(ed:)41 b Fv(This)23 b(\003ag)f(is)i(set)f
(to)g Fu(true)f Fv(if)h(the)f(source)g(\002le)h(represented)e(by)h(the)
g(speci\002cation)g(is)i(the)e(result)h(of)f(a)h(another)m(,)e(earlier)
h(tool)208 737 y(in)m(v)n(ocation.)0 934 y(The)e(other)f(three)h(ar)o
(guments)e(of)i(a)h(rule)e(function)g(are)h Fu(native2pathmaker)p
Fv(,)e Fu(context)p Fv(,)h(and)g Fu(defaultClassOf)p
Fv(:)0 1132 y Fw(nati)o(v)o(e2pathmak)o(er:)39 b Fv(This)22
b(function)d(tak)o(es)j(a)g(string)f(and)g(produces)f(a)h(function)f
(of)h(the)h(same)f(type)g(as)h Fu(mkpath)f Fv(abo)o(v)o(e.)27
b(When)22 b(the)208 1231 y(rule)e(constructs)f(the)i(speci\002cations)f
(for)g(its)h(result)g(\002les,)g(it)h(must)e(pro)o(vide)f(the)h
(corresponding)d Fu(mkpath)j Fv(functions)f(for)h(those.)208
1331 y(Since)f(most)g(tools)g(internally)f(operate)h(on)f(nati)n(v)o(e)
h(pathnames,)f(these)h Fu(mkpath)g Fv(functions)e(will)j(ha)n(v)o(e)f
(to)g(be)h(constructed)d(using)208 1431 y Fu(native2pathmaker)p
Fv(.)0 1587 y Fw(context:)39 b Fv(The)17 b(conte)o(xt)g(ar)o(gument)e
(of)i(a)h(rule)f(represents)g(the)g(directory)f(that)h(contains)g(the)h
(CM)g(description)e(\002le)i(on)f(whose)g(behalf)g(the)208
1686 y(rule)23 b(w)o(as)i(in)m(v)n(ok)o(ed.)34 b(It)24
b(is)h(represented)d(as)j(a)f(higher)n(-order)d(function)h(that)i(in)m
(v)n(ok)o(es)f(its)i(function)d(ar)o(gument)g(after)i(temporarily)208
1786 y(setting)k(the)g(w)o(orking)e(directory)g(to)i(the)g(conte)o(xt)f
(directory)f(and)i(returns)f(the)h(result)g(of)g(this)g(in)m(v)n
(ocation)e(after)i(restoring)f(the)208 1886 y(original)c(w)o(orking)g
(directory)-5 b(.)37 b(Not)24 b(all)i(rules)e(require)g(such)g(a)h
(temporary)e(change)g(of)i(directories,)f(b)n(ut)h(those)f(that)h(do)g
(should)208 1985 y(encapsulate)19 b(all)h(their)g(w)o(ork)g(into)g(a)g
(local)h(function)d(and)i(then)f(pass)i(this)g(function)d(to)j(the)f
(conte)o(xt.)307 2159 y Fu(type)49 b(rulefn)g(=)h(unit)f(->)g
(partial_expansion)307 2259 y(type)g(rulecontext)f(=)i(rulefn)e(->)i
(partial_expansion)0 2433 y Fw(defaultClassOf:)40 b Fv(This)22
b(function)f(can)h(be)g(used)h(to)f(directly)g(in)m(v)n(ok)o(e)f(CM')-5
b(s)23 b(internal)f(classi\002cation)h(mechanism,)e(taking)h(adv)n
(antage)208 2533 y(of)17 b(an)o(y)g(re)o(gistered)g(classi\002ers.)25
b(The)17 b(ar)o(gument)f(to)i(be)f(passed)h(is)h(of)e(type)h
Fu(fnspec)p Fv(,)f(i.e.,)h(a)g(record)f(consisting)g(of)g(a)i(name)e
(string)208 2632 y(and)i(a)i(function)d(to)j(con)m(v)o(ert)d(the)i
(string)g(to)g(its)h(corresponding)c(abstract)j(path.)0
2830 y(A)h(\(full\))g Ft(e)n(xpansion)e Fv(consists)j(of)e(three)h
(lists:)28 b(a)21 b(list)h(of)f(ML)g(\002les,)h(a)f(list)h(of)f(CM)h
(\002les,)g(and)e(a)h(list)i(of)d Ft(sour)m(ces)p Fv(.)28
b(A)21 b(partial)g(e)o(xpansion)e(is)0 2929 y(a)i(full)f(e)o(xpansion)e
(together)h(with)h(a)h(list)g(of)f(speci\002cations)g(that)g(still)h
(need)f(to)g(be)g(e)o(xpanded)e(further)-5 b(.)100 3127
y Fu(type)49 b(expansion)f(=)199 3226 y({)i(smlfiles:)e(\(srcpath)g(*)i
(Sharing.request)d(*)j(setup\))e(list,)299 3326 y(cmfiles:)g(\(srcpath)
h(*)g(Version.t)f(option)h(*)h(rebindings\))d(list,)299
3425 y(sources:)h(\(srcpath)h(*)g({)h(class:)e(class,)h(derived:)f
(bool}\))h(list)g(})100 3625 y(type)g(partial_expansion)d(=)k
(expansion)e(*)i(spec)f(list)0 3822 y Fv(A)25 b(rule)f(al)o(w)o(ays)h
(returns)e(a)i(partial)f(e)o(xpansion.)35 b(CM)25 b(will)g(deri)n(v)o
(e)e(a)i(full)f(e)o(xpansion)f(by)g(repeatedly)g(applying)g(rules)h
(until)g(the)g(list)i(of)0 3922 y(pending)18 b(speci\002cation)i
(becomes)f(empty)-5 b(.)0 4061 y(Most)22 b(rules)g(\(e)o(xcept)e(those)
i(for)f(classes)i Fu(sml)f Fv(and)g Fu(cm)p Fv(\))f(lea)n(v)o(e)h(the)g
(lists)h Fu(smlfiles)e Fv(and)g Fu(cmfiles)h Fv(empty)-5
b(.)28 b(A)23 b(tool)e(that)h(produces)0 4161 y(an)h(ML)g(source)f
(\002le)h(or)g(a)g(CM)h(description)d(\002le)i(as)h(output)e(should)f
(put)i(a)g(speci\002cation)f(for)g(this)i(\002le)f(into)g(the)g
(speci\002cation)f(list)i(of)e(a)0 4260 y(partial)g(e)o(xpansion,)e
(letting)h(the)h(rules)g(for)f(classes)j Fu(sml)d Fv(and)h
Fu(cm)g Fv(tak)o(e)g(care)g(of)f(the)h(rest.)31 b(At)22
b(this)h(point)e(we)h(will)h(therefore)d(not)i(dwell)0
4360 y(on)e(e)o(xplanations)e(for)i(the)g(types)g(of)g(these)g(tw)o(o)g
(\002elds.)0 4499 y(The)26 b Fu(sources)g Fv(\002eld)h(is)h(used)f(to)g
(implement)e Fu(CM.sources)g Fv(\(see)i(section)g(4.1.11\).)42
b(Therefore,)26 b(the)h(rule)g(should)e(include)h(here)0
4599 y(e)n(v)o(ery)d(\002le)i(that)f(it)h(consumes)e(if)h(its)h
(implementer)e(wishes)h(to)h(ha)n(v)o(e)e(it)i(reported)d(by)i
Fu(CM.sources)p Fv(.)36 b(\(Do)23 b(not)h(include)f(source)h(\002les)0
4699 y(that)c(are)g Ft(pr)l(oduced)f Fv(by)h(the)g(rule)g(because)f
(those)h(will)h(be)f(reported)f(by)h(subsequent)e(rules.\))0
4955 y Fw(11.2.3)81 b(Reporting)19 b(err)o(ors)h(fr)o(om)f(tools)0
5150 y Fv(When)k(a)h(rule)f(encounters)f(an)h(error)m(,)f(it)j(should)d
(raise)i(the)f(follo)n(wing)f(e)o(xception,)g(setting)h
Fu(tool)g Fv(to)h(a)g(string)f(describing)e(the)j(current)0
5250 y(tool)c(and)g Fu(msg)g Fv(to)g(a)h(diagnostic)e(string)h
(describing)e(the)i(nature)g(of)g(the)g(error:)100 5447
y Fu(exception)48 b(ToolError)g(of)h({)h(tool:)f(string,)f(msg:)h
(string)g(})1968 5709 y Fv(35)p eop
%%Page: 36 37
36 36 bop 0 83 a Fw(11.2.4)81 b(Adding)20 b(a)h(classi\002er)0
289 y Fv(A)e(classi\002er)h(is)g(a)f(mechanism)f(that)h(enables)f(CM)i
(to)f(infer)f(a)h(member')-5 b(s)18 b(class)i(from)e(its)h(name.)24
b(Classi\002ers)d(are)d(in)m(v)n(ok)o(ed)g(if)h(no)f(e)o(xplicit)0
388 y(class)j(w)o(as)g(gi)n(v)o(en.)j(CM)d(supports)e(tw)o(o)h(kinds)g
(of)g(classi\002ers:)26 b(suf)n(\002x)20 b(classi\002ers)h(and)f
(general)f(classi\002ers.)100 621 y Fu(datatype)48 b(classifier)g(=)299
720 y(SFX_CLASSIFIER)f(of)j(string)e(->)i(class)f(option)199
820 y(|)h(GEN_CLASSIFIER)d(of)j({)f(name:)g(string,)g(mkfname:)f(unit)h
(->)g(string)g(})h(->)1196 919 y(class)e(option)0 1152
y Fv(Most)24 b(of)g(the)g(time)h(classi\002ers)g(look)e(at)i(the)f
(\002le)g(name)g(suf)n(\002x)g(as)g(their)g(only)g(clue.)36
b(This)24 b(idea)g(is)h(captured)e(by)h Fu(SFX)p 3498
1152 25 4 v 29 w(CLASSIFIER)0 1252 y Fv(which)d(carries)g(a)h(partial)f
(function)f(from)g(suf)n(\002x)o(es)h(to)h(class)g(names.)29
b(The)21 b(function)f(should)g(return)h Fu(NONE)g Fv(if)h(it)g(does)f
(not)g(kno)n(w)g(about)0 1351 y(the)f(gi)n(v)o(en)f(ar)o(gument)f(suf)n
(\002x.)0 1501 y(The)31 b Fu(GEN)p 316 1501 V 29 w(CLASSIFIER)g
Fv(constructor)e(carries)j(a)f(similar)h(function\227the)d(dif)n
(ference)h(being)g(that)i(the)g(entire)f(member)f(name)h(is)0
1600 y(passed)18 b(to)h(it.)25 b(Moreo)o(v)o(er)m(,)16
b(the)i(function)f(can)h(also)h(in)m(v)n(ok)o(e)e(the)i
Fu(mkfname)e Fv(ar)o(gument)g(to)h(obtain)g(a)h(nati)n(v)o(e)e
(\002lename)h(string.)24 b(This)19 b(string)0 1700 y(can)h(at)h(this)f
(point)g(be)g(used)g(to)g(perform)e(actual)i(\002lesystem)h
(operations.)0 1849 y(In)m(v)n(ocation)c(of)i Fu(mkfname)f
Fv(may)h(raise)h(e)o(xceptions,)d(usually)i(due)g(to)g(syntax)g(errors)
f(in)i Fu(name)f Fv(that)g(pre)n(v)o(ent)f(it)i(from)e(being)g
(interpreted)0 1949 y(as)j(a)g(\002lename.)j(T)-7 b(ools)20
b(that)g(use)h Fu(mkfname)e Fv(should)h(therefore)e(be)i(prepared)e(to)
j(handle)e(such)h(e)o(xceptions.)0 2098 y(Moreo)o(v)o(er)m(,)31
b(it)h(is)g(advisable)e(not)h(to)g(o)o(v)o(er)n(-use)e(this)j(feature,)
h(and)d(not)h(to)g(perform)e(e)o(xtensi)n(v)o(e)h(\002lesystem)h
(processing)f(in)i(order)d(to)0 2198 y(perform)18 b(classi\002cation.)
25 b(Otherwise)20 b(the)g(presence)g(of)f(this)i(classi\002er)g(might)f
(cause)g(considerable)e(o)o(v)o(erhead.)0 2347 y(By)32
b(the)f(w)o(ay)-5 b(,)34 b(suf)n(\002x)d(classi\002ers)h(could)e(be)i
(implemented)d(as)j(general)e(classi\002ers,)35 b(b)n(ut)d(using)f
Fu(SFX)p 3084 2347 V 29 w(CLASSIFIER)f Fv(for)h(them)g(is)0
2447 y(slightly)h(more)f(ef)n(\002cient.)60 b(CM)33 b(e)o(xtracts)e
(the)i(suf)n(\002x)e(from)g(the)h(name)g(only)f(once)g(and)h(applies)g
(all)g(suf)n(\002x)g(classi\002er)h(before)d(e)n(v)o(er)0
2547 y(considering)25 b(an)o(y)i(generic)g(classi\002er)-5
b(.)48 b(If)27 b(some)h(suf)n(\002x)f(classi\002er)h(succeeds,)h(there)
e(will)h(be)g(no)f(o)o(v)o(erhead)e(caused)i(by)g(an)o(y)g(generic)0
2646 y(classi\002er)-5 b(.)0 2796 y(Function)20 b Fu
(Tools.stdSfxClassifier)d Fv(is)22 b(a)g(simple)f(wrapper)e(around)g
Fu(SFX)p 2513 2796 V 30 w(CLASSIFIER)h Fv(and)g(produces)f(a)j
(classi\002er)f(that)0 2895 y(looks)f(for)f(precisely)h(one)f(suf)n
(\002x)h(string.)100 3128 y Fu(val)49 b(stdSfxClassifier)e(:)i({)h
(sfx:)f(string)g(,)g(class:)g(class)g(})h(->)f(classifier)0
3360 y Fv(Classi\002ers)22 b(are)e(re)o(gistered)f(with)h(CM)h(by)f(in)
m(v)n(oking)e Fu(Tools.registerClassifier)p Fv(:)100
3593 y Fu(val)49 b(registerClassifier)d(:)k(classifier)e(->)h(unit)0
3864 y Fw(11.2.5)81 b(Miscellaneous)0 4069 y Fv(Structure)22
b Fu(Tools)h Fv(also)h(pro)o(vides)e(a)i(number)d(of)i(other)g(types)g
(and)g(functions)f(with)i(the)f(purpose)f(of)h(making)f(it)i(easier)g
(to)f(write)h(rule)0 4169 y(functions.)0 4318 y Fw(Filename)33
b(extension:)49 b Fv(Man)o(y)31 b(tools)i(deri)n(v)o(e)e(the)i(names)f
(of)g(their)h(tar)o(gets)f(from)f(the)i(name)f(of)g(their)g(source.)62
b(As)33 b(discussed)f(in)0 4418 y(section)20 b(11.1,)f(CM)i(pro)o
(vides)d(some)i(support)f(for)h(this)g(via)g(v)n(alues)g(of)g(type)g
Fu(extensionStyle)p Fv(:)100 4650 y Fu(type)49 b(tooloptcvt)f(=)h
(toolopts)g(option)f(->)i(toolopts)e(option)100 4750
y(datatype)g(extensionStyle)f(=)299 4850 y(EXTEND)i(of)g(\(string)g(*)g
(class)g(option)g(*)g(tooloptcvt\))f(list)199 4949 y(|)i(REPLACE)e(of)i
(string)f(list)g(*)g(\(string)g(*)g(class)g(option)g(*)h(tooloptcvt\))d
(list)0 5182 y Fv(These)26 b(v)n(alues)f(can)g(not)h(only)f(be)g
(passed)h(to)g Fu(Tools.registerStdShellCmdTool)21 b
Fv(b)n(ut)26 b(also)g(be)f(used)h(to)g(let)g(CM)h(perform)0
5281 y(name)20 b(e)o(xtension)e(directly)-5 b(.)24 b(T)-7
b(o)20 b(do)g(so,)g(one)g(must)g(in)m(v)n(ok)o(e)f(function)g
Fu(Tools.extend)p Fv(:)1968 5709 y(36)p eop
%%Page: 37 38
37 37 bop 100 83 a Fu(val)49 b(extend)g(:)g(extensionStyle)e(->)747
183 y(\(string)i(*)g(toolopts)g(option\))f(->)747 282
y(\(string)h(*)g(class)g(option)g(*)h(toolopts)e(option\))g(list)0
509 y Fw(Checking)20 b(time)h(stamps:)k Fv(A)c(tool)f(can)g(check)f
(whether)h(a)g(gi)n(v)o(en)f(source)h(\002le)g(is)i(older)d(than)h(all)
g(of)g(its)i(corresponding)16 b(tar)o(get)k(\002les.)100
735 y Fu(val)49 b(outdated)f(:)i(string)f(->)g(string)g(list)g(*)g
(string)g(->)g(bool)0 962 y Fv(In)22 b(a)g(call)h Fu(\(Tools.outdated)
47 b Fl(t)j Fu(\()p Fl(l)r Fu(,)e Fl(s)p Fu(\)\))p Fv(,)23
b Fl(t)f Fv(is)h(the)g(name)e(of)h(the)g(tool,)g Fl(l)i
Fv(is)f(the)f(list)h(of)f(tar)o(gets)g(\(as)g(nati)n(v)o(e)f(\002le)i
(names\),)f(and)f Fl(s)0 1061 y Fv(is)g(the)f(source)g(\(also)g(as)h(a)
f(nati)n(v)o(e)g(\002le)h(name\).)0 1209 y(An)f(alternati)n(v)o(e)f(w)o
(ay)h(of)g(checking)f(for)g(outdated)g(sources)h(\(in)g(the)g(style)g
(of)g(the)h(No)n(web-tool;)d(see)j(section)f(6.2.6\))e(is)j(the)f
(follo)n(wing:)100 1436 y Fu(val)49 b(outdated')f(:)i(string)e(->)897
1535 y({)h(src:)g(string,)g(wtn:)g(string,)f(tgt:)h(string)g(})h(->)f
(bool)0 1762 y Fv(The)24 b(idea)g(here)g(is)h(that)f(if)h(both)e
Fu(tgt)i Fv(\(\223tar)o(get\224\))d(and)i Fu(wtn)g Fv
(\(\223witness\224\))g(e)o(xist,)h(then)f Fu(tgt)g Fv(is)h(considered)e
(outdated)f(if)j Fu(wtn)f Fv(is)h(older)0 1861 y(than)f
Fu(src)p Fv(.)39 b(Otherwise,)26 b(if)f Fu(tgt)g Fv(e)o(xists)g(b)n(ut)
g Fu(wtn)g Fv(does)f(not,)i(then)e Fu(tgt)h Fv(is)h(considered)d
(outdated)g(if)i(it)h(is)g(older)e(than)g Fu(src)p Fv(.)39
b(If)25 b Fu(tgt)0 1961 y Fv(does)20 b(not)g(e)o(xist,)g(then)g(it)h
(is)g(al)o(w)o(ays)f(considered)f(outdated.)0 2109 y
Fw(File-)j(and)g(dir)o(ectory-cr)o(eation:)j Fv(T)-7
b(o)22 b(open)f(a)i(te)o(xt)f(\002le)g(for)g(output)e(in)j(such)e(a)i
(w)o(ay)f(that)g(all)h(directories)e(leading)g(up)g(to)i(it)f(are)g
(created)0 2208 y(when)e(the)o(y)f(do)h(not)g(already)f(e)o(xist,)h
(use)g Fu(Tools.openTextOut)p Fv(:)100 2435 y Fu(val)49
b(openTextOut)f(:)h(string)g(->)g(TextIO.outstream)0
2661 y Fv(T)-7 b(o)28 b(create)g(the)f(same)h(directories)f(without)g
(opening)f(the)i(\002le)h(\(and)e(without)g(e)n(v)o(en)g(creating)f(it)
j(if)f(it)h(does)e(not)h(e)o(xist\),)h(use)f(function)0
2761 y Fu(Tools.makeDirs)p Fv(:)100 2988 y Fu(val)49
b(makeDirs)f(:)i(string)f(->)g(unit)0 3214 y Fv(Note)20
b(that)g(the)h(string)f(passed)g(to)g Fu(makeDirs)f Fv(is)i(still)h
(the)e(name)f(of)h(a)h(\002le!)0 3362 y Fw(Option)f(pr)o(ocessing:)k
Fv(F)o(or)c(simple)g(tools,)g(the)h(follo)n(wing)d(function)h(for)g
(\223parsing\224)g(tool)h(options)f(can)h(be)g(useful:)100
3588 y Fu(val)49 b(parseOptions)e(:)299 3688 y({)j(tool)f(:)g(string,)g
(keywords)f(:)i(string)e(list,)h(options)g(:)g(toolopts)g(})g(->)299
3788 y({)h(matches)e(:)i(string)e(->)i(toolopts)e(option,)h
(restoptions)e(:)j(string)f(list)g(})0 4014 y Fv(Gi)n(v)o(en)17
b(a)i(list)g(of)f(accepted)g(k)o(e)o(yw)o(ords,)f(this)h(function)f
(scans)i(the)f(tool)g(options)f(and)h(collects)g(occurrences)f(of)h
(sub-option)e(lists)j(labelled)0 4114 y(by)24 b(one)h(of)f(these)h(k)o
(e)o(yw)o(ords.)37 b(An)o(y)24 b(sub-option)f(list)j(that)f(is)g(not)g
(recognized)d(and)j(an)o(y)f(k)o(e)o(yw)o(ord)f(that)h(occurs)g(more)g
(than)h(once)f(will)0 4213 y(be)f(rejected)f(as)i(an)f(error)-5
b(.)32 b(The)23 b(result)g(consists)g(of)g(a)h(function)d
Fu(matches)h Fv(that)h(can)g(be)g(uses)g(to)g(query)f(each)h(of)f(the)h
(k)o(e)o(yw)o(ords.)32 b(The)0 4313 y(function)18 b(also)j(collects)f
(and)g(returns)f(all)i(the)f Fu(STRING)g Fv(options.)0
4461 y Fw(Issuing)j(diagnostics:)28 b Fv(Functions)21
b Fu(Tools.say)g Fv(and)g Fu(Tools.vsay)g Fv(both)g(tak)o(e)h(a)g(list)
h(of)f(strings)g(and)f(output)g(the)h(concatenation)0
4560 y(of)16 b(these)h(strings)g(to)g(the)f(compiler')-5
b(s)16 b(standard)g(control)f(output)g(stream)i(\(i.e.,)g(usually)f
Fu(TextIO.stdOut)p Fv(\).)21 b(The)c(dif)n(ference)d(between)0
4660 y Fu(say)22 b Fv(and)f Fu(vsay)h Fv(is)h(that)f(the)g(former)e(w)o
(orks)h(unconditionally)e(while)j(the)g(latter)g(is)h(controlled)d(by)h
Fu(CM.Control.verbose)e Fv(\(see)0 4760 y(section)h(4.1.3\).)0
4907 y Fw(Anchor)m(-con\002gurable)27 b(strings:)41 b
Fv(Mainly)28 b(for)f(the)h(purpose)f(of)h(implementing)e(anchor)n
(-con\002gurable)e(names)k(for)f(auxiliary)g(shell)0
5007 y(commands)18 b(\(such)i(as)h Fu(ml-yacc)p Fv(\),)e(one)g(can)h
(in)m(v)n(ok)o(e)f Fu(Tools.mkCmdName)p Fv(:)100 5233
y Fu(val)49 b(mkCmdName)f(:)i(string)e(->)i(string)0
5460 y Fv(If)20 b Fl(m)h Fv(is)g(a)f(path)g(anchor)f(that)h(points)g
(to)g Fl(d)p Fv(,)h(then)f Fu(\(mkCmdName)48 b Fl(m)p
Fu(\))20 b Fv(returns)f Fl(d)p Fu(/)p Fl(m)p Fv(;)i(otherwise)f(it)h
(returns)e Fl(m)p Fv(.)1968 5709 y(37)p eop
%%Page: 38 39
38 38 bop 0 83 a Fr(11.3)99 b(Plug-in)25 b(T)-9 b(ools)0
289 y Fw(11.3.1)81 b(A)l(utomatically)18 b(loaded,)i(global)f(plug-in)i
(tools)0 494 y Fv(If)h(CM)h(encounters)e(a)i(member)e(class)i(name)f
Fl(c)h Fv(that)f(it)i(does)e(not)g(kno)n(w)f(about,)h(then)g(it)h
(tries)g(to)f(load)g(a)h(plugin)e(module)g(named)h Fu($/)p
Fl(c)p Fu(-)0 594 y(tool.cm)p Fv(.)47 b(If)27 b(it)h(sees)h(a)f(\002le)
g(whose)g(name)f(ends)g(in)h(suf)n(\002x)f Fl(s)h Fv(for)f(which)g(no)h
(e)o(xplicit)f(member)f(class)j(has)e(been)g(speci\002ed)h(in)g(the)0
693 y(CM)22 b(description)e(\002le)i(and)f(for)g(which)g(automatic)f
(member)g(classi\002cation)h(f)o(ails,)i(it)f(will)g(try)f(to)g(load)g
(a)h(plugin)e(module)g(named)h Fu($/)p Fl(s)p Fu(-)0
793 y(ext.cm)p Fv(.)38 b(The)24 b(so-loaded)f(module)g(can)i(then)f(re)
o(gister)g(the)h(required)d(tool,)k(thereby)d(enabling)g(CM)i(to)g
(successfully)f(deal)h(with)g(the)0 892 y(pre)n(viously)18
b(unkno)n(wn)g(member)-5 b(.)0 1042 y(This)24 b(mechanism)e(mak)o(es)i
(it)g(possible)f(for)g(ne)n(w)h(tools)f(to)h(be)f(added)g(by)g(simply)g
(placing)g(appropriately)e(named)h(plug-in)g(libraries)h(in)0
1142 y(some)c(con)m(v)o(enient)e(place)i(and)g(making)g(the)g
(corresponding)d(adjustments)j(to)h(the)f(anchor)f(en)m(vironment.)k
(In)d(other)g(w)o(ords,)g(description)0 1241 y(\002les)f
Fu($/)p Fl(c)p Fu(-tool.cm)d Fv(and)h Fu($/)p Fl(s)p
Fu(-ext.cm)g Fv(that)h(correspond)d(to)j(general-purpose)c(tools)k
(should)e(be)i(re)o(gistered)e(either)i(by)f(modifying)0
1341 y(the)22 b(global)f(or)g(the)h(local)g(path)f(con\002guration)e
(\002le)j(or)g(by)f(directly)g(in)m(v)n(oking)f(functon)g
Fu(CM.Anchor.anchor)f Fv(\(see)j(section)g(4.1.4\).)0
1440 y(Actual)e(description)f(\002les)i(for)e(the)i(tools')f
(implementations)e(can)i(then)g(be)g(placed)f(in)h(arbitrary)f
(locations.)0 1711 y Fw(11.3.2)81 b(Explicitly)20 b(loaded,)g(local)f
(plug-in)i(tools)0 1917 y Fv(Some)i(projects)g(might)f(w)o(ant)i(to)f
(use)h(their)f(o)n(wn)f(special-purpose)f(tools)j(for)e(which)h(a)h
(global)e(installation)h(is)h(not)f(con)m(v)o(enient)e(or)i(not)0
2016 y(appropriate.)h(In)d(such)f(a)h(case,)h(the)e(project')-5
b(s)21 b(description)e(\002le)i(can)g(e)o(xplicitly)f(demand)f(the)i
(tool)f(to)h(be)g(re)o(gistered)e(temporarily)-5 b(.)24
b(This)0 2116 y(is)d(the)f(purpose)f(of)h(the)g(special)g(tool)g(class)
h Fu(tool)p Fv(.)k(Example:)0 2348 y Fu(Library)199 2448
y(structure)48 b(Foo)0 2548 y(is)199 2647 y(bar-tool.cm)g(:)i(tool)199
2747 y(foo.b)f(:)h(bar)0 2979 y Fv(Here,)16 b(the)f(member)f(whose)h
(class)i(is)f Fu(tool)f Fv(\(i.e,)h Fu(bar-tool.cm)p
Fv(\))e(must)h(be)h(the)f(CM)h(description)e(\002le)i(of)f(the)h(tool')
-5 b(s)15 b(implementation.)0 3079 y(The)25 b(dif)n(ference)f(to)h
(class)i Fu(cm)f Fv(is)g(that)g(the)g(so-speci\002ed)e(library)h(does)g
(not)g(become)g(part)g(of)g(the)h(current)e(project)h(b)n(ut)g(is)i
(loaded)d(and)0 3179 y(link)o(ed)19 b(immediately)g(via)i
Fu(CM.load)p 1141 3179 25 4 v 28 w(plugin)p Fv(,)f(causing)f(one)h(or)f
(more)h(ne)n(w)g(classes)h(and)f(their)g(classi\002ers)h(to)f(be)g(re)o
(gistered.)0 3328 y(If)i(we)g(assume)g(that)h(loading)d
Fu(bar-tool.cm)h Fv(causes)h(a)h(class)g Fu(bar)f Fv(to)g(be)g(re)o
(gistered)f(with)h(its)h(associated)f(rule)g(\(e.g.,)f(by)h(in)m(v)n
(oking)0 3428 y Fu(Tools.registerStdShellCmdTool)p Fv(\),)28
b(the)i(class)i(name)e Fu(bar)g Fv(will)i(be)e(a)n(v)n(ailable)g(for)g
(all)i(subsequent)d(members)g(of)i(the)0 3527 y(current)18
b(description)g(\002le.)26 b(Lik)o(e)n(wise,)19 b(classi\002ers)i
(\(e.g.,)d(\002lename)h(suf)n(\002x)o(es\))g(re)o(gistered)f(by)h
Fu(bar-tool.cm)g Fv(will)h(also)g(be)f(a)n(v)n(ailable.)0
3677 y(The)k(ef)n(fect)h(of)f(re)o(gistering)f(classes)j(and)e
(classi\002ers)i(using)e(class)i Fu(tool)e Fv(lasts)i(until)e(the)h
(end)f(of)h(the)g(current)e(description)g(\002le)i(and)g(is)0
3776 y(restricted)f(to)g(that)g(\002le.)35 b(This)23
b(means)g(that)g(other)g(description)e(\002les)k(that)e(also)g(w)o(ant)
h(to)f(use)g(class)i Fu(bar)e Fv(will)h(ha)n(v)o(e)e(to)i(ha)n(v)o(e)e
(their)h(o)n(wn)0 3876 y Fu(tool)d Fv(entry)-5 b(.)408
3846 y Fq(11)0 4026 y Fv(Local)20 b(tool)g(classes)h(and)f(suf)n(\002x)
o(es)f(temporarily)g(o)o(v)o(erride)e(an)o(y)j(equally-named)d(global)i
(classes)j(or)d(suf)n(\002x)o(es,)h(respecti)n(v)o(ely)-5
b(.)0 4296 y Fw(11.3.3)81 b(Locally)19 b(declar)o(ed)h(suf\002xes)0
4502 y Fv(It)27 b(is)g(sometimes)f(con)m(v)o(enient)e(to)i(locally)g
(add)g(another)f(recognized)f(\002lename)i(suf)n(\002x)g(to)h(an)f
(already)f(re)o(gistered)g(class.)45 b(This)26 b(is)i(the)0
4601 y(purpose)18 b(of)h(the)g(special)g(tool)g(class)h
Fu(suffix)p Fv(.)k(F)o(or)19 b(e)o(xample,)f(a)i(programmer)c(who)i
(has)i(named)e(all)i(ML)f(\002les)h(in)g(such)f(a)g(w)o(ay)h(that)f
(\002le)0 4701 y(names)h(end)g(in)g Fu(.ml)g Fv(could)f(write)i(near)e
(the)h(be)o(ginning)e(of)i(the)g(description)f(\002le:)199
4934 y Fu(ml)50 b(:)f(suffix)g(\(sml\))0 5166 y Fv(F)o(or)20
b(the)g(remainder)e(of)i(the)g(current)f(description)g(\002le,)i(all)f
(such)g Fu(.ml)p Fv(-\002les)h(will)g(no)n(w)e(be)h(treated)g(as)h
(members)e(of)h(class)h Fu(sml)p Fv(.)p 0 5219 1608 4
v 66 5275 a Fp(11)120 5298 y Fo(Note)c(that)h(CM)e(cannot)i(enforce)h
(that)f(the)f(tool)g(library)i(actually)g(re)o(gister)g(a)d(class)i(or)
e(a)h(classi\002er)l(.)22 b(An)o(y)17 b(side-ef)n(fects)i(other)f(than)
g(re)o(gistering)h(classes)f(or)e(classi\002ers)0 5377
y(are)i(be)o(yond)g(CM')l(s)f(control)i(and)e(will)h(not)g(be)f(undone)
h(once)g(processing)h(the)f(current)g(description)i(\002le)e(is)f
(complete.)1968 5709 y Fv(38)p eop
%%Page: 39 40
39 39 bop 0 83 a Fx(12)119 b(P)o(arallel)30 b(and)h(distrib)n(uted)g
(compilation)0 318 y Fv(T)-7 b(o)20 b(speed)g(up)g(recompilation)d(of)j
(lar)o(ge)f(projects)h(with)g(man)o(y)f(ML)h(source)f(\002les,)i(CM)g
(can)f(e)o(xploit)f(parallelism)g(that)i(is)g(inherent)d(in)j(the)0
418 y(dependenc)o(y)f(graph.)32 b(Currently)-5 b(,)21
b(the)i(only)f(kind)g(of)h(operating)e(system)i(for)g(which)f(this)h
(is)h(implemented)d(is)j(Unix)f(\()p Fu(OPSYS)p 3749
418 25 4 v 28 w(UNIX)p Fv(\),)0 518 y(where)29 b(separate)h(processes)g
(are)g(used.)54 b(From)30 b(there,)i(one)d(can)h(distrib)n(ute)g(the)g
(w)o(ork)f(across)h(a)h(netw)o(ork)e(of)h(machines)f(by)g(taking)0
617 y(adv)n(antage)18 b(of)i(the)g(netw)o(ork)f(\002le)i(system)g(and)e
(the)h(\223rsh\224)g(f)o(acility)-5 b(.)0 766 y(T)e(o)17
b(perform)f(parallel)h(compilations,)f(one)g(must)i(attach)f
Ft(compile)g(server)o(s)h Fv(to)g(the)f(currently)f(running)f(CM)j
(session.)24 b(This)18 b(is)g(done)e(using)0 866 y(function)i
Fu(CM.Server.start)p Fv(,)g(which)i(has)g(the)g(follo)n(wing)f(type:)
100 1098 y Fu(structure)48 b(Server)g(:)i(sig)299 1198
y(type)f(server)299 1297 y(val)g(start)g(:)h({)f(name:)g(string,)996
1397 y(cmd:)g(string)g(*)h(string)e(list,)996 1497 y(pathtrans:)g
(\(string)h(->)g(string\))g(option,)996 1596 y(pref:)g(int)g(})h(->)f
(server)g(option)100 1696 y(end)0 1928 y Fv(Here,)21
b Fu(name)g Fv(is)h(an)f(arbitrary)f(string)g(that)i(is)g(used)e(by)h
(CM)h(when)f(issuing)g(diagnostic)f(messages)h(concerning)d(the)j(serv)
o(er)3646 1898 y Fq(12)3729 1928 y Fv(and)g Fu(cmd)0
2028 y Fv(is)g(a)g(v)n(alue)e(suitable)h(as)h(ar)o(gument)d(to)i
Fu(Unix.execute)p Fv(.)0 2177 y(The)32 b(program)d(to)j(be)g
(speci\002ed)g(by)f Fu(cmd)h Fv(should)f(be)h(another)e(instance)i(of)f
(CM\227running)f(in)i(\223sla)n(v)o(e)g(mode\224.)59
b(T)-7 b(o)32 b(start)h(CM)f(in)0 2277 y(sla)n(v)o(e)h(mode,)i(start)e
Fu(sml)g Fv(with)f(a)i(single)e(command-line)e(ar)o(gument)g(of)j
Fu(@CMslave)p Fv(.)61 b(F)o(or)33 b(e)o(xample,)h(if)f(you)f(ha)n(v)o
(e)g(installed)g(in)0 2376 y(/path/to/smlnj/bin/sml,)18
b(then)i(a)g(serv)o(er)g(process)f(on)h(the)g(local)h(machine)e(could)g
(be)h(started)g(by)100 2608 y Fu(CM.Server.start)47 b({)i(name)g(=)h
("A",)f(pathtrans)f(=)i(NONE,)f(pref)g(=)g(0,)996 2708
y(cmd)h(=)f(\("/path/to/smlnj/bin/sml",)1345 2807 y(["@CMslave"]\))e
(};)0 3039 y Fv(T)-7 b(o)21 b(run)g(a)h(process)f(on)f(a)i(remote)f
(machine,)f(e.g.,)h(\223thatmachine\224,)e(as)j(compute)e(serv)o(er)m
(,)g(one)h(can)g(use)g(\223rsh\224.)3243 3009 y Fq(13)3333
3039 y Fv(Unfortunately)-5 b(,)19 b(at)j(the)0 3139 y(moment)f(it)h(is)
h(necessary)e(to)h(specify)g(the)g(full)f(path)h(to)g(\223rsh\224)g
(because)f Fu(Unix.execute)f Fv(\(and)h(therefore)f Fu(CM.Server.start)
p Fv(\))0 3239 y(does)g(not)g(perform)e(a)i Fu(PATH)g
Fv(search.)25 b(The)20 b(remote)f(machine)g(must)h(share)g(the)g
(\002le)h(system)f(with)g(the)h(local)f(machine,)e(for)i(e)o(xample)f
(via)0 3338 y(NFS.)100 3570 y Fu(CM.Server.start)47 b({)i(name)g(=)h
("thatmachine",)996 3670 y(pathtrans)e(=)i(NONE,)f(pref)g(=)h(0,)996
3770 y(cmd)g(=)f(\("/usr/ucb/rsh",)1345 3869 y(["thatmachine",)1395
3969 y("/path/to/smlnj/bin/sml",)1395 4069 y("@CMslave"]\))e(};)0
4301 y Fv(Y)-9 b(ou)23 b(can)g(start)h(as)h(man)o(y)d(serv)o(ers)h(as)h
(you)f(w)o(ant,)h(b)n(ut)g(the)o(y)f(all)h(must)f(ha)n(v)o(e)g(dif)n
(ferent)f(names.)35 b(If)23 b(you)g(attach)g(an)o(y)g(serv)o(ers)g(at)h
(all,)h(then)0 4400 y(you)19 b(should)g(attach)g(at)h(least)h(tw)o(o)f
(\(unless)g(you)e(w)o(ant)i(to)g(attach)g(one)f(that)h(runs)f(on)h(a)g
(machine)e(v)n(astly)i(more)f(po)n(werful)f(than)h(your)g(local)0
4500 y(one\).)30 b(Local)22 b(serv)o(ers)f(mak)o(e)h(sense)h(on)f
(multi-CPU)g(machines:)28 b(start)23 b(as)g(man)o(y)e(serv)o(ers)g(as)i
(there)f(are)g(CPUs.)32 b(P)o(arallel)23 b(mak)o(e)e(is)j(most)0
4599 y(ef)n(fecti)n(v)o(e)18 b(on)g(multiprocessor)f(machines)h
(because)h(netw)o(ork)e(latencies)i(can)g(ha)n(v)o(e)g(a)g(se)n(v)o
(erely)f(limiting)g(ef)n(fect)h(on)f(what)h(can)g(be)g(gained)0
4699 y(in)k(the)f(distrib)n(uted)f(case.)32 b(\(Be)23
b(careful,)f(though.)29 b(Since)23 b(there)f(is)h(no)f(memory-sharing)d
(to)j(speak)g(of)g(between)g(separate)g(instances)g(of)0
4799 y Fu(sml)p Fv(,)e(you)f(should)g(be)i(sure)f(to)g(check)f(that)i
(your)e(machine)g(has)h(enough)e(main)i(memory)-5 b(.\))0
4948 y(If)23 b(serv)o(ers)f(on)h(machines)f(of)h(dif)n(ferent)e(po)n
(wer)h(are)h(attached,)f(one)h(can)g(gi)n(v)o(e)f(some)h(preference)d
(to)j(f)o(aster)h(ones)e(by)h(setting)g(the)g Fu(pref)0
5048 y Fv(v)n(alue)18 b(higher)-5 b(.)24 b(\(But)19 b(since)g(the)g
Fu(pref)g Fv(v)n(alue)f(is)i(consulted)e(only)g(in)h(the)g(rare)g(case)
g(that)g(more)f(than)h(one)f(serv)o(er)g(is)i(idle,)f(this)h(will)f
(rarely)0 5147 y(lead)k(to)f(v)n(astly)h(better)f(throughput.\))29
b(All)24 b(attached)e(serv)o(ers)g(must)h(use)g(the)f(same)h
(architecture-OS)e(combination)f(as)k(the)f(controlling)0
5247 y(machine.)p 0 5300 1608 4 v 66 5355 a Fp(12)120
5379 y Fo(Therefore,)18 b(it)f(is)g(useful)h(to)f(choose)h
Fm(name)e Fo(uniquely)l(.)66 5437 y Fp(13)120 5460 y
Fo(On)g(certain)k(systems)d(it)g(may)g(be)g(necessary)i(to)e(wrap)h
Fm(rsh)e Fo(into)i(a)f(script)h(that)g(protects)h(rsh)e(from)g
(interrupt)i(signals.)1968 5709 y Fv(39)p eop
%%Page: 40 41
40 40 bop 0 83 a Fv(In)29 b(parallel)g(mode,)h(the)g(master)f(process)g
(itself)h(normally)d(does)i(not)g(compile)g(an)o(ything.)50
b(Therefore,)29 b(if)h(you)e(w)o(ant)i(to)f(utilize)h(the)0
183 y(master')-5 b(s)19 b(CPU)h(for)f(compilation,)e(you)h(should)g
(start)h(a)h(compile)e(serv)o(er)g(on)g(the)h(same)g(machine)f(that)h
(the)g(master)g(runs)g(on)f(\(e)n(v)o(en)g(if)h(it)h(is)0
282 y(a)h(uniprocessor)d(machine\).)0 426 y(The)k Fu(pathtrans)g
Fv(ar)o(gument)e(is)k(used)e(when)g(connecting)f(to)i(a)g(machine)e
(with)i(a)g(dif)n(ferent)e(\002le-system)i(layout.)31
b(F)o(or)23 b(local)f(serv)o(ers,)0 525 y(it)28 b(can)g(safely)f(be)h
(left)f(at)h Fu(NONE)p Fv(.)g(The)f(\223path)g(transformation\224)e
(function)h(is)i(used)f(to)h(translate)f(local)h(path)f(names)g(to)h
(their)f(remote)0 625 y(counterparts.)39 b(This)26 b(can)f(be)h(a)g
(bit)g(trick)o(y)e(to)i(get)g(right,)g(especially)f(if)h(the)f
(machines)g(use)h(automounters)d(or)i(similar)h(de)n(vices.)41
b(The)0 725 y Fu(pathtrans)19 b Fv(functions)g(consumes)g(and)h
(produces)e(names)i(in)g(CM')-5 b(s)22 b(internal)d(\223protocol)f
(encoding\224)g(\(see)j(Section)f(12.1\).)0 868 y(Once)k(serv)o(ers)g
(ha)n(v)o(e)g(been)g(attached,)h(one)f(can)g(in)m(v)n(ok)o(e)f
(functions)h(lik)o(e)g Fu(CM.recomp)p Fv(,)h Fu(CM.make)p
Fv(,)f(and)g Fu(CM.stabilize)p Fv(.)37 b(The)o(y)0 968
y(should)19 b(w)o(ork)h(the)g(w)o(ay)g(the)g(al)o(w)o(ays)h(do,)f(b)n
(ut)g(during)e(compilation)h(the)o(y)g(will)i(tak)o(e)f(adv)n(antage)f
(of)g(parallelism.)0 1111 y(When)h(CM)g(is)h(interrupted)d(using)h
(Control-C)g(\(or)h(such\),)f(one)g(will)i(sometimes)e(e)o(xperience)f
(a)i(certain)g(delay)f(if)h(serv)o(ers)f(are)h(currently)0
1211 y(attached)j(and)g(b)n(usy)-5 b(.)34 b(This)23 b(is)i(because)d
(the)i(interrupt-handling)19 b(code)k(will)h(w)o(ait)g(for)f(the)h
(serv)o(ers)f(to)g(\002nish)h(what)f(the)o(y)g(are)g(currently)0
1310 y(doing)c(and)h(bring)f(them)g(back)h(to)g(an)g(\223idle\224)g
(state)h(\002rst.)0 1589 y Fr(12.1)99 b(P)o(athname)26
b(pr)n(otocol)f(encoding)0 1789 y Fv(A)j(path)f(encoded)f(by)h(CM')-5
b(s)29 b(master)n(-sla)n(v)o(e)e(protocol)f(encoding)g(does)h(not)g
(only)g(specify)g(which)g(\002le)h(a)g(path)f(refers)h(to)f(b)n(ut)h
(also,)h(in)0 1888 y(some)20 b(sense,)g(speci\002es)g(why)f(CM)i
(constructed)d(this)i(path)g(in)g(the)f(\002rst)i(place.)k(F)o(or)19
b(e)o(xample,)f(the)i(encoding)e Fu(a/b/c.cm:d/e.sml)0
1988 y Fv(represents)31 b(the)h(\002le)h Fu(a/b/d/e.sml)d
Fv(b)n(ut)i(also)h(tells)f(us)h(that)f(it)h(w)o(as)f(constructed)f(by)g
(putting)g Fu(d/e.sml)g Fv(into)h(the)g(conte)o(xt)f(of)0
2088 y(description)21 b(\002le)h Fu(a/b/c.cm)p Fv(.)30
b(Thus,)22 b(an)g(encoded)e(path)h(name)h(consists)g(of)g(one)g(or)f
(more)h(colon-separated)d(\()p Fw(:)p Fv(\))28 b(sections,)22
b(and)g(each)0 2187 y(section)d(consists)i(of)e(slash-separated)g(\()p
Fw(/)p Fv(\))g(arcs.)25 b(T)-7 b(o)20 b(\002nd)f(out)h(what)f(actual)h
(\002le)g(a)g(path)g(refers)f(to,)h(it)g(is)h(necessary)e(to)g(erase)h
(all)h(arcs)e(that)0 2287 y(precede)g(colons.)0 2430
y(The)i(\002rst)i(section)e(is)i(special)f(because)f(it)h(also)g
(speci\002es)g(whether)f(the)g(whole)h(path)f(w)o(as)h(relati)n(v)o(e)f
(or)h(absolute,)f(or)g(whether)g(it)h(w)o(as)h(an)0 2530
y(anchored)18 b(path.)0 2742 y Fw(Anchor)o(ed)i(paths)41
b Fv(start)25 b(with)f(a)g(dollar)n(-symbol)e Fw($)p
Fv(.)36 b(The)24 b(name)f(of)h(the)f(anchor)g(is)i(the)f(string)f
(between)g(this)i(leading)e(dollar)n(-symbol)208 2841
y(and)h(the)i(\002rst)g(occurence)e(of)h(a)h(slash)g
Fw(/)g Fv(within)f(the)h(\002rst)g(section.)40 b(The)25
b(remaining)f(arcs)i(of)f(the)h(\002rst)g(section)f(are)g(interpreted)
208 2941 y(relati)n(v)o(e)19 b(to)h(the)h(current)d(v)n(alue)i(of)g
(the)g(anchor)-5 b(.)0 3101 y Fw(Absolute)20 b(paths)42
b Fv(start)25 b(either)g(with)g(a)g(percent-sign)e Fw(\045)j
Fv(or)f(a)g(slash)h Fw(/)p Fv(.)40 b(The)25 b(canonical)e(form)h(is)i
(the)f(one)g(with)g(the)g(percent-sign:)33 b(it)208 3201
y(speci\002es)19 b(the)g(v)n(olume)g(name)f(between)h(the)g
Fw(\045)h Fv(and)e(the)h(\002rst)h(slash.)26 b(In)19
b(the)g(common)e(case)j(where)e(the)i(v)n(olume)e(name)g(is)i(empty)208
3300 y(\(i.e,)f Ft(always)i Fv(on)f(Unix)f(systems\),)h(the)h(path)e
(starts)i(with)g Fw(/)p Fv(.)0 3460 y Fw(Relati)o(v)o(e)f(paths)41
b Fv(are)20 b(all)h(other)e(paths.)0 3672 y(Encoded)j(path)h(names)h
(ne)n(v)o(er)e(contain)h(white)h(space.)36 b(Moreo)o(v)o(er)m(,)21
b(the)j(encoding)e(for)h(path)g(arcs,)i(v)n(olume)e(names,)h(or)g
(anchor)e(names)0 3772 y(does)g(not)g(contain)f(special)h(characters)f
(such)h(as)h Fw(/)p Fv(,)g Fw($)p Fv(,)g Fw(\045)p Fv(,)g
Fw(:)p Fv(,)f Fu(\\)p Fv(,)h Fw(\()p Fv(,)g(and)e Fw(\))p
Fv(.)31 b(Instead,)22 b(should)f(white)h(space)g(or)g(special)g
(characters)g(occur)0 3871 y(in)f(the)f(non-encoded)d(name,)j(then)h
(the)o(y)e(will)j(be)e(encoded)f(using)h(the)h(escape-sequence)d
Fu(\\ddd)j Fv(where)f Fu(ddd)h Fv(is)g(the)g(decimal)f(v)n(alue)g(of)0
3971 y(the)g(respecti)n(v)o(e)f(character')-5 b(s)20
b(ordinal)e(number)h(\(i.e,)h(the)g(result)g(of)g(applying)e
Fu(Char.ord)p Fv(\).)0 4114 y(The)h(so-called)f Ft(curr)m(ent)h
Fv(arc)g(is)g(encoded)f(as)h Fw(.)p Fv(,)g(the)g Ft(par)m(ent)g
Fv(arc)f(uses)i Fw(..)25 b Fv(as)19 b(its)h(representation.)j(It)c
(might)f(be)h(that)g(under)f(some)g(operating)0 4214
y(systems)k(the)f(names)f Fu(.)28 b Fv(or)21 b Fu(..)28
b Fv(do)20 b(not)h(actually)g(refer)f(to)h(the)g(current)f(or)h(the)g
(parent)f(arc.)27 b(In)21 b(such)f(a)i(case,)f(CM)h(will)g(encode)e
(the)h(dots)0 4314 y(in)f(these)h(names)f(using)f(the)h
Fu(\\ddd)g Fv(method,)f(too.)0 4457 y(When)i(issuing)g(progress)f
(messages,)i(CM)g(sho)n(ws)f(path)g(names)g(in)g(a)h(form)e(that)h(is)h
(almost)g(the)f(same)g(as)h(the)f(protocol)f(encoding.)26
b(The)0 4557 y(only)17 b(dif)n(ference)f(is)j(that)f(arcs)g(that)g
(precede)f(colon-sign)f Fw(:)24 b Fv(are)18 b(enclosed)f(within)h
(parentheses)e(to)i(emphasize)f(that)h(the)o(y)g(are)f(\223not)h
(really)0 4656 y(there\224.)24 b(The)c(same)h(form)e(is)i(also)f(used)g
(by)g Fu(CM.Library.descr)p Fv(.)0 4935 y Fr(12.2)99
b(P)o(arallel)24 b(bootstrap)h(compilation)0 5135 y Fv(The)30
b(bootstrap)f(compiler)797 5104 y Fq(14)889 5135 y Fv(with)h(its)i
(main)e(function)f Fu(CMB.make)g Fv(and)h(the)h(corresponding)c
(cross-compilation)h(v)n(ariants)h(of)i(the)0 5234 y(bootstrap)23
b(compiler)g(will)i(also)g(use)g(an)o(y)e(attached)h(compile)f(serv)o
(ers.)37 b(If)25 b(one)e(intends)h(to)h(e)o(xclusi)n(v)o(ely)d(use)j
(the)f(bootstrap)f(compiler)m(,)0 5334 y(one)d(can)g(e)n(v)o(en)f
(attach)h(serv)o(ers)f(that)i(run)e(on)h(machines)f(with)i(dif)n
(ferent)d(architecture)h(or)h(operating)e(system.)p 0
5381 1608 4 v 66 5437 a Fp(14)120 5460 y Fo(otherwise)g(not)g
(mentioned)h(in)e(this)h(document)1968 5709 y Fv(40)p
eop
%%Page: 41 42
41 41 bop 0 83 a Fv(Since)18 b(the)f(master)n(-sla)n(v)o(e)h(protocol)e
(is)i(f)o(airly)g(simple,)g(it)g(cannot)f(handle)f(complicated)g
(scenarios)i(such)f(as)h(the)g(one)f(necessary)g(for)g(com-)0
183 y(piling)g(the)g(\223init)h(group\224)d(\(i.e.,)j(the)f(small)h
(set)g(of)f(\002les)h(necessary)f(for)g(setting)g(up)g(the)h(\223perv)n
(asi)n(v)o(e\224)d(en)m(vironment\))f(during)i Fu(CMB.make)p
Fv(.)0 282 y(Therefore,)i(this)j(will)f(al)o(w)o(ays)h(be)f(done)f
(locally)h(by)g(the)g(master)g(process.)0 612 y Fx(13)119
b(The)30 b Fh(sml)f Fx(command)h(line)0 848 y Fv(The)c(SML/NJ)h
(interacti)n(v)o(e)e(system\227including)f(CM\227is)j(started)f(from)g
(the)g(operating)e(system)j(shell)f(by)g(in)m(v)n(oking)e(the)j
(command)0 947 y Fu(sml)p Fv(.)e(This)20 b(section)g(describes)g(those)
g(ar)o(guments)e(accepted)h(by)h Fu(sml)g Fv(that)g(are)h(related)e(to)
i(\(and)e(processed)g(by\))g(CM.)0 1097 y(CM)27 b(accepts)f
Ft(\002le)g(names)p Fv(,)h Ft(mode)e(switc)o(hing)h(\003a)o(gs)p
Fv(,)h(and)f Ft(pr)m(epr)l(ocessor)g(de\002nitions)e
Fv(as)j(ar)o(guments.)41 b(All)26 b(these)h(ar)o(guments)d(are)i(pro-)0
1196 y(cessed)20 b(one-by-one)d(from)i(left)i(to)f(right.)0
1484 y Fr(13.1)99 b(File)24 b(ar)o(guments)0 1689 y Fv(Names)c(of)g(ML)
h(source)e(\002les)i(and)f(CM)h(description)d(\002les)k(can)e(appear)f
(as)h(ar)o(guments)f(in)h(an)o(y)f(order)-5 b(.)0 1922
y Fw(ML)22 b(sour)o(ce)d(\002les)42 b Fv(are)28 b(recognized)e(by)h
(their)h(\002lename)f(e)o(xtensions)g(\()p Fu(.sig)p
Fv(,)i Fu(.sml)p Fv(,)h(or)d Fu(.fun)p Fv(\))h(and)f(cause)h(the)g
(named)f(\002le)i(to)f(be)208 2021 y(loaded)d(via)i Fu(use)g
Fv(at)h(the)f(time)g(the)f(ar)o(gument)f(is)j(being)e(considered.)43
b(Names)27 b(of)g(ML)g(source)f(\002les)i(are)f(speci\002ed)f(using)h
(the)208 2121 y(underlying)17 b(operating)h(system')-5
b(s)21 b(nati)n(v)o(e)e(pathname)g(syntax.)0 2287 y Fw(CM)i
(description)f(\002les)42 b Fv(are)19 b(recognized)d(by)h(their)h(e)o
(xtension)f Fu(.cm)p Fv(.)25 b(The)o(y)17 b(must)h(be)g(speci\002ed)g
(in)h(CM')-5 b(s)19 b Ft(standar)m(d)e Fv(pathname)f(syntax.)208
2387 y(At)23 b(the)h(time)f(the)g(ar)o(gument)e(is)k(being)d
(considered,)g(the)h(named)f(library)h(\(or)f(group\))f(will)j(be)g
(loaded)e(by)h(passing)f(the)i(name)e(to)208 2486 y(either)d
Fu(CM.autoload)f Fv(or)i Fu(CM.make)p Fv(\227depending)c(on)j(which)g
Ft(mode)g(switc)o(hing)h(\003a)o(g)f Fv(\()p Fu(-a)g
Fv(or)h Fu(-m)p Fv(\))f(w)o(as)i(speci\002ed)e(last.)26
b(The)208 2586 y(def)o(ault)19 b(is)i Fu(-a)g Fv(\(i.e.,)e
Fu(CM.autoload)p Fv(\).)0 2873 y Fr(13.2)99 b(Mode-switching)26
b(\003ags)0 3079 y Fv(By)21 b(def)o(ault,)f(CM)i(description)d(\002les)
j(are)e(loaded)g(via)h Fu(CM.autoload)p Fv(.)k(By)c(specifying)e
Fu(-m)i Fv(some)n(where)e(on)i(the)g(command)d(line)j(one)0
3178 y(can)27 b(force)f(the)h(system)h(to)f(use)g Fu(CM.make)g
Fv(for)f(all)i(follo)n(wing)d(description)h(\002les)i(up)f(to)g(the)g
(ne)o(xt)f(occurence)g(of)g Fu(-a)p Fv(.)46 b(The)27
b Fu(-a)g Fv(\003ag)0 3278 y(switches)20 b(back)f(to)h(the)g(def)o
(ault)f(beha)n(vior)m(,)f(using)h Fu(CM.autoload)p Fv(,)g(which)g(will)
h(then)g(again)f(be)g(in)h(ef)n(fect)g(up)f(to)h(the)g(ne)o(xt)f
(occurrence)0 3378 y(of)h(another)f Fu(-m)p Fv(.)0 3527
y(Mode-switching)f(\003ags)j(can)f(be)g(speci\002ed)g(arbitrarily)e
(often)i(on)f(the)i(same)f(command)e(line.)0 3815 y Fr(13.3)99
b(De\002ning)26 b(and)f(unde\002ning)i(CM)e(pr)n(epr)n(ocessor)i
(symbols)0 4020 y Fv(The)17 b(follo)n(wing)f(options)h(for)f
(de\002ning)h(and)g(unde\002ning)e(CM)j(preprocessor)d(symbols)i(can)g
(also)h(occur)f(arbitrarily)f(often.)23 b(Their)17 b(ef)n(fects)0
4120 y(accumulate)25 b(while)h(processing)e(the)i(command)e(line)i
(from)f(left)h(to)g(right.)42 b(The)25 b(resulting)g(\002nal)h(state)h
(of)f(the)g(internal)f(preprocessor)0 4219 y(re)o(gistry)19
b(becomes)g(observ)n(able)g(in)h(the)g(interacti)n(v)o(e)f(system.)0
4452 y Fu(-D)p Fl(v)s Fu(=)p Fl(n)41 b Fv(acts)21 b(lik)o(e)f
Fu(\(#set)49 b(\(CM.symval)f(")p Fl(v)s Fu("\))i(\(SOME)e
Fl(n)p Fu(\)\))p Fv(.)0 4618 y Fu(-D)p Fl(v)c Fv(is)21
b(equi)n(v)n(alent)e(to)h Fu(-D)p Fl(v)s Fu(=1)p Fv(.)0
4784 y Fu(-U)p Fl(v)44 b Fv(acts)21 b(lik)o(e)g Fu(\(#set)49
b(\(CM.symval)e(")p Fl(v)s Fu("\))j(NONE\))p Fv(.)1968
5709 y(41)p eop
%%Page: 42 43
42 42 bop 0 83 a Fx(14)119 b(A)-6 b(uxiliary)31 b(scripts)0
335 y Fr(14.1)99 b(Building)25 b(stand-alone)h(pr)n(ograms)0
540 y Fv(The)e(programmer)d(should)i(normally)f(ha)n(v)o(e)h(no)h(need)
f(to)h(in)m(v)n(ok)o(e)f Fu(CM.mk)p 2215 540 25 4 v 29
w(standalone)g Fv(\(see)h(Section)g(4.1.10\))d(directly)-5
b(.)35 b(Instead,)0 640 y(SML/NJ)23 b(pro)o(vides)e(a)h(command)f
Fu(ml-build)g Fv(which)h(does)g(all)h(the)g(w)o(ork.)30
b(T)-7 b(o)23 b(be)f(able)h(to)f(use)h Fu(ml-build)p
Fv(,)f(one)f(must)i(implement)0 740 y(a)e(library)f(e)o(xporting)f(a)i
(structure)f(that)i(has)f(some)g(function)e(suitable)i(to)g(be)g(an)g
(ar)o(gument)d(to)k Fu(SMLofNJ.exportFn)p Fv(.)j(Suppose)20
b(the)0 839 y(library)26 b(is)i(called)f Fu(myproglib.cm)p
Fv(,)g(the)g(structure)f(is)j(called)d Fu(MyProg)p Fv(,)j(and)d(the)h
(function)f(is)i(called)f Fu(MyProg.main)p Fv(.)44 b(If)27
b(one)0 939 y(wishes)21 b(to)f(produce)e(a)j(heap)e(image)h(\002le)h
Fu(myprog)f Fv(one)f(simply)h(has)g(to)h(in)m(v)n(ok)o(e)e(the)h(follo)
n(wing)e(command:)100 1171 y Fu(ml-build)48 b(myproglib.cm)g
(MyProg.main)f(myprog)0 1404 y Fv(The)20 b(heap)g(image)g(is)h(written)
f(only)g(when)f(needed:)25 b(if)c(a)f(heap)g(image)g(e)o(xists)h(and)f
(is)h(ne)n(wer)f(than)g(all)h(ML)f(sources)g(in)m(v)n(olv)o(ed,)e(pro)o
(vided)0 1504 y(that)26 b(none)f(of)g(the)h(ML)g(sources)g(ha)n(v)o(e)f
(to)h(be)g(recompiled,)f Fu(ml-build)g Fv(will)h(just)h(issue)f(a)g
(message)g(indicating)f(that)g(e)n(v)o(erything)f(is)0
1603 y(up-to-date.)0 1753 y(As)19 b(in)f(the)h(case)f(of)g
Fu(sml)p Fv(,)g(it)h(is)h(possible)d(to)i(de\002ne)e(or)h(unde\002ne)f
(preprocessor)f(symbols)h(using)h Fu(-D)h Fv(or)e Fu(-U)i
Fv(options)e(\(see)h(Section)g(13.3\).)0 1852 y(These)i(options)f(must)
h(be)h(speci\002ed)f(before)e(the)j(three)e(re)o(gular)g(ar)o(guments.)
k(Thus,)c(the)h(full)h(command)d(line)i(syntax)g(is:)100
2085 y Fu(ml-build)48 b([DU-options])g(myproglib.cm)f(MyProg.main)h
(myprog)0 2356 y Fw(14.1.1)81 b(Bootstrapping:)23 b(Ho)o(w)d
Fu(ml-build)g Fw(w)o(orks)0 2561 y Fv(Internally)-5 b(,)21
b Fu(ml-build)h Fv(generates)g(a)h(temporary)e(wrapper)g(library)h
(containing)f(a)i(single)g(call)g(of)g Fu(SMLofNJ.exportFn)d
Fv(as)k(part)0 2661 y(of)e(the)g(library')-5 b(s)21 b
(module-initialization)e(code.)29 b(Once)22 b(this)g(is)h(done,)e(CM)i
(is)f(started,)g Fu(CM.mk)p 2814 2661 V 29 w(standalone)f
Fv(is)i(in)m(v)n(ok)o(ed)d(\(with)i(the)0 2760 y(main)i(project)g
(description)f(\002le,)j(the)e(generated)f(wrapper)g(library)h(\002le,)
i(and)e(the)g(heap)g(image)g(name)g(as)h(ar)o(guments\),)e(and)h(a)h
Ft(bootlist)0 2860 y Fv(\002le)g(is)g(written.)37 b(If)24
b(all)h(these)g(steps)f(were)h(successful,)g Fu(ml-build)e
Fv(in)m(v)n(ok)o(es)g(the)h(\(bare\))f(SML/NJ)i(runtime)e(with)i(a)g
(special)f(option,)0 2960 y(causing)19 b(it)i(to)g Ft(bootstr)o(ap)d
Fv(using)i(the)g Ft(bootlist)g Fv(\002le.)0 3109 y(Each)c(line)g(of)g
(the)g Ft(bootlist)g Fv(\002le)h(speci\002es)g(one)e(module)g(to)h(be)h
(link)o(ed)e(into)h(the)g(\002nal)h(stand-alone)d(program.)22
b(The)15 b(runtime)g(system)i(reads)0 3209 y(these)j(lines)g
(one-by-one,)c(loads)j(the)g(corresponding)d(modules,)j(and)g(e)o(x)o
(ecutes)f(their)h(initialization)g(code.)24 b(Since)19
b(the)h(last)g(module)e(has)0 3308 y(been)g(arranged)e(\(by)i(w)o(ay)g
(of)h(using)e(the)i(wrapper)e(library)g(from)h(abo)o(v)o(e\))e(to)j
(contain)e(a)i(call)g(of)f Fu(SMLofNJ.exportFn)p Fv(,)e(initialization)
0 3408 y(of)k(this)h(module)d(causes)j(the)f(program')-5
b(s)19 b(heap)g(image)h(to)g(be)g(written)g(and)g(the)g(bootstrap)f
(procedure)e(to)k(terminate.)0 3695 y Fr(14.2)99 b(Generating)25
b(dependencies)j(f)n(or)c Fg(make)0 3901 y Fv(When)k(ML)h(programs)d
(are)j(used)f(as)h(parts)f(of)g(lar)o(ger)f(projects,)j(it)f(can)f
(become)f(necessary)h(to)h(use)f(CM)h(\(or)m(,)h(e.g.,)f
Fu(ml-build)f Fv(as)0 4000 y(described)i(in)h(Section)g(14.1\))f(in)i
(a)f(traditional)g(mak)o(e\002le)g(for)f(Unix')h Fw(mak)o(e)p
Fv(.)59 b(T)-7 b(o)31 b(a)n(v)n(oid)g(repeated)f(in)m(v)n(ocations,)i
(the)g(dependenc)o(y)0 4100 y(information)18 b(that)i(CM)h(normally)e
(manages)g(internally)g(must)h(be)g(described)f(e)o(xternally)g(so)h
(that)g Fw(mak)o(e)h Fv(can)f(process)g(it.)0 4249 y(F)o(or)d(this)g
(purpose,)f(it)i(is)g(possible)f(to)g(let)h(CM')-5 b(s)18
b(dependenc)o(y)c(analyzer)i(generate)g(a)h(list)i(of)d(\002les)j(that)
e(a)g(gi)n(v)o(en)f(ML)h(program)e(depends)h(on)0 4349
y(\(see)k(Section)f(4.1.11\).)j(The)e Fu(ml-makedepend)d
Fv(scripts)j(con)m(v)o(eniently)d(wraps)i(this)h(functionality)e(in)h
(such)h(a)f(w)o(ay)h(that)g(it)g(resembles)0 4449 y(the)g(f)o(amiliar)g
Fw(mak)o(edepend)h Fv(f)o(acility)f(found)f(on)g(man)o(y)g(Unix)h
(installations)g(for)g(the)g(use)g(by)g(C)h(projects.)0
4598 y(An)29 b(in)m(v)n(ocation)e(of)i Fu(ml-makedepend)e
Fv(tak)o(es)j(tw)o(o)f(mandatory)e(ar)o(guments:)41 b(the)29
b(root)g(description)e(\002le)j(of)f(the)g(ML)g(program)e(in)0
4698 y(question)21 b(and)h(the)g(name)g(of)g(the)h(tar)o(get)e(that)h
(is)i(to)e(be)h(used)f(by)g(the)g(generated)e(mak)o(e\002le)i(entry)-5
b(.)31 b(Thus,)22 b(a)h(typical)f(command)e(line)i(has)0
4797 y(the)e(form:)100 5030 y Fu(ml-makedepend)47 b(project.cm)h
(targetname)1968 5709 y Fv(42)p eop
%%Page: 43 44
43 43 bop 0 83 a Fv(This)21 b(will)g(cause)g Fu(ml-makedepend)e
Fv(to)i(\002rst)h(look)e(for)g(a)h(\002le)g(named)f Fu(makefile)g
Fv(and)g(if)h(that)g(cannot)f(be)h(found)e(for)h Fu(Makefile)p
Fv(.)0 183 y(\(An)e(error)e(message)i(is)h(issued)f(if)g(neither)f(of)h
(the)g(tw)o(o)g(e)o(xists.\))24 b(After)18 b(deleting)f(an)o(y)g(pre)n
(viously)f(generated)g(entry)h(for)g(this)h(description-)0
282 y(tar)o(get)h(combination,)f(the)i(script)g(will)h(in)m(v)n(ok)o(e)
e(CM)i(and)f(add)f(up-to-date)f(dependenc)o(y)f(information)h(to)j(the)
f(\002le.)0 428 y(Using)26 b(the)f Fu(-f)h Fv(option)f(it)h(is)h
(possible)e(to)h(force)f(an)h(arbitrary)e(programmer)n(-speci\002ed)e
(\002le)k(to)g(be)g(used)f(in)h(place)g(of)f Fu(makefile)g
Fv(or)0 528 y Fu(Makefile)p Fv(.)0 674 y(Some)f(of)h(the)f(\002les)i(a)
f(CM-managed)e(program)f(depends)h(on)h(are)h(stable)g(libraries.)38
b(Since)24 b(the)h(\002le)g(names)f(for)g(stable)h(libraries)g(v)n(ary)
0 773 y(according)i(to)j(current)e(CPU)i(architecture)e(and)h
(operating)e(system,)32 b(writing)d(them)g(directly)f(w)o(ould)h
(require)f(dif)n(ferent)g(entries)h(for)0 873 y(dif)n(ferent)17
b(systems.)25 b(T)-7 b(o)19 b(a)n(v)n(oid)g(this)g(problem)e(\(most)i
(of)f(the)h(time)1919 843 y Fq(15)1981 873 y Fv(\),)g
Fu(ml-makedepend)e Fv(will)i(use)h Fw(mak)o(e)p Fv(-v)n(ariables)d
Fu($\(ARCH\))h Fv(and)0 972 y Fu($\(OPSYS\))24 b Fv(as)h(placeholders)d
(within)j(the)f(information)e(it)k(generates.)37 b(It)24
b(is)i(the)e(programmer')-5 b(s)22 b(responsibility)h(to)i(mak)o(e)f
(sure)g(that)0 1072 y(these)e(v)n(ariables)f(are)h(set)h(to)f
(meaningful)e(v)n(alues)i(at)g(the)g(time)g Fw(mak)o(e)h
Fv(is)g(e)n(v)o(entually)d(being)h(in)m(v)n(ok)o(ed.)29
b(This)22 b(feature)f(can)h(be)g(turned)e(of)n(f)0 1172
y(\(causing)f(actual)h(\002le)h(names)f(to)g(be)g(used\))g(by)g
(specifying)e(the)i Fu(-n)h Fv(option)e(to)h Fu(ml-makedepend)p
Fv(.)0 1318 y(In)25 b(cases)g(where)g(the)g(programmer)d(prefers)i
(other)g(strings)h(to)g(be)g(used)g(in)g(place)f(of)h
Fu($\(ARCH\))f Fv(or)h Fu($\(OPSYS\))f Fv(\(or)h(both\))e(one)i(can)0
1417 y(specify)20 b(those)g(strings)g(using)f(the)i Fu(-a)f
Fv(and)g Fu(-o)g Fv(options,)f(respecti)n(v)o(ely)-5
b(.)0 1563 y(Lik)o(e)20 b Fu(ml-build)g Fv(\(Section)g(14.1\))f(and)h
Fu(sml)g Fv(\(Section)g(13.3\),)f(the)h Fu(ml-makedepend)f
Fv(command)f(also)j(accepts)f Fu(-D)h Fv(and)f Fu(-U)g
Fv(com-)0 1663 y(mand)f(line)i(options.)0 1809 y(Thus,)f(the)g(full)g
(command)e(line)i(syntax)g(for)f Fu(ml-makedepend)g Fv(is:)100
2028 y Fu(ml-makedepend)47 b([DU-options])h([-n])h([-f)g(makefile])f
(project.cm)g(target)100 2128 y(ml-makedepend)f([DU-options])h([-a)h
(arch])g([-o)g(os])g([-f)g(makefile])g(project.cm)f(target)0
2348 y Fv(\(If)20 b Fu(-n)g Fv(is)h(gi)n(v)o(en,)e(then)h(an)o(y)f
(additional)g Fu(-a)h Fv(or)g Fu(-o)g Fv(options\227while)f(not)h(ille)
o(gal\227will)g(be)g(ignored.\))0 2673 y Fx(15)119 b(Example:)37
b(Dynamic)30 b(linking)0 2905 y Fv(Autoloading)21 b(is)i(con)m(v)o
(enient)e(and)h(a)n(v)n(oids)h(w)o(asted)g(memory)e(for)h(modules)g
(that)h(should)f(be)h(a)n(v)n(ailable)f(at)i(the)f(interacti)n(v)o(e)e
(prompt)h(b)n(ut)0 3004 y(ha)n(v)o(e)e(not)g(actually)f(been)h(used)g
(so)h(f)o(ar)-5 b(.)26 b(Ho)n(we)n(v)o(er)m(,)18 b(sometimes)i(one)g(w)
o(ants)g(to)h(be)f(e)n(v)o(en)f(more)h(aggressi)n(v)o(e)f(and)h(sa)n(v)
o(e)g(the)h(space)f(needed)0 3104 y(for)g(a)g(function)f(until\227at)h
(runtime\227that)e(function)h(is)i(actually)e(being)h(dynamically)e(in)
m(v)n(ok)o(ed.)0 3250 y(CM)26 b(does)e(not)h(pro)o(vide)d(immediate)i
(support)g(for)g(this)h(kind)f(of)h Ft(dynamic)f(linking)p
Fv(,)h(b)n(ut)g(it)g(is)h(quite)e(simple)h(to)g(achie)n(v)o(e)f(the)h
(ef)n(fect)f(by)0 3349 y(carefully)19 b(arranging)f(some)i(helper)f
(libraries)h(and)f(associated)h(stub)h(code.)0 3495 y(Consider)f(the)g
(follo)n(wing)e(module:)100 3700 y Fu(structure)48 b(F)h(=)h(struct)299
3800 y(fun)f(f)h(\(x:)f(int\):)g(int)g(=)498 3900 y(G.g)g(x)h(+)g(H.h)f
(\(2)g(*)h(x)g(+)f(1\))100 3999 y(end)0 4204 y Fv(Let)26
b(us)f(further)f(assume)h(that)h(the)f(implementations)e(of)i
(structures)g Fu(G)h Fv(and)f Fu(H)g Fv(are)g(rather)g(lar)o(ge)f(so)i
(that)f(it)h(w)o(ould)f(be)g(w)o(orthwhile)f(to)0 4304
y(a)n(v)n(oid)f(loading)e(the)i(code)f(for)g Fu(G)h Fv(and)g
Fu(H)g Fv(until)g Fu(F.f)f Fv(is)i(called)f(with)g(some)g(actual)f(ar)o
(gument.)31 b(Of)23 b(course,)f(if)h Fu(F)h Fv(were)e(bigger)m(,)g
(then)g(we)0 4404 y(also)f(w)o(ant)f(to)g(a)n(v)n(oid)g(loading)f
Fu(F)h Fv(itself.)0 4549 y(T)-7 b(o)31 b(achie)n(v)o(e)f(this)h(goal,)i
(we)f(\002rst)f(de\002ne)g(a)g Ft(hook)f Fv(module)g(which)g(will)i(be)
f(the)g(place)g(where)f(the)h(actual)g(implementation)e(of)h(our)0
4649 y(function)18 b(will)j(be)f(re)o(gistered)f(once)g(it)i(has)g
(been)e(loaded.)24 b(This)c(hook)f(module)g(is)i(then)e(wrapped)g(into)
h(a)g(hook)f(library)-5 b(.)23 b(Thus,)d(we)g(ha)n(v)o(e)0
4749 y Fu(f-hook.cm)p Fv(:)100 4954 y Fu(Library)299
5053 y(structure)48 b(F_Hook)100 5153 y(is)299 5253 y(f-hook.sml)p
0 5302 1608 4 v 66 5358 a Fp(15)120 5381 y Fo(The)17
b(careful)j(reader)f(may)f(ha)o(v)o(e)g(noticed)i(that)f(because)g(of)f
(CM')l(s)g(conditional)j(compilation)f(it)f(is)e(possible)i(that)g
(dependenc)o(y)h(information)g(itself)f(v)n(aries)h(between)0
5460 y(dif)n(ferent)g(architectures)h(or)16 b(operating)k(systems.)1968
5709 y Fv(43)p eop
%%Page: 44 45
44 44 bop 0 83 a Fv(and)20 b Fu(f-hook.sml)p Fv(:)100
315 y Fu(structure)48 b(F_Hook)g(=)i(struct)299 415 y(local)498
515 y(fun)f(placeholder)f(\(i:)h(int\))g(:)h(int)f(=)697
614 y(raise)g(Fail)g("F_Hook.f:)f(unitinialized")498
714 y(val)h(r)h(=)g(ref)f(placeholder)299 814 y(in)498
913 y(fun)g(init)g(f)h(=)g(r)f(:=)h(f)498 1013 y(fun)f(f)h(x)g(=)f(!r)h
(x)299 1112 y(end)100 1212 y(end)0 1445 y Fv(The)25 b(hook)g(module)f
(pro)o(vides)g(a)i(reference)e(cell)i(into)f(which)g(a)h(function)e(of)
i(type)f(equal)g(to)h Fu(F.f)f Fv(can)h(be)f(installed.)42
b(Here)25 b(we)h(ha)n(v)o(e)0 1544 y(chosen)18 b(to)g(hide)g(the)h
(actual)f(reference)f(cell)i(behind)e(a)h Fw(local)g
Fv(construct.)24 b(Accessor)18 b(functions)f(are)h(pro)o(vided)e(to)j
(install)g(something)e(into)0 1644 y(the)j(hook)f(\()p
Fu(init)p Fv(\))g(and)h(to)g(in)m(v)n(ok)o(e)f(the)h(so-installed)g(v)n
(alue)f(\()p Fu(f)p Fv(\).)0 1793 y(W)m(ith)h(this)g(preparation)e(we)i
(can)g(write)g(the)f(implementation)f(module)g Fu(f-impl.sml)h
Fv(in)h(such)f(a)h(w)o(ay)g(that)g(not)g(only)f(does)g(it)i(pro)o(vide)
0 1893 y(the)f(actual)g(code)g(b)n(ut)g(also)g(installs)h(itself)g
(into)f(the)g(hook:)100 2109 y Fu(structure)48 b(F_Impl)g(=)i(struct)
299 2208 y(local)498 2308 y(fun)f(f)h(\(x:)f(int\):)g(int)g(=)697
2408 y(G.g)h(x)f(+)h(H.h)f(\(2)h(*)f(x)h(+)f(1\))299
2507 y(in)498 2607 y(val)g(_)h(=)g(F_Hook.init)d(f)299
2707 y(end)100 2806 y(end)0 3022 y Fv(The)20 b(implementation)e(module)
h(is)i(wrapped)d(into)i(its)i(implementation)17 b(library)j
Fu(f-impl.cm)p Fv(:)100 3238 y Fu(Library)299 3337 y(structure)48
b(F_Impl)100 3437 y(is)299 3537 y(f-impl.sml)299 3636
y(f-hook.cm)299 3736 y(g.cm)348 b(\(*)49 b(imports)g(G)g(*\))299
3836 y(h.cm)348 b(\(*)49 b(imports)g(H)g(*\))0 4051 y
Fv(Note)20 b(that)g Fu(f-impl.cm)g Fv(must)g(mention)f
Fu(f-hook.cm)g Fv(for)g Fu(f-impl.sml)g Fv(to)i(be)f(able)g(to)g
(access)h(structure)e Fu(F)p 3405 4051 25 4 v 30 w(Hook)p
Fv(.)0 4201 y(Finally)-5 b(,)19 b(we)i(replace)e(the)i(original)e
(contents)g(of)h Fu(f.sml)g Fv(with)g(a)h(stub)f(module)f(that)h
(de\002nes)g(structure)f Fu(F)p Fv(:)100 4417 y Fu(structure)48
b(F)h(=)h(struct)299 4516 y(local)498 4616 y(val)f(initialized)f(=)i
(ref)f(false)299 4716 y(in)498 4815 y(fun)g(f)h(x)g(=)697
4915 y(\(if)g(!initialized)d(then)i(\(\))747 5015 y(else)g(if)h
(CM.make)e("f-impl.cm")g(then)h(initialized)f(:=)h(true)747
5114 y(else)g(raise)g(Fail)g("dynamic)g(linkage)f(for)h(F.f)h(failed";)
747 5214 y(F_Hook.f)f(x\))299 5313 y(end)100 5413 y(end)1968
5709 y Fv(44)p eop
%%Page: 45 46
45 45 bop 0 83 a Fv(The)29 b(trick)g(here)g(is)h(to)g(e)o(xplicitly)e
(in)m(v)n(ok)o(e)g Fu(CM.make)h Fv(the)g(\002rst)i(time)e
Fu(F.f)h Fv(is)g(called.)52 b(This)30 b(will)g(then)f(cause)g
Fu(f-impl.cm)f Fv(\(and)0 183 y(therefore)17 b Fu(g.cm)h
Fv(and)g(also)h Fu(h.cm)p Fv(\))f(to)h(be)g(loaded)e(and)h(the)h
(\223real\224)f(implementation)f(of)h Fu(F.f)h Fv(to)f(be)h(re)o
(gistered)e(with)i(the)g(hook)e(module)0 282 y(from)i(where)h(it)h
(will)g(then)e(be)h(a)n(v)n(ailable)g(to)g(this)h(and)f(future)f(calls)
i(of)f Fu(F.f)p Fv(.)0 432 y(F)o(or)k(the)h(ne)n(w)f
Fu(f.sml)g Fv(to)g(be)h(compiled)e(successfully)h(it)h(must)f(be)h
(placed)e(into)h(a)h(library)f Fu(f.cm)g Fv(that)g(mentions)g
Fu(f-hook.cm)f Fv(and)0 531 y Fu($smlnj/cm.cm)p Fv(.)f(As)d(we)e(ha)n
(v)o(e)g(seen,)h Fu(f-hook.cm)f Fv(e)o(xports)f Fu(F)p
2010 531 25 4 v 30 w(Hook.f)g Fv(and)h Fu($smlnj/cm.cm)f
Fv(is)j(needed)d(because)h(it)h(e)o(xports)0 631 y Fu(CM.make)p
Fv(:)100 863 y Fu(Library)299 963 y(structure)48 b(F)100
1063 y(is)299 1162 y(f.sml)299 1262 y(f-hook.cm)299 1362
y($smlnj/cm.cm)f(\(*)j(or)f($smlnj/cm/full.cm)e(*\))0
1594 y Fw(Bewar)o(e!)24 b Fv(This)19 b(solution)g(mak)o(es)g(use)g(of)g
Fu($smlnj/cm.cm)e Fv(which)i(in)g(turn)g(requires)f(the)h(SML/NJ)h
(compiler)d(to)j(be)f(present.)24 b(There-)0 1694 y(fore,)f(is)h(w)o
(orthwhile)e(only)g(for)h(really)g(lar)o(ge)f(program)f(modules)h
(where)g(the)h(bene\002ts)g(of)g(their)g(absence)g(are)g(not)f
(outweighed)f(be)j(the)0 1793 y(need)c(for)f(the)h(compiler)-5
b(.)0 2123 y Fx(16)119 b(Some)30 b(history)0 2359 y Fv(Although)18
b(its)i(programming)c(model)i(is)j(more)d(general,)g(CM')-5
b(s)21 b(implementation)c(is)j(closely)f(tied)h(to)f(the)h(Standard)e
(ML)h(programming)0 2458 y(language)f([MTHM97)n(])j(and)e(its)j(SML/NJ)
e(implementation)e([AM91)o(].)0 2608 y(The)h(current)g(v)o(ersion)f(is)
j(preceded)d(by)h(se)n(v)o(eral)g(other)g(compilation)f(managers.)24
b(Of)19 b(those,)h(the)g(most)f(recent)h(went)f(by)h(the)f(same)h(name)
0 2707 y(\223CM\224)26 b([Blu95)o(],)i(while)e(earlier)f(ones)h(were)g
(kno)n(wn)e(as)j(IRM)f(\()p Ft(Incr)m(emental)f(Recompilation)f(Mana)o
(g)o(er)p Fv(\))g([HLPR94b)o(])i(and)f(SC)j(\(for)0 2807
y Ft(Separ)o(ate)19 b(Compilation)p Fv(\))f([HLPR94a)o(].)25
b(CM)c(o)n(wes)f(man)o(y)f(ideas)i(to)f(SC)h(and)f(IRM.)0
2956 y(Separate)26 b(compilation)g(in)h(the)g(SML/NJ)h(system)f(hea)n
(vily)f(relies)i(on)e(mechanisms)h(for)f(con)m(v)o(erting)e(static)k
(en)m(vironments)c(\(i.e.,)29 b(the)0 3056 y(compiler')-5
b(s)20 b(symbol)h(tables\))g(into)g(linear)f(byte)h(stream)g(suitable)g
(for)g(storage)f(on)h(disks)h([AM94)n(].)28 b(Ho)n(we)n(v)o(er)m(,)19
b(unlik)o(e)i(all)h(its)g(predeces-)0 3156 y(sors,)g(the)f(current)f
(implementation)f(of)i(CM)h(is)g(inte)o(grated)d(into)i(the)g(main)g
(compiler)f(and)h(no)g(longer)e(relies)j(on)f(the)g Ft(V)-6
b(isible)21 b(Compiler)0 3255 y Fv(interf)o(ace.)1968
5709 y(45)p eop
%%Page: 46 47
46 46 bop 0 83 a Fx(A)120 b(CM)30 b(description)h(\002le)g(syntax)0
335 y Fr(A.1)99 b(Lexical)25 b(Analysis)0 540 y Fv(The)d(CM)i(parser)e
(emplo)o(ys)f(a)i(conte)o(xt-sensiti)n(v)o(e)d(scanner)-5
b(.)32 b(In)22 b(man)o(y)g(cases)h(this)g(a)n(v)n(oids)g(the)f(need)g
(for)g(\223escape)h(characters\224)e(or)h(other)0 640
y(le)o(xical)30 b(de)n(vices)g(that)h(w)o(ould)f(mak)o(e)g(writing)g
(description)g(\002les)h(cumbersome.)54 b(\(The)30 b(do)n(wnside)g(of)g
(this)h(is)h(that)f(it)g(increases)g(the)0 740 y(comple)o(xity)18
b(of)i(both)f(documentation)f(and)h(implementation.\))0
889 y(The)h(scanner)f(skips)i(all)f(nestable)g(SML-style)g(comments)f
(\(enclosed)g(with)h Fw(\(*)g Fv(and)g Fw(*\))p Fv(\).)0
1039 y(Lines)h(starting)f(with)h Fw(#line)h Fv(may)e(list)i(up)f(to)g
(three)f(\002elds)h(separated)f(by)h(white)g(space.)27
b(The)20 b(\002rst)i(\002eld)f(is)h(tak)o(en)e(as)i(a)f(line)g(number)e
(and)0 1138 y(the)g(last)g(\002eld)g(\(if)f(more)g(than)g(one)g
(\002eld)h(is)h(present\))d(as)i(a)g(\002le)h(name.)j(The)c(optional)e
(third)h(\(middle\))f(\002eld)i(speci\002es)g(a)g(column)e(number)-5
b(.)0 1238 y(A)21 b(line)f(of)h(this)g(form)e(resets)i(the)f(scanner')
-5 b(s)20 b(idea)h(about)e(the)i(name)e(of)i(the)f(\002le)h(that)g(it)g
(is)g(currently)e(processing)g(and)h(about)f(the)i(current)0
1337 y(position)c(within)g(that)g(\002le.)25 b(If)17
b(no)g(\002le)i(is)f(speci\002ed,)f(the)h(def)o(ault)f(is)h(the)g
(current)e(\002le.)24 b(If)18 b(no)f(column)f(is)i(speci\002ed,)g(the)f
(def)o(ault)g(is)h(the)g(\002rst)0 1437 y(column)k(of)h(the)g
(\(speci\002ed\))f(line.)35 b(This)23 b(feature)f(is)j(meant)d(for)h
(program-generators)18 b(or)23 b(tools)h(such)f(as)h
Fu(noweb)f Fv(b)n(ut)g(is)h(not)f(intended)0 1537 y(for)d(direct)f(use)
i(by)f(programmers.)0 1686 y(The)g(follo)n(wing)e(le)o(xical)i(classes)
i(are)e(recognized:)0 1919 y Fw(Namespace)g(speci\002ers:)42
b(structur)o(e)p Fv(,)19 b Fw(signatur)o(e)p Fv(,)g Fw(functor)p
Fv(,)g(or)h Fw(funsig)p Fv(.)26 b(These)20 b(k)o(e)o(yw)o(ords)e(are)i
(recognized)e(e)n(v)o(erywhere.)0 2085 y Fw(CM)j(k)o(eyw)o(ords:)41
b(gr)o(oup)p Fv(,)25 b Fw(Gr)o(oup)p Fv(,)f Fw(GR)n(OUP)p
Fv(,)g Fw(library)p Fv(,)h Fw(Library)p Fv(,)g Fw(LIBRAR)m(Y)p
Fv(,)h Fw(is)p Fv(,)g Fw(IS)p Fv(.)g(These)e(k)o(e)o(yw)o(ords)f(are)i
(recognized)d(e)n(v)o(ery-)208 2184 y(where)d(e)o(xcept)g(within)h
(\223preprocessor\224)e(lines)i(\(lines)h(starting)f(with)g
Fw(#)p Fv(\))g(or)g(follo)n(wing)e(one)i(of)g(the)g(namespace)f
(speci\002ers.)0 2350 y Fw(Pr)o(epr)o(ocessor)f(contr)o(ol)h(k)o(eyw)o
(ords:)41 b(#if)p Fv(,)21 b Fw(#elif)p Fv(,)f Fw(#else)p
Fv(,)h Fw(#endif)p Fv(,)f Fw(#err)o(or)p Fv(.)25 b(These)c(k)o(e)o(yw)o
(ords)e(are)i(recognized)d(only)i(at)h(the)g(be)o(ginning)208
2450 y(of)g(the)i(line)f(and)f(indicate)h(the)g(start)h(of)f(a)g
(\223preprocessor\224)e(line.)31 b(The)21 b(initial)i
Fw(#)f Fv(character)f(may)h(be)g(separated)f(from)g(the)h(rest)h(of)208
2550 y(the)d(tok)o(en)f(by)h(white)g(space)g(\(b)n(ut)g(not)g(by)g
(comments\).)0 2716 y Fw(Pr)o(epr)o(ocessor)e(operator)h(k)o(eyw)o
(ords:)41 b(de\002ned)p Fv(,)22 b Fw(di)o(v)p Fv(,)f
Fw(mod)p Fv(,)g Fw(andalso)p Fv(,)g Fw(or)o(else)p Fv(,)f
Fw(not)p Fv(.)27 b(These)21 b(k)o(e)o(yw)o(ords)f(are)g(recognized)f
(only)h(when)208 2815 y(the)o(y)26 b(occur)g(within)h
(\223preprocessor\224)d(lines.)47 b(Ev)o(en)26 b(within)g(such)h
(lines,)i(the)o(y)e(are)g(not)f(recognized)f(as)j(k)o(e)o(yw)o(ords)e
(when)g(the)o(y)208 2915 y(directly)19 b(follo)n(w)g(a)i(namespace)e
(speci\002er)n(\227in)h(which)g(case)g(the)o(y)g(are)g(considered)e
(SML)j(identi\002ers.)0 3081 y Fw(SML)h(identi\002ers)f(\()p
Ft(mlid)p Fw(\):)40 b Fv(Recognized)19 b(SML)h(identi\002ers)g(include)
g(all)g(le)o(gal)g(identi\002ers)g(as)h(de\002ned)f(by)g(the)g(SML)h
(language)d(de\002ni-)208 3181 y(tion.)24 b(\(CM)d(also)f(recognizes)f
(some)g(tok)o(ens)h(as)h(SML)f(identi\002ers)g(that)g(are)g(really)f(k)
o(e)o(yw)o(ords)g(according)f(to)i(the)g(SML)g(language)208
3280 y(de\002nition.)41 b(Ho)n(we)n(v)o(er)m(,)25 b(this)i(can)f(ne)n
(v)o(er)e(cause)i(problems)f(in)h(practice.\))42 b(SML)26
b(identi\002ers)g(are)g(recognized)e(only)h(when)g(the)o(y)208
3380 y(directly)19 b(follo)n(w)g(one)h(of)g(the)g(namespace)f
(speci\002ers.)0 3546 y Fw(CM)i(identi\002ers)g(\()p
Ft(cmid)p Fw(\):)40 b Fv(CM)29 b(identi\002ers)g(ha)n(v)o(e)f(the)h
(same)g(form)f(as)h(those)g(ML)g(identi\002ers)f(that)h(are)g(made)f
(up)g(solely)h(of)f(letters,)208 3645 y(decimal)17 b(digits,)h
(apostrophes,)e(and)i(underscores.)k(CM)c(identi\002ers)g(are)g
(recognized)d(when)j(the)o(y)f(occur)f(within)i(\223preprocessor\224)
208 3745 y(lines,)i(b)n(ut)g(not)g(when)g(the)o(y)f(directly)g(follo)n
(w)h(some)g(namespace)f(speci\002er)-5 b(.)0 3911 y Fw(Numbers)21
b(\()p Ft(number)p Fw(\):)39 b Fv(Numbers)18 b(are)i(non-empty)c
(sequences)j(of)g(decimal)f(digits.)25 b(Numbers)18 b(are)h(recognized)
e(only)i(within)g(\223prepro-)208 4011 y(cessor\224)h(lines.)0
4177 y Fw(Pr)o(epr)o(ocessor)e(operators:)40 b Fv(The)22
b(follo)n(wing)f(unary)g(and)g(binary)g(operators)g(are)i(recognized)d
(when)i(the)o(y)f(occur)h(within)g(\223preproces-)208
4276 y(sor\224)c(lines:)25 b Fu(+)p Fv(,)19 b Fu(-)p
Fv(,)g Fu(*)p Fv(,)g Fu(/)p Fv(,)g Fu(\045)p Fv(,)g Fu(<>)p
Fv(,)f Fu(!=)p Fv(,)h Fu(<=)p Fv(,)g Fu(<)p Fv(,)g Fu(>=)p
Fv(,)g Fu(>)p Fv(,)g Fu(==)p Fv(,)g Fu(=)p Fv(,)9 b Fk(~)-12
b Fv(,)20 b Fu(&&)p Fv(,)e Fu(||)p Fv(,)h Fu(!)p Fv(.)25
b(Of)19 b(these,)f(the)h(follo)n(wing)e(\(\223C-style\224\))h
(operators)f(are)208 4376 y(considered)h(obsolete)h(and)g(trigger)g(a)i
(w)o(arning)d(message)1898 4346 y Fq(16)1980 4376 y Fv(as)j(long)e(as)i
Fu(CM.Control.warn)p 3083 4376 25 4 v 27 w(obsolete)e
Fv(is)i(set)g(to)f Fu(true)p Fv(:)208 4476 y Fu(/)p Fv(,)g
Fu(\045)p Fv(,)g Fu(!=)p Fv(,)g Fu(==)p Fv(,)g Fu(&&)p
Fv(,)h Fu(||)p Fv(,)f Fu(!)p Fv(.)0 4642 y Fw(Standard)g(path)g(names)h
(\()p Ft(stdpn)p Fw(\):)39 b Fv(An)o(y)19 b(non-empty)e(sequence)h(of)h
(upper)n(-)f(and)h(lo)n(wer)n(-case)g(letters,)g(decimal)g(digits,)h
(and)f(characters)208 4741 y(dra)o(wn)f(from)g Fu(')p
670 4741 V 29 w(.;,!\045&$+/<=>?@)t Fk(~)r Fu(|#*-\210)g
Fv(that)i(occurs)e(outside)h(of)g(\223preprocessor\224)d(lines)k(and)f
(is)h(neither)e(a)i(namespace)208 4841 y(speci\002er)j(nor)h(a)g(CM)h
(k)o(e)o(yw)o(ord)d(will)i(be)g(recognized)e(as)j(a)f(stardard)f(path)h
(name.)35 b(Strings)24 b(that)g(le)o(xically)f(constitute)h(standard)
208 4941 y(path)k(names)g(are)h(usually\227b)n(ut)f(not)g(al)o(w)o
(ays\227interpreted)f(as)j(\002le)f(names.)51 b(Sometimes)28
b(the)o(y)g(are)h(simply)f(tak)o(en)h(as)g(literal)208
5040 y(strings.)f(When)21 b(the)o(y)f(act)i(as)g(\002le)g(names,)f(the)
o(y)g(will)h(be)f(interpreted)e(according)h(to)h(CM')-5
b(s)22 b Ft(standar)m(d)e(syntax)h Fv(\(see)h(Section)f(3.2\).)208
5140 y(\(Member)j(class)j(names,)h(names)e(of)g(pri)n(vile)o(ges,)g
(and)f(man)o(y)g(tool)h(optios)g(are)g(also)h(speci\002ed)f(as)h
(standard)e(path)h(names)g(e)n(v)o(en)208 5240 y(though)18
b(in)i(these)h(cases)g(no)e(actual)h(\002le)h(is)g(being)f(named.\))p
0 5293 1608 4 v 66 5348 a Fp(16)120 5372 y Fo(The)c(use)i(of)f
Fm(-)f Fo(as)h(a)g(unary)h(minus)f(also)g(triggers)i(this)e(w)o
(arning.)1968 5709 y Fv(46)p eop
%%Page: 47 48
47 47 bop 0 83 a Fw(Nati)o(v)o(e)20 b(path)g(names)h(\()p
Ft(ntvpn)p Fw(\):)39 b Fv(A)17 b(tok)o(en)g(that)g(has)h(the)f(form)f
(of)h(an)g(SML)h(string)f(is)h(considered)d(a)j(nati)n(v)o(e)e(path)h
(name.)23 b(The)17 b(same)h(rules)208 183 y(as)j(in)h(SML)f(re)o
(garding)d(escape)j(characters)f(apply)-5 b(.)26 b(Lik)o(e)21
b(their)g(\223standard\224)f(counterparts,)f(nati)n(v)o(e)h(path)h
(names)f(are)h(not)g(al)o(w)o(ays)208 282 y(used)27 b(to)h(actually)g
(name)f(\002les,)k(b)n(ut)d(when)f(the)o(y)g(are,)j(the)o(y)d(use)h
(the)g(nati)n(v)o(e)f(\002le)i(name)e(syntax)h(of)f(the)h(underlying)d
(operating)208 382 y(system.)0 548 y Fw(Punctuation:)40
b Fv(A)30 b(colon)g Fw(:)45 b Fv(is)31 b(recognized)d(as)j(a)g(tok)o
(en)e(e)n(v)o(erywhere)f(e)o(xcept)h(within)h(\223preprocessor\224)e
(lines.)55 b(P)o(arentheses)30 b Fw(\(\))g Fv(are)208
648 y(recognized)18 b(e)n(v)o(erywhere.)0 935 y Fr(A.2)99
b(EBNF)26 b(f)n(or)f(pr)n(epr)n(ocessor)h(expr)n(essions)0
1141 y Ft(Le)n(xical)17 b(con)m(ventions:)22 b Fv(Syntax)16
b(de\002nitions)g(use)i Ft(Extended)d(Bac)n(kus-Naur)h(F)-9
b(orm)18 b Fv(\(EBNF\).)f(This)g(means)g(that)g(v)o(ertical)g(bars)34
b Fs(j)18 b Fv(separate)0 1240 y(tw)o(o)g(or)f(more)f(alternati)n(v)o
(es,)h(curly)f(braces)h Fs(fg)g Fv(indicate)g(zero)g(or)g(more)f
(copies)h(of)g(what)g(the)o(y)g(enclose)g(\(\223Kleene-closure\224\),)e
(and)h(square)0 1340 y(brack)o(ets)25 b Fk([])i Fv(specify)e(zero)g(or)
h(one)f(instances)h(of)f(their)h(enclosed)f(contents.)41
b(Round)24 b(parentheses)h(\(\))h(are)g(used)f(for)g(grouping.)39
b(Non-)0 1439 y(terminal)19 b(symbols)h(appear)f(in)h
Ft(this)h Fv(typef)o(ace;)e(terminal)h(symbols)f(are)h
Fw(underlined)p 2104 1453 388 4 v 1 w Fv(.)0 1589 y(The)g(follo)n(wing)
e(set)j(of)f(rules)g(de\002nes)g(the)h(syntax)e(for)h(CM')-5
b(s)21 b(preprocessor)d(e)o(xpressions)h(\()p Ft(ppe)n(xp)p
Fv(\):)54 1735 y Ft(aatom)99 b Fs(!)g Ft(number)40 b
Fs(j)21 b Ft(cmid)41 b Fs(j)21 b Fw(\()p 1130 1762 28
4 v 20 w Ft(asum)f Fw(\))p 1374 1762 V 41 w Fs(j)h Fv(\()t
Fk(~)p 1515 1748 50 4 v 45 w Fs(j)g Fu(-)p 1650 1748
V Fv(\))f Ft(aatom)67 1835 y(apr)l(od)99 b Fs(!)g(f)p
Ft(aatom)19 b Fv(\()p Fu(*)p 842 1848 V 41 w Fs(j)i Fw(di)o(v)p
977 1849 110 4 v 41 w Fs(j)g Fw(mod)p 1172 1849 157 4
v Fv(\))41 b Fs(j)21 b Fu(/)p 1442 1855 50 4 v 41 w Fs(j)g
Fu(\045)p 1577 1849 V 21 w Fs(g)f Ft(aatom)87 1935 y(asum)99
b Fs(!)g(f)p Ft(apr)l(od)19 b Fv(\()p Fu(+)p 829 1948
V 41 w Fs(j)i Fu(-)p 964 1948 V Fv(\))p Fs(g)f Ft(apr)l(od)188
2134 y(ns)100 b Fs(!)f Fw(structur)o(e)p 544 2148 326
4 v 41 w Fs(j)20 b Fw(signatur)o(e)p 955 2164 331 4 v
40 w Fs(j)h Fw(functor)p 1371 2148 263 4 v 41 w Fs(j)f
Fw(funsig)p 1719 2164 217 4 v 50 2237 a Ft(mlsym)100
b Fs(!)f Ft(ns)21 b(mlid)73 2337 y(query)99 b Fs(!)g
Fw(de\002ned)p 544 2351 259 4 v 21 w(\()p 823 2364 28
4 v 21 w Ft(cmid)20 b Fw(\))p 1054 2364 V 41 w Fs(j)h
Fw(de\002ned)p 1167 2351 259 4 v 21 w(\()p 1446 2364
28 4 v 20 w Ft(mlsym)g Fw(\))p 1727 2364 V 82 2537 a
Ft(acmp)99 b Fs(!)g Ft(asum)20 b Fv(\()p Fu(<)p 768 2550
50 4 v 41 w Fs(j)h Fu(<=)p 903 2550 100 4 v 41 w Fs(j)g
Fu(>)p 1088 2550 50 4 v 41 w Fs(j)g Fu(>=)p 1223 2550
100 4 v 41 w Fs(j)g Fu(=)p 1408 2550 50 4 v 41 w Fs(j)g
Fu(==)p 1543 2550 100 4 v 41 w Fs(j)g Fu(<>)p 1728 2550
V 41 w Fs(j)g Fu(!=)p 1913 2551 V Fv(\))f Ft(asum)54
2736 y(batom)99 b Fs(!)g Ft(query)41 b Fs(j)21 b Ft(acmp)40
b Fs(j)21 b Fv(\()p Fw(not)p 1112 2750 116 4 v 40 w Fs(j)g
Fu(!)p 1312 2750 50 4 v Fv(\))f Ft(batom)40 b Fs(j)21
b Fw(\()p 1703 2763 28 4 v 21 w Ft(bdisj)f Fw(\))p 1934
2763 V 82 2836 a Ft(bcmp)99 b Fs(!)g Ft(batom)20 b Fv([\()p
Fu(=)p 829 2849 50 4 v 40 w Fs(j)h Fu(==)p 963 2849 100
4 v 41 w Fs(j)g Fu(<>)p 1148 2849 V 41 w Fs(j)g Fu(!=)p
1333 2850 V -1 w Fv(\))g Ft(batom)p Fv(])77 2936 y Ft(bconj)99
b Fs(!)g(f)p Ft(bcmp)19 b Fv(\()p Fw(andalso)p 814 2950
273 4 v 41 w Fs(j)h Fu(&&)p 1171 2950 100 4 v Fv(\))p
Fs(g)g Ft(bcmp)100 3035 y(bdisj)100 b Fs(!)f(f)p Ft(bconj)19
b Fv(\()p Fw(or)o(else)p 819 3049 206 4 v 40 w Fs(j)i
Fu(||)p 1110 3069 100 4 v Fv(\))p Fs(g)e Ft(bconj)65
3242 y(ppe)n(xp)99 b Fs(!)g Ft(bdisj)0 3520 y Fr(A.3)g(EBNF)26
b(f)n(or)f(export)g(lists)0 3726 y Fv(The)20 b(follo)n(wing)e(set)j(of)
f(rules)g(de\002nes)g(the)h(syntax)e(for)h(e)o(xport)e(lists)k(\()p
Ft(elst)p Fv(\):)50 3871 y Ft(guar)m(dede)n(xports)97
b Fs(!)i(f)21 b Ft(e)n(xport)f Fs(g)g Fv(\()p Fw(#endif)p
1232 3885 222 4 v 41 w Fs(j)h Fw(#else)p 1539 3885 171
4 v 20 w Fs(f)f Ft(e)n(xport)g Fs(g)h Fw(#endif)p 2086
3885 222 4 v 41 w Fs(j)f Fw(#elif)p 2392 3885 153 4 v
20 w Ft(ppe)n(xp)g(guar)m(dede)n(xports)p Fv(\))320 3971
y Ft(r)m(estline)100 b Fs(!)f Fv(rest)21 b(of)f(current)f(line)h(up)g
(to)g(ne)o(xt)g(ne)n(wline)f(character)356 4071 y Ft(e)n(xport)99
b Fs(!)g Ft(mlsym)42 b Fs(j)21 b Fw(#if)p 1146 4084 93
4 v 20 w Ft(ppe)n(xp)e(guar)m(dede)n(xports)39 b Fs(j)21
b Fw(#err)o(or)p 2078 4085 229 4 v 19 w Ft(r)m(estline)451
4170 y(elst)100 b Fs(!)f Ft(e)n(xport)21 b Fs(f)f Ft(e)n(xport)g
Fs(g)0 4448 y Fr(A.4)99 b(EBNF)26 b(f)n(or)f(tool)f(options)0
4654 y Fv(The)c(follo)n(wing)e(set)j(of)f(rules)g(de\002nes)g(the)h
(syntax)e(for)h(tool)g(options)f(\()p Ft(toolopts)p Fv(\):)50
4800 y Ft(pathname)97 b Fs(!)j Ft(stdpn)40 b Fs(j)21
b Ft(ntvpn)110 4899 y(toolopts)98 b Fs(!)i(f)20 b Ft(pathname)e
Fv([)p Fw(:)p 1098 4913 28 4 v 20 w Fv(\()p Fw(\()p 1174
4927 V 20 w Ft(toolopts)h Fw(\))p 1510 4927 V 42 w Fs(j)h
Ft(pathname)p Fv(\)])e Fs(g)1968 5709 y Fv(47)p eop
%%Page: 48 49
48 48 bop 0 83 a Fr(A.5)99 b(EBNF)26 b(f)n(or)f(member)g(lists)0
287 y Fv(The)20 b(follo)n(wing)e(set)j(of)f(rules)g(de\002nes)g(the)h
(syntax)e(for)h(member)f(lists)i(\()p Ft(member)o(s)p
Fv(\):)456 432 y Ft(class)100 b Fs(!)g Ft(stdpn)355 532
y(member)f Fs(!)h Ft(pathname)18 b Fv([)p Fw(:)p 1281
546 28 4 v 20 w Ft(class)p Fv(])i([)p Fw(\()p 1571 559
V 20 w Ft(toolopts)g Fw(\))p 1908 559 V -1 w Fv(])50
632 y Ft(guar)m(dedmember)o(s)97 b Fs(!)j Ft(member)o(s)20
b Fv(\()p Fw(#endif)p 1252 646 222 4 v 41 w Fs(j)h Fw(#else)p
1559 646 171 4 v 20 w Ft(member)o(s)g Fw(#endif)p 2070
646 222 4 v 41 w Fs(j)f Fw(#elif)p 2376 646 153 4 v 20
w Ft(ppe)n(xp)g(guar)m(dedmember)o(s)p Fv(\))323 732
y Ft(member)o(s)100 b Fs(!)g(f)20 b Fv(\()p Ft(member)40
b Fs(j)21 b Fw(#if)p 1347 745 93 4 v 20 w Ft(ppe)n(xp)f(guar)m
(dedmember)o(s)39 b Fs(j)20 b Fw(#err)o(or)p 2335 746
229 4 v 19 w Ft(r)m(estline)p Fv(\))h Fs(g)0 1008 y Fr(A.6)99
b(EBNF)26 b(f)n(or)f(library)f(descriptions)0 1213 y
Fv(The)g(follo)n(wing)f(set)i(of)g(rules)f(de\002nes)g(the)h(syntax)f
(for)g(library)f(descriptions)h(\()p Ft(libr)o(ary)p
Fv(\).)37 b(Notice)24 b(that)h(although)e(the)h(syntax)g(used)g(for)0
1312 y Ft(ver)o(sion)h Fv(is)g(the)f(same)h(as)g(that)g(for)f
Ft(stdpn)p Fv(,)g(actual)h(v)o(ersion)e(strings)h(will)h(under)o(go)d
(further)h(analysis)h(according)f(to)h(the)h(rules)f(gi)n(v)o(en)f(in)0
1412 y(section)d(5:)174 1540 y Ft(libkw)100 b Fs(!)f
Fw(library)p 636 1570 250 4 v 41 w Fs(j)21 b Fw(Library)p
971 1570 282 4 v 41 w Fs(j)g Fw(LIBRAR)m(Y)p 1338 1553
380 4 v 111 1643 a Ft(ver)o(sion)99 b Fs(!)g Ft(stdpn)63
1743 y(privile)m(g)o(e)g Fs(!)g Ft(stdpn)50 1842 y(lprivspec)g
Fs(!)g(f)21 b Ft(privile)m(g)o(e)40 b Fs(j)21 b Fw(\()p
1075 1870 28 4 v 20 w Fs(f)g Ft(privile)m(g)o(e)e Fs(g)i
Fw(\))p 1560 1870 V 20 w Fs(g)125 1943 y Ft(libr)o(ary)99
b Fs(!)g Fv([)p Ft(lprivspec)p Fv(])20 b Ft(libkw)h Fv([[)p
Fw(\()p 1274 1970 V 19 w Ft(ver)o(sion)g Fw(\))p 1586
1970 V -1 w Fv(])g Ft(elst)p Fv(])f(\()p Fw(is)p 1853
1957 56 4 v 42 w Fs(j)h Fw(IS)p 1994 1958 79 4 v Fv(\))g
Ft(member)o(s)0 2220 y Fr(A.7)99 b(EBNF)26 b(f)n(or)f(library)f
(component)j(descriptions)e(\(gr)n(oup)h(descriptions\))0
2424 y Fv(The)20 b(main)g(dif)n(ferences)e(between)h(group-)g(and)g
(library-syntax)f(can)i(be)g(summarized)e(as)j(follo)n(ws:)125
2653 y Fs(\017)41 b Fv(Groups)19 b(use)h(k)o(e)o(yw)o(ord)e
Fw(gr)o(oup)p 912 2683 211 4 v 20 w Fv(instead)i(of)g
Fw(library)p 1490 2683 250 4 v -1 w Fv(.)125 2785 y Fs(\017)41
b Fv(Groups)19 b(may)g(ha)n(v)o(e)h(an)g(empty)f(e)o(xport)g(list.)125
2918 y Fs(\017)41 b Fv(Groups)17 b(cannot)h(wrap)h(pri)n(vile)o(ges,)e
(i.e.,)i(names)g(of)f(pri)n(vile)o(ges)g(\(in)h(front)f(of)g(the)h
Fw(gr)o(oup)p 2570 2948 211 4 v 18 w Fv(k)o(e)o(yw)o(ord\))e(ne)n(v)o
(er)h(appear)f(within)i(paren-)208 3017 y(theses.)125
3150 y Fs(\017)41 b Fv(Groups)19 b(ha)n(v)o(e)g(no)h(v)o(ersion.)125
3282 y Fs(\017)41 b Fv(Groups)19 b(ha)n(v)o(e)g(an)h(optional)f(o)n
(wner)-5 b(.)0 3511 y(The)20 b(follo)n(wing)e(set)j(of)f(rules)g
(de\002nes)g(the)h(syntax)e(for)h(library)f(component)e(\(group\))h
(descriptions)h(\()p Ft(gr)l(oup)p Fv(\):)86 3655 y Ft(gr)l(oupkw)98
b Fs(!)i Fw(gr)o(oup)p 655 3686 V 40 w Fs(j)21 b Fw(Gr)o(oup)p
951 3686 234 4 v 40 w Fs(j)g Fw(GR)n(OUP)p 1270 3670
298 4 v 165 3759 a Ft(owner)99 b Fs(!)h Ft(pathname)50
3858 y(gprivspec)e Fs(!)i(f)20 b Ft(privile)m(g)o(e)g
Fs(g)178 3958 y Ft(gr)l(oup)98 b Fs(!)i Fv([)p Ft(gprivspec)p
Fv(])19 b Ft(gr)l(oupkw)g Fv([)p Fw(\()p 1389 3985 28
4 v 20 w Ft(owner)i Fw(\))p 1666 3985 V -1 w Fv(])g([)p
Ft(elst)p Fv(])f(\()p Fw(is)p 1961 3972 56 4 v 42 w Fs(j)g
Fw(IS)p 2101 3973 79 4 v 1 w Fv(\))g Ft(member)o(s)0
4258 y Fx(B)119 b(Full)31 b(signatur)n(e)f(of)g Fh(structure)69
b(CM)0 4492 y Fv(Structure)31 b Fu(CM)h Fv(serv)o(es)g(as)h(the)f
(compilation)e(manager')-5 b(s)31 b(user)h(interf)o(ace)f(and)g(also)h
(constitutes)g(the)g(major)f(part)h(of)g(the)g(API.)g(The)0
4592 y(structure)23 b(is)i(the)f(\(only\))f(e)o(xport)g(of)g(library)h
Fu($smlnj/cm.cm)p Fv(.)35 b(The)23 b(standard)g(installation)h
(procedure)e(of)i(SML/NJ)g(re)o(gisters)g(this)0 4692
y(library)19 b(for)h(autoloading)d(at)k(the)f(interacti)n(v)o(e)f(top)h
(le)n(v)o(el.)90 4912 y Ff(signature)43 b(CM)h(=)h(sig)269
5095 y(val)f(autoload)g(:)g(string)g(->)h(bool)269 5186
y(val)f(make)g(:)h(string)f(->)g(bool)269 5277 y(val)g(recomp)g(:)h
(string)f(->)g(bool)269 5369 y(val)g(stabilize)g(:)g(bool)g(->)h
(string)f(->)g(bool)1968 5709 y Fv(48)p eop
%%Page: 49 50
49 49 bop 269 83 a Ff(type)44 b('a)h(controller)e(=)h({)h(get)f(:)h
(unit)f(->)h('a,)f(set)g(:)h('a)g(->)f(unit)g(})269 266
y(structure)f(Anchor)h(:)h(sig)448 357 y(val)g(anchor)e(:)i(string)f
(->)g(string)g(option)g(controller)448 448 y(val)h(reset)f(:)g(unit)g
(->)h(unit)269 540 y(end)269 722 y(structure)e(Control)h(:)h(sig)448
814 y(val)g(keep_going)e(:)h(bool)h(controller)448 905
y(val)g(verbose)e(:)i(bool)f(controller)448 996 y(val)h(parse_caching)d
(:)j(int)f(controller)448 1088 y(val)h(warn_obsolete)d(:)j(bool)f
(controller)448 1179 y(val)h(debug)f(:)g(bool)g(controller)448
1270 y(val)h(conserve_memory)d(:)j(bool)f(controller)448
1362 y(val)h(generate_index)d(:)j(bool)f(controller)269
1453 y(end)269 1636 y(structure)f(Library)h(:)h(sig)448
1727 y(type)f(lib)448 1818 y(val)h(known)f(:)g(unit)g(->)h(lib)f(list)
448 1910 y(val)h(descr)f(:)g(lib)h(->)f(string)448 2001
y(val)h(osstring)e(:)i(lib)f(->)h(string)448 2092 y(val)g(dismiss)e(:)i
(lib)f(->)h(unit)448 2183 y(val)g(unshare)e(:)i(lib)f(->)h(unit)269
2275 y(end)269 2457 y(structure)e(State)h(:)h(sig)448
2549 y(val)g(synchronize)e(:)h(unit)g(->)h(unit)448 2640
y(val)g(reset)f(:)g(unit)g(->)h(unit)448 2731 y(val)g(pending)e(:)i
(unit)f(->)h(string)e(list)269 2823 y(end)269 3005 y(structure)g
(Server)h(:)h(sig)448 3097 y(type)f(server)448 3188 y(val)h(start)f(:)g
({)h(cmd)f(:)h(string)f(*)g(string)g(list,)1076 3279
y(name)g(:)h(string,)1076 3371 y(pathtrans)e(:)i(\(string)f(->)g
(string\))g(option,)1076 3462 y(pref)g(:)h(int)f(})h(->)f(server)g
(option)448 3553 y(val)h(stop)f(:)g(server)g(->)h(unit)448
3645 y(val)g(kill)f(:)g(server)g(->)h(unit)448 3736 y(val)g(name)f(:)g
(server)g(->)h(string)269 3827 y(end)269 4010 y(val)f(sources)g(:)448
4101 y({)h(arch:)f(string,)g(os:)g(string)g(})g(option)g(->)448
4193 y(string)g(->)448 4284 y({)h(file:)f(string,)g(class:)f(string,)h
(derived:)g(bool)g(})g(list)h(option)269 4467 y(val)f(symval)g(:)h
(string)f(->)g(int)g(option)g(controller)269 4558 y(val)g(load_plugin)f
(:)i(string)f(->)g(bool)269 4741 y(val)g(mk_standalone)f(:)448
4832 y(bool)h(option)g(->)448 4923 y({)h(project:)e(string,)h(wrapper:)
g(string,)f(target:)h(string)g(})g(->)448 5015 y(string)g(list)g
(option)90 5106 y(end)90 5289 y(structure)f(CM)h(:)h(CM)1968
5709 y Fv(49)p eop
%%Page: 50 51
50 50 bop 0 83 a Fx(C)120 b(Listing)30 b(of)f(all)h(pr)n(e-de\002ned)i
(CM)e(identi\002ers)p 1293 351 4 100 v 1310 351 V 1361
321 a Fv(Alpha32)p 1695 351 V 97 w(HP-P)-8 b(A)p 2027
351 V 100 w(Po)n(werPC)p 2438 351 V 99 w(Po)n(werPC)p
2849 351 V 100 w(Sparc)p 3138 351 V 98 w(IA32)p 3408
351 V 124 w(IA32)p 1293 451 V 1310 451 V 1421 421 a(Unix)p
1695 451 V 191 w(Unix)p 2027 451 V 142 w(MA)m(COS)p 2438
451 V 182 w(Unix)p 2849 451 V 183 w(Unix)p 3138 451 V
112 w(Unix)p 3408 451 V 101 w(W)m(in32)p 288 454 3444
4 v 288 471 V 338 540 a Fu(ARCH)p 543 540 25 4 v 29 w(ALPHA)p
1293 570 4 100 v 1310 570 V 666 w Fv(1)p 1695 570 V 2027
570 V 2438 570 V 2849 570 V 3138 570 V 3408 570 V 338
640 a Fu(ARCH)p 543 640 25 4 v 29 w(HPPA)p 1293 670 4
100 v 1310 670 V 1695 670 V 1075 w Fv(1)p 2027 670 V
2438 670 V 2849 670 V 3138 670 V 3408 670 V 338 740 a
Fu(ARCH)p 543 740 25 4 v 29 w(PPC)p 1293 769 4 100 v
1310 769 V 1695 769 V 2027 769 V 1496 w Fv(1)p 2438 769
V 369 w(1)p 2849 769 V 3138 769 V 3408 769 V 338 839
a Fu(ARCH)p 543 839 25 4 v 29 w(SPARC)p 1293 869 4 100
v 1310 869 V 1695 869 V 2027 869 V 2438 869 V 2849 869
V 2157 w Fv(1)p 3138 869 V 3408 869 V 338 939 a Fu(ARCH)p
543 939 25 4 v 29 w(X86)p 1293 969 4 100 v 1310 969 V
1695 969 V 2027 969 V 2438 969 V 2849 969 V 3138 969
V 2537 w Fv(1)p 3408 969 V 254 w(1)338 1038 y Fu(OPSYS)p
593 1038 25 4 v 29 w(UNIX)p 1293 1068 4 100 v 1310 1068
V 666 w Fv(1)p 1695 1068 V 317 w(1)p 2027 1068 V 2438
1068 V 740 w(1)p 2849 1068 V 308 w(1)p 3138 1068 V 238
w(1)p 3408 1068 V 338 1138 a Fu(OPSYS)p 593 1138 25 4
v 29 w(MACOS)p 1293 1168 4 100 v 1310 1168 V 1695 1168
V 2027 1168 V 1346 w Fv(1)p 2438 1168 V 2849 1168 V 3138
1168 V 3408 1168 V 338 1238 a Fu(OPSYS)p 593 1238 25
4 v 29 w(WIN32)p 1293 1268 4 100 v 1310 1268 V 1695 1268
V 2027 1268 V 2438 1268 V 2849 1268 V 3138 1268 V 3408
1268 V 2683 w Fv(1)338 1337 y Fu(BIG)p 493 1337 25 4
v 29 w(ENDIAN)p 1293 1367 4 100 v 1310 1367 V 1695 1367
V 2027 1367 V 2438 1367 V 2849 1367 V 2157 w Fv(1)p 3138
1367 V 3408 1367 V 338 1437 a Fu(LITTLE)p 643 1437 25
4 v 29 w(ENDIAN)p 1293 1467 4 100 v 1310 1467 V 516 w
Fv(1)p 1695 1467 V 317 w(1)p 2027 1467 V 329 w(1)p 2438
1467 V 369 w(1)p 2849 1467 V 3138 1467 V 588 w(1)p 3408
1467 V 254 w(1)338 1537 y Fu(SIZE)p 543 1537 25 4 v 29
w(32)p 1293 1566 4 100 v 1310 1566 V 816 w Fv(1)p 1695
1566 V 317 w(1)p 2027 1566 V 329 w(1)p 2438 1566 V 369
w(1)p 2849 1566 V 308 w(1)p 3138 1566 V 238 w(1)p 3408
1566 V 254 w(1)338 1636 y Fu(NEW)p 493 1636 25 4 v 29
w(CM)p 1293 1666 4 100 v 1310 1666 V 866 w Fv(1)p 1695
1666 V 317 w(1)p 2027 1666 V 329 w(1)p 2438 1666 V 369
w(1)p 2849 1666 V 308 w(1)p 3138 1666 V 238 w(1)p 3408
1666 V 254 w(1)338 1736 y Fu(SMLNJ)p 593 1736 25 4 v
29 w(VERSION)p 1293 1766 4 100 v 1310 1766 V 474 w Fv(110)p
1695 1766 V 233 w(110)p 2027 1766 V 246 w(110)p 2438
1766 V 285 w(110)p 2849 1766 V 224 w(110)p 3138 1766
V 153 w(110)p 3408 1766 V 170 w(110)338 1835 y Fu(SMLNJ)p
593 1835 25 4 v 29 w(MINOR)p 872 1835 V 29 w(VERSION)p
1293 1865 4 100 v 1310 1865 V 216 w Fv(35)p 1695 1865
V 275 w(35)p 2027 1865 V 287 w(35)p 2438 1865 V 328 w(35)p
2849 1865 V 266 w(35)p 3138 1865 V 195 w(35)p 3408 1865
V 212 w(35)0 2137 y Fx(D)120 b(Listing)30 b(of)f(all)h(CM-speci\002c)h
(en)-5 b(vir)n(onment)31 b(v)o(ariables)0 2372 y Fv(Most)26
b(control)e(parameters)g(that)i(af)n(fect)f(CM')-5 b(s)27
b(operation)c(can)j(be)f(adjusted)g(using)g(en)m(vironment)d(v)n
(ariables)j Fl(v)3323 2384 y Fe(s)3385 2372 y Fv(at)h(startup)f(time,)i
(i.e,)0 2472 y(when)15 b(the)h Fu(sml)g Fv(command)d(is)k(in)m(v)n(ok)o
(ed.)22 b(Each)15 b(such)g(parameter)f(has)i(a)h(def)o(ault)e(setting.)
23 b(Def)o(ault)15 b(settings)h(are)g(determined)e(at)i(bootstrap)0
2571 y(time,)26 b(i.e.,)h(the)e(time)h(when)e(the)i(heap)e(image)h(for)
g(SML/NJ')-5 b(s)26 b(interacti)n(v)o(e)e(system)h(is)h(b)n(uilt.)2762
2541 y Fq(17)2865 2571 y Fv(At)g(bootstrap)e(time,)i(it)g(is)g
(possible)f(to)0 2671 y(adjust)g(def)o(aults)f(by)g(using)g(a)h(dif)n
(ferent)e(set)i(of)g(en)m(vironment)c(v)n(ariables)j
Fl(v)2211 2683 y Fe(b)2245 2671 y Fv(.)38 b(If)25 b(neither)f
Fl(v)2681 2683 y Fe(s)2742 2671 y Fv(nor)f Fl(v)2917
2683 y Fe(b)2976 2671 y Fv(were)i(set,)h(a)f(hard-wired)d(f)o(allback)0
2770 y(v)n(alue)e(will)g(be)h(used.)0 2920 y(The)e(rule)h(for)f
(constructing)f(\(the)h(names)h(of\))f Fl(v)1386 2932
y Fe(s)1442 2920 y Fv(and)g Fl(v)1622 2932 y Fe(b)1676
2920 y Fv(is)i(the)f(follo)n(wing:)j(F)o(or)d(each)f(adjustable)g
(parameter)g Fl(x)i Fv(there)e(is)i(a)f Ft(name)f(stem)p
Fv(.)0 3020 y(If)h(the)g(stem)h(for)e Fl(x)j Fv(is)f
Fl(s)p Fv(,)f(then)g Fl(v)922 3032 y Fe(s)981 3020 y
Fk(=)i Fu(CM)p 1173 3020 25 4 v 30 w Fl(s)e Fv(and)g
Fl(v)1438 3032 y Fe(b)1495 3020 y Fk(=)i Fl(v)1622 3032
y Fe(s)p 1663 3020 V 1688 3020 a Fu(DEFAULT)o Fv(.)0
3169 y(Since)d(the)f(normal)g(installation)g(procedure)e(for)i(SML/NJ)h
(sets)g(some)g(of)f(the)h Fl(v)2326 3181 y Fe(b)2378
3169 y Fv(v)n(ariables)f(at)h(bootstrap)e(time,)i(there)f(are)h(tw)o(o)
g(columns)0 3269 y(with)h(def)o(ault)g(v)n(alues)f(in)h(the)g(follo)n
(wing)f(table.)25 b(The)19 b(v)n(alue)h(labeled)f Ft(fallbac)n(k)h
Fv(is)h(the)f(one)f(that)h(w)o(ould)g(ha)n(v)o(e)f(been)g(used)h(had)g
(there)f(been)0 3368 y(no)h(en)m(vironment)d(v)n(ariable)i(at)i
(bootrap)d(time,)i(the)g(one)g(labeled)g Ft(default)f
Fv(is)i(the)f(one)g(the)g(user)g(will)h(actually)f(see.)0
3518 y(T)-7 b(o)28 b(sa)n(v)o(e)g(space,)h(the)f(table)f(lists)i(the)f
(stem)g(b)n(ut)g(not)f(the)h(names)f(for)g(its)i(associated)e
(\(longer\))f Fl(v)2892 3530 y Fe(s)2956 3518 y Fv(and)h
Fl(v)3144 3530 y Fe(b)3178 3518 y Fv(.)48 b(F)o(or)27
b(e)o(xample,)h(since)g(the)0 3617 y(the)d(table)g(sho)n(ws)f
Fu(VERBOSE)g Fv(in)h(the)g(ro)n(w)f(for)h Fu(CM.Control.verbose)p
Fv(,)e(CM')-5 b(s)25 b(per)n(-session)g(v)o(erbosity)e(can)h(be)h
(adjusted)f(using)0 3717 y Fu(CM)p 105 3717 V 30 w(VERBOSE)19
b Fv(and)h(the)g(boot-time)e(def)o(ault)i(can)g(be)g(set)h(using)f
Fu(CM)p 2010 3717 V 29 w(VERBOSE)p 2389 3717 V 29 w(DEFAULT)p
Fv(.)166 3940 y Ff(CM.Control.)p Fd(c)p 869 3967 4 92
v 886 3967 V 522 w Fc(stem)p 1685 3967 V 449 w(type)p
2053 3967 V 198 w(f)o(allback)p 2448 3967 V 172 w(def)o(ault)p
2842 3967 V 145 w(def)o(ault')l(s)f(meaning)p 166 3971
3688 4 v 166 3987 V 166 4051 a Ff(verbose)p 869 4079
4 92 v 886 4079 V 649 w(VERBOSE)p 1685 4079 V 336 w(bool)p
2053 4079 V 201 w(true)p 2448 4079 V 228 w Fc(same)p
2842 4079 V 171 w(issue)g(progess)h(messages)166 4143
y Ff(debug)p 869 4170 V 886 4170 V 784 w(DEBUG)p 1685
4170 V 381 w(bool)p 2053 4170 V 179 w(false)p 2448 4170
V 205 w Fc(same)p 2842 4170 V 171 w(do)f(not)g(issue)g(deb)o(ug)h
(messages)166 4234 y Ff(keep)p 350 4234 23 4 v 27 w(going)p
869 4261 4 92 v 886 4261 V 474 w(KEEP)p 1256 4234 23
4 v 26 w(GOING)p 1685 4261 4 92 v 278 w(bool)p 2053 4261
V 179 w(false)p 2448 4261 V 205 w Fc(same)p 2842 4261
V 171 w(quit)f(on)g(\002rst)f(error)166 4325 y(\(none\))p
869 4353 V 886 4353 V 703 w Ff(PATHCONFIG)p 1685 4353
V 223 w(string)p 2053 4353 V 99 w Fc(see)h(belo)n(w)p
2448 4353 V 100 w(see)g(belo)n(w)p 2842 4353 V 101 w(central)g(path)g
(con\002guration)h(\002le)166 4416 y Ff(parse)p 395 4416
23 4 v 26 w(caching)p 869 4535 4 183 v 886 4535 V 272
w(PARSE)p 1233 4416 23 4 v 26 w(CACHING)p 1685 4535 4
183 v 233 w(int)p 2053 4535 V 247 w(100)p 2448 4535 V
250 w Fc(same)p 2842 4535 V 171 w(at)27 b(most)g(100)i(parse)e(trees)h
(will)e(be)2894 4508 y(cached)20 b(in)f(main)g(memory)166
4599 y(\(none\))p 869 4718 V 886 4718 V 577 w Ff(LOCAL)p
1166 4599 23 4 v 26 w(PATHCONFIG)p 1685 4718 4 183 v
98 w(string)p 2053 4718 V 99 w Fc(see)g(belo)n(w)p 2448
4718 V 171 w(same)p 2842 4718 V 171 w(user)o(-speci\002c)28
b(path)h(con\002guration)2894 4690 y(\002le)166 4782
y Ff(warn)p 350 4782 23 4 v 27 w(obsolete)p 869 4992
4 274 v 886 4992 V 271 w(WARN)p 1188 4782 23 4 v 27 w(OBSOLETE)p
1685 4992 4 274 v 210 w(bool)p 2053 4992 V 201 w(true)p
2448 4992 V 228 w Fc(same)p 2842 4992 V 171 w(issue)41
b(w)o(arnings)h(about)g(obsolete)2894 4873 y(C-style)25
b(operators)h(in)g(description)2894 4964 y(\002les)166
5056 y Ff(conserve)p 530 5056 23 4 v 26 w(memory)p 869
5266 4 274 v 886 5266 V 138 w(CONSERVE)p 1324 5056 23
4 v 25 w(MEMORY)p 1685 5266 4 274 v 166 w(bool)p 2053
5266 V 179 w(false)p 2448 5266 V 205 w Fc(same)p 2842
5266 V 171 w(a)o(v)o(oid)14 b(repeated)i(I/O)e(operations)i(by)2894
5147 y(k)o(eeping)38 b(certain)f(information)h(in)2894
5238 y(main)19 b(memory)p 0 5277 1608 4 v 66 5333 a Fp(17)120
5356 y Fo(Normally)f(this)f(is)g(the)h(same)f(as)g(installation)k
(time,)c(b)o(ut)g(for)g(SML/NJ)g(compiler)h(hack)o(ers)h(there)g(is)e
(also)g(a)g Fm(makeml)f Fo(script)i(for)f(the)h(purpose)g(of)f
(bootstrapping.)1968 5709 y Fv(50)p eop
%%Page: 51 52
51 51 bop 0 83 a Fv(The)24 b(f)o(allback)g(for)h Fu(PATHCONFIG)e
Fv(is)j Fu(/usr/lib/smlnj-pathconfig)p Fv(,)21 b(b)n(ut)k(the)g
(standard)f(installation)g(o)o(v)o(errides)f(this)i(and)0
183 y(uses)c Fu($INSTALLDIR/lib/pathconfig)16 b Fv(\(where)j
Fu($INSTALLDIR)g Fv(is)i(the)f(SML/NJ)h(installation)e(directory\))g
(instead.)0 332 y(The)28 b(def)o(ault)g(for)g(the)h(\223local\224)g
(path)f(con\002guration)e(\002le)j(is)h Fu(.smlnj-pathconfig)p
Fv(.)48 b(This)29 b(\002le)g(is)h(located)e(in)h(the)g(user')-5
b(s)29 b(home)0 432 y(directory)18 b(\(gi)n(v)o(en)h(by)h(the)g(en)m
(vironment)d(v)n(ariable)i Fu($HOME)p Fv(\).)0 762 y
Fx(E)119 b(Listing)30 b(of)f(all)i(class)e(names)g(and)h(their)h(tools)
448 1000 y Fv(class)p 697 1030 4 100 v 139 w(\002le)21
b(contents)p 1684 1030 V 771 w(tool)p 2289 1030 V 287
w(\002le)f(name)g(suf)n(\002x)o(es)p 359 1033 3302 4
v 359 1050 V 469 1119 a(sml)p 697 1149 4 100 v 159 w(ML)h(source)e
(code)p 1684 1149 V 578 w(b)n(uilt-in)p 2289 1149 V 230
w Fu(.sig)p Fv(,)g Fu(.sml)p Fv(,)h Fu(.fun)478 1219
y Fv(cm)p 697 1249 V 168 w(CM)h(description)e(\002le)p
1684 1249 V 473 w(b)n(uilt-in)p 2289 1249 V 230 w Fu(.cm)409
1319 y Fv(mlyacc)p 697 1349 V 98 w(ML-Y)-8 b(acc)20 b(grammar)p
1684 1349 V 469 w(ml-yacc)p 2289 1349 V 217 w Fu(.grm)p
Fv(,)f Fu(.y)435 1418 y Fv(mlle)o(x)p 697 1448 V 124
w(ML-Le)o(x)g(speci\002cation)p 1684 1448 V 411 w(ml-le)o(x)p
2289 1448 V 243 w Fu(.lex)p Fv(,)g Fu(.l)411 1518 y Fv(mlb)n(ur)o(g)p
697 1548 V 98 w(ML-Bur)o(g)g(speci\002cation)p 1684 1548
V 349 w(ml-b)n(ur)o(g)p 2289 1548 V 218 w Fu(.burg)419
1618 y Fv(no)n(web)p 697 1647 V 108 w(literate)i(program)p
1684 1647 V 595 w(no)n(web)p 2289 1647 V 241 w Fu(.nw)439
1717 y Fv(mak)o(e)p 697 1747 V 129 w(mak)o(e\002le)p
1684 1747 V 865 w(mak)o(e)p 2289 1747 V 450 1817 a(shell)p
697 1847 V 141 w(arbitrary)p 1684 1847 V 700 w(shell)f(command)p
2289 1847 V 464 1916 a(tool)p 697 1946 V 154 w(CM)h(library)e
(description)g(\002le)p 1684 1946 V 231 w(b)n(uilt-in)p
2289 1946 V 435 2016 a(suf)n(\002x)p 697 2046 V 125 w
Ft(\(does)h(not)g(name)f(a)i(\002le\))p 1684 2046 V 398
w Fv(b)n(uilt-in)p 2289 2046 V 483 2116 a(dir)p 697 2146
V 172 w(directory)p 1684 2146 V 817 w(b)n(uilt-in)p 2289
2146 V 230 w Ft(\(dir)m(ectories)f(r)m(eco)o(gnized)f(automatically\))0
2417 y Fx(F)120 b(A)-12 b(v)o(ailable)30 b(libraries)0
2652 y Fv(Compiler)c(and)h(interacti)n(v)o(e)f(system)h(of)g(SML/NJ)h
(consist)f(of)g(se)n(v)o(eral)f(hundred)f(indi)n(vidual)h(compilation)f
(units.)46 b(Lik)o(e)27 b(modules)f(of)0 2752 y(application)19
b(programs,)f(these)i(compilation)f(units)h(are)g(also)g(or)o(ganized)e
(using)h(CM)i(libraries.)0 2901 y(Some)26 b(of)f(the)i(libraries)e
(that)h(mak)o(e)g(up)g(SML/NJ)g(are)g(actually)g(the)g(same)g(ones)g
(that)g(application)e(programmers)g(are)h(lik)o(ely)h(to)h(use,)0
3001 y(others)k(e)o(xist)g(for)g(or)o(ganizational)d(purposes)i(only)-5
b(.)58 b(There)30 b(are)i(\223plugin\224)e(libraries\227mainly)f(for)i
(the)h(CM)g(\223tools\224)f(subsystem\227)0 3100 y(that)c(will)g(be)g
(automatically)e(loaded)h(on)g(demand,)h(and)f(libraries)g(such)h(as)g
Fu($smlnj/cmb.cm)e Fv(can)h(be)h(used)f(to)h(obtain)f(access)h(to)0
3200 y(functionality)18 b(that)i(by)g(def)o(ault)g(is)h(not)f(present.)
0 3488 y Fr(F)-11 b(.1)99 b(Libraries)26 b(f)n(or)e(general)i(pr)n
(ogramming)0 3693 y Fv(Libraries)19 b(listed)i(in)f(the)h(follo)n(wing)
d(table)i(pro)o(vide)f(a)h(broad)f(palette)h(of)g(general-purpose)d
(programming)f(tools)3315 3663 y Fq(18)3377 3693 y Fv(:)96
3916 y Fc(name)p 1164 3943 4 92 v 1181 3943 V 975 w(description)p
3320 3943 V 1809 w(installed)p 3673 3943 V 100 w(loaded)p
46 3947 3928 4 v 46 3963 V 96 4027 a Ff($/basis.cm)p
1164 4055 4 92 v 1181 4055 V 686 w Fc(Standard)k(Basis)e(Library)p
3320 4055 V 1475 w(al)o(w)o(ays)p 3673 4055 V 159 w(auto)p
46 4058 3928 4 v 46 4075 V 96 4139 a Ff($/ml-yacc-lib.cm)p
1164 4166 4 92 v 1181 4166 V 416 w Fc(ML-Y)-7 b(acc)19
b(library)p 3320 4166 V 1663 w(al)o(w)o(ays)p 3673 4166
V 186 w(no)p 46 4169 3928 4 v 46 4186 V 96 4250 a Ff($/smlnj-lib.cm)p
1164 4277 4 92 v 1181 4277 V 506 w Fc(SML/NJ)f(general-purpose)j
(utility)e(library)p 3320 4277 V 991 w(al)o(w)o(ays)p
3673 4277 V 159 w(auto)p 46 4281 3928 4 v 96 4344 a Ff($/unix-lib.cm)p
1164 4372 4 92 v 1181 4372 V 551 w Fc(SML/NJ)f(Unix)h(programming)i
(utility)d(library)p 3320 4372 V 878 w(optional)p 3673
4372 V 167 w(no)p 46 4375 3928 4 v 96 4439 a Ff($/inet-lib.cm)p
1164 4467 4 92 v 1181 4467 V 551 w Fc(SML/NJ)g(internet)h(programming)i
(utility)d(library)p 3320 4467 V 799 w(optional)p 3673
4467 V 167 w(no)p 46 4470 3928 4 v 96 4534 a Ff($/regexp-lib.cm)p
1164 4561 4 92 v 1181 4561 V 461 w Fc(SML/NJ)g(re)o(gular)i(e)o
(xpression)g(library)p 3320 4561 V 1102 w(optional)p
3673 4561 V 167 w(no)p 46 4564 3928 4 v 96 4628 a Ff($/reactive-lib.cm)
p 1164 4656 4 92 v 1181 4656 V 371 w Fc(SML/NJ)e(reacti)n(v)o(e)i
(programming)g(library)p 3320 4656 V 991 w(optional)p
3673 4656 V 167 w(no)p 46 4659 3928 4 v 96 4723 a Ff($/pp-lib.cm)p
1164 4750 4 92 v 1181 4750 V 641 w Fc(SML/NJ)e(pretty-printing)i
(library)p 3320 4750 V 1234 w(al)o(w)o(ays)p 3673 4750
V 186 w(no)p 46 4754 3928 4 v 96 4818 a Ff($/html-lib.cm)p
1164 4845 4 92 v 1181 4845 V 551 w Fc(SML/NJ)e(HTML)h(handling)h
(library)p 3320 4845 V 1178 w(al)o(w)o(ays)p 3673 4845
V 186 w(no)p 0 4898 1608 4 v 66 4954 a Fp(18)120 4977
y Fo(Recall)f(that)f(anchored)h(paths)f(of)f(the)h(form)e
Fm($)p Fj(=x)p Fb([)p Fj(=)c Fa(\001)f(\001)h(\001)o
Fb(])k Fo(act)i(as)f(an)h(abbre)n(viation)j(for)c Fm($)p
Fj(x=x)p Fb([)p Fj(=)11 b Fa(\001)g(\001)h(\001)o Fb(])p
Fo(.)1968 5709 y Fv(51)p eop
%%Page: 52 53
52 52 bop 0 83 a Fr(F)-11 b(.2)99 b(Libraries)26 b(f)n(or)e(contr)n
(olling)h(SML/NJ')l(s)h(operation)0 289 y Fv(The)k(follo)n(wing)f
(table)h(lists)i(those)f(libraries)f(that)g(pro)o(vide)f(access)i(to)f
(the)h(so-called)f Ft(visible)h(compiler)f Fv(infrastructure)e(and)i
(to)h(the)0 388 y(compilation)18 b(manager)h(API.)121
611 y Fc(name)p 1549 639 4 92 v 1565 639 V 1335 w(description)p
3165 639 V 1269 w(installed)p 3518 639 V 165 w(loaded)p
71 642 3879 4 v 71 658 V 121 722 a Ff($smlnj/compiler.cm)121
814 y($smlnj/compiler/current.cm)p 1549 841 4 183 v 1565
841 V 1617 722 a Fc(visible)g(compiler)g(for)g(current)g(architecture)p
3165 841 V 433 w(al)o(w)o(ays)p 3518 841 V 225 w(auto)121
905 y Ff($smlnj/compiler/compiler.cm)p 1549 1024 V 1565
1024 V 281 w Fc(structure)j Ff(Compiler)f Fc(\(the)i(visible)f
(compiler)h(in)f(one)1617 996 y(big)d(structure\))p 3165
1024 V 3240 905 a(al)o(w)o(ays)p 3518 1024 V 252 w(no)p
71 1027 3879 4 v 71 1044 V 121 1108 a Ff($smlnj/cm.cm)121
1199 y($smlnj/cm/cm.cm)p 1549 1226 4 183 v 1565 1226
V 1617 1108 a Fc(compilation)h(manager)p 3165 1226 V
991 w(al)o(w)o(ays)p 3518 1226 V 225 w(auto)p 71 1230
3879 4 v 121 1294 a Ff($smlnj/cm/tools.cm)p 1549 1321
4 92 v 1565 1321 V 686 w Fc(API)e(for)h(e)o(xtending)h(CM)f(with)f(ne)n
(w)i(tools)p 3165 1321 V 493 w(al)o(w)o(ays)p 3518 1321
V 252 w(no)p 71 1324 3879 4 v 71 1341 V 121 1405 a Ff($/mllex-tool.cm)p
1549 1432 4 92 v 1565 1432 V 821 w Fc(plugin)g(library)e(for)h(class)g
Ff(mllex)p 3165 1432 V 701 w Fc(al)o(w)o(ays)p 3518 1432
V 124 w(on)h(demand)p 71 1436 3879 4 v 121 1500 a Ff($/lex-ext.cm)p
1549 1527 4 92 v 1565 1527 V 956 w Fc(plugin)g(library)e(for)h(e)o
(xtension)h Ff(.lex)p 3165 1527 V 606 w Fc(al)o(w)o(ays)p
3518 1527 V 124 w(on)g(demand)p 71 1530 3879 4 v 121
1594 a Ff($/mlyacc-tool.cm)p 1549 1622 4 92 v 1565 1622
V 776 w Fc(plugin)g(library)e(for)h(class)g Ff(mlyacc)p
3165 1622 V 656 w Fc(al)o(w)o(ays)p 3518 1622 V 124 w(on)h(demand)p
71 1625 3879 4 v 121 1689 a Ff($/grm-ext.cm)p 1549 1716
4 92 v 1565 1716 V 956 w Fc(plugin)g(library)e(for)h(e)o(xtension)h
Ff(.grm)p 3165 1716 V 606 w Fc(al)o(w)o(ays)p 3518 1716
V 124 w(on)g(demand)p 71 1720 3879 4 v 121 1783 a Ff($/mlburg-tool.cm)p
1549 1811 4 92 v 1565 1811 V 776 w Fc(plugin)g(library)e(for)h(class)g
Ff(mlburg)p 3165 1811 V 656 w Fc(al)o(w)o(ays)p 3518
1811 V 124 w(on)h(demand)p 71 1814 3879 4 v 121 1878
a Ff($/burg-ext.cm)p 1549 1905 4 92 v 1565 1905 V 911
w Fc(plugin)g(library)e(for)h(e)o(xtension)h Ff(.burg)p
3165 1905 V 561 w Fc(al)o(w)o(ays)p 3518 1905 V 124 w(on)g(demand)p
71 1909 3879 4 v 121 1973 a Ff($/noweb-tool.cm)p 1549
2000 4 92 v 1565 2000 V 821 w Fc(plugin)g(library)e(for)h(class)g
Ff(noweb)p 3165 2000 V 701 w Fc(al)o(w)o(ays)p 3518 2000
V 124 w(on)h(demand)p 71 2003 3879 4 v 121 2067 a Ff($/nw-ext.cm)p
1549 2095 4 92 v 1565 2095 V 1001 w Fc(plugin)g(library)e(for)h(e)o
(xtension)h Ff(.nw)p 3165 2095 V 651 w Fc(al)o(w)o(ays)p
3518 2095 V 124 w(on)g(demand)p 71 2098 3879 4 v 121
2162 a Ff($/make-tool.cm)p 1549 2189 4 92 v 1565 2189
V 866 w Fc(plugin)g(library)e(for)h(class)g Ff(make)p
3165 2189 V 746 w Fc(al)o(w)o(ays)p 3518 2189 V 124 w(on)h(demand)p
71 2193 3879 4 v 121 2257 a Ff($/shell-tool.cm)p 1549
2284 4 92 v 1565 2284 V 821 w Fc(plugin)g(library)e(for)h(class)g
Ff(shell)p 3165 2284 V 701 w Fc(al)o(w)o(ays)p 3518 2284
V 124 w(on)h(demand)p 71 2287 3879 4 v 121 2351 a Ff($/dir-tool.cm)p
1549 2379 4 92 v 1565 2379 V 911 w Fc(plugin)g(library)e(for)h(class)g
Ff(dir)p 3165 2379 V 791 w Fc(al)o(w)o(ays)p 3518 2379
V 124 w(on)h(demand)0 2627 y Fr(F)-11 b(.3)99 b(Libraries)26
b(f)n(or)e(SML/NJ)i(compiler)f(hack)o(ers)0 2832 y Fv(The)j(follo)n
(wing)e(table)i(lists)h(libraries)e(that)h(pro)o(vide)e(access)i(to)g
(the)g(SML/NJ)h Ft(bootstr)o(ap)d(compiler)p Fv(.)48
b(The)27 b(bootstrap)g(compiler)f(is)j(a)0 2932 y(deri)n(v)n(ati)n(v)o
(e)17 b(of)h(the)h(compilation)e(manager)-5 b(.)23 b(In)c(addition)e
(to)i(being)f(able)h(to)f(recompile)g(SML/NJ)h(for)f(the)h
(\223host\224)f(system)h(there)g(are)f(also)0 3032 y(cross-compilers)g
(that)j(can)f(tar)o(get)f(all)i(of)f(SML/NJ')-5 b(s)21
b(supported)d(platforms.)66 3255 y Fc(name)p 1494 3282
V 1511 3282 V 1335 w(description)p 3350 3282 V 1509 w(installed)p
3703 3282 V 100 w(loaded)p 16 3285 3988 4 v 16 3302 V
66 3366 a Ff($smlnj/cmb.cm)66 3457 y($smlnj/cmb/current.cm)p
1494 3485 4 183 v 1511 3485 V 1562 3366 a Fc(bootstrap)i(compiler)f
(for)g(current)g(architecture)h(and)f(OS)p 3350 3485
V 353 w(al)o(w)o(ays)p 3703 3485 V 186 w(no)p 16 3488
3988 4 v 16 3505 V 66 3568 a Ff($smlnj/cmb/alpha32-unix.cm)p
1494 3596 4 92 v 1511 3596 V 326 w Fc(bootstrap)h(compiler)f(for)g
(Alpha/Unix)h(systems)p 3350 3596 V 569 w(al)o(w)o(ays)p
3703 3596 V 186 w(no)p 16 3599 3988 4 v 66 3663 a Ff
($smlnj/cmb/hppa-unix.cm)p 1494 3691 4 92 v 1511 3691
V 461 w Fc(bootstrap)g(compiler)f(for)g(HP-P)-7 b(A/Unix)18
b(systems)p 3350 3691 V 543 w(al)o(w)o(ays)p 3703 3691
V 186 w(no)p 16 3694 3988 4 v 66 3758 a Ff($smlnj/cmb/ppc-macos.cm)p
1494 3785 4 92 v 1511 3785 V 461 w Fc(bootstrap)i(compiler)f(for)g(Po)n
(werPC/Unix)f(systems)p 3350 3785 V 472 w(al)o(w)o(ays)p
3703 3785 V 186 w(no)p 16 3788 3988 4 v 66 3852 a Ff
($smlnj/cmb/ppc-unix.cm)p 1494 3880 4 92 v 1511 3880
V 506 w Fc(bootstrap)i(compiler)f(for)g(Po)n(werPC/MacOS)f(systems)p
3350 3880 V 393 w(al)o(w)o(ays)p 3703 3880 V 186 w(no)p
16 3883 3988 4 v 66 3947 a Ff($smlnj/cmb/sparc-unix.cm)p
1494 3974 4 92 v 1511 3974 V 416 w Fc(bootstrap)i(compiler)f(for)g
(Sparc/Unix)g(systems)p 3350 3974 V 582 w(al)o(w)o(ays)p
3703 3974 V 186 w(no)p 16 3978 3988 4 v 66 4042 a Ff
($smlnj/cmb/x86-unix.cm)p 1494 4069 4 92 v 1511 4069
V 506 w Fc(bootstrap)h(compiler)f(for)g(IA32/Unix)h(systems)p
3350 4069 V 598 w(al)o(w)o(ays)p 3703 4069 V 186 w(no)p
16 4072 3988 4 v 66 4136 a Ff($smlnj/cmb/x86-win32.cm)p
1494 4164 4 92 v 1511 4164 V 461 w Fc(bootstrap)g(compiler)f(for)g
(IA32/W)m(in32)h(systems)p 3350 4164 V 547 w(al)o(w)o(ays)p
3703 4164 V 186 w(no)p 16 4167 3988 4 v 16 4184 V 66
4248 a Ff($smlnj/compiler/alpha32.cm)p 1494 4366 4 183
v 1511 4366 V 326 w Fc(visible)33 b(compiler)f(with)g(back)o(end)j(for)
d(Alpha-speci\002c)h(cross-)1562 4339 y(compiler)p 3350
4366 V 3426 4248 a(al)o(w)o(ays)p 3703 4366 V 186 w(no)p
16 4370 3988 4 v 66 4434 a Ff($smlnj/compiler/hppa.cm)p
1494 4552 4 183 v 1511 4552 V 461 w Fc(visible)28 b(compiler)h(with)e
(back)o(end)j(for)e(HP-P)-7 b(A-speci\002c)27 b(cross-)1562
4525 y(compiler)p 3350 4552 V 3426 4434 a(al)o(w)o(ays)p
3703 4552 V 186 w(no)p 16 4556 3988 4 v 66 4620 a Ff
($smlnj/compiler/ppc.cm)p 1494 4738 4 183 v 1511 4738
V 506 w Fc(visible)16 b(compiler)h(with)e(back)o(end)k(for)c(Po)n
(werPC-speci\002c)h(cross-)1562 4711 y(compiler)p 3350
4738 V 3426 4620 a(al)o(w)o(ays)p 3703 4738 V 186 w(no)p
16 4742 3988 4 v 66 4805 a Ff($smlnj/compiler/sparc.cm)p
1494 4924 4 183 v 1511 4924 V 416 w Fc(visible)35 b(compiler)g(with)f
(back)o(end)i(for)e(Sparc-speci\002c)h(cross-)1562 4897
y(compiler)p 3350 4924 V 3426 4805 a(al)o(w)o(ays)p 3703
4924 V 186 w(no)p 16 4928 3988 4 v 66 4991 a Ff($smlnj/compiler/x86.cm)
p 1494 5110 4 183 v 1511 5110 V 506 w Fc(visible)j(compiler)f(with)g
(back)o(end)i(for)e(IA32-speci\002c)h(cross-)1562 5083
y(compiler)p 3350 5110 V 3426 4991 a(al)o(w)o(ays)p 3703
5110 V 186 w(no)p 16 5114 3988 4 v 66 5177 a Ff($smlnj/compiler/all.cm)
p 1494 5296 4 183 v 1511 5296 V 506 w Fc(visible)20 b(compiler)m(,)h
(back)o(ends)h(and)f(bootstrap)g(compilers)g(for)f(all)1562
5269 y(architectures)p 3350 5296 V 3426 5177 a(al)o(w)o(ays)p
3703 5296 V 186 w(no)1968 5709 y Fv(52)p eop
%%Page: 53 54
53 53 bop 0 83 a Fr(F)-11 b(.4)99 b(Inter)o(nal)25 b(libraries)0
289 y Fv(F)o(or)20 b(completeness,)f(here)g(is)i(the)g(list)g(of)f
(other)f(libraries)h(that)g(are)g(part)g(of)g(SML/NJ')-5
b(s)21 b(implementation:)96 512 y Fc(name)p 1644 539
4 92 v 1661 539 V 1455 w(description)p 3320 539 V 1329
w(installed)p 3673 539 V 100 w(loaded)p 46 542 3928 4
v 46 559 V 96 623 a Ff($MLRISC/Lib.cm)p 1644 650 4 92
v 1661 650 V 986 w Fc(utility)e(library)f(for)h(MLRISC)f(back)o(end)p
3320 650 V 620 w(al)o(w)o(ays)p 3673 650 V 186 w(no)p
46 654 3928 4 v 96 717 a Ff($MLRISC/Control.cm)p 1644
745 4 92 v 1661 745 V 806 w Fc(control)i(f)o(acilities)e(for)h(MLRISC)f
(back)o(end)p 3320 745 V 529 w(al)o(w)o(ays)p 3673 745
V 186 w(no)p 46 748 3928 4 v 96 812 a Ff($MLRISC/MLRISC.cm)p
1644 839 4 92 v 1661 839 V 851 w Fc(architecture-neutral)i(core)f(of)g
(MLRISC)f(back)o(end)p 3320 839 V 309 w(al)o(w)o(ays)p
3673 839 V 186 w(no)p 46 843 3928 4 v 96 907 a Ff($MLRISC/ALPHA.cm)p
1644 934 4 92 v 1661 934 V 896 w Fc(Alpha-speci\002c)i(MLRISC)e(back)o
(end)p 3320 934 V 686 w(al)o(w)o(ays)p 3673 934 V 186
w(no)p 46 937 3928 4 v 96 1001 a Ff($MLRISC/HPPA.cm)p
1644 1029 4 92 v 1661 1029 V 941 w Fc(HP-P)-7 b(A-speci\002c)18
b(MLRISC)g(back)o(end)p 3320 1029 V 660 w(al)o(w)o(ays)p
3673 1029 V 186 w(no)p 46 1032 3928 4 v 96 1096 a Ff($MLRISC/PPC.cm)p
1644 1123 4 92 v 1661 1123 V 986 w Fc(Po)n(werPC-speci\002c)h(MLRISC)e
(back)o(end)p 3320 1123 V 589 w(al)o(w)o(ays)p 3673 1123
V 186 w(no)p 46 1127 3928 4 v 96 1191 a Ff($MLRISC/SPARC.cm)p
1644 1218 4 92 v 1661 1218 V 896 w Fc(Sparc-speci\002c)i(MLRISC)f(back)
o(end)p 3320 1218 V 699 w(al)o(w)o(ays)p 3673 1218 V
186 w(no)p 46 1221 3928 4 v 96 1285 a Ff($MLRISC/IA32.cm)p
1644 1313 4 92 v 1661 1313 V 941 w Fc(IA32-speci\002c)i(MLRISC)e(back)o
(end)p 3320 1313 V 715 w(al)o(w)o(ays)p 3673 1313 V 186
w(no)p 46 1316 3928 4 v 46 1333 V 96 1397 a Ff($/pickle-lib.cm)p
1644 1424 4 92 v 1661 1424 V 941 w Fc(utility)h(library)f(for)h
(compiler)h(and)f(CM)p 3320 1424 V 636 w(al)o(w)o(ays)p
3673 1424 V 186 w(no)p 46 1427 3928 4 v 96 1491 a Ff
($smlnj/viscomp/core.cm)p 1644 1519 4 92 v 1661 1519
V 626 w Fc(architecture-neutral)h(core)f(of)g(compiler)p
3320 1519 V 587 w(al)o(w)o(ays)p 3673 1519 V 186 w(no)p
46 1522 3928 4 v 96 1586 a Ff($smlnj/viscomp/alpha32.cm)p
1644 1613 4 92 v 1661 1613 V 491 w Fc(Alpha-speci\002c)h(part)f(of)g
(compiler)p 3320 1613 V 748 w(al)o(w)o(ays)p 3673 1613
V 186 w(no)p 46 1617 3928 4 v 96 1680 a Ff($smlnj/viscomp/hppa.cm)p
1644 1708 4 92 v 1661 1708 V 626 w Fc(HP-P)-7 b(A-speci\002c)18
b(part)h(of)g(compiler)p 3320 1708 V 722 w(al)o(w)o(ays)p
3673 1708 V 186 w(no)p 46 1711 3928 4 v 96 1775 a Ff
($smlnj/viscomp/ppc.cm)p 1644 1803 4 92 v 1661 1803 V
671 w Fc(Po)n(werPC-speci\002c)g(part)f(of)h(compiler)p
3320 1803 V 651 w(al)o(w)o(ays)p 3673 1803 V 186 w(no)p
46 1806 3928 4 v 96 1870 a Ff($smlnj/viscomp/sparc.cm)p
1644 1897 4 92 v 1661 1897 V 581 w Fc(Sparc-speci\002c)g(part)g(of)g
(compiler)p 3320 1897 V 761 w(al)o(w)o(ays)p 3673 1897
V 186 w(no)p 46 1900 3928 4 v 96 1964 a Ff($smlnj/viscomp/x86.cm)p
1644 1992 4 92 v 1661 1992 V 671 w Fc(IA32-speci\002c)h(part)f(of)f
(compiler)p 3320 1992 V 778 w(al)o(w)o(ays)p 3673 1992
V 186 w(no)p 46 1995 3928 4 v 46 2012 V 96 2076 a Ff
($smlnj/init/init.cmi)p 1644 2194 4 183 v 1661 2194 V
716 w Fc(initial)j(\223glue\224;)i(implementation)f(of)g(perv)n(asi)n
(v)o(e)g(en)m(viron-)1712 2167 y(ment)p 3320 2194 V 3396
2076 a(al)o(w)o(ays)p 3673 2194 V 186 w(no)p 46 2198
3928 4 v 46 2214 V 96 2278 a Ff($smlnj/internal/cm-sig-lib.cm)p
1644 2306 4 92 v 1661 2306 V 311 w Fc(signatures)e Ff(CM)e
Fc(and)i Ff(CMB)p 3320 2306 V 992 w Fc(al)o(w)o(ays)p
3673 2306 V 186 w(no)p 46 2309 3928 4 v 96 2373 a Ff
($smlnj/internal/srcpath-lib.cm)p 1644 2492 4 183 v 1661
2492 V 266 w Fc(implementation)f(of)e(an)h(internal)f(\223source)i
(path\224)f(abstrac-)1712 2464 y(tion)h(used)h(by)f(the)g(compilation)h
(manager)p 3320 2492 V 3396 2373 a(al)o(w)o(ays)p 3673
2492 V 186 w(no)p 46 2495 3928 4 v 96 2559 a Ff
($smlnj/internal/cm-lib.cm)p 1644 2678 4 183 v 1661 2678
V 491 w Fc(implementation)28 b(of)f(CM)g(\(not)g(yet)g(specialized)g
(to)g(spe-)1712 2650 y(ci\002c)19 b(back)o(ends\))p 3320
2678 V 3396 2559 a(al)o(w)o(ays)p 3673 2678 V 186 w(no)p
46 2681 3928 4 v 96 2745 a Ff($smlnj/internal/cm0.cm)p
1644 2864 4 183 v 1661 2864 V 626 w Fc(specialization)24
b(of)f(compilation)h(manager)g(to)e(host)i(com-)1712
2836 y(piler)p 3320 2864 V 3396 2745 a(al)o(w)o(ays)p
3673 2864 V 186 w(no)p 46 2867 3928 4 v 96 2931 a Ff
($smlnj/internal/intsys.cm)p 1644 3050 4 183 v 1661 3050
V 491 w Fc(root)i(library)-5 b(,)27 b(containing)g(interacti)n(v)o(e)f
(system)g(and)h(glue)1712 3022 y(for)19 b(all)f(the)h(other)h(parts)p
3320 3050 V 3396 2931 a(al)o(w)o(ays)p 3673 3050 V 186
w(no)0 3321 y Fx(G)120 b(Exports)29 b(of)g(library)i
Fh($smlnj/cm/tools.cm)0 3556 y Fv(As)23 b(described)d(in)i(section)g
(11,)g(it)g(is)h(possible)f(to)g(e)o(xtend)f(CM')-5 b(s)23
b(set)f(of)g(a)n(v)n(ailable)f(tools)h(using)g(the)g(programming)c
(interf)o(ace)j(pro)o(vided)0 3656 y(by)d Fu(structure)48
b(Tools)p Fv(.)24 b(This)19 b(structure\227together)c(with)k(its)g
(corresponding)c Fu(signature)48 b(TOOLS)p Fv(\227is)19
b(e)o(xported)d(by)i(library)0 3755 y Fu($smlnj/cm/tools.cm)p
Fv(.)54 b(The)30 b(same)h(library)f(also)h(e)o(xports)e
Fu(structure)48 b(Sharing)p Fv(,)32 b Fu(structure)49
b(Version)p Fv(,)32 b(and)e(a)0 3855 y(corresponding)17
b Fu(signature)48 b(VERSION)p Fv(.)0 4142 y Fr(G.1)99
b(The)26 b(public)g(signatur)n(e)f(of)g Fg(structure)58
b(Tools)90 4340 y Ff(signature)43 b(TOOLS)h(=)h(sig)269
4522 y(type)f(class)g(=)h(string)269 4705 y(type)f(srcpath)269
4796 y(type)g(presrcpath)269 4979 y(type)g(rebindings)f(=)i({)g
(anchor:)e(string,)h(value:)g(presrcpath)f(})i(list)269
5162 y(val)f(nativeSpec)f(:)i(srcpath)f(->)g(string)269
5253 y(val)g(nativePreSpec)f(:)i(presrcpath)e(->)h(string)269
5344 y(val)g(srcpath)g(:)h(presrcpath)e(->)h(srcpath)269
5436 y(val)g(augment)g(:)h(presrcpath)e(->)h(string)g(list)g(->)h
(presrcpath)1968 5709 y Fv(53)p eop
%%Page: 54 55
54 54 bop 269 174 a Ff(exception)43 b(ToolError)h(of)g({)h(tool:)f
(string,)f(msg:)i(string)e(})269 357 y(type)h(pathmaker)f(=)i(unit)f
(->)h(presrcpath)269 540 y(type)f(fnspec)g(=)h({)f(name:)g(string,)g
(mkpath:)g(pathmaker)f(})269 722 y(datatype)g(toolopt)h(=)448
814 y(STRING)g(of)h(fnspec)359 905 y(|)f(SUBOPTS)g(of)g({)h(name:)f
(string,)g(opts:)g(toolopts)f(})269 996 y(withtype)g(toolopts)h(=)h
(toolopt)e(list)269 1179 y(type)h(tooloptcvt)f(=)i(toolopts)e(option)h
(->)h(toolopts)e(option)269 1362 y(type)h(spec)g(=)h({)g(name:)f
(string,)f(mkpath:)h(pathmaker,)897 1453 y(class:)f(class)h(option,)g
(opts:)g(toolopts)g(option,)f(derived:)h(bool)g(})269
1636 y(type)g(setup)g(=)h(string)f(option)f(*)i(string)f(option)g(\(*)g
(\(pre,)g(post\))g(*\))269 1818 y(type)g(expansion)f(=)493
1910 y({)i(smlfiles:)e(\(srcpath)h(*)g(Sharing.request)f(*)h(setup\))g
(list,)583 2001 y(cmfiles:)f(\(srcpath)h(*)g(Version.t)g(option)g(*)g
(rebindings\))f(list,)583 2092 y(sources:)g(\(srcpath)h(*)g({)h(class:)
f(class,)g(derived:)f(bool}\))h(list)g(})269 2275 y(type)g
(partial_expansion)e(=)j(expansion)e(*)i(spec)f(list)269
2457 y(type)g(rulefn)g(=)h(unit)f(->)g(partial_expansion)269
2549 y(type)g(rulecontext)f(=)i(rulefn)f(->)g(partial_expansion)269
2640 y(type)g(rule)g(=)h({)g(spec:)f(spec,)897 2731 y
(native2pathmaker:)e(string)h(->)i(pathmaker,)897 2823
y(context:)e(rulecontext,)897 2914 y(defaultClassOf:)f(fnspec)i(->)g
(class)g(option)g(})807 3005 y(->)g(partial_expansion)269
3188 y(val)g(registerClass)f(:)i(class)f(*)g(rule)g(->)h(unit)269
3371 y(datatype)e(classifier)h(=)448 3462 y(SFX_CLASSIFIER)f(of)h
(string)g(->)h(class)f(option)359 3553 y(|)g(GEN_CLASSIFIER)f(of)h({)h
(name:)f(string,)g(mkfname:)f(unit)h(->)h(string)f(})g(->)1255
3645 y(class)g(option)269 3827 y(val)g(stdSfxClassifier)e(:)j({)g(sfx:)
f(string)g(,)g(class:)g(class)g(})h(->)f(classifier)269
4010 y(datatype)f(extensionStyle)g(=)448 4101 y(EXTEND)h(of)h(\(string)
e(*)i(class)f(option)g(*)g(tooloptcvt\))f(list)359 4193
y(|)h(REPLACE)g(of)g(string)g(list)g(*)h(\(string)f(*)g(class)g(option)
g(*)h(tooloptcvt\))e(list)269 4375 y(val)h(extend)g(:)h(extensionStyle)
d(->)852 4467 y(\(string)h(*)i(toolopts)f(option\))f(->)852
4558 y(\(string)g(*)i(class)f(option)g(*)h(toolopts)e(option\))h(list)
269 4741 y(val)g(outdated)g(:)g(string)g(->)h(string)f(list)g(*)g
(string)g(->)h(bool)269 4923 y(val)f(outdated')g(:)448
5015 y(string)g(->)h({)f(src:)g(string,)g(wtn:)g(string,)g(tgt:)g
(string)g(})h(->)f(bool)269 5197 y(val)g(openTextOut)f(:)i(string)f(->)
g(TextIO.outstream)269 5380 y(val)g(makeDirs)g(:)g(string)g(->)h(unit)
1968 5709 y Fv(54)p eop
%%Page: 55 56
55 55 bop 269 174 a Ff(val)44 b(registerClassifier)e(:)j(classifier)e
(->)h(unit)269 357 y(val)g(parseOptions)f(:)448 448 y({)i(tool)f(:)h
(string,)e(keywords)h(:)h(string)e(list,)h(options)g(:)h(toolopts)e(})i
(->)448 540 y({)g(matches)f(:)g(string)g(->)h(toolopts)e(option,)h
(restoptions)f(:)h(string)g(list)g(})269 722 y(val)g(say)h(:)f(string)g
(list)g(->)h(unit)269 814 y(val)f(vsay)g(:)h(string)f(list)g(->)h(unit)
269 996 y(val)f(mkCmdName)g(:)g(string)g(->)h(string)269
1179 y(val)f(registerStdShellCmdTool)d(:)448 1270 y({)k(tool:)f
(string,)g(class:)f(string,)h(suffixes:)f(string)h(list,)538
1362 y(cmdStdPath:)f(string,)h(extensionStyle:)e(extensionStyle,)538
1453 y(template:)h(string)h(option,)g(dflopts:)f(toolopts)h(})448
1544 y(->)h(unit)90 1636 y(end)90 1818 y(structure)e(Tools)h(:>)g
(TOOLS)0 2106 y Fr(G.2)99 b(The)26 b(public)g(signatur)n(e)f(of)g
Fg(structure)58 b(Version)90 2303 y Ff(signature)43 b(VERSION)h(=)g
(sig)269 2485 y(type)g(t)269 2668 y(val)g(fromString)f(:)i(string)f(->)
g(t)h(option)269 2759 y(val)f(toString:)g(t)g(->)h(string)269
2851 y(val)f(compare)g(:)h(t)f(*)h(t)g(->)f(order)269
3033 y(val)g(nextMajor)g(:)g(t)h(->)f(t)269 3216 y(val)g(zero:)g(t)90
3307 y(end)90 3490 y(structure)f(Version)h(:>)g(VERSION)0
3777 y Fr(G.3)99 b(The)26 b(public)g(signatur)n(e)f(of)g
Fg(structure)58 b(Sharing)90 3975 y Ff(structure)43 b(Sharing)h(:)g
(sig)269 4066 y(datatype)f(request)h(=)h(PRIVATE)e(|)i(SHARED)f(|)h
(DONTCARE)269 4157 y(datatype)e(mode)i(=)f(SHARE)g(of)h(bool)f(|)h
(DONTSHARE)90 4249 y(end)1968 5709 y Fv(55)p eop
%%Page: 56 57
56 56 bop 0 83 a Fx(Refer)n(ences)0 302 y Fv([AM91])160
b(Andre)n(w)25 b(W)-8 b(.)27 b(Appel)f(and)f(Da)n(vid)h(B.)h(MacQueen.)
47 b(Standard)25 b(ML)h(of)g(Ne)n(w)h(Jerse)o(y)-5 b(.)47
b(In)26 b(Martin)g(W)m(irsing,)h(editor)m(,)g Ft(3r)m(d)434
401 y(International)14 b(Symp.)i(on)g(Pr)l(o)o(g)o(.)g(Lang)o(.)g
(Implementation)e(and)i(Lo)o(gic)g(Pr)l(o)o(gr)o(amming)p
Fv(,)g(pages)g(1\22613,)g(Ne)n(w)h(Y)-9 b(ork,)16 b(August)434
501 y(1991.)i(Springer)n(-V)-9 b(erlag.)0 667 y([AM94])160
b(Andre)n(w)19 b(W)-8 b(.)21 b(Appel)f(and)g(Da)n(vid)g(B.)i(MacQueen.)
28 b(Separate)20 b(compilation)f(for)h(Standard)f(ML.)30
b(In)20 b Ft(Pr)l(oc.)g(SIGPLAN)g('94)434 767 y(Symp.)f(on)h(Pr)l(o)o
(g)o(.)f(Langua)o(g)o(e)g(Design)h(and)f(Implementation)p
Fv(,)e(v)n(olume)j(29,)f(pages)h(13\22623.)e(A)m(CM)j(Press,)f(June)g
(1994.)0 933 y([AMT89])109 b(Andre)n(w)21 b(W)-8 b(.)25
b(Appel,)d(James)i(S.)f(Mattson,)h(and)e(Da)n(vid)h(R.)h(T)-7
b(arditi.)38 b(A)23 b(le)o(xical)g(analyzer)f(generator)f(for)h
(Standard)g(ML.)434 1032 y(Distrib)n(uted)d(with)i(Standard)d(ML)j(of)f
(Ne)n(w)g(Jerse)o(y)-5 b(,)19 b(December)g(1989.)0 1198
y([A)-9 b(TW94])114 b(Rolf)22 b(Adams,)h(W)-7 b(alter)23
b(T)m(ichy)-5 b(,)22 b(and)g(Annette)g(W)-7 b(einert.)36
b(The)23 b(cost)f(of)h(selecti)n(v)o(e)f(recompilation)e(and)i(en)m
(vironment)e(pro-)434 1298 y(cessing.)29 b Ft(A)n(CM)20
b(T)o(OSEM)p Fv(,)g(3\(1\):3\22628,)d(January)i(1994.)0
1464 y([B)m(A97])182 b(Matthias)24 b(Blume)h(and)f(Andre)n(w)g(W)-8
b(.)26 b(Appel.)43 b(Lambda-splitting:)32 b(A)25 b(higher)n(-order)d
(approach)h(to)i(cross-module)d(opti-)434 1564 y(mizations.)k(In)19
b Ft(Pr)l(oc.)h(1997)e(A)n(CM)i(SIGPLAN)f(International)e(Confer)m
(ence)h(on)h(Functional)f(Pr)l(o)o(gr)o(amming)g(\(ICFP'97\))p
Fv(,)434 1663 y(pages)h(112\226124.)e(A)m(CM)k(Press,)g(June)f(1997.)0
1829 y([B)m(A99])182 b(Matthias)22 b(Blume)g(and)f(Andre)n(w)g(W)-8
b(.)23 b(Appel.)34 b(Hierarchical)21 b(modularity)-5
b(.)33 b Ft(A)n(CM)22 b(T)-5 b(r)o(ans.)22 b(on)g(Pr)l(o)o(gr)o(amming)
e(Langua)o(g)o(es)434 1929 y(and)f(Systems)p Fv(,)h
(21\(4\):790\226812,)15 b(July)20 b(1999.)0 2095 y([Blu95])174
b(Matthias)24 b(Blume.)41 b(Standard)23 b(ML)h(of)g(Ne)n(w)g(Jerse)o(y)
g(compilation)e(manager)-5 b(.)40 b(Manual)24 b(accompan)o(ying)c
(SML/NJ)25 b(soft-)434 2195 y(w)o(are,)20 b(1995.)0 2361
y([Blu99])174 b(Matthias)29 b(Blume.)60 b(Dependenc)o(y)27
b(analysis)j(for)f(Standard)f(ML.)60 b Ft(A)n(CM)30 b(T)-5
b(r)o(ans.)30 b(on)f(Pr)l(o)o(gr)o(amming)f(Langua)o(g)o(es)g(and)434
2460 y(Systems)p Fv(,)20 b(21\(4\):813\226846,)15 b(July)20
b(1999.)0 2626 y([Fel79])188 b(S.)30 b(I.)f(Feldman.)58
b(Mak)o(e)30 b(\226)f(a)h(program)e(for)h(maintaining)e(computer)h
(programs.)57 b(In)30 b Ft(Unix)f(Pr)l(o)o(gr)o(ammer')m(s)g(Manual,)
434 2726 y(Se)o(venth)18 b(Edition,)h(V)-9 b(olume)19
b(2A)p Fv(.)h(Bell)h(Laboratories,)d(1979.)0 2892 y([GG93])174
b(Florent)23 b(Guillaume)g(and)h(Lal)h(Geor)o(ge.)40
b Ft(ML-Bur)m(g)24 b(Documentation)p Fv(.)39 b(A)-9 b(T&T)24
b(Bell)h(Laboratories,)e(1993.)40 b(distrib)n(uted)434
2992 y(with)20 b(SML/NJ)h(softw)o(are.)0 3158 y([HLPR94a])45
b(Robert)18 b(Harper)m(,)f(Peter)i(Lee,)g(Frank)f(Pfenning,)f(and)h
(Eugene)f(Rollins.)27 b(A)19 b(Compilation)e(Manager)h(for)g(Standard)f
(ML)i(of)434 3257 y(Ne)n(w)h(Jerse)o(y)-5 b(.)28 b(In)20
b Ft(1994)f(A)n(CM)i(SIGPLAN)f(W)-8 b(orkshop)19 b(on)h(ML)h(and)e(its)
j(Applications)p Fv(,)c(pages)i(136\226147,)d(1994.)0
3423 y([HLPR94b])40 b(Robert)29 b(Harper)m(,)i(Peter)f(Lee,)i(Frank)d
(Pfenning,)i(and)e(Eugene)f(Rollins.)61 b(Incremental)28
b(recompilation)g(for)h(Standard)434 3523 y(ML)19 b(of)f(Ne)n(w)i
(Jerse)o(y.)26 b(T)-6 b(echnical)18 b(Report)h(CMU-CS-94-116,)d
(Department)i(of)h(Computer)e(Science,)i(Carne)o(gie-Mellon)434
3623 y(Uni)n(v)o(ersity)-5 b(,)18 b(February)g(1994.)0
3789 y([KR88])179 b(Brian)20 b(W)-8 b(.)22 b(K)n(ernighan)d(and)h
(Dennis)h(M.)g(Ritchie.)31 b Ft(The)21 b(C)h(Pr)l(o)o(gr)o(amming)e
(Langua)o(g)o(e)o(,)e(Second)i(Edition)p Fv(.)30 b(Prentice)20
b(Hall,)434 3888 y(Engle)n(w)o(ood)e(Clif)n(fs,)i(Ne)n(w)h(Jerse)o(y)f
(07632,)e(1988.)0 4054 y([MTHM97])39 b(Robin)20 b(Milner)m(,)g(Mads)g
(T)-7 b(ofte,)21 b(Robert)f(Harper)m(,)f(and)h(Da)n(vid)g(MacQueen.)29
b Ft(The)21 b(De\002nition)e(of)i(Standar)m(d)e(ML)i(\(Re)o(vised\))p
Fv(.)434 4154 y(MIT)e(Press,)i(Cambridge,)e(MA,)h(1997.)0
4320 y([Ram94])137 b(Norman)18 b(Ramse)o(y)-5 b(.)29
b(Literate)20 b(programming)d(simpli\002ed.)28 b Ft(IEEE)20
b(Softwar)m(e)p Fv(,)g(11\(5\):97\226105,)15 b(September)k(1994.)0
4486 y([RG99])179 b(John)19 b(Repp)o(y)h(and)f(Emden)g(Gansner)-5
b(.)29 b(Standard)19 b(ML)h(Basis)i(Library)-5 b(.)27
b(\(not)20 b(yet)g(in)g(paper)f(form\),)g(1999.)0 4652
y([T)-8 b(A90])191 b(Da)n(vid)16 b(R.)i(T)-7 b(arditi)17
b(and)g(Andre)n(w)f(W)-8 b(.)18 b(Appel.)j(ML-Yacc,)c(v)o(ersion)f
(2.0.)22 b(Distrib)n(uted)16 b(with)h(Standard)f(ML)h(of)g(Ne)n(w)g
(Jerse)o(y)-5 b(,)434 4752 y(April)20 b(1990.)1968 5709
y(56)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
