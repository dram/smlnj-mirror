%!PS-Adobe-2.0
%%Creator: dvips(k) 5.86 Copyright 1999 Radical Eye Software
%%Title: manual.dvi
%%Pages: 60
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentFonts: Times-Bold Times-Roman Times-Italic Courier
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -o manual.ps manual
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2002.05.21:1340
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "22 June 1996",
%   filename = "8r.enc",
%   email = "kb@@mail.tug.org",
%   address = "135 Center Hill Rd. // Plymouth, MA 02360",
%   codetable = "ISO/ASCII",
%   checksum = "119     662    4424",
%   docstring = "Encoding for TrueType or Type 1 fonts to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
%%BeginProcSet: special.pro
%!
TeXDict begin/SDict 200 dict N SDict begin/@SpecialDefaults{/hs 612 N
/vs 792 N/ho 0 N/vo 0 N/hsc 1 N/vsc 1 N/ang 0 N/CLIP 0 N/rwiSeen false N
/rhiSeen false N/letter{}N/note{}N/a4{}N/legal{}N}B/@scaleunit 100 N
/@hscale{@scaleunit div/hsc X}B/@vscale{@scaleunit div/vsc X}B/@hsize{
/hs X/CLIP 1 N}B/@vsize{/vs X/CLIP 1 N}B/@clip{/CLIP 2 N}B/@hoffset{/ho
X}B/@voffset{/vo X}B/@angle{/ang X}B/@rwi{10 div/rwi X/rwiSeen true N}B
/@rhi{10 div/rhi X/rhiSeen true N}B/@llx{/llx X}B/@lly{/lly X}B/@urx{
/urx X}B/@ury{/ury X}B/magscale true def end/@MacSetUp{userdict/md known
{userdict/md get type/dicttype eq{userdict begin md length 10 add md
maxlength ge{/md md dup length 20 add dict copy def}if end md begin
/letter{}N/note{}N/legal{}N/od{txpose 1 0 mtx defaultmatrix dtransform S
atan/pa X newpath clippath mark{transform{itransform moveto}}{transform{
itransform lineto}}{6 -2 roll transform 6 -2 roll transform 6 -2 roll
transform{itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll
curveto}}{{closepath}}pathforall newpath counttomark array astore/gc xdf
pop ct 39 0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}
if}N/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1
-1 scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3
get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip
yflip not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub
neg 0 TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{
noflips{TR pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop
90 rotate 1 -1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get
neg sub neg TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr
1 get neg sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr
2 get ppr 0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4
-1 roll add 2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S
TR}if}N/cp{pop pop showpage pm restore}N end}if}if}N/normalscale{
Resolution 72 div VResolution 72 div neg scale magscale{DVImag dup scale
}if 0 setgray}N/psfts{S 65781.76 div N}N/startTexFig{/psf$SavedState
save N userdict maxlength dict begin/magscale true def normalscale
currentpoint TR/psf$ury psfts/psf$urx psfts/psf$lly psfts/psf$llx psfts
/psf$y psfts/psf$x psfts currentpoint/psf$cy X/psf$cx X/psf$sx psf$x
psf$urx psf$llx sub div N/psf$sy psf$y psf$ury psf$lly sub div N psf$sx
psf$sy scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub
TR/showpage{}N/erasepage{}N/copypage{}N/p 3 def @MacSetUp}N/doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N/endTexFig{end psf$SavedState restore}N/@beginspecial{SDict
begin/SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count/ocount X/dcount countdictstack N}N/@setspecial{
CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if/showpage{}N/erasepage{}N/copypage{}N newpath}N
/@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{end}
repeat grestore SpecialSave restore end}N/@defspecial{SDict begin}N
/@fedspecial{end}B/li{lineto}B/rl{rlineto}B/rc{rcurveto}B/np{/SaveX
currentpoint/SaveY X N 1 setlinecap newpath}N/st{stroke SaveX SaveY
moveto}N/fil{fill SaveX SaveY moveto}N/ellipse{/endangle X/startangle X
/yrad X/xrad X/savematrix matrix currentmatrix N TR xrad yrad scale 0 0
1 startangle endangle arc savematrix setmatrix}N end

%%EndProcSet
TeXDict begin 39158280 55380996 1000 600 600 (manual.dvi)
@start
%DVIPSBitmapFont: Fa cmsy8 8 1
/Fa 1 2 df<123C127E12FFA4127E123C08087A9414>1 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fb cmr8 8 2
/Fb 2 94 df<EAFFE0A3EAE000B3B3B3A7EAFFE0A30B4379B114>91
D<EAFFE0A31200B3B3B3A712FFA30B437FB114>93 D E
%EndDVIPSBitmapFont
/Fc 107[33 33 24[33 37 37 54 37 37 21 29 25 37 37 37
37 58 21 37 1[21 37 37 25 33 37 33 37 33 7[54 1[71 1[54
46 42 50 1[42 54 54 66 46 1[29 25 54 4[50 50 54 5[21
7[37 37 37 37 21 1[25 19 2[25 25 25 35[42 42 2[{
TeXBase1Encoding ReEncodeFont}57 74.7198 /Times-Roman
rf
%DVIPSBitmapFont: Fd cmmi9 9 1
/Fd 1 100 df<147F903803FFC090380FC0F090383F0038137C4913F83801F0013803E0
031207EA0FC090388001F0001F90C7FC123F90C8FCA25A127EA45AA3127C150C151C1538
6C147015E06CEB03C0390F800F003807C07E3801FFF038007F801E227EA021>99
D E
%EndDVIPSBitmapFont
/Fe 130[45 45 45 45 45 45 45 45 45 45 45 45 45 45 45
45 45 45 45 45 45 45 45 45 45 45 45 45 45 1[45 5[45 45
45 45 45 45 45 45 1[45 45 45 45 45 45 45 45 45 45 45
45 45 45 45 45 2[45 45 2[45 1[45 1[45 2[45 45 45 45 45
45 45 45 1[45 45 45 45 2[45 36[{TeXBase1Encoding ReEncodeFont}72
74.7198 /Courier rf /Ff 138[60 60 60 60 2[60 60 60 60
60 1[60 60 60 1[60 1[60 1[60 10[60 1[60 60 83[{
TeXBase1Encoding ReEncodeFont}18 99.6264 /Courier rf
/Fg 138[72 72 72 72 2[72 72 72 72 1[72 4[72 1[72 21[72
9[72 19[72 72 9[72 36[{TeXBase1Encoding ReEncodeFont}16
119.552 /Courier rf
%DVIPSBitmapFont: Fh cmmi8 8 3
/Fh 3 121 df<13FC13FFEB1FC0130F6D7EA36D7EA2130180A26D7EA3147EA280A36E7E
A2140F81A24A7E143F147FECF3F0EB01E3EB03C190380781F8130F49C67E133E5B49137E
485A48487F1207485A4848EB1F8048C7FC127E48EC0FC048EC07E000701403232F7DAD29
>21 D<15C0140114031580A214071500A25C140EA2141E141CA2143C143814781470A214
F05CA213015CA213035C130791C7FCA25B130EA2131E131CA2133C1338A21378137013F0
5BA212015BA212035BA2120790C8FC5A120EA2121E121CA2123C1238A212781270A212F0
5AA21A437CB123>61 D<013F137C9038FFC1FF3A01C1E383803A0380F703C0390700F60F
000E13FE4813FC12180038EC0700003049C7FCA2EA200100005BA313035CA301075B5D14
C000385CD87C0F130600FC140E011F130C011B131C39F03BE038D8707113F0393FE0FFC0
260F803FC7FC221F7E9D28>120 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fi cmr10 10 8
/Fi 8 127 df<146014E0EB01C0EB0380EB0700130E131E5B5BA25B485AA2485AA21207
5B120F90C7FCA25A121EA2123EA35AA65AB2127CA67EA3121EA2121F7EA27F12077F1203
A26C7EA26C7E1378A27F7F130E7FEB0380EB01C0EB00E01460135278BD20>40
D<12C07E12707E7E7E120F6C7E6C7EA26C7E6C7EA21378A2137C133C133E131EA2131F7F
A21480A3EB07C0A6EB03E0B2EB07C0A6EB0F80A31400A25B131EA2133E133C137C1378A2
5BA2485A485AA2485A48C7FC120E5A5A5A5A5A13527CBD20>I<EB03F8EB1FFF90387E0F
C09038F803E03901E000F0484813780007147C48487FA248C77EA2481580A3007EEC0FC0
A600FE15E0B3007E15C0A4007F141F6C1580A36C15006D5B000F143EA26C6C5B6C6C5B6C
6C485A6C6C485A90387E0FC0D91FFFC7FCEB03F8233A7DB72A>48
D<EB01C013031307131F13FFB5FCA2131F1200B3B3A8497E007FB512F0A31C3879B72A>
I<007FB812F8B912FCA26C17F8CCFCAE007FB812F8B912FCA26C17F836167B9F41>61
D<EAFFF8A4EAF000B3B3B3B3A3EAFFF8A40D5378BD17>91 D<EAFFF8A4EA0078B3B3B3B3
A3EAFFF8A40D537FBD17>93 D<D801E01340D807F813E0390FFE01C0391FFF8780393C3F
FF0038700FFE38E003FC384000F01B0879B62A>126 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fj cmmi7 7 3
/Fj 3 116 df<EA01F0123FA2EA03E0A21207A25BA2120FA25BA2121F139FEB3FC0EBE0
E0383FC0F0EB0078A2123E007E137CA2127CA212FC14F85AA338F001F0A214E0130314C0
EB078038700F00EA781E6C5AEA1FF0EA07C016297CA71D>98 D<3907801FC0390FE07FF0
3918F0E0F83930F1807CEBFB00D860FE133C5B5B00C1147C5B1201A248485BA34A5AEA07
C01660EC03E0A23A0F8007C0C0A2EDC180913803C300D81F0013C7EC01FE000EEB00F823
1B7D9929>110 D<EB0FE0EB7FF8EBF03C3801C00E0003131E3807803EA2143C000F1318
EBE0006CB4FC14C06C13E06C13F06C13F813071301EA3C00007E1378A24813F05A387001
E0EB03C0383C0F80381FFE00EA07F8171B7C991F>115 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fk cmr7 7 2
/Fk 2 51 df<13381378EA01F8121F12FE12E01200B3AB487EB512F8A215267BA521>49
D<13FF000313E0380E03F0381800F848137C48137E00787F12FC6CEB1F80A4127CC7FC15
005C143E147E147C5C495A495A5C495A010EC7FC5B5B903870018013E0EA018039030003
0012065A001FB5FC5A485BB5FCA219267DA521>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fl cmmi10 10 22
/Fl 22 121 df<121C127FEAFF80A5EA7F00121C0909798817>58
D<121C127FEAFF80A213C0A3127F121C1200A412011380A2120313005A1206120E5A5A5A
12600A19798817>I<1760177017F01601A21603A21607160FA24C7EA216331673166316
C3A2ED0183A2ED0303150683150C160115181530A21560A215C014011580DA03007FA202
061300140E140C5C021FB5FC5CA20260C7FC5C83495A8349C8FC1306A25BA25B13385B01
F01680487E000716FFB56C013F13FF5EA2383C7DBB3E>65 D<0103B77E4916F018FC903B
0007F80003FE4BEB00FFF07F80020FED3FC0181F4B15E0A2141FA25DA2143F19C04B143F
1980027F157F190092C812FE4D5A4A4A5AEF0FF04AEC1FC005FFC7FC49B612FC5F02FCC7
B4FCEF3FC00103ED0FE0717E5C717E1307844A1401A2130F17035CA2131F4D5A5C4D5A13
3F4D5A4A4A5A4D5A017F4BC7FC4C5A91C7EA07FC49EC3FF0B812C094C8FC16F83B397DB8
3F>I<0103B7FC4916E018F8903B0007F80007FC4BEB00FE187F020FED3F80F01FC05DA2
021F16E0A25DA2143FF03FC05DA2027FED7F80A292C8130018FE4A4A5A604AEC07F04D5A
0101ED3FC04CB4C7FC91B612FC17E0D903FCCAFCA25CA21307A25CA2130FA25CA2131FA2
5CA2133FA25CA2137FA291CBFC497EB6FCA33B397DB835>80 D<0003B812FEA25A903AF8
003FC00101C0913880007E4848163C90C7007F141C121E001C92C7FCA2485CA200305C00
7017180060130112E0485CA21403C716005DA21407A25DA2140FA25DA2141FA25DA2143F
A25DA2147FA292C9FCA25CA25CA21301A25CA21303A25CEB0FFC003FB6FC5AA237397EB8
31>84 D<147E903803FF8090390FC1C38090391F00EFC0017E137F49133F485A4848EB1F
8012075B000F143F48481400A2485A5D007F147E90C7FCA215FE485C5AA214015D48150C
A21403EDF01C16181407007C1538007E010F1330003E131F027B13706C01E113E03A0F83
C0F9C03A03FF007F80D800FCEB1F0026267DA42C>97 D<133FEA1FFFA3C67E137EA313FE
5BA312015BA312035BA31207EBE0FCEBE3FF9038E707C0390FFE03E09038F801F001F013
F8EBE000485A15FC5BA2123F90C7FCA214015A127EA2140312FE4814F8A2140715F05AEC
0FE0A215C0EC1F80143F00781400007C137E5C383C01F86C485A380F07C06CB4C7FCEA01
FC1E3B7CB924>I<EC3FC0903801FFF0903807E03C90380F800E90383F0007017E131F49
137F484813FF485A485A120F4913FE001F143848481300A2127F90C8FCA35A5AA45AA315
031507007E1406150E003E143C003F14706C14E0390F8007C03907C03F003801FFF83800
3FC020267DA424>I<163FED1FFFA3ED007F167EA216FEA216FCA21501A216F8A21503A2
16F0A21507A2027E13E0903803FF8790380FC1CF90381F00EF017EEB7FC049133F485A48
48131F000715805B000F143F485A1600485A5D127F90C7127EA215FE5A485CA21401A248
ECF80CA21403161CEDF0181407007C1538007E010F1330003E131F027B13706C01E113E0
3A0F83C0F9C03A03FF007F80D800FCEB1F00283B7DB92B>I<16F8ED03FEED0F8792381F
0F80ED3E3F167F157CA215FC1700161C4A48C7FCA414035DA414075DA20107B512F0A390
26000FE0C7FC5DA4141F5DA4143F92C8FCA45C147EA514FE5CA413015CA4495AA45C1307
A25C121E123F387F8F80A200FF90C9FC131E12FEEA7C3CEA7878EA1FF0EA07C0294C7CBA
29>102 D<EC07E0EC1FF891387C1C38903901F80EFC903803F007903807E003EB0FC090
381F8001D93F0013F85B017E130313FE16F0485A150712034914E0A2150F12074914C0A2
151FA2491480A2153FA2160000035C6D5B00015B4A5A3900F8077E90387C1EFEEB1FF890
3807E0FC90C7FC1401A25DA21403001E5C123F387F80075D00FF495A49485A4849C7FC00
7C137E383C01F8381FFFE0000390C8FC26367FA428>I<EB0FC0EA03FF5AA2EA001F1480
A2133FA21400A25BA2137EA213FEA25BA21201A25BA21203A25BA21207A25BA2120FA25B
A2121FA25BA2123FA290C7FCA25AA2EA7E03A2EAFE07130612FCA2130E130C131C1318EA
7C38EA3C70EA1FE0EA0780123B7DB919>108 D<D803E0017F14FE3D07F801FFE003FFC0
3D0E3C0781F00F03E03D1C3E1E00F83C01F026383F38D9FC707F00304914E04A90387DC0
00007049EB7F8000604991C7FCA200E090C700FE1301485A017E5CA200000201140301FE
5F495CA203031407000160495C180F03075D1203494A011F13601980030F023F13E00007
F000C0495C1901031F023E1380000F1803494A150061033F150E001FEF1E1C4991C7EA0F
F80007C7000EEC03E043267EA449>I<D803E0137F3A07F801FFE03A0E3C0781F03A1C3E
1E00F826383F387F00305B4A137C00705B00605BA200E090C712FC485A137EA200001401
01FE5C5BA2150300015D5B15075E120349010F133016C0031F13700007ED80605B17E0EE
00C0000F15014915801603EE0700001FEC0F0E49EB07FC0007C7EA01F02C267EA432>I<
EC1FC0ECFFF8903807E07E90380F801F90393F000F80017E14C0491307484814E0485A48
48EB03F0120F5B121F48481307A2127F90C7FCA2150F5A4815E0A2151F16C0A248EC3F80
16005D157E007E5C4A5A003E495A003F495A6C495A6C6C48C7FC3807E07E3801FFF03800
3F8024267DA428>I<90390F8003F090391FE00FFC903939F03C1F903A70F8700F80903A
E0FDE007C09038C0FF80030013E00001491303018015F05CEA038113015CA2D800031407
A25CA20107140FA24A14E0A2010F141F17C05CEE3F80131FEE7F004A137E16FE013F5C6E
485A4B5A6E485A90397F700F80DA383FC7FC90387E1FFCEC07E001FEC9FCA25BA21201A2
5BA21203A25B1207B512C0A32C3583A42A>I<3903E001F83907F807FE390E3C1E07391C
3E381F3A183F703F800038EBE07F0030EBC0FF00705B00601500EC007E153CD8E07F90C7
FCEAC07EA2120013FE5BA312015BA312035BA312075BA3120F5BA3121F5B0007C9FC2126
7EA425>114 D<14FF010313C090380F80F090383E00380178131C153C4913FC00011301
13E0A33903F000F06D13007F3801FFE014FC14FF6C14806D13C0011F13E013039038003F
F014071403001E1301127FA24814E0A348EB03C012F800E0EB07800070EB0F006C133E00
1E13F83807FFE0000190C7FC1E267CA427>I<EB01C0497E1307A4130F5CA3131F5CA313
3F91C7FC007FB51280A2B6FCD8007EC7FCA313FE5BA312015BA312035BA312075BA3120F
EBC006A2140E001F130CEB801C141814385C146014E0380F81C038078780D803FEC7FCEA
00F819357EB31E>I<01F8EB03C0D803FEEB07E0D8070F130F000E018013F0121C121800
38140700301403D8701F130112601500D8E03F14E000C090C7FC5BEA007E16C013FE5B15
01000115805B150316001203495B1506150E150C151C151815385D00015C6D485A6C6C48
5AD97E0FC7FCEB1FFEEB07F024267EA428>118 D<903907E001F090391FF807FC903978
3E0E0F9039E01F1C1FD801C09038383F803A03800FF07F0100EBE0FF5A000E4A1300000C
157E021F133C001C4AC7FC1218A2C7123FA292C8FCA25CA2147EA214FEA24A130CA20101
141C001E1518003F5BD87F81143801835C00FF1560010714E03AFE0E7C01C0D87C1C495A
2778383E0FC7FC391FF00FFC3907C003F029267EA42F>120 D E
%EndDVIPSBitmapFont
/Fm 134[40 40 2[40 40 40 40 1[40 40 40 40 40 40 40 40
40 40 40 40 1[40 40 40 19[40 9[40 19[40 40 40 3[40 40
3[40 36[{TeXBase1Encoding ReEncodeFont}29 66.4176 /Courier
rf /Fn 139[18 26 3[33 2[18 2[18 6[33 98[{TeXBase1Encoding ReEncodeFont}
6 66.4176 /Times-Italic rf /Fo 107[29 29 25[33 33 48
33 33 18 26 22 33 33 33 33 52 18 33 1[18 33 33 22 29
33 29 33 29 3[22 1[22 2[48 3[41 37 44 2[48 48 59 41 1[26
22 1[48 2[48 44 44 48 7[33 1[33 2[33 4[18 17 22 17 2[22
22 22 36[37 2[{TeXBase1Encoding ReEncodeFont}54 66.4176
/Times-Roman rf /Fp 198[25 25 25 25 25 25 25 25 25 25
48[{TeXBase1Encoding ReEncodeFont}10 49.8132 /Times-Roman
rf /Fq 198[29 29 29 29 29 29 29 29 29 29 48[{
TeXBase1Encoding ReEncodeFont}10 58.1154 /Times-Roman
rf /Fr 134[50 50 72 50 55 33 39 44 1[55 50 55 83 28 55
1[28 55 50 33 44 55 44 55 50 9[100 72 1[66 55 1[78 61
1[72 94 66 1[50 39 78 78 61 66 72 72 66 72 7[50 50 50
50 50 50 50 50 50 1[28 25 33 3[33 33 33 35[55 55 2[{
TeXBase1Encoding ReEncodeFont}59 99.6264 /Times-Bold
rf
%DVIPSBitmapFont: Fs cmsy10 10 8
/Fs 8 107 df<007FB81280B912C0A26C17803204799641>0 D<EB1FF0EBFFFE487F0007
14C04814E04814F04814F8A24814FCA3B612FEA96C14FCA36C14F8A26C14F06C14E06C14
C0000114006C5BEB1FF01F1F7BA42A>15 D<126012F812FEEA7F80EA3FE0EA0FF8EA03FE
C66C7EEB3FE0EB0FF8EB03FE903800FF80EC3FE0EC0FF8EC03FE913800FF80ED3FE0ED0F
F8ED03FE923800FF80EE3FE0EE0FF8EE03FE933800FF80EF3FC0171FEF7F80933801FF00
EE07FCEE1FF0EE7FC04B48C7FCED07FCED1FF0ED7FC04A48C8FCEC07FCEC1FF0EC7FC049
48C9FCEB07FCEB1FF0EB7FC04848CAFCEA07FCEA1FF0EA7FC048CBFC12FC1270CCFCAE00
7FB81280B912C0A26C1780324479B441>21 D<181EA4181F84A285180785727EA2727E72
7E85197E85F11F80F10FC0F107F0007FBA12FCBCFCA26C19FCCCEA07F0F10FC0F11F80F1
3F00197E61614E5A4E5AA24E5A61180F96C7FCA260181EA4482C7BAA53>33
D<D90FF0ED07F0D93FFEED3FFE90B56C91B5FC00036E903903F807C02707F07FF0903907
C001E0270F801FF890390F8000F090260007FC013EC71270001E6D6C491438486D6C0178
141C00386D6D5A48DA7FC1150E92383FE3E0006091261FF3C01406EEF78000E0DA0FFF15
07486E90C812036F5AA26F7E6F7F707EA24C7E6C4A6D14070060DBEFF81406ED03CF0070
912607C7FC140E92380F83FE6CDB01FF141CDB1E006D133C6C023E6D6C13786C4A6D6C13
F0000FD901F090381FF8016C6C484890390FFE0FE02703E01FC00103B512C0C6B5C76C14
00D97FFC9138007FFCD90FE0ED0FF048267BA453>49 D<EC01F8140FEC3F80ECFC00495A
495A495AA2130F5CB3A7131F5C133F49C7FC13FEEA03F8EA7FE048C8FCEA7FE0EA03F8EA
00FE137F6D7E131F80130FB3A7801307A26D7E6D7E6D7EEC3F80EC0FF814011D537ABD2A
>102 D<12FCEAFFC0EA07F0EA01FCEA007E7F80131F80130FB3A7801307806D7E6D7EEB
007EEC1FF0EC07F8EC1FF0EC7E00495A495A495A5C130F5CB3A7131F5C133F91C7FC137E
485AEA07F0EAFFC000FCC8FC1D537ABD2A>I<126012F0B3B3B3B3A91260045377BD17>
106 D E
%EndDVIPSBitmapFont
/Ft 104[74 28[32 37 37 55 37 42 23 32 32 42 42 42 42
60 23 37 23 23 42 42 23 37 42 37 42 42 9[69 51 60 46
42 51 1[51 60 55 69 46 1[37 28 60 60 51 51 60 55 51 51
5[28 28 42 1[42 2[42 42 42 42 42 23 21 28 21 2[28 28
28 35[42 42 2[{TeXBase1Encoding ReEncodeFont}66 83.022
/Times-Italic rf /Fu 119[50 10[50 50 50 50 50 50 50 50
50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50
50 50 50 1[50 1[50 50 50 50 50 50 50 50 50 50 50 50 1[50
50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50
50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50
50 50 50 50 50 50 50 50 50 50 50 33[{TeXBase1Encoding ReEncodeFont}91
83.022 /Courier rf /Fv 104[83 42 1[37 37 24[37 42 42
60 42 42 23 32 28 42 42 42 42 65 23 42 23 23 42 42 28
37 42 37 42 37 3[28 1[28 1[60 1[78 60 60 51 46 55 60
46 60 60 74 51 60 32 28 60 60 46 51 60 55 55 60 3[47
1[23 23 42 42 42 42 42 42 42 42 42 42 23 21 28 21 2[28
28 28 65 69 3[28 29[46 46 2[{TeXBase1Encoding ReEncodeFont}81
83.022 /Times-Roman rf /Fw 107[42 42 25[42 42 60 42 46
28 32 37 1[46 42 46 69 23 46 28 23 46 42 28 37 46 37
46 42 7[60 1[83 60 60 55 46 60 1[51 65 60 78 55 2[32
65 65 51 55 60 60 55 60 6[28 42 42 42 42 42 42 42 42
42 42 23 21 28 21 1[42 28 28 2[83 42 42 1[28 29[46 46
2[{TeXBase1Encoding ReEncodeFont}71 83.022 /Times-Bold
rf /Fx 134[60 60 1[60 66 40 47 53 1[66 60 66 100 33 66
40 33 66 60 40 53 66 53 66 60 10[86 86 80 66 86 1[73
1[86 113 80 2[47 1[93 73 80 86 86 80 86 6[40 60 60 60
60 60 60 60 60 60 60 2[40 42[66 2[{TeXBase1Encoding ReEncodeFont}53
119.552 /Times-Bold rf /Fy 134[50 3[50 28 39 3[50 50
78 28 2[28 50 50 1[44 1[44 50 44 12[61 6[89 61 9[66 15[50
50 50 3[25 44[{TeXBase1Encoding ReEncodeFont}23 99.6264
/Times-Roman rf /Fz 137[33 1[21 29 29 2[37 37 1[21 2[21
2[21 33 37 2[37 13[37 4[50 62 42 1[33 21[37 2[37 37 21
19 4[25 25 40[{TeXBase1Encoding ReEncodeFont}24 74.7198
/Times-Italic rf /FA 134[72 3[72 40 56 48 1[72 72 72
112 40 2[40 72 72 1[64 72 1[72 64 11[104 88 80 4[104
128 88 1[56 6[96 19[40 47[{TeXBase1Encoding ReEncodeFont}26
143.462 /Times-Roman rf /FB 178[135 9[104 67[{
TeXBase1Encoding ReEncodeFont}2 143.462 /Times-Bold rf
end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%PaperSize: A4

%%EndSetup
%%Page: 1 1
1 0 bop 1890 1813 a FB(CM)629 1996 y FA(The)35 b(SML/NJ)f(Compilation)g
(and)h(Library)f(Manager)1433 2179 y Fz(\(for)19 b(SML/NJ)g(ver)o(sion)
h(110.40)g(and)g(later\))1638 2361 y FA(User)34 b(Manual)1690
2776 y Fy(Matthias)24 b(Blume)1377 2893 y(Lucent)h(T)-7
b(echnologies,)23 b(Bell)i(Labs)1732 3178 y(May)f(21,)h(2002)p
eop
%%Page: 1 2
1 1 bop 0 83 a Fx(Contents)0 311 y Fw(1)83 b(Intr)o(oduction)3401
b(5)0 535 y(2)83 b(The)21 b(CM)g(model)3318 b(6)125 677
y Fv(2.1)85 b(Basic)22 b(philosophy)62 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)138 b(6)125 819 y(2.2)85 b(Description)20
b(\002les)30 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)138
b(6)125 960 y(2.3)85 b(In)m(v)n(oking)18 b(CM)70 b(.)41
b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)138
b(7)125 1102 y(2.4)85 b(Members)20 b(of)g(a)g(library)59
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)138 b(7)125
1244 y(2.5)85 b(Name)20 b(visibility)62 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)138 b(8)125 1385 y(2.6)85 b(Library)19
b(components)f(\(groups\))37 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)138
b(8)125 1527 y(2.7)85 b(Multiple)20 b(occurences)f(of)h(the)g(same)g
(member)75 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)138 b(9)125 1669 y(2.8)85 b(Stable)21 b(libraries)75
b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(10)125 1811 y(2.9)85 b(T)-7 b(op-le)n(v)o(el)19 b(groups)78
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(10)0 2035 y Fw(3)83 b(Naming)20 b(objects)f(in)i(the)g(\002le)g
(system)2652 b(10)125 2177 y Fv(3.1)85 b(Moti)n(v)n(ation)24
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(10)125 2319 y(3.2)85 b(Basic)22 b(rules)h(.)41 b(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(10)125 2460
y(3.3)85 b(Anchor)19 b(en)m(vironments)42 b(.)g(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)97 b(11)125 2602 y(3.4)85 b(Anchor)19 b(con\002guration)48
b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(12)125
2744 y(3.5)85 b(When)20 b(to)h(use)f(anchor)f(en)m(vironments)65
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)97 b(12)0 2968 y Fw(4)83 b(Export)19 b(lists)3405
b(13)0 3193 y(5)83 b(Using)20 b(CM)3451 b(14)125 3335
y Fv(5.1)85 b(Structure)20 b(CM)60 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)97 b(14)315 3476 y(5.1.1)h(Compiling)79
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(14)315
3618 y(5.1.2)h(Linking)19 b(and)g(e)o(x)o(ecution)63
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)97 b(14)315 3760 y(5.1.3)h(Re)o(gisters)66
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(15)315 3901 y(5.1.4)h(P)o(ath)20 b(anchors)71 b(.)42
b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(16)315 4043
y(5.1.5)h(Setting)20 b(CM)h(v)n(ariables)42 b(.)g(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(16)315 4185 y(5.1.6)h(Library)19 b(re)o(gistry)37 b(.)k(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)97 b(16)315 4327 y(5.1.7)h(Internal)19
b(state)67 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(17)315 4468 y(5.1.8)h(Compile)20 b(serv)o(ers)81 b(.)41
b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(17)315 4610 y(5.1.9)h(Plug-ins)33
b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(18)315 4752 y(5.1.10)56 b(Support)19 b(for)g(stand-alone)g(programs)
62 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
97 b(18)315 4893 y(5.1.11)56 b(Finding)19 b(all)i(sources)52
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(19)125 5035 y(5.2)85
b(The)20 b(autoloader)74 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)97 b(20)125 5177 y(5.3)85 b(Sharing)20 b(of)f(state)56
b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(20)315 5318 y(5.3.1)h(Sharing)19 b(annotations)i(.)41
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)97 b(20)315 5460 y(5.3.2)h(Sharing)19
b(with)i(the)f(interacti)n(v)o(e)f(system)76 b(.)42 b(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(21)1989
5709 y(1)p eop
%%Page: 2 3
2 2 bop 0 83 a Fw(6)83 b(V)-8 b(ersion)20 b(numbers)3210
b(21)125 219 y Fv(6.1)85 b(Ho)n(w)21 b(v)o(ersions)e(are)h(compared)i
(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(21)125 354 y(6.2)85
b(V)-9 b(ersion)20 b(checking)63 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)97 b(21)0 573 y Fw(7)83 b(Member)21 b(classes)g(and)f
(tools)2910 b(21)125 708 y Fv(7.1)85 b(T)-7 b(ool)20
b(parameters)40 b(.)i(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(22)315 844 y(7.1.1)h(P)o(arameters)20 b(for)f(class)i
Fu(sml)34 b Fv(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(22)315 979 y(7.1.2)h(P)o
(arameters)20 b(for)f(class)i Fu(cm)h Fv(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(23)315 1115 y(7.1.3)h(P)o(arameters)20 b(for)f(classes)i
Fu(tool)f Fv(and)g Fu(suffix)77 b Fv(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)97 b(24)125 1250 y(7.2)85 b(Built-in)21 b(tools)73
b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(24)315 1386 y(7.2.1)h(ML-Y)-8 b(acc)58 b(.)41 b(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)97 b(24)315 1521 y(7.2.2)h(ML-Le)o(x)29
b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(24)315 1657 y(7.2.3)h(ML-Bur)o(g)55 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)97 b(24)315 1792 y(7.2.4)h(Shell)78
b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(25)315 1928 y(7.2.5)h(Mak)o(e)60 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)97 b(25)315 2063 y(7.2.6)h(No)n(web)72
b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(26)315 2199 y(7.2.7)h(Dir)76 b(.)41 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)97 b(27)0 2417 y Fw(8)83 b(Conditional)19
b(compilation)2951 b(29)125 2553 y Fv(8.1)85 b(CM)21
b(v)n(ariables)66 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)97 b(29)125 2688 y(8.2)85 b(Querying)19 b(e)o(xported)f
(de\002nitions)79 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(30)125 2824
y(8.3)85 b(Explicit)20 b(errors)36 b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)97 b(30)0 3043 y Fw(9)83 b(Access)20
b(contr)o(ol)3303 b(31)0 3261 y(10)41 b(The)21 b(per)o(v)o(asi)o(v)o(e)
f(en)m(vir)o(onment)2850 b(31)0 3480 y(11)41 b(Files)3646
b(31)125 3615 y Fv(11.1)43 b(T)m(ime)21 b(stamps)28 b(.)41
b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(32)125 3751 y(11.2)43 b(Inde)o(x)19 b(\002les)44 b(.)d(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(32)0
3969 y Fw(12)41 b(Extending)20 b(the)g(tool)g(set)3044
b(32)125 4105 y Fv(12.1)43 b(Adding)19 b(simple)h(shell-command)e
(tools)55 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)97 b(33)125 4240 y(12.2)43 b(Adding)19
b(other)h(classes)72 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(34)315 4376 y(12.2.1)56 b(Filename)20 b(abstractions)f(.)42
b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)97 b(34)315 4511 y(12.2.2)56 b(Adding)19
b(a)i(class)g(and)e(its)j(rule)54 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(35)315
4647 y(12.2.3)56 b(Reporting)19 b(errors)g(from)h(tools)i(.)41
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)97 b(37)315 4782 y(12.2.4)56 b(Adding)19 b(a)i(classi\002er)62
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(37)315 4918 y(12.2.5)56
b(Miscellaneous)80 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(38)125 5053 y(12.3)43 b(Plug-in)20 b(T)-7 b(ools)66
b(.)41 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(39)315 5189 y(12.3.1)56 b(Automatically)19 b(loaded,)g(global)g
(plug-in)g(tools)j(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
97 b(39)315 5324 y(12.3.2)56 b(Explicitly)19 b(loaded,)g(local)h
(plug-in)f(tools)29 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)97 b(40)315 5460 y(12.3.3)56 b(Locally)20
b(declared)e(suf)n(\002x)o(es)40 b(.)h(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(40)1989
5709 y(2)p eop
%%Page: 3 4
3 3 bop 0 83 a Fw(13)41 b(P)o(arallel)19 b(and)i(distrib)n(uted)g
(compilation)2529 b(40)125 232 y Fv(13.1)43 b(P)o(athname)19
b(protocol)g(encoding)61 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(42)125 382 y(13.2)43 b(P)o(arallel)21 b(bootstrap)d(compilation)74
b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)97 b(42)0 614 y Fw(14)41 b(The)21
b Fu(sml)f Fw(command)g(line)2983 b(42)125 764 y Fv(14.1)43
b(File)21 b(ar)o(guments)80 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)97 b(43)125 913 y(14.2)43 b(Mode-switching)18
b(\003ags)42 b(.)g(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(43)125 1063 y(14.3)43 b(De\002ning)20 b(and)f(unde\002ning)f(CM)j
(preprocessor)d(symbols)60 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)97 b(43)125 1212 y(14.4)43 b(Control)20 b(P)o(arameters)58
b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(43)0
1445 y Fw(15)41 b(A)l(uxiliary)19 b(scripts)3224 b(44)125
1594 y Fv(15.1)43 b(Building)20 b(stand-alone)e(programs)45
b(.)c(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)97 b(44)315 1743 y(15.1.1)56 b(Bootstrapping:)23
b(Ho)n(w)e Fu(ml-build)e Fv(w)o(orks)48 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(44)125 1893 y(15.2)43
b(Generating)19 b(dependencies)f(for)i Fu(make)k Fv(.)41
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)97 b(44)0 2125 y Fw(16)41 b(Example:)25 b(Dynamic)20
b(linking)2857 b(45)0 2358 y(17)41 b(Some)20 b(history)3348
b(47)0 2590 y(A)65 b(CM)21 b(description)f(\002le)h(syntax)2877
b(48)125 2740 y Fv(A.1)67 b(Le)o(xical)20 b(Analysis)80
b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(48)125 2889 y(A.2)67 b(EBNF)21 b(for)f(preprocessor)e(e)o(xpressions)
78 b(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)97 b(49)125 3039 y(A.3)67 b(EBNF)21 b(for)f(tool)g(options)
80 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(49)125 3188
y(A.4)67 b(EBNF)21 b(for)f(e)o(xport)f(lists)48 b(.)42
b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(49)125 3337
y(A.5)67 b(EBNF)21 b(for)f(member)f(lists)50 b(.)41 b(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)97 b(50)125 3487 y(A.6)67 b(EBNF)21 b(for)f(library)f
(descriptions)80 b(.)41 b(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(50)125 3636
y(A.7)67 b(EBNF)21 b(for)f(library)f(component)f(descriptions)h
(\(group)f(descriptions\))56 b(.)41 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)97
b(50)0 3869 y Fw(B)70 b(Full)20 b(signatur)o(e)g(of)g
Fu(structure)48 b(CM)2609 b Fw(51)0 4101 y(C)65 b(Listing)20
b(of)g(all)h(pr)o(e-de\002ned)f(CM)h(identi\002ers)2405
b(52)0 4334 y(D)65 b(Listing)20 b(of)g(all)h(CM-speci\002c)g(en)m(vir)o
(onment)e(v)o(ariables)2108 b(52)0 4566 y(E)70 b(Listing)20
b(of)g(all)h(class)g(names)f(and)h(their)f(tools)2398
b(53)0 4799 y(F)74 b(A)-8 b(v)o(ailable)19 b(libraries)3164
b(53)125 4948 y Fv(F)-7 b(.1)88 b(Libraries)20 b(for)g(general)f
(programming)40 b(.)h(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(53)125 5098 y(F)-7 b(.2)88
b(Libraries)20 b(for)g(controlling)e(SML/NJ')-5 b(s)21
b(operation)72 b(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)97 b(54)125 5247 y(F)-7 b(.3)88 b(Libraries)20 b(for)g(SML/NJ)g
(compiler)f(hack)o(ers)72 b(.)41 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)97 b(54)125 5396 y(F)-7 b(.4)88
b(Internal)19 b(libraries)25 b(.)42 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)97 b(55)1989 5709 y(3)p eop
%%Page: 4 5
4 4 bop 0 83 a Fw(G)60 b(Exports)20 b(of)g(library)f
Fu($smlnj/cm/tools.cm)2251 b Fw(56)125 232 y Fv(G.1)67
b(The)20 b(public)g(signature)f(of)h Fu(structure)48
b(Tools)32 b Fv(.)41 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)97 b(56)125 382 y(G.2)67 b(The)20 b(public)g(signature)f(of)h
Fu(structure)48 b(Version)56 b Fv(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)97 b(58)125 531 y(G.3)67 b(The)20 b(public)g(signature)f
(of)h Fu(structure)48 b(Sharing)56 b Fv(.)42 b(.)f(.)g(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)97 b(58)1989 5709 y(4)p eop
%%Page: 5 6
5 5 bop 0 83 a Fx(1)119 b(Intr)n(oduction)0 318 y Fv(This)24
b(manual)e(describes)h(a)i(ne)n(w)e(implementation)e(of)j(CM,)g(the)f
(\223Compilation)g(and)g(Library)f(Manager\224)g(for)h(Standard)f(ML)i
(of)f(Ne)n(w)0 418 y(Jerse)o(y)e(\(SML/NJ\).)h(Lik)o(e)f(its)i(pre)n
(vious)d(incarnation,)g(CM)i(is)h(in)f(char)o(ge)e(of)h(managing)f
(separate)h(compilation)f(and)h(f)o(acilitates)h(access)0
518 y(to)e(stable)h(libraries.)0 667 y(Most)f(programming)d(projects)i
(that)h(use)h(CM)f(are)g(composed)e(of)i(separate)g Ft(libr)o(aries)p
Fv(.)25 b(Libraries)19 b(are)h(collections)f(of)h(ML)g(compilation)0
767 y(units.)25 b(These)20 b(collections)f(themselv)o(es)h(can)g(be)g
(internally)f(sub-structured)f(using)h(CM')-5 b(s)22
b(notion)d(of)h Ft(libr)o(ary)g(components)p Fv(.)0 916
y(CM)h(of)n(fers)e(the)h(follo)n(wing)f(features)g(to)i(the)f
(programmer:)125 1149 y Fs(\017)41 b Fv(separate)19 b(compilation)g
(and)g(type-safe)g(linking)g([AM94)o(])125 1315 y Fs(\017)41
b Fv(hierarchical)18 b(modularity)g([B)m(A99)o(])125
1481 y Fs(\017)41 b Fv(automatic)19 b(dependenc)o(y)e(analysis)j
([Blu99)o(])125 1647 y Fs(\017)41 b Fv(optimization)18
b(of)i(the)g(compilation)f(process)g(via)i Ft(cutof)o(f)p
Fv(-recompilation)16 b(techniques)j([A)-9 b(TW94)n(])125
1813 y Fs(\017)41 b Fv(management)16 b(of)i(program)f(libraries,)h
(distinguishing)f(between)h(libraries)g(that)h(are)g
Ft(under)f(de)o(velopment)e Fv(and)j(libraries)f(that)h(are)208
1912 y Ft(stable)125 2078 y Fs(\017)41 b Fv(operating-system)17
b(independent)h(\002le)j(naming)d(\(with)i(optional)f(escape)h(to)h
(nati)n(v)o(e)e(\002le)i(names\))125 2244 y Fs(\017)41
b Fv(adaptability)18 b(to)j(changing)d(en)m(vironments)f(using)j(the)g
Ft(path)f(anc)o(hor)g Fv(f)o(acility)125 2411 y Fs(\017)41
b Fv(an)28 b(e)o(xtensible)g(set)i(of)f(auxiliary)e Ft(tools)i
Fv(that)h(lets)f(CM)h(seemlessly)f(interoperate)e(with)i(other)g
(program)d(generators,)k(source-)208 2510 y(control)19
b(systems,)h(literate-programming)c(f)o(acilities,)k(or)g
(shell-scripts)125 2676 y Fs(\017)41 b Fv(check)o(ed)18
b(v)o(ersion)h(numbers)g(on)h(libraries)125 2842 y Fs(\017)41
b Fv(\(still)21 b(rudimentary\))c(support)i(for)g(access)i(control)125
3008 y Fs(\017)41 b Fv(access)20 b(to)h(libraries)f(from)f(the)h
(interacti)n(v)o(e)f(tople)n(v)o(el)g(loop)125 3174 y
Fs(\017)41 b Fv(sharing)24 b(of)h(code)g(that)h(is)g(common)e(to)h(se)n
(v)o(eral)g(programs)f(or)h(code)g(that)h(is)g(common)e(to)h(both)g
(user)g(programs)f(and)h(SML/NJ)208 3274 y(itself)125
3440 y Fs(\017)41 b Fv(management)18 b(of)h(\(the)h(sharing)f(of\))h
(link-time)f(state)125 3606 y Fs(\017)41 b Fv(conditional)18
b(compilation)g(\(at)j(compilation)d(unit)i(granularity\))125
3772 y Fs(\017)41 b Fv(support)18 b(for)i(parallel)g(and)f(distrib)n
(uted)h(compilation)125 3938 y Fs(\017)41 b Fv(f)o(acilities)20
b(for)g(generating)e(stand-alone)h(ML)h(programs)125
4104 y Fs(\017)41 b Fv(a)20 b(mechanism)f(for)h(deri)n(ving)e
(dependenc)o(y)f(information)h(for)h(use)i(by)f(other)f(compilation)f
(managers)h(\(e.g.,)g(Unix')h Fw(mak)o(e)p Fv(\))125
4270 y Fs(\017)41 b Fv(an)20 b(API)g(to)h(access)f(all)h(these)f(f)o
(acilities)h(at)g(SML/NJ')-5 b(s)21 b(interacti)n(v)o(e)e(prompt)g(or)h
(from)f(user)h(programs)0 4503 y(CM)i(puts)g(emphasis)f(on)h
Ft(working)f(with)h(libr)o(aries)p Fv(.)30 b(This)22
b(contrasts)f(with)h(pre)n(vious)e(compilation)g(managers)g(for)h
(SML/NJ)h(where)g(the)0 4602 y(focus)e(w)o(as)h(on)e(compilation)g
(management)f(while)i(libraries)g(were)g(added)f(as)i(an)f
(afterthought.)1989 5709 y(5)p eop
%%Page: 6 7
6 6 bop 0 83 a Fx(2)119 b(The)31 b(CM)f(model)0 335 y
Fr(2.1)99 b(Basic)25 b(philosoph)o(y)0 540 y Fv(The)c(v)o(enerable)f
Fw(mak)o(e)j Fv(of)e(Unix)h([Fel79)n(])g(is)h Ft(tar)m(g)o(et-oriented)
r Fv(:)k(one)22 b(starts)g(with)g(a)h(main)e(goal)g(\(tar)o(get\))g
(and)g(applies)g(production)f(rules)0 640 y(\(with)30
b(associated)f(actions)h(such)f(as)i(in)m(v)n(oking)d(a)i(compiler\))e
(until)i(no)f(more)g(rules)h(are)g(applicable.)53 b(The)29
b(lea)n(v)o(es)h(of)g(the)f(resulting)0 740 y(deri)n(v)n(ation)18
b(tree)478 710 y Fq(1)532 740 y Fv(can)i(be)g(seen)g(as)h(de\002ning)e
(the)h(set)h(of)f(source)f(\002les)j(that)e(are)g(used)g(to)g(mak)o(e)g
(the)g(main)g(tar)o(get.)0 889 y(CM,)i(on)e(the)h(other)f(hand,)g(is)i
(lar)o(gely)e Ft(sour)m(ce-oriented)r Fv(:)25 b(Whereas)c(with)g
Fw(mak)o(e)h Fv(one)e(speci\002es)i(the)f(tree)g(and)f(lets)i(the)f
(program)e(deri)n(v)o(e)0 989 y(the)24 b(lea)n(v)o(es,)i(with)e(CM)i
(one)d(speci\002es)i(the)g(lea)n(v)o(es)f(and)g(lets)h(the)g(program)d
(deri)n(v)o(e)h(the)i(tree.)37 b(Thus,)25 b(the)g(programmer)c(writes)k
(do)n(wn)e(a)0 1088 y(list)k(of)f(sources,)g(and)g(CM)g(will)h
(calculate)e(and)h(then)f(e)o(x)o(ecute)g(a)h(series)h(of)e(steps)i(to)
f(mak)o(e)f(the)h(corresponding)d(program.)40 b(In)25
b Fw(mak)o(e)0 1188 y Fv(terminology)-5 b(,)16 b(this)j(resulting)f
(program)e(acts)j(as)h(the)e(\223main)g(goal\224,)g(b)n(ut)h(under)e
(CM)i(it)h(does)e(not)g(need)g(to)h(be)f(e)o(xplicitly)g(named.)23
b(In)c(f)o(act,)0 1288 y(since)h(there)g(typically)f(is)j(no)d
(corresponding)e(single)j(\002le)h(system)f(object)g(for)g(it,)g(a)h
(\223natural\224)e(name)g(does)h(not)g(e)n(v)o(en)f(e)o(xist.)0
1437 y(F)o(or)j(simple)h(projects)f(it)h(is)g(literally)g(true)f(that)h
(all)g(the)g(programmer)c(has)k(to)g(do)f(is)h(tell)g(CM)h(about)d(the)
i(set)g(of)g(sources:)29 b(a)23 b(description)0 1537
y(\002le)28 b(lists)h(little)f(more)f(than)g(the)g(names)g(of)h
(participating)d(ML)j(source)e(\002les.)48 b(Ho)n(we)n(v)o(er)m(,)27
b(lar)o(ger)f(projects)h(typically)g(bene\002t)g(from)f(a)0
1636 y(hierarchical)17 b(structuring.)23 b(This)c(can)g(be)f(achie)n(v)
o(ed)f(by)i(grouping)d(ML)j(source)f(\002les)i(into)e(separate)h
(libraries)f(and)g(library)g(components.)0 1736 y(Dependencies)g
(between)i(such)g(libraries)g(ha)n(v)o(e)f(to)h(be)h(speci\002ed)f(e)o
(xplicitly)f(and)g(must)i(form)e(an)h(ac)o(yclic)f(directed)h(graph)e
(\(D)m(A)m(G\).)0 1885 y(CM')-5 b(s)20 b(o)n(wn)f(semantics,)g
(particularly)f(its)i(dependenc)o(y)c(analysis,)k(interact)f(with)g
(the)g(ML)h(language)d(in)j(such)f(a)g(w)o(ay)h(that)f(for)g(an)o(y)f
(well-)0 1985 y(formed)f(project)g(there)h(will)h(be)f(e)o(xactly)f
(one)h(possible)g(interpretation)e(as)j(f)o(ar)f(as)h(static)g
(semantics)g(are)f(concerned.)k(Only)c(well-formed)0
2085 y(projects)i(are)g(accepted)g(by)g(CM;)h(projects)f(that)h(are)f
(not)g(well-formed)e(will)k(cause)e(error)f(messages.)26
b(\(W)-7 b(ell-formedness)19 b(is)j Ft(de\002ned)c Fv(to)0
2184 y(enforce)h(a)h(unique)f(de\002nition-use)f(relation)i(for)f(ML)i
(de\002nitions)e([Blu99)o(].\))0 2472 y Fr(2.2)99 b(Description)26
b(\002les)0 2677 y Fv(T)-6 b(echnically)h(,)25 b(a)i(CM)g(library)d(is)
j(a)g(\(possibly)e(empty\))g(collection)g(of)g(ML)h(source)g(\002les)g
(and)g(may)f(also)i(contain)e(references)f(to)i(other)0
2777 y(libraries.)e(Each)19 b(library)f(comes)h(with)g(an)h(e)o(xport)d
(interf)o(ace)i(which)f(speci\002es)i(the)f(set)h(of)f(all)h(tople)n(v)
o(el-de\002ned)c(symbols)i(of)h(the)h(library)0 2877
y(that)g(shall)h(be)f(e)o(xported)e(to)i(its)i(clients)e(\(see)g
(section)g(4\).)25 b(A)c(library)e(is)i(described)e(by)h(the)g
(contents)f(of)h(its)h Ft(description)f(\002le)p Fv(.)3648
2846 y Fq(2)0 3026 y Fv(Example:)100 3258 y Fu(Library)299
3358 y(signature)48 b(BAR)299 3458 y(structure)g(Foo)100
3557 y(is)299 3657 y(bar.sig)299 3757 y(foo.sml)299 3856
y(helper.sml)299 4055 y($/basis.cm)299 4155 y($/smlnj-lib.cm)0
4388 y Fv(This)20 b(library)e(e)o(xports)g(tw)o(o)i(de\002nitions,)e
(one)h(for)g(a)h(structure)e(named)h Fu(Foo)g Fv(and)g(one)g(for)g(a)g
(signature)g(named)f Fu(BAR)p Fv(.)h(The)g(speci\002cation)0
4487 y(for)28 b(such)h(e)o(xports)e(appear)h(between)g(the)g(k)o(e)o
(yw)o(ords)g Fu(Library)g Fv(and)g Fu(is)p Fv(.)51 b(The)28
b Ft(member)o(s)h Fv(of)g(the)f(library)g(are)h(speci\002ed)f(after)h
(the)0 4587 y(k)o(e)o(yw)o(ord)16 b Fu(is)p Fv(.)24 b(Here)17
b(we)h(ha)n(v)o(e)f(three)g(ML)g(source)g(\002les)h(\()p
Fu(bar.sig)p Fv(,)f Fu(foo.sml)p Fv(,)g(and)g Fu(helper.sml)p
Fv(\))e(as)k(well)f(as)g(references)e(to)h(tw)o(o)0 4686
y(e)o(xternal)22 b(libraries)i(\()p Fu($/basis.cm)e Fv(and)h
Fu($/smlnj-lib.cm)p Fv(\).)32 b(The)24 b(entry)f Fu($/basis.cm)f
Fv(typically)h(denotes)f(the)i(description)0 4786 y(\002le)i(for)f(the)
h Ft(Standar)m(d)e(ML)i(Basis)g(Libr)o(ary)g Fv([RG99)o(];)i(most)e
(programs)e(will)i(w)o(ant)g(to)g(list)h(it)f(in)g(their)f(o)n(wn)g
(description)f(\002le\(s\).)42 b(The)0 4886 y(other)19
b(library)f(in)i(this)g(e)o(xample)e(\()p Fu($/smlnj-lib.cm)p
Fv(\))f(is)j(a)g(library)f(of)g(data)g(structures)g(and)g(algorithms)g
(that)g(comes)g(b)n(undled)f(with)0 4985 y(SML/NJ.)p
0 5040 1608 4 v 90 5095 a Fp(1)120 5119 y Fo(\223T)n(ree\224)f(is)g
(\002gurati)n(v)o(e)j(speech)e(here)g(since)g(the)g(deri)n(v)n(ation)j
(really)d(yields)h(a)e(D)m(A)m(G.)90 5176 y Fp(2)120
5200 y Fo(The)f(description)k(\002le)e(may)f(also)g(contain)i
(references)h(to)d(input)h(\002les)g(for)f Fn(tools)g
Fo(lik)o(e)i Fm(ml-lex)d Fo(or)h Fm(ml-yacc)e Fo(that)j(produce)h(ML)d
(source)i(\002les.)j(See)d(section)g(7.)1989 5709 y Fv(6)p
eop
%%Page: 7 8
7 7 bop 0 83 a Fr(2.3)99 b(In)l(v)o(oking)25 b(CM)0 288
y Fv(Once)16 b(a)h(library)e(has)i(been)e(set)i(up)f(as)h(sho)n(wn)f
(in)g(the)g(e)o(xample)f(abo)o(v)o(e,)h(one)f(can)h(load)g(it)h(into)f
(a)h(running)d(interacti)n(v)o(e)h(session)i(by)f(in)m(v)n(oking)0
387 y(function)i Fu(CM.make)p Fv(.)25 b(If)20 b(the)g(name)f(of)h(the)h
(library')-5 b(s)19 b(description)g(\002le)i(is,)g(say)-5
b(,)19 b Fu(fb.cm)p Fv(,)h(then)g(one)f(w)o(ould)h(type)100
616 y Fu(CM.make)48 b("fb.cm";)0 845 y Fv(at)21 b(SML/NJ')-5
b(s)21 b(interacti)n(v)o(e)e(prompt.)k(This)d(will)h(cause)f(CM)h(to)
104 1074 y(1.)41 b(parse)19 b(the)i(description)d(\002le)j
Fu(fb.cm)p Fv(,)104 1239 y(2.)41 b(locate)20 b(all)g(its)i(sources)d
(and)h(all)h(its)g(sub-libraries,)104 1404 y(3.)41 b(calculate)19
b(the)i(dependenc)o(y)c(graph,)104 1569 y(4.)41 b(issue)20
b(w)o(arnings)g(and)f(errors)h(\(and)f(skip)h(the)g(remaining)f
(steps\))h(if)h(necessary)-5 b(,)104 1735 y(5.)41 b(compile)19
b(those)h(sources)g(for)f(which)h(that)g(is)h(required,)104
1900 y(6.)41 b(e)o(x)o(ecute)18 b(module)h(initialization)h(code,)104
2065 y(7.)41 b(and)24 b(augment)f(the)i(tople)n(v)o(el)f(en)m
(vironment)e(with)j(bindings)e(for)i(e)o(xported)d(symbols,)k(i.e.,)g
(in)f(our)f(e)o(xample)f(for)i Fu(signature)208 2164
y(BAR)20 b Fv(and)f Fu(structure)49 b(Foo)p Fv(.)0 2393
y(CM)27 b(does)f(not)g(compile)f(sources)h(that)h(are)f(not)g
(\223reachable\224)e(from)i(the)g(library')-5 b(s)26
b(e)o(xports.)42 b(F)o(or)26 b(e)n(v)o(ery)e(other)i(source,)h(it)g
(will)g(a)n(v)n(oid)0 2493 y(recompilation)18 b(if)i(all)h(of)f(the)g
(follo)n(wing)f(is)i(true:)125 2722 y Fs(\017)41 b Fv(The)19
b Ft(bin\002le)h Fv(for)f(the)h(source)g(e)o(xists.)125
2887 y Fs(\017)41 b Fv(The)19 b(bin\002le)h(has)h(the)f(same)g(time)h
(stamp)f(as)h(the)f(source.)125 3052 y Fs(\017)41 b Fv(The)21
b(current)f(compilation)g(en)m(vironment)f(for)i(the)h(source)f(is)h
(precisely)f(the)h(same)g(as)h(the)e(compilation)f(en)m(vironment)f
(that)j(w)o(as)208 3152 y(in)e(ef)n(fect)g(when)f(the)h(bin\002le)g(w)o
(as)h(produced.)0 3438 y Fr(2.4)99 b(Members)26 b(of)f(a)g(library)0
3642 y Fv(Members)17 b(of)g(a)h(library)f(do)g(not)g(ha)n(v)o(e)g(to)h
(be)g(listed)g(in)g(an)o(y)e(particular)h(order)f(since)i(CM)g(will)h
(automatically)d(calculate)h(the)h(dependenc)o(y)0 3742
y(graph.)24 b(Some)19 b(minor)h(restrictions)f(on)h(the)g(source)g
(language)e(are)i(necessary)g(to)g(mak)o(e)g(this)g(w)o(ork:)104
3955 y(1.)41 b(All)19 b(top-le)n(v)o(el)e(de\002nitions)g(must)i(be)f
Ft(module)g Fv(de\002nitions)f(\(structures,)h(signatures,)g(functors,)
f(or)h(functor)f(signatures\).)23 b(In)18 b(other)208
4054 y(w)o(ords,)h(there)h(can)g(be)g(no)g(top-le)n(v)o(el)e(type-,)h
(v)n(alue-,)g(or)h(in\002x-de\002nitions.)104 4220 y(2.)41
b(F)o(or)23 b(a)h(gi)n(v)o(en)e(symbol,)h(there)g(can)h(be)f(at)h(most)
g(one)f(ML)h(source)e(\002le)j(per)e(library)f(\(or)n(\227more)g
(correctly\227one)f(\002le)k(per)e(library)208 4319 y(component;)17
b(see)k(Section)f(2.6\))f(that)h(de\002nes)g(the)h(symbol)e(at)i(top)e
(le)n(v)o(el.)104 4484 y(3.)41 b(If)18 b(more)g(than)g(one)g(of)g(the)g
(listed)h(libraries)g(or)f(components)e(is)k(e)o(xporting)c(the)i(same)
h(symbol,)f(then)g(the)g(de\002nition)g(\(i.e.,)g(the)g(ML)208
4584 y(source)h(\002le)i(that)f(actually)g(de\002nes)g(the)g(symbol\))f
(must)h(be)g(identical)g(in)g(all)h(cases.)104 4749 y(4.)41
b(The)19 b(use)h(of)f(ML)-8 b(')j(s)21 b Fw(open)f Fv(construct)e(is)j
(not)e(permitted)g(at)h(the)g(top)f(le)n(v)o(el)h(of)f(ML)h(\002les)g
(compiled)f(by)g(CM.)h(\(The)f(use)h(is)h(still)g(ok)e(at)208
4849 y(the)h(interacti)n(v)o(e)f(top)g(le)n(v)o(el.\))0
5061 y(Note)i(that)h(these)g(rules)f(do)g(not)g(require)g(the)g(e)o
(xports)f(of)i(imported)d(libraries)j(to)f(be)h(distinct)f(from)g(the)g
(e)o(xports)f(of)i(ML)f(source)g(\002les)h(in)0 5161
y(the)c(current)f(library)-5 b(.)23 b(If)18 b(an)h(ML)f(source)g
(\002le)h Fl(f)27 b Fv(re-de\002nes)17 b(a)i(name)f Fl(n)h
Fv(that)f(is)h(also)g(imported)e(from)g(library)g Fl(l)r
Fv(,)i(then)f(the)g(disambiguating)0 5261 y(rule)k(is)h(that)f(the)g
(de\002nition)f(from)g Fl(f)32 b Fv(tak)o(es)22 b(precedence)e(o)o(v)o
(er)h(that)h(from)f Fl(l)k Fv(in)d(all)h(sources)e(e)o(xcept)g
Fl(f)32 b Fv(itself.)f(Free)22 b(occurences)f(of)h Fl(n)g
Fv(in)0 5360 y Fl(f)34 b Fv(refer)24 b(to)h Fl(l)r Fv(')-5
b(s)25 b(de\002nition.)37 b(This)25 b(rule)f(mak)o(es)g(it)i(possible)e
(to)h(easily)g(write)g(code)f(for)g(e)o(xporting)e(an)j
(\223augmented\224)d(v)o(ersion)h(of)i(some)0 5460 y(module.)f
(Example:)1989 5709 y(7)p eop
%%Page: 8 9
8 8 bop 100 83 a Fu(structure)48 b(A)h(=)h(struct)f(\(*)g(defines)g
(augmented)f(A)h(*\))299 183 y(open)g(A)548 b(\(*)49
b(refers)g(to)g(imported)g(A)g(*\))299 282 y(fun)g(f)h(x)f(=)h(B.f)f(x)
h(+)g(C.g)f(\(x)g(+)h(1\))100 382 y(end)0 601 y Fv(Rule)22
b(3)g(may)f(come)g(as)i(a)f(bit)g(of)f(a)h(surprise)f(considering)f
(that)i(each)f(ML)h(source)f(\002le)h(can)g(be)g(a)g(member)e(of)i(at)g
(most)g(one)f(library)f(\(see)0 701 y(section)e(2.7\).)23
b(Ho)n(we)n(v)o(er)m(,)16 b(it)i(is)h(indeed)e(possible)g(for)g(tw)o(o)
h(libraries)g(to)g(\(re-\)e)o(xport)c(the)k(\223same\224)g
(de\002nition)e(pro)o(vided)g(the)o(y)h(both)g(import)0
800 y(that)28 b(de\002nition)e(from)h(a)h(third)f(library)-5
b(.)45 b(F)o(or)28 b(e)o(xample,)f(let)i(us)f(assume)f(that)h
Fu(a.cm)f Fv(e)o(xports)g(a)h(structure)e Fu(X)i Fv(which)f(w)o(as)i
(de\002ned)d(in)0 900 y Fu(x.sml)p Fv(\227one)20 b(of)h
Fu(a.cm)p Fv(')-5 b(s)22 b(members.)27 b(No)n(w)-5 b(,)21
b(if)g(both)g Fu(b.cm)g Fv(and)g Fu(c.cm)g Fv(re-e)o(xport)e(that)i
(same)h(structure)e Fu(X)i Fv(after)f(importing)f(it)i(from)0
999 y Fu(a.cm)p Fv(,)e(it)h(is)g(le)o(gal)e(for)h(a)g(fourth)f(library)
g Fu(d.cm)h Fv(to)h(import)e(from)g(both)g Fu(b.cm)h
Fv(and)g Fu(c.cm)p Fv(.)0 1145 y(The)25 b(full)g(syntax)f(for)h
(library)f(description)f(\002les)k(also)e(includes)f(pro)o(visions)g
(for)g(a)i(simple)f(\223conditional)e(compilation\224)g(f)o(acility)i
(\(see)0 1245 y(Section)20 b(8\),)f(for)h(access)h(control)e(\(see)h
(Section)g(9\),)g(and)f(it)i(accepts)f(ML-style)g(nestable)g(comments)f
(delimited)g(by)h Fu(\(*)h Fv(and)e Fu(*\))p Fv(.)0 1527
y Fr(2.5)99 b(Name)25 b(visibility)0 1728 y Fv(In)h(general,)g(all)h
(de\002nitions)e(e)o(xported)g(from)g(members)g(\(i.e.,)i(ML)f(source)g
(\002les,)i(sublibraries,)f(and)e(components\))f(of)i(a)h(library)e
(are)0 1828 y(visible)20 b(in)h(all)f(other)g(ML)g(source)g(\002les)h
(of)f(that)g(library)-5 b(.)24 b(The)c(source)f(code)h(in)g(those)g
(source)g(\002les)h(can)f(refer)g(to)g(them)g(directly)f(without)0
1928 y(further)e(quali\002cation.)24 b(Here,)19 b(\223e)o(xported\224)d
(means)j(either)f(a)i(top-le)n(v)o(el)d(de\002nition)h(within)h(an)g
(ML)g(source)f(\002le)i(or)f(a)g(de\002nition)f(listed)h(in)0
2027 y(a)i(sublibrary')-5 b(s)18 b(e)o(xport)h(list.)0
2173 y(If)35 b(a)g(library)e(is)j(structured)e(into)g(library)g
(components)e(using)i Ft(gr)l(oups)h Fv(\(see)g(Section)f(2.6\),)j
(then\227as)e(f)o(ar)f(as)i(name)e(visibility)h(is)0
2272 y(concerned\227each)17 b(component)h(\(group\))f(is)22
b(treated)d(lik)o(e)i(a)f(separate)g(library)-5 b(.)0
2418 y(Cyclic)21 b(dependencies)e(among)g(libraries,)h(library)g
(components,)f(or)h(ML)h(source)f(\002les)i(within)e(a)h(library)f(are)
h(detected)f(and)g(\003agged)g(as)0 2518 y(errors.)0
2800 y Fr(2.6)99 b(Library)26 b(components)g(\(gr)n(oups\))0
3001 y Fv(CM')-5 b(s)30 b(group)d(model)g(eliminates)i(a)g(whole)f
(class)h(of)g(potential)e(naming)h(problems)f(by)h(pro)o(viding)e
(control)h(o)o(v)o(er)g(name)h(spaces)h(for)0 3101 y(program)17
b(linkage.)23 b(The)c(group)e(model)h(in)h(full)g(generality)e
(sometimes)i(requires)f(bindings)f(to)i(be)g(renamed)e(at)j(the)f(time)
g(of)f(import.)24 b(As)0 3200 y(has)f(been)f(described)f(separately)h
([B)m(A99)o(],)h(in)g(the)g(case)g(of)f(ML)h(this)g(can)g(also)f(be)h
(achie)n(v)o(ed)e(using)h(\223administati)n(v)o(e\224)f(libaries,)i
(which)0 3300 y(is)e(why)e(CM)i(can)f(get)h(a)o(w)o(ay)e(with)i(not)f
(pro)o(viding)d(more)i(direct)h(support)f(for)h(renaming.)0
3446 y(Ho)n(we)n(v)o(er)m(,)g(under)h(CM,)i(the)f(term)f
(\223library\224)g(does)h(not)g(only)f(mean)g(namespace)g(management)f
(\(as)i(it)h(w)o(ould)f(from)f(the)h(point)f(of)h(vie)n(w)0
3545 y(of)e(the)f(pure)g(group)f(model\))h(b)n(ut)h(also)g(refers)f(to)
h(actual)g(\002le)h(system)f(objects)f(\(e.g.,)g(CM)i(description)d
(\002les)j(and)e(stable)h(library)f(\002les\).)25 b(It)0
3645 y(w)o(ould)e(be)h(incon)m(v)o(enient)c(if)k(name)g(resolution)e
(problems)g(w)o(ould)h(result)h(in)g(a)g(proliferation)e(of)h
(additional)g(library)f(\002les.)37 b(Therefore,)0 3745
y(CM)24 b(also)g(pro)o(vides)e(the)i(notion)f(of)g(library)g
(components)e(\(\223groups\224\).)33 b(Name)24 b(resolution)e(for)h
(groups)f(w)o(orks)i(lik)o(e)g(name)f(resolution)0 3844
y(for)d(entire)f(libraries,)h(b)n(ut)g(grouping)e(is)j(entirely)e
(internal)h(to)g(each)g(library)-5 b(.)0 3990 y(When)20
b(a)g(library)f(is)i Ft(stabilized)f Fv(\(via)f Fu(CM.stabilize)g
Fv(\226)h(see)g(Section)g(2.8\),)f(the)h(entire)f(library)g(is)i
(compiled)e(to)h(a)g(single)g(\002le)h(\(hence)0 4089
y(groups)e(do)h(not)f(result)i(in)f(separate)g(stable)g(\002les\).)0
4235 y(During)k(de)n(v)o(elopment,)f(each)i(group)f(has)h(its)h(o)n(wn)
f(description)f(\002le)h(which)g(will)h(be)f(referred)f(to)h(by)g(the)g
(surrounding)d(library)i(or)h(by)0 4335 y(other)d(groups)g(of)h(that)g
(library)-5 b(.)32 b(The)23 b(syntax)g(of)g(group)e(description)h
(\002les)i(is)g(the)f(same)g(as)h(that)g(of)e(library)g(description)g
(\002les)i(with)g(the)0 4434 y(follo)n(wing)19 b(e)o(xceptions:)125
4653 y Fs(\017)41 b Fv(The)26 b(initial)i(k)o(e)o(yw)o(ord)d
Fu(Library)h Fv(is)i(replaced)e(with)h Fu(Group)p Fv(.)45
b(It)27 b(is)h(follo)n(wed)e(by)g(the)h(name)g(of)f(the)h(surrounding)d
(library')-5 b(s)208 4753 y(description)18 b(\002le)j(in)f
(parentheses.)125 4915 y Fs(\017)41 b Fv(The)22 b(e)o(xport)f(list)i
(can)f(be)h(left)g(empty)-5 b(,)21 b(in)i(which)f(case)h(CM)g(will)g
(pro)o(vide)e(a)h(def)o(ault)g(e)o(xport)f(list:)31 b(all)23
b(e)o(xports)e(from)h(ML)g(source)208 5015 y(\002les)28
b(plus)f(all)g(e)o(xports)f(from)g(subcomponents)e(of)j(the)g
(component.)43 b(from)26 b(other)g(libraries)g(will)i(not)f(be)g(re-e)o
(xported)d(in)j(this)208 5114 y(case.)372 5084 y Fq(3)429
5114 y Fv(\(Notice)18 b(that)g(an)g(e)o(xport)e(list)k(that)e(is)h(not)
e Ft(syntactically)g Fv(empty)h(b)n(ut)g(which)f(ef)n(fecti)n(v)o(ely)f
(contains)h(zero)h(symbols)f(because)208 5214 y(of)23
b(conditional)e(compilation\227see)h(Section)h(8\227does)g(not)g(count)
g(as)h(being)f(\223left)g(empty\224)g(in)g(the)h(abo)o(v)o(e)e(sense.)
35 b(Instead,)24 b(the)208 5314 y(result)c(w)o(ould)f(be)h(an)h(almost)
f(certainly)f(useless)i(component)d(with)i(truly)g(no)f(e)o(xports.\))p
0 5381 1608 4 v 90 5437 a Fp(3)120 5460 y Fo(This)d(def)o(ault)k(can)d
(be)h(spelled)g(out)g(as)f Fm(source\(-\))38 b(group\(-\))p
Fo(.)19 b(See)f(section)h(4.)1989 5709 y Fv(8)p eop
%%Page: 9 10
9 9 bop 125 83 a Fs(\017)41 b Fv(There)19 b(are)h(some)g(small)h
(restrictions)e(on)h(access)h(control)e(speci\002cations)h(\(see)g
(Section)g(9\).)0 315 y(As)h(an)f(e)o(xample,)f(let)h(us)h(assume)f
(that)g Fu(foo-utils.cm)f Fv(contains)g(the)i(follo)n(wing)d(te)o(xt:)
100 548 y Fu(Group)49 b(\(foo-lib.cm\))100 648 y(is)299
747 y(set-util.sml)299 847 y(map-util.sml)299 946 y($/basis.cm)0
1179 y Fv(This)20 b(description)f(de\002nes)h(group)e
Fu(foo-utils.cm)h Fv(to)h(ha)n(v)o(e)g(the)g(follo)n(wing)f
(properties:)125 1411 y Fs(\017)41 b Fv(it)28 b(is)g(a)g(component)d
(of)i(library)f Fu(foo-lib.cm)g Fv(\(meaning)f(that)j(only)e(foo-lib)m
(.cm)f(itself)j(or)f(other)g(groups)f(thereof)g(may)g(list)208
1511 y Fu(foo-utils.cm)18 b Fv(as)j(one)f(of)g(their)f(members\))125
1677 y Fs(\017)41 b Fu(set-utils.sml)18 b Fv(and)i Fu(map-util.sml)e
Fv(are)i(ML)g(source)g(\002les)h(belonging)d(to)i(this)h(component)125
1843 y Fs(\017)41 b Fv(e)o(xports)18 b(from)i(the)g(Standard)f(Basis)i
(Library)e(are)h(a)n(v)n(ailable)g(when)g(compiling)e(these)i(ML)h
(source)e(\002les)125 2009 y Fs(\017)41 b Fv(since)23
b(the)g(e)o(xport)e(list)k(has)e(been)f(left)i(blank,)e(the)h(only)g
(\(implicitly)f(speci\002ed\))g(e)o(xports)g(of)h(this)g(component)e
(are)i(the)g(top-le)n(v)o(el)208 2109 y(de\002nitions)c(in)h(its)h(ML)g
(source)e(\002les)0 2341 y(W)m(ith)h(this,)h(the)f(library)f
(description)g(\002le)i Fu(foo-lib.cm)e Fv(could)g(list)i
Fu(foo-utils.cm)e Fv(as)i(one)e(of)h(its)h(members:)100
2574 y Fu(Library)299 2673 y(signature)48 b(FOO)299 2773
y(structure)g(Foo)100 2873 y(is)299 2972 y(foo.sig)299
3072 y(foo.sml)299 3171 y(foo-utils.cm)299 3271 y($/basis.cm)0
3504 y Fv(No)c(harm)f(is)h(done)f(if)h Fu(foo-lib.cm)e
Fv(does)i(not)f(actually)g(mention)g Fu(foo-utils.cm)p
Fv(.)94 b(In)43 b(this)h(case)h(it)f(could)f(be)g(that)0
3603 y Fu(foo-utils.cm)26 b Fv(is)j(mentioned)d(indirectly)h(via)h(a)h
(chain)e(of)h(other)f(components)f(of)i Fu(foo-lib.cm)p
Fv(.)47 b(The)28 b(other)f(possibility)h(is)0 3703 y(that)20
b(it)h(is)g(not)f(mentioned)e(at)j(all)g(\(in)f(which)g(case)g(CM)h(w)o
(ould)f(ne)n(v)o(er)e(kno)n(w)i(about)f(it,)i(so)f(it)h(cannot)e
(complain\).)0 3990 y Fr(2.7)99 b(Multiple)25 b(occur)n(ences)i(of)e
(the)h(same)f(member)0 4196 y Fv(The)d(follo)n(wing)e(rules)i(apply)e
(to)i(multiple)g(occurences)e(of)h(the)h(same)g(ML)g(source)f(\002le,)i
(the)f(same)g(library)-5 b(,)20 b(or)i(the)g(same)g(group)e(within)0
4295 y(a)h(program:)125 4528 y Fs(\017)41 b Fv(W)m(ithin)20
b(the)g(same)g(description)f(\002le,)i(each)e(member)g(can)h(be)g
(speci\002ed)g(at)h(most)f(once.)125 4694 y Fs(\017)41
b Fv(Libraries)19 b(can)h(be)g(referred)f(to)h(freely)f(from)g(as)i
(man)o(y)e(other)h(groups)e(or)i(libraries)g(as)h(the)f(programmer)d
(desires.)125 4860 y Fs(\017)41 b Fv(A)21 b(group)f(cannot)g(be)h(used)
g(from)f(outside)h(the)g(uniquely)f(de\002ned)g(library)g(\(as)i
(speci\002ed)f(in)g(its)i(description)c(\002le\))j(of)f(which)g(it)h
(is)208 4960 y(a)e(component.)j(Ho)n(we)n(v)o(er)m(,)18
b(within)i(that)g(library)f(it)i(can)f(be)g(referred)e(to)j(from)e
(arbitrarily)g(man)o(y)g(other)g(groups.)125 5126 y Fs(\017)41
b Fv(The)18 b(same)h(ML)f(source)g(\002le)h(cannot)f(appear)f(more)h
(than)g(once.)24 b(If)18 b(an)h(ML)g(source)f(\002le)h(is)g(to)g(be)g
(referred)e(to)h(by)h(multiple)e(clients,)208 5225 y(it)j(must)h
(\002rst)g(be)f(\223wrapped\224)e(into)i(a)h(library)e(\(or)n(\227if)g
(all)i(references)e(are)h(from)f(within)h(the)g(same)h(library\227a)e
(group\).)1989 5709 y(9)p eop
%%Page: 10 11
10 10 bop 0 83 a Fr(2.8)99 b(Stable)26 b(libraries)0
289 y Fv(CM)21 b(distinguishes)f(between)f(libraries)h(that)g(are)h
Ft(under)e(de)o(velopment)f Fv(and)i(libraries)g(that)g(are)h
Ft(stable)p Fv(.)k(A)20 b(stable)h(library)e(is)i(created)f(by)0
388 y(a)h(call)f(of)g Fu(CM.stabilize)f Fv(\(see)h(Section)g(5.1.1\).)0
538 y(Access)f(to)g(stable)g(libraries)g(is)g(subject)g(to)g(less)g
(internal)f(consistenc)o(y-checking)d(and)j(touches)g(f)o(ar)h(fe)n
(wer)f(\002le-system)h(objects.)24 b(There-)0 637 y(fore,)h(it)g(is)h
(typically)e(more)g(ef)n(\002cient.)38 b(Stable)25 b(libraries)f(play)g
(an)h(additional)e(semantic)i(role)f(in)h(the)g(conte)o(xt)e(of)i
(access)g(control)e(\(see)0 737 y(Section)d(9\).)0 886
y(From)k(the)g(client)h(program')-5 b(s)22 b(point)i(of)g(vie)n(w)-5
b(,)24 b(using)g(a)h(stable)g(library)e(is)i(completely)e(transparent.)
36 b(When)24 b(referring)e(to)j(a)g(library\227)0 986
y(re)o(gardless)d(of)h(whether)f(it)i(is)g(under)e(de)n(v)o(elopment)e
(or)j(stable\227one)g Ft(always)g Fv(uses)h(the)f(name)g(of)g(the)g
(library')-5 b(s)22 b(description)g(\002le.)35 b(CM)0
1086 y(will)29 b(check)e(whether)g(there)g(is)i(a)g(stable)f(v)o
(ersion)f(of)g(the)h(library)f(and)h(pro)o(vided)d(that)j(is)h(the)f
(case)g(use)h(it.)49 b(This)28 b(means)f(that)h(in)h(the)0
1185 y(presence)21 b(of)i(a)g(stable)f(v)o(ersion,)g(the)h(library')-5
b(s)21 b(actual)i(description)e(\002le)i(does)f(not)g(ha)n(v)o(e)g(to)h
(physically)e(e)o(xists)i(\(e)n(v)o(en)e(though)g(its)i(name)0
1285 y(is)e(used)f(by)g(CM)h(to)f(\002nd)g(the)g(corresponding)d
(stable)j(\002le\).)0 1572 y Fr(2.9)99 b(T)-9 b(op-le)o(v)o(el)25
b(gr)n(oups)0 1778 y Fv(Mainly)f(to)g(f)o(acilitate)h(some)f
(super\002cial)f(backw)o(ard-compatibility)-5 b(,)21
b(CM)k(also)g(allo)n(ws)f(groups)f(to)i(appear)e(at)h(top)g(le)n(v)o
(el,)h(i.e.,)g(outside)0 1877 y(of)19 b(an)o(y)g(library)-5
b(.)23 b(Such)c(groups)f(must)h(omit)h(the)f(parenthetical)f(library)g
(speci\002cation)h(and)g(then)f(cannot)h(also)h(be)f(used)g(within)g
(libraries.)0 1977 y(One)h(could)f(think)h(of)g(the)g(top)g(le)n(v)o
(el)g(itself)g(as)h(a)g(\223virtual)e(unnamed)f(library\224)h(whose)h
(components)e(are)i(these)h(top-le)n(v)o(el)d(groups.)0
2307 y Fx(3)119 b(Naming)30 b(objects)g(in)g(the)h(\002le)f(system)0
2559 y Fr(3.1)99 b(Moti)o(v)o(ation)0 2764 y Fv(The)24
b(main)f(dif)n(\002culty)g(with)h(\002le)h(naming)d(lies)j(in)f(the)g
(f)o(act)g(that)g(\002les)h(or)f(e)n(v)o(en)f(whole)g(directories)g
(may)h(mo)o(v)o(e)e(after)i(CM)g(has)h(already)0 2864
y(partially)16 b(\(b)n(ut)f(not)h(fully\))g(processed)f(them.)23
b(F)o(or)16 b(e)o(xample,)f(this)i(happens)e(when)g(the)i
Ft(autoloader)d Fv(\(see)i(Section)g(5.2\))f(has)i(been)e(in)m(v)n(ok)o
(ed)0 2964 y(and)20 b(the)g(session)g(\(including)f(CM')-5
b(s)21 b(internal)e(state\))i(is)g(then)f(frozen)e(\(i.e.,)i(sa)n(v)o
(ed)g(to)g(a)h(\002le\))f(via)h Fu(SMLofNJ.exportML)p
Fv(.)0 3113 y(CM')-5 b(s)28 b(con\002gurable)c Ft(path)j(anc)o(hor)e
Fv(mechanism)h(enables)g(it)i(to)f(resume)f(such)h(a)g(session)g(e)n(v)
o(en)f(when)g(operating)f(in)i(a)h(dif)n(ferent)d(en-)0
3213 y(vironment,)j(perhaps)e(on)i(a)g(dif)n(ferent)f(machine)f(with)j
(dif)n(ferent)d(\002le)j(systems)f(mounted,)g(or)g(a)g(dif)n(ferent)e
(location)h(of)h(the)g(SML/NJ)0 3312 y(installation.)37
b(Ev)n(aluation)23 b(of)h(path)g(anchors)f(al)o(w)o(ays)i(tak)o(es)g
(place)f(as)h(late)g(as)g(possible,)g(and)f(CM)h(will)g(re-e)n(v)n
(aluate)e(path)h(anchors)f(as)0 3412 y(this)e(becomes)e(necessary)g
(due)h(to)g(changes)g(to)g(their)g(con\002guration.)0
3699 y Fr(3.2)99 b(Basic)25 b(rules)0 3905 y Fv(CM)19
b(uses)g(its)h(o)n(wn)e(\223standard\224)f(syntax)h(for)g(pathnames)f
(which)h(for)g(the)g(most)h(part)f(happens)f(to)i(be)f(the)h(same)f(as)
i(the)e(one)g(used)g(by)h(most)0 4005 y(Unix-lik)o(e)g(systems:)125
4220 y Fs(\017)41 b Fv(P)o(ath)20 b(name)f(components)f(are)i
(separated)g(by)f(\223)p Fw(/)p Fv(\224.)125 4386 y Fs(\017)41
b Fv(Special)20 b(components)e(\223)p Fw(.)p Fv(\224)25
b(and)20 b(\223)p Fw(..)p Fv(\224)25 b(denote)19 b Ft(curr)m(ent)h
Fv(and)f Ft(pr)m(e)o(vious)h Fv(directory)-5 b(,)18 b(respecti)n(v)o
(ely)-5 b(.)125 4553 y Fs(\017)41 b Fv(P)o(aths)20 b(be)o(ginning)e
(with)i(\223)p Fw(/)p Fv(\224)g(are)h(considered)d Ft(absolute)p
Fv(.)125 4719 y Fs(\017)41 b Fv(Other)19 b(paths)h(are)g
Ft(r)m(elative)h Fv(unless)f(the)o(y)g(start)g(with)h(\223)p
Fw($)p Fv(\224.)0 4934 y(There)e(is)i(an)g(important)d(third)i(form)f
(of)h(standard)f(paths:)25 b Ft(anc)o(hor)m(ed)18 b Fv(paths.)25
b(Anchored)18 b(paths)i(al)o(w)o(ays)h(start)f(with)h(\223)p
Fw($)p Fv(\224.)0 5084 y(Since)26 b(this)g(standard)e(syntax)h(does)g
(not)g(co)o(v)o(er)f(system-speci\002c)h(aspects)h(such)f(as)i(v)n
(olume)d(names,)j(it)f(is)g(also)g(possible)f(to)h(re)n(v)o(ert)e(to)0
5183 y(\223nati)n(v)o(e\224)i(syntax)h(by)g(enclosing)g(a)g(path)g
(name)g(in)h(double-quotes.)44 b(Of)27 b(course,)i(description)d
(\002les)i(that)g(use)g(path)f(names)g(in)g(nati)n(v)o(e)0
5283 y(syntax)20 b(are)g(not)g(portable)e(across)j(operating)d
(systems.)1968 5709 y(10)p eop
%%Page: 11 12
11 11 bop 0 83 a Fw(Absolute)20 b(pathnames)41 b Fv(are)20
b(resolv)o(ed)d(in)j(the)f(usual)g(manner)f(speci\002c)i(to)f(the)g
(operating)f(system.)24 b(Ho)n(we)n(v)o(er)m(,)18 b(it)i(is)g
(advisable)e(to)i(a)n(v)n(oid)208 183 y(absolute)f(pathnames)g(because)
g(the)o(y)h(are)g(certain)g(to)g(\223break\224)f(if)h(the)h
(corresponding)16 b(\002le)21 b(mo)o(v)o(es)e(to)h(a)h(dif)n(ferent)e
(location.)0 349 y Fw(Relati)o(v)o(e)h(pathnames)g(that)g(occur)g(in)h
(some)f(CM)h(description)g(\002le)41 b Fv(whose)26 b(name)f(is)i
Ft(path)p Fu(/)p Ft(\002le)p Fu(.cm)d Fv(will)i(be)g(resolv)o(ed)e
(relati)n(v)o(e)h(to)208 448 y Ft(path)p Fv(,)19 b(i.e.,)h(relati)n(v)o
(e)f(to)h(the)h(directory)d(that)i(contains)g(the)g(description)f
(\002le.)0 614 y Fw(Relati)o(v)o(e)h(pathnames)g(that)g(ha)n(v)o(e)f
(been)i(enter)o(ed)f(interacti)o(v)o(ely)-5 b(,)40 b
Fv(usually)23 b(as)j(an)e(ar)o(gument)e(to)j(one)f(of)g(CM')-5
b(s)26 b(interf)o(ace)d(functions,)208 714 y(will)18
b(be)h(resolv)o(ed)d(in)j(the)f(OS-speci\002c)g(manner)m(,)f(i.e.,)h
(relati)n(v)o(e)f(to)i(the)f(current)f(w)o(orking)f(directory)-5
b(.)22 b(Ho)n(we)n(v)o(er)m(,)17 b(notice)g(that)i(some)208
814 y(of)e(CM')-5 b(s)18 b(operations)e(\(see)h(section)h
(5.2\227autoload\))c(will)k(be)f(e)o(x)o(ecuted)f(lazily)h(and,)g
(thus,)h(can)f(occur)f(interlea)n(v)o(ed)g(with)i(arbitary)208
913 y(other)h(operations\227including)d(changes)j(of)h(the)g(w)o
(orking)f(directory)-5 b(.)22 b(This)f(is)g(handled)d(by)i(CM)h(in)f
(such)g(a)g(w)o(ay)g(that)h(it)f(appears)208 1013 y(as)h(if)f(all)h
(path)f(deri)n(v)o(ed)e(from)h(an)h(interacti)n(v)o(e)f(relati)n(v)o(e)
h(path)f Fl(p)i Fv(had)f(been)f(completely)g(resolv)o(ed)g(at)i(the)f
(time)g Fl(p)h Fv(w)o(as)g(entered.)j(As)208 1112 y(a)f(result,)g(tw)o
(o)g(names)f(speci\002ed)h(using)f(identical)g(strings)h(b)n(ut)f(at)i
(dif)n(ferent)d(times)i(when)f(dif)n(ferent)f(w)o(orking)g(directories)
h(were)208 1212 y(in)e(ef)n(fect)g(will)g(be)h(k)o(ept)e(apart)h(and)g
(continue)f(to)h(refer)f(to)i(their)f(respecti)n(v)o(e)f(original)g
(\002le)h(system)h(locations.)0 1378 y Fw(Anchor)o(ed)f(paths)41
b Fv(consist)26 b(of)g(an)g(anchor)e(name)h(\(of)g(non-zero)f(length\))
h(and)g(a)h(non-empty)d(list)k(of)f(additional)f(arcs.)42
b(The)25 b(name)h(is)208 1478 y(enclosed)20 b(by)i(the)g(path')-5
b(s)22 b(leading)e Fw($)i Fv(on)g(the)g(left)g(and)f(the)h(path')-5
b(s)22 b(\002rst)g Fw(/)h Fv(on)e(the)h(right.)29 b(The)22
b(list)h(of)e(arcs)h(follo)n(ws)g(the)g(\002rst)g Fw(/)p
Fv(.)31 b(As)208 1577 y(with)22 b(all)h(standard)e(paths,)h(the)h(arcs)
f(themselv)o(es)g(are)g(also)g(separated)g(by)f Fw(/)p
Fv(.)32 b(An)23 b(error)e(is)i(signalled)e(if)i(the)f(anchor)f(name)h
(is)h(not)208 1677 y(kno)n(wn)c(to)i(CM.)g(If)g Fl(a)g
Fv(is)h(a)f(kno)n(w)f(anchor)f(name)i(currently)e(bound)g(to)i(some)f
(directory)g(name)g Fl(d)p Fv(,)h(then)g(the)g(standard)e(path)i
Fu($)p Fl(a)p Fu(/)p Fl(p)208 1777 y Fv(\(where)g Fl(p)i
Fv(is)g(a)g(list)g(of)f(arcs\))h(refers)f(to)g Fl(d)p
Fu(/)p Fl(p)p Fv(.)32 b(The)22 b(frequently)e(occuring)h(case)h(where)g
Fl(a)h Fv(coincides)f(with)g(the)h(\002rst)g(arc)f(of)g
Fl(p)h Fv(can)208 1876 y(be)d(abbre)n(viated)e(as)j Fu($/)p
Fl(p)p Fv(.)0 2164 y Fr(3.3)99 b(Anchor)26 b(en)l(vir)n(onments)0
2369 y Fv(Anchor)19 b(names)h(are)g(resolv)o(ed)f(in)h(the)g
Ft(anc)o(hor)f(en)m(vir)l(onment)g Fv(that)h(is)h(in)f(ef)n(fect)g(at)h
(the)f(time)g(the)g(anchor)f(is)i(read.)0 2519 y(The)k(basis)h(for)f
(all)h(anchor)e(en)m(vironments)f(is)k(the)e Ft(r)l(oot)h(en)m(vir)l
(onment)p Fv(.)39 b(Conceptually)-5 b(,)25 b(the)g(root)g(en)m
(vironments)e(is)k(a)f(\002x)o(ed)e(mapping)0 2618 y(that)f(binds)f(e)n
(v)o(ery)g(possible)g(anchor)g(to)h(a)g(mutable)f(location.)32
b(The)23 b(location)f(can)g(store)h(a)g(nati)n(v)o(e)f(directory)g
(name)g(or)g(can)h(be)g(mark)o(ed)0 2718 y(\223unde\002ned\224.)g(Most)
d(locations)g(initially)g(start)g(out)g(unde\002ned.)j(The)d(contents)g
(of)f(each)h(location)g(is)h(con\002gurable)c(\(see)k(Section)f(3.4\).)
0 2867 y(At)27 b(the)g(time)f(a)h(CM)h(description)d(\002le)i
Fl(a)p Fu(.cm)g Fv(refers)f(to)g(another)g(library')-5
b(s)25 b(or)i(library)e(component')-5 b(s)25 b(description)g(\002le)i
Fl(b)p Fu(.cm)p Fv(,)g(it)h(can)0 2967 y(augment)23 b(the)h(current)e
(anchor)h(en)m(vironment)e(with)j(ne)n(w)g(bindings.)35
b(The)24 b(ne)n(w)f(bindings)g(are)h(in)g(ef)n(fect)g(while)g
Fl(b)p Fu(.cm)f Fv(\(including)f(an)o(y)0 3067 y(description)g(\002les)
i Ft(it)i Fv(mentions!\))33 b(is)24 b(being)e(processed.)33
b(If)24 b(a)f(ne)n(w)h(binding)d(binds)i(an)g(anchor)f(name)h(that)g(w)
o(as)h(already)f(bound)e(in)j(the)0 3166 y(current)19
b(en)m(vironment)676 3136 y Fq(4)705 3166 y Fv(,)i(then)f(the)g(old)g
(binding)e(is)j(being)f(hidden.)j(The)d(ef)n(fect)g(is)h(scoping)e(for)
g(anchor)g(names.)0 3316 y(Using)h(CM')-5 b(s)22 b Ft(tool)e(par)o
(ameter)f Fv(mechanism)g(\(see)i(Section)f(7.1\),)f(a)h(ne)n(w)g
(binding)f(is)i(speci\002ed)f(as)h(a)g(pair)f(of)g(anchor)f(name)g(and)
h(anchor)0 3415 y(v)n(alue.)k(The)c(v)n(alue)g(has)g(the)g(form)f(of)h
(another)f(path)h(name)f(\(standard)g(or)h(nati)n(v)o(e\).)k(Example:)
100 3648 y Fu(a.cm)49 b(\(bind:\(anchor:lib)d(value:$mystuff/a-lib\))
399 3747 y(bind:\(anchor:support)g(value:$lib\))399 3847
y(bind:\(anchor:utils)g(value:/home/bob/stuff/ML/utils\)\))0
4079 y Fv(As)21 b(sho)n(wn)f(in)h(this)g(e)o(xample,)f(it)h(is)h
(perfectly)d(le)o(gal)h(for)g(the)h(speci\002cation)e(of)i(the)g(v)n
(alue)e(to)i(in)m(v)n(olv)o(e)e(the)i(use)g(of)f(another)g(anchor)-5
b(.)25 b(That)0 4179 y(anchor)15 b(will)j(be)f(resolv)o(ed)e(in)j(the)f
(original)e(anchor)h(en)m(vironment.)k(Thus,)d(a)h(path)e(anchored)f
(at)i Fu($lib)g Fv(in)g Fu(a.cm)g Fv(will)h(be)f(resolv)o(ed)e(using)0
4279 y(the)25 b(binding)f(for)g Fu($mystuff)g Fv(that)h(is)h(currently)
e(in)h(ef)n(fect.)39 b(The)25 b(point)f(here)h(is)h(that)f(a)h
(re-con\002guration)21 b(of)k(the)g(root)g(en)m(vironment)0
4378 y(that)20 b(af)n(fects)g Fu($mystuff)f Fv(no)n(w)h(also)h(af)n
(fects)f(ho)n(w)f Fu($lib)h Fv(is)h(resolv)o(ed)e(as)i(it)g(occurs)e
(within)h Fu(a.cm)p Fv(.)0 4528 y(CM)k(processes)e(the)h(list)h(of)f
Fu(bind)p Fv(-directi)n(v)o(es)d(\223in)j(parallel.)-6
b(\224)33 b(This)23 b(means)f(that)h(the)g(anchor)e Fu($support)h
Fv(will)i(refer)e(to)h(the)g(original)0 4627 y(meaning)c(of)h
Fu($lib)g Fv(and)f(is)i Ft(not)f Fv(being)f(bound)g(to)h
Fu($mystuff/a-lib/asupport)p Fv(.)0 4777 y(The)i(e)o(xample)f(also)i
(demonstrates)e(that)i Fu(value)p Fv(-paths)e(can)h(be)h(single)f
(anchors.)31 b(In)22 b(other)f(w)o(ords,)i(the)f(restriction)g(that)h
(there)f(has)g(to)0 4877 y(be)j(at)h(least)g(one)e(arc)h(after)g(the)g
(anchor)f(does)h(not)g(apply)f(here.)39 b(This)26 b(mak)o(es)f(it)h
(possible)f(to)g(\223rename\224)f(anchors,)h(or)m(,)g(to)h(put)e(it)i
(more)0 4976 y(precisely)-5 b(,)19 b(for)g(one)h(anchor)f(name)g(to)i
(be)f(established)f(as)i(an)f(\223alias\224)h(for)f(another)e(anchor)h
(name.)p 0 5047 1608 4 v 90 5103 a Fp(4)120 5126 y Fo(which)e(is)g
(technically)k(al)o(w)o(ays)e(the)f(case)g(gi)n(v)o(en)g(our)f(e)o
(xplanation)k(of)c(the)h(root)f(en)m(vironment)1968 5709
y Fv(11)p eop
%%Page: 12 13
12 12 bop 0 83 a Fr(3.4)99 b(Anchor)26 b(con\002guration)0
278 y Fv(Anchor)f(con\002guration)e(is)28 b(concerned)c(with)i(the)g(v)
n(alues)g(that)h(are)f(stored)g(in)g(the)h(root)e(anchor)g(en)m
(vironment.)40 b(At)27 b(startup)f(time,)i(the)0 378
y(root)g(en)m(vironment)e(is)k(initialized)f(by)g(reading)e(tw)o(o)j
(con\002guration)c(\002les:)44 b(an)29 b(installation-speci\002c)f(one)
h(and)f(a)i(user)n(-speci\002c)e(one.)0 478 y(After)c(that,)i(the)e
(contents)g(of)g(root)g(locations)f(can)i(be)f(maintained)f(using)h
(CM')-5 b(s)25 b(interf)o(ace)f(functions)f Fu(CM.Anchor.anchor)f
Fv(and)0 577 y Fu(CM.Anchor.reset)c Fv(\(see)i(Section)g(5.1.4\).)0
717 y(Although)25 b(there)h(is)i(a)f(hard-wired)d(def)o(ault)i(for)g
(the)h(installation-speci\002c)f(con\002guration)e(\002le)2836
686 y Fq(5)2869 717 y Fv(,)k(this)g(def)o(ault)e(in)g(rarely)g(being)g
(used.)0 816 y(Instead,)20 b(in)h(a)g(typical)f(installation)h(of)f
(SML/NJ)i(the)e(def)o(ault)g(will)i(be)f(a)g(\002le)g
Fl(r)r Fu(/lib/pathconfig)f Fv(where)g Fl(r)k Fv(is)e(the)e
Ft(r)l(oot)h Fv(directory)0 916 y(into)c(which)g(SML/NJ)i(had)e(been)g
(installed.)24 b(\(The)17 b(installation)g(procedure)e(establishes)j
(this)g(ne)n(w)f(def)o(ault)g(by)g(setting)h(the)g(en)m(vironment)0
1015 y(v)n(ariable)h Fu(CM)p 391 1015 25 4 v 29 w(PATHCONFIG)g
Fv(at)h(the)g(time)g(it)g(produces)e(the)i(heap)f(image)g(for)g(the)h
(interacti)n(v)o(e)e(system.\))25 b(The)19 b(user)h(can)g(specify)f(a)h
(ne)n(w)0 1115 y(location)f(at)i(startup)f(time)g(using)g(the)g(same)g
(en)m(vironment)d(v)n(ariable)i Fu(CM)p 2126 1115 V 30
w(PATHCONFIG)p Fv(.)0 1254 y(The)f(def)o(ault)f(location)g(of)h(the)g
(user)n(-speci\002c)g(con\002guration)d(\002le)k(is)g
Fu(.smlnj-pathconfig)c Fv(in)k(the)f(user')-5 b(s)18
b(home)f(directory)f(\(which)0 1354 y(must)28 b(be)f(gi)n(v)o(en)f(by)h
(the)h Fu(HOME)f Fv(en)m(vironment)e(v)n(ariable\).)45
b(At)28 b(startup)f(time,)j(this)e(def)o(ault)f(can)g(be)g(o)o(v)o
(erridden)e(by)i(a)h(\002x)o(ed)f(location)0 1454 y(which)20
b(must)g(be)g(gi)n(v)o(en)f(as)i(the)f(v)n(alue)g(of)f(the)i(en)m
(vironment)c(v)n(ariable)i Fu(CM)p 2158 1454 V 29 w(LOCAL)p
2437 1454 V 29 w(PATHCONFIG)p Fv(.)0 1593 y(The)k(syntax)f(of)g(all)i
(con\002guration)c(\002les)k(is)g(identical.)32 b(Lines)23
b(are)g(processed)f(from)g(top)g(to)h(bottom.)32 b(White)23
b(space)g(di)n(vides)g(lines)g(into)0 1692 y(tok)o(ens.)125
1878 y Fs(\017)41 b Fv(A)24 b(line)h(with)f(e)o(xactly)f(tw)o(o)i(tok)o
(ens)f(associates)h(an)f(anchor)e(\(the)i(\002rst)h(tok)o(en\))e(with)i
(a)g(directory)d(in)j(nati)n(v)o(e)e(syntax)h(\(the)f(second)208
1978 y(tok)o(en\).)36 b(Neither)24 b(anchor)f(nor)h(directory)e(name)i
(may)g(contain)g(white)g(space)h(and)f(the)g(anchor)f(should)g(not)i
(contain)e(a)i Fw(/)p Fv(.)38 b(If)25 b(the)208 2077
y(directory)d(name)i(is)h(a)f(relati)n(v)o(e)g(name,)g(then)g(it)h
(will)g(be)f(e)o(xpanded)e(by)h(prepending)f(the)i(name)f(of)h(the)h
(directory)d(that)i(contains)208 2177 y(the)c(con\002guration)d
(\002le.)125 2333 y Fs(\017)41 b Fv(A)25 b(line)g(containing)f(e)o
(xactly)g(one)g(tok)o(en)h(that)g(is)h(the)f(name)f(of)h(an)g(anchor)f
(cancels)h(an)o(y)f(e)o(xisting)g(association)h(of)g(that)g(anchor)208
2432 y(with)20 b(a)h(directory)-5 b(.)125 2588 y Fs(\017)41
b Fv(A)23 b(line)g(with)h(a)f(single)g(tok)o(en)f(that)h(consists)h(of)
f(a)g(single)g(minus)g(sign)g Fw(-)g Fv(cancels)g(all)h(e)o(xisting)e
(anchors.)32 b(This)24 b(typically)e(mak)o(es)208 2688
y(sense)28 b(only)f(at)h(the)g(be)o(ginning)d(of)i(the)h(user)n
(-speci\002c)g(con\002guration)d(\002le)j(and)f(erases)h(an)o(y)f
(settings)h(that)g(were)g(made)f(by)h(the)208 2787 y
(installation-speci\002c)19 b(con\002guration)e(\002le.)125
2943 y Fs(\017)41 b Fv(Lines)20 b(with)g(no)g(tok)o(en)f(\(i.e.,)h
(empty)f(lines\))h(will)h(be)g(silently)f(ignored.)125
3099 y Fs(\017)41 b Fv(An)o(y)19 b(other)g(line)i(is)g(considered)d
(malformed)g(and)i(will)h(cause)f(a)h(w)o(arning)e(b)n(ut)h(will)h
(otherwise)e(be)h(ignored.)0 3372 y Fr(3.5)99 b(When)26
b(to)f(use)g(anchor)h(en)l(vir)n(onments)0 3567 y Fv(The)f(follo)n
(wing)e(sample)i(scenario)f(for)g(using)h(anchor)e(en)m(vironments)f
(will)k(pro)o(vide)d(some)i(background)c(on)k(the)g(reasons)f(that)h
(led)g(to)0 3667 y(the)e(inclusion)f(of)h(this)h(feature)e(into)h(CM.)g
(In)g(short,)g(anchor)f(en)m(vironments)e(will)k(typically)e(be)h(used)
g(to)h(disambiguate)d(between)h(tw)o(o)0 3767 y(or)f(more)f(dif)n
(ferent)f(uses)j(of)f(the)g(same)g(anchor)e(name.)27
b(This)21 b(is)h(something)e(that)h(the)g(root)g(en)m(vironment)c
(alone)k(\(i.e.,)g(a)g(\002x)o(ed)f(mapping)0 3866 y(from)f(anchors)g
(to)h(directory)f(names\))g(cannot)h(do)f(because)h(the)g(root)g(en)m
(vironment)d(binds)i(each)h(anchor)f(to)h(at)h(most)f(one)g
(\223meaning.)-6 b(\224)0 4006 y(Suppose)23 b(you)g(are)h(de)n(v)o
(eloping)d(a)j(project)f Fu(P.cm)h Fv(for)f(which)h(you)f(obtain)g(tw)o
(o)h(utility)g(libraries)g Fu(A.cm)f Fv(and)h Fu(B.cm)g
Fv(from)f(other)g(pro-)0 4105 y(grammers.)49 b(Unfortunately)-5
b(,)27 b(since)i(these)g(programmers)d(did)i(not)g(coordinate)f(their)h
(w)o(ork)g(\(perhaps)f(because)h(the)o(y)g(did)g(not)h(e)n(v)o(en)0
4205 y(kno)n(w)21 b(of)i(each)f(other\),)f(both)h Fu(A.cm)g
Fv(and)g Fu(B.cm)h Fv(each)f(uses)h(its)g(o)n(wn)f(helper)g(library)f
(that)i(is)g(e)o(xpected)e(to)h(be)h(found)e(under)g(the)h(name)0
4304 y Fu($H/H.cm)p Fv(.)0 4444 y(Y)-9 b(our)26 b(task)g(is)i(to)e(put)
h(references)e(to)h Fu(A.cm)h Fv(and)f Fu(B.cm)g Fv(into)g
Fu(P.cm)g Fv(so)h(that)g(e)n(v)o(erything)d(\223w)o(orks.)-6
b(\224)43 b(No)n(w)-5 b(,)27 b(mentioning)e Fu(A.cm)h
Fv(and)0 4543 y Fu(B.cm)f Fv(is)h(easy)f(enough,)e(b)n(ut)i(if)h(you)e
(do)g(so)h(without)g(special)g(precautions,)f(you)g(arri)n(v)o(e)g(at)h
(a)g(situation)g(where)f(both)g(helpers)h(end)f(up)0
4643 y(being)19 b(the)h(same\227no)g(matter)g(ho)n(w)f(you)h
(con\002gure)e(the)i(binding)f(for)g(anchor)g Fu($H)p
Fv(.)0 4782 y(If)28 b(you)f(ha)n(v)o(e)g(access)h(to)g(the)g
(description)f(\002les)h(for)g Fu(A.cm)f Fv(and)h Fu(B.cm)p
Fv(,)h(you)e(could)g(w)o(ork)g(around)f(this)i(problem)e(by)i(changing)
e(the)0 4882 y(reference)21 b(to)j Fu($H)f Fv(in)g(one)f(of)h(them)g
(into)g(something)e(else.)34 b(Remember)m(,)22 b(ho)n(we)n(v)o(er)m(,)g
(that)h(in)g(general)f(you)g(may)h(not)f(be)h(able)g(to)g(do)g(this)0
4981 y(because)18 b(it)h(could)f(be)g(that)h(either)f(you)g(do)g(not)g
(ha)n(v)o(e)g(permissions)g(to)h(change)e(the)i(description)e(\002les,)
j(or)e(you)g(might)g(not)g(e)n(v)o(en)f(ha)n(v)o(e)h(an)o(y)0
5081 y(description)h(\002le)i(that)f(you)f(could)g(change)g(because)h
(the)g(tw)o(o)g(libraries)g(were)g(gi)n(v)o(en)f(to)i(you)e(in)h
(\223stable\224)g(form.)0 5220 y(The)h(correct)g(solution)g(is)i(to)f
(add)f Fu(bind:)p Fv(-directi)n(v)o(es)f(where)h(you)g
Ft(use)h Fu(A.cm)g Fv(and)f Fu(B.cm)h Fv(in)g(your)e(o)n(wn)h
(description)g(\002le)h Fu(P.cm)p Fv(.)30 b(F)o(or)0
5320 y(e)o(xample,)19 b(you)g(could)g(write)h(there:)p
0 5381 1608 4 v 90 5437 a Fp(5)120 5460 y Fo(which)d(happens)i(to)e(be)
g Fm(/usr/lib/smlnj-pathconfig)1968 5709 y Fv(12)p eop
%%Page: 13 14
13 13 bop 100 83 a Fu(A.cm)49 b(\(bind:\(anchor:H)e(value:$AH\)\))100
183 y(B.cm)i(\(bind:\(anchor:H)e(value:$BH\)\))0 369
y Fv(W)m(ith)27 b(this,)i(the)e(tw)o(o)h(uses)f(of)g(anchor)e
Fu($H)j Fv(will)f(occur)f(in)i(dif)n(ferent)d Ft(local)i
Fv(anchor)e(en)m(vironments.)43 b(In)26 b(the)h(e)o(xample)f(as)i(sho)n
(wn,)g(the)0 469 y(\002rst)23 b(such)f(local)g(en)m(vironment)d(ef)n
(fecti)n(v)o(ely)h(renames)h Fu($H)i Fv(into)f Fu($AH)g
Fv(while)g(the)g(second)f(renames)h Fu($H)g Fv(into)g
Fu($BH)p Fv(.)g(Thus,)g(you)f(can)h(put)0 568 y(independent)j(bindings)
h(for)h Fu($AH)g Fv(and)g Fu($HB)g Fv(into)g(your)g(root)f
(con\002guration,)h(these)g(independent)e(bindings)h(will)i(propagate)d
(to)j(the)0 668 y(respecti)n(v)o(e)19 b(local)h(en)m(vironment,)d(and)j
(the)g(tw)o(o)g(uses)h(of)f Fu($H)g Fv(will)h(be)f(resolv)o(ed)f(dif)n
(ferently\227as)f(w)o(as)j(intended.)0 804 y(Another)h(situation)h
(where)g(anchor)f(name)g(clashes)i(w)o(ould)f(de\002nitely)f(happen)g
(is)i(when)f(tw)o(o)h(dif)n(ferent)d(v)o(ersions)i(\(i.e.,)g(de)n(v)o
(elopment)0 904 y(stages\))c(of)f(the)h(same)g(set)g(of)g(libraries)f
(are)h(being)f(used)g(at)h(the)g(same)g(time.)25 b(In)18
b(this)h(case,)h(one)e(should)f(let)j(the)f(libraries)f(within)g(each)h
(set)0 1003 y(refer)i(to)i(each)f(other)f(using)h(anchored)e(names)i
(and)g(pro)o(vide)e(\(dif)n(ferent\))g(bindings)h(for)g(these)i(names)f
(using)g Fu(bind:)p Fv(-directi)n(v)o(es)e(from)0 1103
y(within)g(their)g(respecti)n(v)o(e)f(clients.)0 1239
y(A)24 b(good)d(w)o(ay)i(of)g(encapsulating)e(the)i(construction)f(of)g
(the)h(required)f(local)h(anchor)e(en)m(vironment)f(for)j(a)g(library)f
(is)i(to)f(create)g(a)h Ft(pr)l(oxy)0 1339 y Fv(for)c(it)g(\(see)h
(Section)f(4\).)0 1650 y Fx(4)119 b(Export)30 b(lists)0
1872 y Fv(In)21 b(the)g(simplest)h(case,)f(the)h(e)o(xport)d(list)k(is)
f(gi)n(v)o(en)e(as)h(a)h(sequence)e(of)h(SML)h(symbol)e(names)h(such)g
(as)h(sho)n(wn)e(in)h(earlier)g(e)o(xamples.)27 b(But)0
1971 y(for)22 b(more)g(complicated)f(scenarios,)i(CM)g(pro)o(vides)e(a)
j(little)f(\223set)h(calculus\224)e(for)g(writing)g(e)o(xport)f(lists.)
34 b(F)o(ormally)-5 b(,)22 b(the)h(e)o(xport)e(section)0
2071 y(speci\002es)g(the)f(union)f(of)h(a)g(sequence)f(of)h
Ft(symbol)g(sets)p Fv(.)26 b(Each)20 b(indi)n(vidual)e(set)j(in)g(this)
f(sequence)f(can)h(be)h(one)e(of)h(the)g(follo)n(wing:)125
2257 y Fs(\017)41 b Fv(a)20 b(singleton)f(set)i(gi)n(v)o(en)e(by)h(the)
g(name)g(of)g(its)h(sole)f(member)125 2383 y Fs(\017)41
b Fv(the)20 b(set)h(dif)n(ference)d(of)i(tw)o(o)g(other)g(sets)h
Fl(s)1408 2395 y Fk(1)1466 2383 y Fv(and)e Fl(s)1645
2395 y Fk(2)1683 2383 y Fv(,)h(written)g(as)h Fl(s)2109
2395 y Fk(1)2146 2383 y Fu(-)p Fl(s)2235 2395 y Fk(2)125
2510 y Fs(\017)41 b Fv(the)20 b(intersection)f(of)h(tw)o(o)g(sets)i
Fl(s)1157 2522 y Fk(1)1214 2510 y Fv(and)e Fl(s)1394
2522 y Fk(2)1431 2510 y Fv(,)h(written)f(as)h Fl(s)1858
2522 y Fk(1)1895 2510 y Fu(*)p Fl(s)1984 2522 y Fk(2)125
2636 y Fs(\017)41 b Fv(the)20 b(union)f(of)h(sets)h Fl(s)814
2648 y Fk(1)851 2636 y Fl(;)14 b(:)g(:)g(:)g(;)g(s)1075
2648 y Fj(n)1140 2636 y Fv(for)20 b Fl(n)j Fs(\025)f
Fi(0)p Fv(,)e(written)g(as)h Fu(\()p Fl(s)1936 2648 y
Fk(1)1987 2636 y Fl(:)14 b(:)g(:)g(s)2137 2648 y Fj(n)2182
2636 y Fv(\))125 2762 y Fs(\017)41 b Fv(the)19 b(top-le)n(v)o(el)e
(de\002ned)h(symbols)h(of)g(one)f(of)h(the)g(SML)h(source)e(\002les)i
Fl(f)29 b Fv(that)19 b(the)g(gi)n(v)o(en)f(library)g(or)h(group)e
(consists)j(of,)f(written)g(as)208 2862 y Fu(source\()n
Fl(f)9 b Fv(\))125 2988 y Fs(\017)41 b Fv(the)30 b(top-le)n(v)o(el)f
(de\002ned)g(symbols)h(of)g(all)h(constituent)e(SML)i(source)f(\002les)
h(that)f(are)h(not)f(mark)o(ed)f Ft(local)h Fv(\(see)g(section)h
(7.1.1\),)208 3088 y(written)20 b(as)g Fu(source\(-\))125
3214 y Fs(\017)41 b Fv(the)20 b(e)o(xported)e(symbols)h(of)h(one)g(of)g
(the)g(subgroups)e Fl(g)s Fv(,)i(written)g(as)h Fu(group\()o
Fl(g)s Fv(\))125 3340 y Fs(\017)41 b Fv(the)20 b(e)o(xported)e(symbols)
h(of)h Ft(all)h Fv(subgroups,)c(written)j(as)h Fu(group\(-\))125
3466 y Fs(\017)41 b Fv(the)20 b(e)o(xported)e(symbols)h(of)h(another)f
(library)g Fl(l)208 3566 y Fv(In)j(most)h(situations,)g(the)g(notation)
f(for)g(this)h(is)h Fu(library\()o Fl(l)r Fv(\))o(.)33
b(Ho)n(we)n(v)o(er)m(,)22 b(notice)g(that)h(unlik)o(e)f(in)h(the)g
(case)h(of)e(subgroups)f(and)208 3666 y(SML)k(source)f(\002les,)k
Fl(l)f Fv(may)d(or)h(may)g(not)g(be)g(listed)g(as)h(one)f(of)g(the)g
(members)f(in)h(the)h(current)e(description.)38 b(F)o(or)25
b(the)g(case)g(that)208 3765 y Fl(l)k Fv(is)f(not)f(a)h(member)m(,)f
(its)h(elaboration\227determining)22 b(its)29 b(set)f(of)f(e)o(xported)
e(symbols\227may)g(require)h Ft(tool)h(par)o(ameter)o(s)g
Fv(to)h(be)208 3865 y(speci\002ed)22 b(\(see)g(section)g(7.1\).)31
b(When)22 b(tool)g(parameters)f(are)i(necessary)-5 b(,)21
b(the)o(y)h(are)g(gi)n(v)o(en)f(within)i(an)f(e)o(xtra)g(pair)g(of)g
(parentheses)208 3964 y(follo)n(wing)c(the)i(name)g Fl(l)r
Fv(.)25 b(Example:)307 4131 y Fu(library\(foo/bar.cm)47
b(\(bind:\(anchor:x)g(value:y\)\)\))208 4297 y Fv(If)17
b Fl(l)i Fv(is)f(a)g(member)e(of)h(the)h(current)e(description,)g(then)
h(CM)h(will)g(re-use)f(the)g(earlier)g(elaboration)f(result.)24
b(T)-7 b(ool)17 b(parameters)f(within)208 4397 y(the)k(e)o(xport)e(set)
j(speci\002cation)f(are)g(neither)f(necessary)h(nor)f(permitted)g(in)h
(this)h(case.)0 4583 y(Notes:)125 4759 y Fs(\017)41 b
Fv(Intersection)18 b(has)j(higher)e(precedence)f(than)h(set)i(dif)n
(ference.)125 4885 y Fs(\017)41 b Fv(Conditional)19 b(compilation)g
(constructs)h(\(see)h(section)f(8\))h(may)f(be)h(used)f(within)h(set)g
(union)f(costructs\227both)f(the)i(parenthesized)208
4985 y(v)n(ariety)e(and)g(at)i(top)f(le)n(v)o(el.)0 5161
y(Using)j(the)g(e)o(xport)f(list)j(calculus,)e(it)h(is)g(easy)g(to)f
(set)h(up)f(\223proxy\224)e(libraries.)34 b(A)24 b(proxy)d(library)h
Fl(A)j Fv(is)f(a)f(library)g(with)g(a)h(single)f(member)0
5261 y(which)c(is)i(another)d(library)h Fl(B)25 b Fv(so)20
b(that)g(the)g(e)o(xport)e(lists)j(of)f Fl(A)g Fv(and)g
Fl(B)k Fv(coincide.)g(Proxy)19 b(libraries)g(are)h(mainly)f(used)h(for)
f(the)h(purpose)e(of)0 5360 y(managing)h(anchor)g(names)i(and)f(anchor)
g(en)m(vironments)e(\(see)j(Section)g(3.3\).)26 b(Using)21
b(the)g Fu(library\()n Fl(l)r Fv(\))g(construct)f(one)g(can)h(a)n(v)n
(oid)g(the)0 5460 y(cumbersome)d(repetition)h(of)h(lengthy)e(e)o
(xplicit)i(e)o(xport)e(lists)k(and,)d(thus,)h(impro)o(v)o(e)e
(maintainability)-5 b(.)1968 5709 y(13)p eop
%%Page: 14 15
14 14 bop 0 83 a Fx(5)119 b(Using)31 b(CM)0 325 y Fr(5.1)99
b(Structur)n(e)28 b(CM)0 520 y Fv(Functions)19 b(that)i(control)d(CM')
-5 b(s)22 b(operation)c(are)i(accessible)g(as)h(members)e(of)h(a)h
(structure)e(named)g Fu(CM)i Fv(which)e(itself)i(is)g(e)o(xported)d
(from)h(a)0 620 y(library)i(called)i Fu($smlnj/cm.cm)e
Fv(\(or)m(,)h(alternati)n(v)o(ely)-5 b(,)20 b Fu($smlnj/cm/cm.cm)p
Fv(\).)30 b(This)23 b(library)e(is)j(pre-re)o(gistered)19
b(for)j(auto-loading)0 720 y(at)f(the)f(interacti)n(v)o(e)f(top)h(le)n
(v)o(el.)0 859 y(Other)g(libraries)g(can)h(e)o(xploit)e(CM')-5
b(s)22 b(functionality)c(simply)i(by)h(putting)e(a)i
Fu($smlnj/cm.cm)e Fv(entry)h(into)g(their)g(o)n(wn)g(description)f
(\002le.)0 959 y(Section)h(16)g(sho)n(ws)g(one)f(interesting)h(use)g
(of)g(this)h(feature.)0 1098 y(Here)f(is)h(a)g(description)e(of)g(all)i
(members:)0 1354 y Fw(5.1.1)81 b(Compiling)0 1550 y Fv(T)-7
b(w)o(o)20 b(main)g(acti)n(vities)h(when)e(using)h(CM)h(are)f(to)g
(compile)g(ML)g(source)f(code)h(and)f(to)i(b)n(uild)f(stable)g
(libraries:)100 1747 y Fu(val)49 b(recomp)g(:)g(string)g(->)g(bool)100
1847 y(val)g(stabilize)f(:)i(bool)f(->)g(string)g(->)g(bool)0
2044 y(CM.recomp)24 b Fv(tak)o(es)h(the)f(name)h(of)f(a)h(program')-5
b(s)23 b(\223root\224)h(description)f(\002le)i(and)g(compiles)f(or)g
(recompiles)g(all)h(ML)g(source)f(\002les)h(that)0 2144
y(are)20 b(necessary)f(to)h(pro)o(vide)e(de\002nitions)h(for)g(the)h
(root)f(library')-5 b(s)20 b(e)o(xport)e(list.)26 b(\()p
Ft(Note:)f Fv(The)19 b(dif)n(ference)f(to)i Fu(CM.make)f
Fv(is)i(that)f(no)g(linking)0 2243 y(tak)o(es)h(place.\))0
2383 y Fu(CM.stabilize)j Fv(tak)o(es)i(a)g(boolean)f(\003ag)g(and)h
(then)f(the)h(name)f(of)g(a)h(library)f(and)g Ft(stabilizes)i
Fv(this)f(library)-5 b(.)40 b(A)26 b(library)f(is)i(stabilized)0
2482 y(by)j(writing)f(all)h(information)e(pertaining)g(to)i(it,)j
(including)28 b(all)j(of)e(its)i(library)e(components)f(\(i.e.,)k
(subgroups\),)d(into)h(a)g(single)g(\002le.)0 2582 y(Sublibraries)22
b(do)h(not)f(become)g(part)h(of)g(the)g(stabilized)g(library;)g(CM)h
(records)e(stub)h(entries)g(for)g(them.)33 b(When)23
b(a)h(stabilized)f(library)f(is)0 2681 y(used)g(in)g(other)f(programs,)
f(all)i(members)f(of)h(the)g(library)e(are)i(guaranteed)e(to)i(be)g
(up-to-date;)e(no)i(dependenc)o(y)c(analysis)k(w)o(ork)g(and)f(no)0
2781 y(recompilation)h(w)o(ork)h(will)i(be)g(necessary)-5
b(.)35 b(If)24 b(the)h(boolean)d(\003ag)j(is)g Fu(false)p
Fv(,)f(then)g(all)h(sublibraries)e(of)h(the)g(library)f(must)i(already)
e(be)0 2881 y(stable.)i(If)20 b(the)g(\003ag)h(is)g Fu(true)p
Fv(,)f(then)f(CM)i(will)g(recursi)n(v)o(ely)e(stabilize)h(all)h
(libraries)f(reachable)e(from)i(the)g(gi)n(v)o(en)f(root.)0
3020 y(After)j(a)g(library)f(has)i(been)e(stabilized)h(it)h(can)f(be)g
(used)g(e)n(v)o(en)f(if)h(none)f(of)h(its)h(original)e
(sources\227including)f(the)i(description)f(\002le\227are)0
3120 y(present.)0 3259 y(The)e(boolean)f(result)i(of)g
Fu(CM.recomp)e Fv(and)h Fu(CM.stabilize)f Fv(indicates)i(success)g(or)f
(f)o(ailure)g(of)h(the)g(operation)d(\()p Fu(true)j Fv(=)g(success\).)0
3515 y Fw(5.1.2)81 b(Linking)21 b(and)g(execution)0 3711
y Fv(In)27 b(SML/NJ,)h(linking)e(means)h(e)o(x)o(ecuting)e(top-le)n(v)o
(el)h(code)g(\(i.e.,)j(module)d(creation)g(and)h(initialization)f
(code\))g(of)h(each)g(compilation)0 3810 y(unit.)e(The)20
b(resulting)f(bindings)g(can)h(then)f(be)h(re)o(gistered)f(at)i(the)f
(interacti)n(v)o(e)f(top)h(le)n(v)o(el.)100 4008 y Fu(val)49
b(make)g(:)h(string)e(->)i(bool)100 4107 y(val)f(autoload)f(:)i(string)
f(->)g(bool)0 4305 y(CM.make)22 b Fv(\002rst)i(acts)f(lik)o(e)h
Fu(CM.recomp)p Fv(.)32 b(If)23 b(the)f(\(re-\)compilation)e(is)k
(successful,)f(then)g(it)g(proceeds)f(by)g(linking)g(all)i(modules)d
(that)0 4404 y(require)e(linking.)24 b(Pro)o(vided)18
b(there)i(are)g(no)g(link-time)f(errors,)g(it)i(\002nally)f(introduces)
e(ne)n(w)i(bindings)f(at)i(top)f(le)n(v)o(el.)0 4544
y(During)25 b(the)g(course)g(of)h(the)g(same)g Fu(CM.make)p
Fv(,)g(the)g(code)f(of)g(each)h(compilation)e(module)g(that)i(is)h
(reachable)d(from)h(the)h(root)f(will)i(be)0 4643 y(e)o(x)o(ecuted)20
b(at)i(most)f(once.)28 b(Code)22 b(in)f(units)h(that)f(are)h(mark)o(ed)
e(as)i Ft(private)g Fv(\(see)f(Section)h(5.3\))e(will)i(be)g(e)o(x)o
(ecuted)d(e)o(xactly)i(once.)28 b(Code)21 b(in)0 4743
y(other)d(units)h(will)h(be)e(e)o(x)o(ecuted)f(only)h(if)i(the)f(unit)f
(has)h(been)f(recompiled)f(since)j(it)f(w)o(as)h(e)o(x)o(ecuted)d(last)
j(time)f(or)f(if)h(it)h(depends)e(on)g(another)0 4843
y(compilation)g(unit)i(whose)g(code)g(has)g(been)g(e)o(x)o(ecuted)e
(since.)0 4982 y(In)j(ef)n(fect,)f(dif)n(ferent)g(in)m(v)n(ocations)f
(of)i Fu(CM.make)f Fv(\(and)g Fu(CM.autoload)p Fv(\))g(will)i(share)e
(dynamic)g(state)i(created)e(at)i(link)e(time)i(as)g(much)0
5082 y(as)f(possible)f(unless)g(the)g(compilation)f(units)h(in)g
(question)f(ha)n(v)o(e)h(been)g(e)o(xplicitly)f(mark)o(ed)g(pri)n(v)n
(ate.)0 5221 y Fu(CM.autoload)g Fv(acts)i(lik)o(e)f Fu(CM.make)p
Fv(,)f(only)h(\223lazily\224.)k(See)d(Section)f(5.2)f(for)h(more)f
(information.)0 5360 y(As)25 b(before,)e(the)h(result)g(of)g
Fu(CM.make)f Fv(indicates)h(success)g(or)g(f)o(ailure)g(of)f(the)h
(operation.)35 b(The)24 b(result)g(of)f Fu(CM.autoload)g
Fv(indicates)0 5460 y(success)e(or)f(f)o(ailure)f(of)h(the)g
Ft(r)m(e)m(gistr)o(ation)p Fv(.)k(\(It)c(does)g(not)g(kno)n(w)f(yet)i
(whether)e(loading)g(will)i(actually)e(succeed.\))1968
5709 y(14)p eop
%%Page: 15 16
15 15 bop 0 83 a Fw(5.1.3)81 b(Registers)0 289 y Fv(Se)n(v)o(eral)35
b(internal)g(re)o(gisters)g(control)f(the)i(operation)e(of)h(CM.)h(A)g
(re)o(gister)f(of)h(type)f Fl(T)47 b Fv(is)36 b(accessible)g(via)g(a)g
(v)n(ariable)e(of)i(type)f Fl(T)0 388 y Fu(controller)p
Fv(,)29 b(i.e.,)i(a)e(pair)g(of)g Fu(get)f Fv(and)h Fu(set)g
Fv(functions.)1867 358 y Fq(6)1949 388 y Fv(An)o(y)f(in)m(v)n(ocation)f
(of)i(the)g(corresponding)c Fu(get)k Fv(function)e(reads)i(the)0
488 y(current)c(v)n(alue)h(of)h(the)f(re)o(gister)-5
b(.)45 b(An)26 b(in)m(v)n(ocation)f(of)h(the)h Fu(set)g
Fv(function)e(replaces)h(the)h(current)e(v)n(alue)h(with)h(the)g(ar)o
(gument)d(gi)n(v)o(en)h(to)0 587 y Fu(set)p Fv(.)0 737
y(Controllers)19 b(are)h(members)g(of)f Fu(CM.Control)p
Fv(,)g(a)i(sub-structure)d(of)i(structure)f Fu(CM)p Fv(.)100
969 y Fu(type)49 b('a)g(controller)f(=)i({)f(get:)g(unit)g(->)h('a,)f
(set:)g('a)h(->)f(unit)g(})100 1069 y(structure)f(Control)g(:)i(sig)199
1169 y(val)g(verbose)e(:)i(bool)f(controller)199 1268
y(val)h(debug)e(:)i(bool)f(controller)199 1368 y(val)h(keep_going)d(:)j
(bool)f(controller)199 1467 y(val)h(parse_caching)d(:)j(int)f
(controller)199 1567 y(val)h(warn_obsolete)d(:)j(bool)f(controller)199
1667 y(val)h(conserve_memory)d(:)i(bool)g(controller)199
1766 y(val)h(generate_index)d(:)i(bool)g(controller)100
1866 y(end)0 2098 y(CM.Control.verbose)21 b Fv(can)i(be)h(used)f(to)h
(turn)f(of)n(f)g(CM')-5 b(s)25 b(progress)d(messages.)35
b(The)24 b(def)o(ault)f(is)h Ft(true)g Fv(and)f(can)h(be)f(o)o(v)o
(erriden)e(at)0 2198 y(startup)f(time)g(by)g(the)g(en)m(vironment)d(v)n
(ariable)i Fu(CM)p 1469 2198 25 4 v 30 w(VERBOSE)p Fv(.)0
2347 y(In)g(the)f(case)i(of)e(a)h(compile-time)e(error)h
Fu(CM.Contol.keep)p 1864 2347 V 27 w(going)h Fv(instructs)g(the)f
Fu(CM.recomp)g Fv(phase)g(to)h(continue)f(w)o(orking)f(on)0
2447 y(parts)24 b(of)g(the)g(dependenc)o(y)d(graph)h(that)i(are)g(not)g
(related)g(to)g(the)g(error)-5 b(.)36 b(\(This)23 b(does)h(not)g(w)o
(ork)f(for)h(outright)e(syntax)i(errors)f(because)g(a)0
2547 y(correct)17 b(parse)g(is)i(needed)d(before)g(CM)j(can)e
(construct)g(the)h(dependenc)o(y)c(graph.\))23 b(The)17
b(def)o(ault)g(is)i Ft(false)p Fv(,)f(meaning)e(\223quit)h(on)h
(\002rst)g(error\224,)0 2646 y(and)i(can)g(be)g(o)o(v)o(erriden)d(at)k
(startup)f(by)f(the)i(en)m(vironment)c(v)n(ariable)i
Fu(CM)p 2094 2646 V 29 w(KEEP)p 2323 2646 V 29 w(GOING)p
Fv(.)0 2796 y Fu(CM.Control.parse)p 805 2796 V 27 w(caching)26
b Fv(sets)j(a)e(limit)h(on)e(ho)n(w)h(man)o(y)f(parse)h(trees)g(are)g
(cached)g(in)g(main)g(memory)-5 b(.)43 b(In)27 b(certain)g(cases)0
2895 y(CM)e(must)g(parse)f(source)g(\002les)h(in)g(order)e(to)i(be)f
(able)h(to)f(calculate)g(the)h(dependenc)o(y)c(graph.)37
b(Later)m(,)24 b(the)h(same)g(\002les)g(may)f(need)g(to)h(be)0
2995 y(compiled,)18 b(in)i(which)g(case)g(an)g(e)o(xisting)f(parse)h
(tree)f(sa)n(v)o(es)i(the)f(time)g(to)g(parse)f(the)h(\002le)h(again.)j
(K)n(eeping)18 b(parse)i(trees)g(can)g(be)g(e)o(xpensi)n(v)o(e)0
3095 y(in)f(terms)g(of)f(memory)f(usage.)24 b(Moreo)o(v)o(er)m(,)16
b(CM)k(mak)o(es)e(special)h(ef)n(forts)f(to)h(a)n(v)n(oid)g(re-parsing)
e(\002les)i(in)g(the)g(\002rst)h(place)e(unless)h(the)o(y)f(ha)n(v)o(e)
0 3194 y(actually)i(been)g(modi\002ed.)25 b(Therefore,)18
b(it)j(may)f(not)h(mak)o(e)f(much)f(sense)i(to)g(set)g(this)g(v)n(alue)
f(v)o(ery)g(high.)25 b(The)20 b(def)o(ault)g(is)i Ft(100)d
Fv(and)h(can)h(be)0 3294 y(o)o(v)o(erriden)c(at)k(startup)f(time)g(by)g
(the)g(en)m(vironment)d(v)n(ariable)i Fu(CM)p 1886 3294
V 30 w(PARSE)p 2166 3294 V 29 w(CACHING)p Fv(.)0 3443
y(This)34 b(v)o(ersion)e(of)i(CM)h(uses)f(an)g(ML-inspired)e(syntax)h
(for)g(e)o(xpressions)f(in)i(its)h(conditional)d(compilation)g
(subsystem)h(\(see)h(Sec-)0 3543 y(tion)26 b(8\).)43
b(Ho)n(we)n(v)o(er)m(,)25 b(for)h(the)g(time)h(being)e(it)i(will)g
(accept)f(most)g(of)g(the)g(original)f(C-inspired)g(e)o(xpressions)g(b)
n(ut)i(produces)d(a)j(w)o(arning)0 3643 y(for)c(each)f(occurrence)f(of)
i(an)g(old-style)f(operator)-5 b(.)33 b Fu(CM.Control.warn)p
2276 3643 V 27 w(obsolete)22 b Fv(can)h(be)g(used)g(to)g(turn)g(these)g
(w)o(arnings)g(of)n(f.)0 3742 y(The)28 b(def)o(ault)g(is)i
Ft(true)p Fv(,)h(meaning)c(\223w)o(arnings)g(are)i(issued\224,)h(and)e
(can)h(be)f(o)o(v)o(erriden)e(at)j(startup)f(time)h(by)f(the)h(en)m
(vironment)d(v)n(ariable)0 3842 y Fu(CM)p 105 3842 V
30 w(WARN)p 335 3842 V 29 w(OBSOLETE)p Fv(.)0 3991 y
Fu(CM.Control.debug)15 b Fv(can)i(be)g(used)g(to)g(turn)g(on)g(deb)n
(ug)f(mode.)23 b(This)17 b(currently)e(has)j(the)f(ef)n(fect)g(of)g
(dumping)e(a)i(trace)h(of)e(the)i(master)n(-)0 4091 y(sla)n(v)o(e)23
b(protocol)d(for)i(parallel)g(and)g(distrib)n(uted)f(compilation)g
(\(see)h(Section)g(13\))g(to)g(T)-6 b(e)o(xtIO.stdOut.)30
b(The)22 b(def)o(ault)g(is)h Ft(false)g Fv(and)e(can)i(be)0
4191 y(o)o(v)o(erriden)17 b(at)k(startup)f(time)g(by)g(the)g(en)m
(vironment)d(v)n(ariable)i Fu(CM)p 1886 4191 V 30 w(DEBUG)p
Fv(.)0 4340 y(Using)h Fu(CM.Control.conserve)p 1174 4340
V 26 w(memory)p Fv(,)g(CM)h(can)f(be)g(told)f(to)i(be)f(slightly)g
(more)f(conserv)n(ati)n(v)o(e)f(with)i(its)h(use)g(of)f(main)f(mem-)0
4440 y(ory)29 b(at)i(the)f(e)o(xpense)e(of)i(occasionally)e(incurring)g
(additional)h(input)g(from)g(stable)h(library)f(\002les.)55
b(This)30 b(does)g(not)g(sa)n(v)o(e)g(v)o(ery)f(much)0
4539 y(and,)35 b(therefore,)f(is)g(normally)d(turned)g(of)n(f.)62
b(The)32 b(def)o(ault)g(\()p Ft(false)p Fv(\))h(can)f(be)h(o)o(v)o
(erridden)c(at)34 b(startup)e(by)g(the)h(en)m(vironment)d(v)n(ariable)0
4639 y Fu(CM)p 105 4639 V 30 w(CONSERVE)p 535 4639 V
28 w(MEMORY)p Fv(.)0 4788 y Fu(CM.Control.generate)p
955 4788 V 26 w(index)d Fv(is)h(used)e(to)h(control)f(the)h(generation)
e(of)h(human-readable)e Ft(inde)n(x)i(\002les)i Fv(\(see)f(section)f
(11.2\).)0 4888 y(The)20 b(def)o(ault)f(setting)h(is)i
Ft(false)e Fv(and)g(can)g(be)g(o)o(v)o(erridden)d(at)k(startup)e(by)h
(the)g(en)m(vironment)d(v)n(ariable)i Fu(CM)p 3031 4888
V 30 w(GENERATE)p 3461 4888 V 28 w(INDEX)p Fv(.)p 0 4959
1608 4 v 90 5015 a Fp(6)120 5038 y Fo(The)d(type)i(constructor)i
Fm(controller)15 b Fo(is)i(de\002ned)h(as)f(part)h(of)f
Fm(structure)38 b(CM)p Fo(.)1968 5709 y Fv(15)p eop
%%Page: 16 17
16 16 bop 0 83 a Fw(5.1.4)81 b(P)o(ath)20 b(anchors)0
282 y Fv(Structure)e Fu(CM)h Fv(also)g(pro)o(vides)e(functions)g(to)i
(e)o(xplicitly)f(manipulate)f(the)i(path)f(anchor)f(con\002guration.)22
b(These)d(functions)e(are)i(members)0 382 y(of)h(structure)f
Fu(CM.Anchor)p Fv(.)100 593 y Fu(structure)48 b(Anchor)g(:)i(sig)199
693 y(val)g(anchor)e(:)i(string)f(->)g(string)g(option)f(controller)199
792 y(val)i(reset)e(:)i(unit)f(->)h(unit)100 892 y(end)0
1103 y(CM.Anchor.anchor)21 b Fv(returns)i(a)h(pair)f(of)h
Fu(get)g Fv(and)f Fu(set)g Fv(functions)g(that)g(can)h(be)f(used)h(to)g
(query)e(and)h(modify)f(the)i(status)g(of)g(the)0 1203
y(named)16 b(anchor)-5 b(.)22 b(Note)17 b(that)g(the)g
Fu(get)p Fv(-)p Fu(set)p Fv(-pair)e(operates)h(o)o(v)o(er)f(type)h
Fu(string)49 b(option)p Fv(;)17 b(a)h(v)n(alue)e(of)g
Fu(NONE)h Fv(means)f(that)h(the)g(anchor)0 1302 y(is)26
b(currently)d(not)h(bound)f(\(or)m(,)i(in)g(the)f(case)i(of)e
Fu(set)p Fv(,)i(that)f(it)g(is)h(being)e(cancelled\).)37
b(The)24 b(\(optional\))f(string)i(gi)n(v)o(en)e(to)i
Fu(set)g Fv(must)f(be)h(a)0 1402 y(directory)d(name)i(in)g(nati)n(v)o
(e)f(syntax)g(\()p Ft(without)h Fv(trailing)f(arc)h(separator)m(,)f
(e.g.,)h Fw(/)h Fv(in)f(Unix\).)35 b(If)24 b(it)h(is)g(speci\002ed)f
(as)g(a)h(relati)n(v)o(e)e(path)g(name,)0 1502 y(then)d(it)h(will)g(be)
f(e)o(xpanded)d(by)j(prepending)d(the)k(name)e(of)h(the)g(current)f(w)o
(orking)g(directory)-5 b(.)0 1645 y Fu(CM.Anchor.reset)22
b Fv(erases)k(the)e(entire)h(e)o(xisting)f(path)g(con\002guration.)36
b(After)24 b(a)h(call)g(of)g(this)g(function)e(has)i(completed,)f(all)h
(root)0 1745 y(en)m(vironment)17 b(locations)j(are)g(mark)o(ed)f(as)i
(being)e(\223unde\002ned\224.)0 2007 y Fw(5.1.5)81 b(Setting)20
b(CM)h(v)o(ariables)0 2206 y Fv(CM)j(v)n(ariables)f(are)g(used)h(by)f
(the)g(conditional)f(compilation)f(system)j(\(see)g(Section)f(8.1\).)34
b(Some)23 b(of)g(these)h(v)n(ariables)e(are)i(prede\002ned,)0
2306 y(b)n(ut)c(the)g(user)g(can)g(add)g(ne)n(w)g(ones)g(and)g(alter)g
(or)g(remo)o(v)o(e)e(those)i(that)g(already)f(e)o(xist.)100
2517 y Fu(val)49 b(symval)g(:)g(string)g(->)g(int)h(option)e
(controller)0 2728 y Fv(Function)23 b Fu(CM.symval)h
Fv(returns)f(a)i Fu(get)p Fv(-)p Fu(set)p Fv(-pair)d(for)i(the)h
(symbol)e(whose)h(name)g(string)g(w)o(as)h(speci\002ed)g(as)g(the)f(ar)
o(gument.)36 b(Note)0 2828 y(that)20 b(the)g Fu(get)p
Fv(-)p Fu(set)p Fv(-pair)f(operates)g(o)o(v)o(er)g(type)g
Fu(int)50 b(option)p Fv(;)19 b(a)i(v)n(alue)e(of)h Fu(NONE)g
Fv(means)g(that)h(the)f(v)n(ariable)f(is)i(not)f(de\002ned.)0
2971 y(Examples:)100 3168 y Fu(#get)49 b(\(CM.symval)f("X"\))h(\(\);)
348 b(\(*)49 b(query)g(value)g(of)g(X)h(*\))100 3268
y(#set)f(\(CM.symval)f("Y"\))h(\(SOME)g(1\);)g(\(*)g(set)h(Y)f(to)h(1)f
(*\))100 3368 y(#set)g(\(CM.symval)f("Z"\))h(NONE;)248
b(\(*)49 b(remove)g(definition)f(for)h(Z)h(*\))0 3565
y Fv(Some)20 b(care)g(is)h(necessary)f(as)h Fu(CM.symval)e
Fv(does)h(not)g(check)g(whether)f(the)h(syntax)g(of)g(the)h(ar)o
(gument)d(string)i(is)h(v)n(alid.)k(\(Ho)n(we)n(v)o(er)m(,)18
b(the)0 3665 y(w)o(orst)g(thing)f(that)h(could)e(happen)h(is)h(that)g
(a)g(v)n(ariable)f(de\002ned)f(via)i Fu(CM.symval)f Fv(is)h(not)g
(accessible)2934 3635 y Fq(7)2985 3665 y Fv(because)f(there)g(is)i(no)e
(le)o(gal)g(syntax)0 3764 y(to)j(name)g(it.\))0 4026
y Fw(5.1.6)81 b(Library)20 b(r)o(egistry)0 4226 y Fv(T)-7
b(o)26 b(be)g(able)f(to)h(share)g(associated)f(data)h(structures)f
(such)g(as)i(symbol)e(tables)h(and)f(dependenc)o(y)d(graphs,)k(CM)h
(maintains)e(an)g(internal)0 4325 y(re)o(gistry)k(of)h(all)h(stable)f
(libraries)g(that)g(it)h(has)g(encountered)c(during)i(an)h(ongoing)e
(interacti)n(v)o(e)h(session.)55 b(The)30 b Fu(CM.Library)f
Fv(sub-)0 4425 y(structure)19 b(of)h(structure)f Fu(CM)i
Fv(pro)o(vides)d(access)j(to)f(this)h(re)o(gistry)-5
b(.)100 4636 y Fu(structure)48 b(Library)g(:)i(sig)199
4736 y(type)f(lib)199 4835 y(val)h(known)e(:)i(unit)f(->)h(lib)f(list)
199 4935 y(val)h(descr)e(:)i(lib)f(->)h(string)199 5035
y(val)g(osstring)e(:)h(lib)h(->)f(string)199 5134 y(val)h(dismiss)e(:)i
(lib)f(->)g(unit)199 5234 y(val)h(unshare)e(:)i(lib)f(->)g(unit)100
5334 y(end)p 0 5382 1608 4 v 90 5437 a Fp(7)120 5460
y Fo(from)16 b(within)j(CM')l(s)e(description)j(\002les)1968
5709 y Fv(16)p eop
%%Page: 17 18
17 17 bop 0 83 a Fu(CM.Library.known)p Fv(,)17 b(when)i(called,)g
(produces)f(a)i(list)h(of)e(currently)f(kno)n(wn)g(stable)i(libraries.)
25 b(Each)19 b(such)g(library)g(is)h(represented)0 183
y(by)g(an)g(element)g(of)f(the)i(abstract)f(data)g(type)f
Fu(CM.Library.lib)p Fv(.)0 324 y Fu(CM.Library.descr)29
b Fv(e)o(xtracts)i(a)h(string)f(describing)e(the)j(location)e(of)h(the)
h(CM)g(description)e(\002le)i(associated)f(with)g(the)h(gi)n(v)o(en)0
423 y(library)-5 b(.)23 b(The)d(syntax)g(of)g(this)g(string)g(is)h
(almost)g(the)f(same)g(as)h(that)f(being)g(used)g(by)f(CM')-5
b(s)22 b(master)n(-sla)n(v)o(e)d(protocol)g(\(see)h(section)g(13.1\).)0
564 y Fu(CM.Library.osstring)d Fv(produces)h(a)j(string)f(denoting)e
(the)i(gi)n(v)o(en)f(library')-5 b(s)19 b(description)g(\002le)h(using)
g(the)g(underlying)d(operating)0 664 y(system')-5 b(s)29
b(nati)n(v)o(e)f(pathname)f(syntax.)50 b(In)29 b(other)f(w)o(ords,)i
(the)f(result)g(of)f(a)h(call)h(of)e Fu(CM.Library.osstring)e
Fv(is)k(suitable)e(as)i(an)0 764 y(ar)o(gument)18 b(to)i
Fu(TextIO.openIn)p Fv(.)0 905 y Fu(CM.Library.dismiss)i
Fv(is)k(used)f(to)g(remo)o(v)o(e)e(a)i(stable)g(library)f(from)g(CM')-5
b(s)26 b(internal)e(re)o(gistry)-5 b(.)38 b(Although)23
b(remo)o(ving)f(a)k(library)0 1004 y(from)20 b(the)h(re)o(gistry)e(may)
i(reco)o(v)o(er)e(considerable)f(amounts)i(of)h(main)f(memory)-5
b(,)19 b(doing)g(so)j(also)f(eliminates)f(an)o(y)g(chance)g(of)h
(sharing)f(the)0 1104 y(associated)i(data)g(structures)f(with)i(later)f
(references)e(to)j(the)f(same)g(library)-5 b(.)29 b(Therefore,)20
b(it)j(is)g(not)f(al)o(w)o(ays)g(in)h(the)f(interest)g(of)g(memory-)0
1204 y(conscious)d(users)i(to)f(use)g(this)h(feature.)0
1345 y(While)f(dependenc)o(y)c(graphs)i(and)h(symbol)f(tables)i(need)e
(to)i(be)f(reloaded)e(when)i(a)h(pre)n(viously)d(dismissed)i(library)g
(is)h(referenced)d(again,)0 1444 y(the)28 b(sharing)e(of)i(link-time)f
(state)h(created)f(by)g(this)h(library)f(is)i Ft(not)e
Fv(af)n(fected.)46 b(\(Link-time)26 b(state)j(is)f(independently)d
(maintained)h(in)i(a)0 1544 y(separate)20 b(data)g(structure.)k(See)c
(the)h(discussion)e(of)h Fu(CM.unshare)f Fv(belo)n(w)-5
b(.\))0 1685 y Fu(CM.Library.unshare)27 b Fv(is)j(used)g(to)g(remo)o(v)
o(e)d(a)j(stable)g(library)f(from)f(CM')-5 b(s)31 b(internal)e(re)o
(gistry)-5 b(,)30 b(and\227at)f(the)h(same)g(time\227to)0
1785 y(inhibit)25 b(future)f(sharing)g(with)i(its)g(e)o(xisting)e
(link-time)h(state.)41 b(An)o(y)24 b(future)g(references)g(to)i(this)g
(library)e(will)i(see)g(ne)n(wly)e(created)h(state)0
1884 y(\(which)d(will)h(then)g(be)g(properly)d(shared)i(again\).)32
b(\()p Fw(W)-5 b(ar)o(ning:)28 b Ft(This)c(featur)m(e)e(is)i(not)f(the)
f(pr)m(eferr)m(ed)h(way)g(of)g(cr)m(eating)f(unshar)m(ed)g(state;)0
1984 y(use)30 b(functor)o(s)g(for)h(that.)54 b(Howe)o(ver)-9
b(,)32 b(it)f(can)e(come)h(in)g(handy)f(when)g(two)i(dif)o(fer)m(ent)e
(\(and)g(perhaps)g(incompatible\))f(ver)o(sions)i(of)h(the)0
2083 y(same)f(libr)o(ary)f(ar)m(e)g(supposed)f(to)i(coe)n
(xist\227especially)e(if)j(one)d(of)i(the)f(two)h(ver)o(sions)g(is)g
(used)f(by)h(SML/NJ)g(itself)o(.)53 b(Normally)-5 b(,)32
b(only)0 2183 y(pr)l(o)o(gr)o(ammer)o(s)20 b(working)g(on)g(SML/NJ')m
(s)g(compiler)g(ar)m(e)h(e)n(xpected)e(to)h(be)g(using)g(this)h
(facility)-5 b(.)p Fv(\))0 2442 y Fw(5.1.7)81 b(Inter)o(nal)20
b(state)0 2639 y Fv(F)o(or)g(CM)h(to)g(w)o(ork)f(correctly)-5
b(,)18 b(it)j(must)g(maintain)e(an)i(up-to-date)d(picture)h(of)i(the)f
(state)h(of)f(the)h(surrounding)c(w)o(orld)j(\(as)h(f)o(ar)f(as)h(that)
g(state)0 2739 y(af)n(fects)k(CM')-5 b(s)27 b(operation\).)38
b(Most)26 b(of)f(the)h(time,)h(this)f(happens)e(automatically)g(and)h
(should)f(be)i(transparent)d(to)j(the)g(user)-5 b(.)41
b(Ho)n(we)n(v)o(er)m(,)0 2838 y(occasionally)19 b(it)i(may)e(become)g
(necessary)h(to)g(interv)o(ene)f(e)o(xpliticly)-5 b(.)0
2979 y(Access)21 b(to)f(CM')-5 b(s)22 b(internal)d(state)i(is)g(f)o
(acilitated)f(by)g(members)f(of)h(the)g Fu(CM.State)f
Fv(structure.)100 3182 y Fu(structure)48 b(State)h(:)g(sig)199
3282 y(val)h(pending)e(:)i(unit)f(->)g(string)g(list)199
3382 y(val)h(synchronize)d(:)j(unit)f(->)g(unit)199 3481
y(val)h(reset)e(:)i(unit)f(->)h(unit)100 3581 y(end)0
3784 y(CM.State.pending)15 b Fv(produces)i(a)h(list)h(of)f(strings,)g
(each)f(string)h(naming)e(one)i(of)f(the)h(symbols)g(that)g(are)f
(currently)g(re)o(gistered)f(\(i.e.,)0 3884 y(\223virtually)j
(bound\224\))f(b)n(ut)i(not)g(yet)g(resolv)o(ed)f(by)h(the)g
(autoloading)e(mechanism.)0 4025 y Fu(CM.State.synchronize)e
Fv(updates)h(tables)i(internal)f(to)h(CM)h(to)e(re\003ect)h(changes)f
(in)h(the)f(\002le)i(system.)k(In)19 b(particular)m(,)e(this)i(will)h
(be)0 4124 y(necessary)i(when)f(the)i(association)f(of)g(\002le)h
(names)f(to)h(\223\002le)g(IDs\224)f(\(in)h(Unix:)29
b(inode)21 b(numbers\))g(changes)g(during)g(an)h(ongoing)e(session.)0
4224 y(In)g(practice,)f(the)h(need)g(for)f(this)i(tends)f(to)h(be)f
(rare.)0 4365 y Fu(CM.State.reset)c Fv(completely)h(erases)h(all)h
(internal)e(state)i(in)f(CM.)g(T)-7 b(o)19 b(do)e(this)i(is)g(not)e(v)o
(ery)g(advisable)g(since)i(it)f(will)h(also)g(break)e(the)0
4465 y(association)i(with)h(pre-loaded)e(libraries.)24
b(It)c(may)f(be)h(a)g(useful)g(tool)f(for)g(determining)f(the)i(amount)
e(of)i(space)f(tak)o(en)h(up)f(by)h(the)f(internal)0
4564 y(state,)i(though.)0 4823 y Fw(5.1.8)81 b(Compile)21
b(ser)o(v)o(ers)0 5020 y Fv(On)f(Unix-lik)o(e)g(systems,)g(CM)h
(supports)e(parallel)h(compilation.)j(F)o(or)d(computers)f(connected)f
(using)i(a)h(LAN,)f(this)h(can)f(be)g(e)o(xtended)e(to)0
5120 y(distrib)n(uted)24 b(compilation)f(using)h(a)h(netw)o(ork)f
(\002le)h(system)g(and)f(the)h(operating)e(system')-5
b(s)25 b(\223rsh\224)g(f)o(acility)-5 b(.)38 b(F)o(or)24
b(a)h(detailed)f(discussion,)0 5219 y(see)d(Section)f(13.)0
5360 y(Sub-structure)g Fu(CM.Server)i Fv(pro)o(vides)e(access)j(to)g
(and)f(manipulation)e(of)i(compile)g(serv)o(ers.)31 b(Each)22
b(attached)f(serv)o(er)h(is)h(represented)0 5460 y(by)d(a)g(v)n(alue)g
(of)g(type)g Fu(CM.Server.server)p Fv(.)1968 5709 y(17)p
eop
%%Page: 18 19
18 18 bop 100 83 a Fu(structure)48 b(Server)g(:)i(sig)199
183 y(type)f(server)199 282 y(val)h(start)e(:)i({)g(name:)f(string,)897
382 y(cmd:)g(string)f(*)i(string)f(list,)897 482 y(pathtrans:)f
(\(string)g(->)i(string\))e(option,)897 581 y(pref:)h(int)g(})g(->)h
(server)f(option)199 681 y(val)h(stop)f(:)g(server)g(->)g(unit)199
780 y(val)h(kill)f(:)g(server)g(->)g(unit)199 880 y(val)h(name)f(:)g
(server)g(->)g(string)100 980 y(end)0 1212 y Fv(CM)24
b(is)f(put)g(into)g(\223parallel\224)f(mode)g(by)g(attaching)g(at)h
(least)h(one)e(compile)g(serv)o(er)-5 b(.)33 b(Compile)23
b(serv)o(ers)f(are)h(attached)f(using)g(in)m(v)n(ocations)0
1312 y(of)g Fu(CM.Server.start)p Fv(.)31 b(The)22 b(function)f(tak)o
(es)i(the)g(name)f(of)g(the)h(serv)o(er)f(\(as)h(an)f(arbitrary)f
(string\))h(\()p Fu(name)p Fv(\),)h(the)f(Unix)h(command)0
1411 y(used)i(to)h(start)g(the)f(serv)o(er)g(in)g(a)h(form)f(suitable)g
(as)h(an)g(ar)o(gument)d(to)i Fu(Unix.execute)f Fv(\()p
Fu(cmd)p Fv(\),)i(an)f(optional)f(\223path)h(transformation)0
1511 y(function\224)20 b(for)h(con)m(v)o(erting)e(local)j(path)f(names)
g(to)h(remote)f(pathnames)g(\()p Fu(pathtrans)p Fv(\),)f(and)h(a)h
(numeric)e(\223preference\224)g(v)n(alue)h(that)h(is)0
1611 y(used)k(to)h(choose)e(serv)o(ers)h(at)h(times)f(when)g(more)f
(than)h(one)g(is)h(idle)g(\()p Fu(pref)p Fv(\).)42 b(The)26
b(optional)f(result)i(is)g(the)f(handle)f(representing)g(the)0
1710 y(successfully)20 b(attached)f(serv)o(er)-5 b(.)0
1860 y(An)28 b(e)o(xisting)f(serv)o(er)g(can)h(be)g(shut)g(do)n(wn)f
(and)g(detached)g(using)g Fu(CM.Server.stop)f Fv(or)i
Fu(CM.Server.kill)p Fv(.)46 b(The)28 b(ar)o(gument)0
1959 y(in)f(either)g(case)g(must)h(be)f(the)g(result)g(of)g(an)g
(earlier)f(call)i(of)f Fu(CM.Server.start)p Fv(.)43 b(Function)26
b Fu(CM.Server.stop)f Fv(uses)i(CM')-5 b(s)0 2059 y(master)n(-sla)n(v)o
(e)27 b(protocol)f(to)h(instruct)g(the)h(serv)o(er)e(to)i(shut)f(do)n
(wn)f(gracefully)-5 b(.)44 b(Only)27 b(if)h(this)g(f)o(ails)g(it)g(may)
f(become)f(necessary)h(to)g(use)0 2159 y Fu(CM.Server.kill)p
Fv(,)18 b(which)i(will)g(send)g(a)h(Unix)f(TERM)g(signal)g(to)h(destro)
o(y)e(the)h(serv)o(er)-5 b(.)0 2308 y(Gi)n(v)o(en)44
b(a)h(serv)o(er)f(handle,)50 b(function)43 b Fu(CM.Server.name)g
Fv(returns)h(the)h(string)f(that)h(w)o(as)h(originally)d(gi)n(v)o(en)h
(to)h(the)g(call)g(of)0 2408 y Fu(CM.Server.start)18
b Fv(used)i(to)g(created)g(the)g(serv)o(er)-5 b(.)0 2678
y Fw(5.1.9)81 b(Plug-ins)0 2884 y Fv(As)19 b(an)e(alternati)n(v)o(e)g
(to)h Fu(CM.make)f Fv(or)g Fu(CM.autoload)p Fv(,)g(where)g(the)g(main)h
(purpose)e(is)j(to)f(subsequently)d(be)j(able)g(to)g(access)g(the)g
(library)0 2984 y(from)h(interacti)n(v)o(ely)g(entered)g(code,)g(one)h
(can)g(instruct)f(CM)i(to)g(load)e(libraries)h(\223for)g(ef)n
(fect\224.)100 3216 y Fu(val)49 b(load_plugin)f(:)h(string)g(->)g(bool)
0 3449 y Fv(Function)25 b Fu(CM.load)p 677 3449 25 4
v 29 w(plugin)h Fv(acts)h(e)o(xactly)f(lik)o(e)h Fu(CM.make)f
Fv(e)o(xcept)f(that)i(e)n(v)o(en)e(in)i(the)g(case)g(of)f(success)h(no)
f(ne)n(w)h(symbols)f(will)0 3548 y(be)d(bound)e(in)i(the)g(interacti)n
(v)o(e)e(top-le)n(v)o(el)g(en)m(vironment.)30 b(That)23
b(means)f(that)h(link-time)f(side-ef)n(fects)g(will)h(be)g(visible,)g
(b)n(ut)g(none)f(of)h(the)0 3648 y(e)o(xported)18 b(de\002nitions)g
(become)h(a)n(v)n(ailable.)24 b(This)c(mechanism)e(can)i(be)g(used)f
(for)g(\223plug-in\224)f(modules:)24 b(a)c(core)f(library)g(pro)o
(vides)f(hooks)0 3747 y(where)e(additional)f(functionality)g(can)h(be)h
(re)o(gistered)e(later)i(via)f(side-ef)n(fects;)h(e)o(xtensions)f(to)g
(this)h(core)f(are)h(implemented)e(as)i(additional)0
3847 y(libraries)k(which,)g(when)g(loaded,)f(re)o(gister)h(themselv)o
(es)g(with)h(those)f(hooks.)28 b(By)22 b(using)f Fu(CM.load)p
2958 3847 V 28 w(plugin)g Fv(instead)g(of)h Fu(CM.make)p
Fv(,)0 3947 y(one)e(can)g(a)n(v)n(oid)g(polluting)e(the)i(interacti)n
(v)o(e)f(top-le)n(v)o(el)g(en)m(vironment)e(with)j(spurious)f(e)o
(xports)g(of)h(the)g(e)o(xtension)f(module.)0 4096 y(CM)h(itself)g
(uses)g(plug-in)e(modules)g(in)h(its)i(member)n(-class)d(subsystem)h
(\(see)g(section)g(12\).)24 b(This)c(mak)o(es)f(it)h(possible)f(to)h
(add)e(ne)n(w)h(classes)0 4196 y(and)h(tools)g(v)o(ery)f(easily)h
(without)g(ha)n(ving)f(to)h(recon\002gure)e(or)i(recompile)f(CM,)h(not)
g(to)h(mention)e(modify)f(its)j(source)f(code.)0 4467
y Fw(5.1.10)81 b(Support)20 b(f)n(or)g(stand-alone)f(pr)o(ograms)0
4672 y Fv(CM)30 b(can)g(be)f(used)h(to)f(b)n(uild)h(stand-alone)d
(programs.)52 b(In)29 b(f)o(act)h(SML/NJ)g(itself\227including)e
(CM\227is)j(an)e(e)o(xample)f(of)i(this.)53 b(\(The)0
4772 y(interacti)n(v)o(e)19 b(system)h(cannot)f(rely)h(on)g(an)g(e)o
(xisting)g(compilation)e(manager)h(when)g(starting)h(up.\))0
4921 y(A)f(stand-alone)e(program)f(is)k(constructed)d(by)h(the)h
(runtime)e(system)i(from)f(e)o(xisting)g(bin\002les)g(or)h(members)e
(of)h(e)o(xisting)g(stable)h(libraries.)0 5021 y(CM)i(must)f(prepare)f
(those)h(bin\002les)g(or)g(libraries)g(together)f(with)h(a)h(list)g
(that)f(describes)g(them)g(to)g(the)g(runtime)f(system.)100
5253 y Fu(val)49 b(mk_standalone)e(:)j(bool)f(option)g(->)1096
5353 y({)h(project:)e(string,)g(wrapper:)h(string,)f(target:)h(string)f
(})i(->)1096 5452 y(string)f(list)g(option)1968 5709
y Fv(18)p eop
%%Page: 19 20
19 19 bop 0 83 a Fv(Here,)26 b Fu(project)e Fv(and)g
Fu(wrapper)g Fv(name)g(description)f(\002les)j(and)e
Fu(target)h Fv(is)g(the)g(name)f(of)h(a)g(heap)f(image\227with)g(or)g
(without)h(the)0 183 y(usual)e(implicit)g(heap)f(image)g(suf)n(\002x;)i
(see)g(the)f(description)e(of)i Fu(SMLofNJ.exportFn)d
Fv(from)i(the)h(\(SML/NJ-speci\002c)f(e)o(xtension)g(of)0
282 y(the\))e(Basis)i(Library)c([RG99)o(].)0 426 y(A)j(call)f(of)g
Fu(mk)p 416 426 25 4 v 30 w(standalone)f Fv(triggers)g(the)h(follo)n
(wing)f(three-stage)g(procedure:)104 624 y(1.)41 b(Depending)23
b(on)i(the)h(optional)e(boolean)g(ar)o(gument,)h Fu(project)g
Fv(is)h(subjected)f(to)h(the)g(equi)n(v)n(alent)e(of)h(either)g
Fu(CM.recomp)g Fv(or)208 724 y Fu(CM.stabilize)p Fv(.)34
b Fu(NONE)24 b Fv(means)g Fu(CM.recomp)p Fv(,)f(and)g
Fu(\(SOME)49 b Fl(r)r Fu(\))25 b Fv(means)f Fu(CM.stabilize)48
b Fl(r)r Fv(.)37 b(There)23 b(are)h(tree)g(w)o(ays)208
823 y(of)19 b(ho)n(w)h(to)g(continue)f(from)g(here:)257
983 y(\(a\))40 b(If)20 b(recompilation)e(of)i Fu(project)g
Fv(f)o(ailed,)f(then)h(a)h(result)f(of)g Fu(NONE)g Fv(will)h(be)f
(returned)e(immediately)-5 b(.)252 1110 y(\(b\))40 b(If)18
b(e)n(v)o(erything)e(w)o(as)j(up-to-date)d(\(i.e,)j(if)f(no)g(ML)h
(source)e(had)h(to)h(be)f(compiled)f(and)h(all)h(these)f(sources)g
(were)g(older)g(than)g(the)390 1210 y(e)o(xisting)i Fu(target)p
Fv(\),)f(then)g(a)i(result)f(of)g Fu(SOME)49 b([])21
b Fv(will)g(be)f(returned.)257 1337 y(\(c\))40 b(Otherwise)20
b(e)o(x)o(ecution)e(proceeds)h(to)h(the)h(ne)o(xt)e(stage.)104
1497 y(2.)41 b(The)20 b Ft(wr)o(apper)h(libr)o(ary)g
Fv(named)f(by)h Fu(wrapper)f Fv(is)i(being)e(recompiled)f(\(using)h
(the)h(equi)n(v)n(alent)f(of)h Fu(CM.recomp)p Fv(\).)26
b(If)21 b(this)g(f)o(ails,)208 1596 y Fu(NONE)f Fv(is)h(returned.)i
(Otherwise)d(e)o(x)o(ecution)e(proceeds)h(to)h(the)g(ne)o(xt)g(stage.)
104 1757 y(3.)41 b(CM.mk)p 470 1757 V 28 w(standalone)25
b(constructs)f(a)i(topologically)d(sorted)i(list)i Fl(l)g
Fv(of)e(strings)g(that,)i(when)e(written)g(to)h(a)f(\002le,)j(can)d(be)
g(passed)g(to)208 1856 y(the)d(runtime)f(system)i(in)f(order)f(to)i
(perform)d(stand-alone)g(linkage)i(of)g(the)g(program)e(gi)n(v)o(en)h
(by)h Fu(wrapper)p Fv(.)31 b(The)22 b(\002nal)g(result)h(is)208
1956 y Fu(SOME)49 b Fl(l)r Fv(.)0 2154 y(The)31 b(idea)g(is)h(that)g
Fu(project)e Fv(names)h(the)h(library)e(that)h(actually)g(implements)f
(the)i(main)f(program)e(while)i Fu(wrapper)g Fv(names)g(an)0
2254 y(auxiliary)e(wrapper)g(library)g(responsible)h(for)f(issuing)i(a)
g(call)g(of)f Fu(SMLofNJ.exportFn)e Fv(\(generating)g
Fu(target)p Fv(\))h(on)h(behalf)g(of)0 2353 y Fu(project)p
Fv(.)0 2497 y(The)24 b(programmer)d(should)j(normally)e(ne)n(v)o(er)h
(ha)n(v)o(e)h(a)h(need)e(to)i(in)m(v)n(ok)o(e)e Fu(CM.mk)p
2378 2497 V 29 w(standalone)g Fv(directly)-5 b(.)36 b(Instead,)24
b(this)h(function)e(is)0 2596 y(used)d(by)g(an)g(auxiliary)f(script)h
(called)g Fu(ml-build)f Fv(\(see)i(Section)e(15.1\).)0
2859 y Fw(5.1.11)81 b(Finding)20 b(all)h(sour)o(ces)0
3058 y Fv(The)e Fu(CM.sources)e Fv(function)g(can)i(be)g(used)f(to)h
(\002nd)g(the)g(names)f(of)h(all)g(source)f(\002les)i(that)f(a)h(gi)n
(v)o(en)d(library)h(depends)f(on.)24 b(It)c(returns)e(the)0
3158 y(names)e(of)h(all)g(\002les)h(in)m(v)n(olv)o(ed)d(with)i(the)g(e)
o(xception)d(of)j(sk)o(eleton)f(\002les)i(and)e(bin\002les)h(\(see)g
(Section)f(11\).)23 b(Stable)17 b(libraries)g(are)f(represented)0
3257 y(by)k(their)g(library)f(\002le;)i(their)f(description)e(\002le)j
(or)f(consitutent)f(members)g(are)i Ft(not)e Fv(listed.)0
3401 y(Normally)-5 b(,)15 b(the)i(function)e(reports)h(actual)g(\002le)
h(names)g(as)g(used)f(for)g(accessing)h(the)f(\002le)i(system.)24
b(F)o(or)16 b(\(stable\))g(library)f(\002les)j(this)f(beha)n(vior)0
3501 y(can)24 b(be)g(incon)m(v)o(enient)e(because)h(these)i(names)f
(depend)e(on)i(architecture)f(and)h(operating)e(system.)38
b(F)o(or)24 b(this)h(reason,)f Fu(CM.sources)0 3600 y
Fv(accepts)c(an)g(optional)f(pair)h(of)g(strings)g(that)g(then)g(will)h
(be)f(used)g(in)g(place)g(of)g(the)g(architecture-)f(and)g
(OS-speci\002c)h(part)g(of)g(these)h(names.)100 3812
y Fu(val)49 b(sources)f(:)199 3912 y({)i(arch:)f(string,)f(os:)i
(string)e(})i(option)f(->)199 4011 y(string)g(->)199
4111 y({)h(file:)f(string,)f(class:)h(string,)f(derived:)h(bool)g(})g
(list)h(option)0 4323 y Fv(In)21 b(case)h(there)f(w)o(as)i(some)e
(error)g(analyzing)f(the)h(speci\002ed)h(library)e(or)h(group,)f
Fu(CM.sources)h Fv(returns)f Fu(NONE)p Fv(.)i(Otherwise)f(the)h(result)
0 4422 y(is)j(a)g(list)h(of)e(records,)g(each)g(carrying)f(a)i(\002le)g
(name,)g(the)f(corresponding)d(class,)27 b(and)c(information)g(about)g
(whether)g(or)i(not)f(the)g(source)0 4522 y(w)o(as)d(created)e(by)h
(some)g(tool.)0 4665 y(Examples:)0 4877 y Fw(generating)f(\223mak)o
(e\224)h(dependencies:)41 b Fv(T)-7 b(o)26 b(generate)f(dependenc)o(y)e
(information)h(usable)i(by)f(Unix')h Fu(make)f Fv(command,)h(one)f(w)o
(ould)208 4977 y(be)d(interested)g(in)g(all)h(\002les)h(that)e(were)h
(not)f(deri)n(v)o(ed)f(by)h(some)g(tool)g(application.)30
b(Moreo)o(v)o(er)m(,)20 b(one)i(w)o(ould)g(probably)e(lik)o(e)j(to)f
(use)208 5076 y(shell)e(v)n(ariables)g(instead)f(of)h(concrete)f
(architecture-)g(and)g(OS-names:)307 5261 y Fu(Option.map)48
b(\(List.filter)g(\(not)h(o)g(#derived\)\))407 5360 y(\(CM.sources)f
(\(SOME)g({)i(arch)f(=)h("$ARCH",)e(os)i(=)f("$OPSYS")f(}\))656
5460 y("foo.cm"\);)1968 5709 y Fv(19)p eop
%%Page: 20 21
20 20 bop 208 83 a Fv(A)31 b(call)h(of)f Fu(CM.sources)e
Fv(similar)j(to)f(the)g(one)g(sho)n(wn)f(here)g(is)i(used)f(by)g(the)g
(auxiliary)f(script)h Fu(ml-makedepend)e Fv(\(see)208
183 y(Section)19 b(15.2\).)0 349 y Fw(\002nding)i(all)f
Fu(noweb)g Fw(sour)o(ces:)41 b Fv(T)-7 b(o)21 b(\002nd)g(all)g
Fu(noweb)g Fv(sources)f(\(see)i(Section)e(7.2.6\),)g(e.g.,)g(to)h(be)g
(able)g(to)g(run)f(the)h(document)e(prepara-)208 448
y(tion)k(program)f Fu(noweave)h Fv(on)g(them,)h(one)f(can)h(simply)f
(look)g(for)g(entries)g(of)h(the)g Fu(noweb)f Fv(class.)36
b(Here,)25 b(one)e(w)o(ould)g(probably)208 548 y(w)o(ant)d(to)g
(include)f(deri)n(v)o(ed)g(sources:)307 747 y Fu(Option.map)48
b(\(List.filter)g(\(fn)h(x)h(=>)f(#class)g(x)g(=)h("noweb"\)\))407
847 y(\(CM.sources)e(NONE)h("foo.cm"\);)0 1134 y Fr(5.2)99
b(The)26 b(autoloader)0 1340 y Fv(From)20 b(the)g(user')-5
b(s)21 b(point)e(of)h(vie)n(w)-5 b(,)20 b(a)g(call)h(of)f
Fu(CM.autoload)f Fv(acts)i(v)o(ery)e(much)g(lik)o(e)i(the)f
(corresponding)d(call)k(of)f Fu(CM.make)f Fv(because)0
1439 y(the)i(same)h(bindings)e(that)h Fu(CM.make)g Fv(w)o(ould)g
(introduce)e(into)i(the)h(top-le)n(v)o(el)e(en)m(viroment)e(are)k(also)
f(introduced)e(by)i Fu(CM.autoload)p Fv(.)0 1539 y(Ho)n(we)n(v)o(er)m
(,)h(most)h(w)o(ork)f(will)i(be)f(deferred)e(until)i(some)g(code)f
(that)h(is)h(entered)e(later)h(refers)f(to)i(one)e(or)h(more)f(of)h
(these)g(bindings.)32 b(Only)0 1639 y(then)20 b(will)h(CM)g(go)e(and)h
(perform)e(just)j(the)f(minimal)g(w)o(ork)f(necessary)h(to)g(pro)o
(vide)e(the)i(actual)g(de\002nitions.)0 1788 y(The)k(autoloader)e
(plays)i(a)h(central)e(role)h(for)g(the)g(interacti)n(v)o(e)f(system.)
37 b(Unlik)o(e)24 b(in)g(earlier)g(v)o(ersions,)g(it)h(cannot)e(be)h
(turned)f(of)n(f)g(since)i(it)0 1888 y(pro)o(vides)18
b(man)o(y)h(of)h(the)h(standard)e(pre-de\002ned)e(top-le)n(v)o(el)i
(bindings.)0 2037 y(The)g(autoloader)f(is)j(a)f(con)m(v)o(enient)d
(mechanism)h(for)h(virtually)g(\223loading\224)f(an)i(entire)f(library)
g(without)g(incurring)e(an)j(undue)e(increase)h(in)0
2137 y(memory)f(consumption)g(for)i(library)f(modules)g(that)h(are)g
(not)g(actually)g(being)f(used.)0 2424 y Fr(5.3)99 b(Sharing)26
b(of)f(state)0 2630 y Fv(Whene)n(v)o(er)14 b(it)i(is)h(le)o(gal)e(to)h
(do)f(so,)i(CM)f(lets)g(multiple)f(in)m(v)n(ocations)f(of)i
Fu(CM.make)f Fv(or)g Fu(CM.autoload)f Fv(share)i(dynamic)e(state)i
(created)f(by)0 2729 y(link-time)i(ef)n(fects.)24 b(Of)18
b(course,)g(sharing)f(is)i(not)f(possible)g(\(and)f(hence)g(not)h
(\223le)o(gal\224\))f(if)h(the)h(compilation)d(unit)i(in)g(question)f
(has)i(recently)0 2829 y(been)g(recompiled)e(or)j(depends)e(on)h
(another)f(compilation)g(unit)h(whose)g(code)g(has)h(recently)e(been)h
(re-e)o(x)o(ecuted.)j(The)d(programmer)e(can)0 2929 y(e)o(xplicitly)26
b(mark)g(certain)g(ML)h(\002les)h(as)f Ft(shar)m(ed)p
Fv(,)h(in)f(which)f(case)i(CM)f(will)h(issue)f(a)g(w)o(arning)f(whene)n
(v)o(er)f(the)i(unit')-5 b(s)26 b(code)h(has)g(to)g(be)0
3028 y(re-e)o(x)o(ecuted.)0 3178 y(State)17 b(created)e(by)g
(compilation)f(units)i(mark)o(ed)f(as)h Ft(private)g
Fv(is)h(ne)n(v)o(er)d(shared)i(across)g(multiple)f(calls)h(to)h
Fu(CM.make)e Fv(or)g Fu(CM.autoload)p Fv(.)0 3277 y(T)-7
b(o)23 b(understand)d(this)j(beha)n(vior)e(it)i(is)g(useful)f(to)h
(introduce)d(the)j(notion)e(of)h(a)h Ft(tr)o(aver)o(sal)p
Fv(.)32 b(A)23 b(tra)n(v)o(ersal)f(is)h(the)f(process)g(of)g(tra)n(v)o
(ersing)g(the)0 3377 y(dependenc)o(y)f(graph)h(on)h(behalf)g(of)h
Fu(CM.make)f Fv(or)g Fu(CM.autoload)p Fv(.)34 b(Se)n(v)o(eral)23
b(tra)n(v)o(ersals)h(can)f(be)h(e)o(x)o(ecuted)e(interlea)n(v)o(ed)g
(with)i(each)0 3477 y(other)19 b(because)g(a)h Fu(CM.autoload)f
Fv(tra)n(v)o(ersal)g(normally)f(stays)j(suspended)d(and)h(is)i
(performed)c(incrementally)h(dri)n(v)o(en)g(by)i(input)f(from)0
3576 y(the)h(interacti)n(v)o(e)f(top)h(le)n(v)o(el)g(loop.)0
3726 y(As)k(f)o(ar)f(as)h(sharing)e(is)i(concerned,)d(the)j(rule)e(is)i
(that)g(during)d(one)i(tra)n(v)o(ersal)f(each)h(compilation)f(unit)g
(will)i(be)f(e)o(x)o(ecuted)f(at)h(most)g(once.)0 3825
y(This)g(means)f(that)h(the)g(same)g(\223program\224)d(will)j(not)g
(see)g(multiple)f(instantiations)g(of)g(the)h(same)g(compilation)e
(unit)h(\(where)g(\223program\224)0 3925 y(refers)h(to)h(the)g(code)f
(managed)f(by)i(one)f(call)h(of)g Fu(CM.make)f Fv(or)g
Fu(CM.autoload)p Fv(\).)34 b(Each)23 b(compilation)f(unit)i(will)g(be)g
(link)o(ed)f(at)i(most)0 4024 y(once)d(during)e(a)j(tra)n(v)o(ersal)f
(and)g(pri)n(v)n(ate)f(state)i(will)h(not)e(be)g(confused)f(with)h(pri)
n(v)n(ate)g(state)h(of)f(other)f(tra)n(v)o(ersals)i(that)f(might)g(be)g
(acti)n(v)o(e)g(at)0 4124 y(the)e(same)h(time.)0 4395
y Fw(5.3.1)81 b(Sharing)20 b(annotations)0 4600 y Fv(ML)c(source)f
(\002les)h(in)g(CM)g(description)f(\002les)h(can)g(be)f(speci\002ed)h
(as)g(being)f Ft(private)g Fv(or)h Ft(shar)m(ed)p Fv(.)22
b(This)16 b(is)h(done)d(by)i(adding)e(a)i Ft(tool)f(par)o(ameter)0
4700 y Fv(speci\002cation)20 b(for)f(the)h(\002le)h(in)g(the)f
(library-)f(or)h(group)f(description)f(\002le)j(\(see)g(Section)f(7\).)
25 b(T)-7 b(o)20 b(mark)g(an)g(ML)g(\002le)h(as)g Ft(private)p
Fv(,)f(follo)n(w)g(the)0 4800 y(\002le)h(name)e(with)i(the)f(w)o(ord)g
Fu(private)f Fv(in)h(parentheses.)k(F)o(or)c Ft(shar)m(ed)g
Fv(ML)g(\002les,)h(replace)e Fu(private)h Fv(with)g Fu(shared)p
Fv(.)0 4949 y(An)29 b(ML)g(source)f(\002le)i(that)f(is)h(not)f
(annotated)e(will)j(typically)e(be)h(treated)g(as)g Ft(shar)m(ed)g
Fv(unless)g(it)h(statically)f(depends)f(on)h(some)f(other)0
5049 y Ft(private)20 b Fv(source.)k(It)d(is)g(an)f(error)m(,)e(check)o
(ed)h(by)h(CM,)h(for)e(a)i Ft(shar)m(ed)f Fv(source)f(to)h(depend)f(on)
h(a)g Ft(private)g Fv(source.)1968 5709 y(20)p eop
%%Page: 21 22
21 21 bop 0 83 a Fw(5.3.2)81 b(Sharing)20 b(with)h(the)f(interacti)o(v)
o(e)f(system)0 289 y Fv(The)i(SML/NJ)h(interacti)n(v)o(e)f(system,)h
(which)f(includes)g(the)g(compiler)m(,)f(is)j(itself)f(created)f(by)g
(linking)g(modules)f(from)h(v)n(arious)f(libraries.)0
388 y(Some)h(of)g(these)h(libraries)f(can)g(also)h(be)g(used)f(in)h
(user)f(programs.)27 b(Examples)20 b(are)i(the)f(Standard)g(ML)g(Basis)
i(Library)d Fu($/basis.cm)p Fv(,)0 488 y(the)g(SML/NJ)h(library)e
Fu($/smlnj-lib.cm)p Fv(,)f(and)i(the)g(ML-Y)-8 b(acc)19
b(library)g Fu($/ml-yacc-lib.cm)p Fv(.)0 637 y(If)d(a)g(module)f(from)g
(a)h(library)f(is)i(used)f(by)g(both)f(the)h(interacti)n(v)o(e)f
(system)h(and)f(a)i(user)f(program)e(running)g(under)g(control)h(of)h
(the)g(interacti)n(v)o(e)0 737 y(system,)j(then)g(CM)h(will)g(let)g
(them)f(share)g(code)g(and)f(dynamic)g(state.)25 b(Moreo)o(v)o(er)m(,)
17 b(the)i(af)n(fected)f(portion)g(of)h(the)g(library)f(will)i(ne)n(v)o
(er)e(ha)n(v)o(e)0 836 y(to)i(be)g(\223relink)o(ed\224.)0
1166 y Fx(6)119 b(V)-12 b(ersion)31 b(numbers)0 1402
y Fv(A)23 b(CM)g(library)f(can)g(carry)g(a)h(v)o(ersion)e(number)-5
b(.)31 b(V)-9 b(ersion)22 b(numbers)f(are)i(speci\002ed)f(in)h
(parentheses)e(after)i(the)f(k)o(e)o(yw)o(ord)f Fu(Library)h
Fv(as)0 1501 y(non-empty)17 b(dot-separated)h(sequences)i(of)g(non-ne)o
(gati)n(v)o(e)c(inte)o(gers.)24 b(Example:)100 1734 y
Fu(Library)48 b(\(1.4.1.4.2.1.3.5\))299 1834 y(structure)g(Sqrt2)100
1933 y(is)299 2033 y(sqrt2.sml)0 2320 y Fr(6.1)99 b(Ho)o(w)24
b(v)o(ersions)h(ar)n(e)g(compar)n(ed)0 2526 y Fv(V)-9
b(ersion)31 b(numbers)e(are)j(compared)d(le)o(xicographically)-5
b(,)30 b(dot-separated)f(component)g(by)i(dot-separated)e(component,)j
(from)e(left)h(to)0 2625 y(right.)24 b(The)c(components)e(themselv)o
(es)i(are)g(compared)e(numerically)-5 b(.)0 2913 y Fr(6.2)99
b(V)-10 b(ersion)25 b(checking)0 3118 y Fv(An)c(importing)d(library)i
(or)g(library)f(component)f(can)j(specify)f(which)g(v)o(ersion)f(of)h
(the)h(imported)e(library)g(it)j(w)o(ould)d(lik)o(e)i(to)g(see.)27
b(See)21 b(the)0 3218 y(discussion)i(is)h(section)f(7.1.2)f(for)h(ho)n
(w)f(this)i(is)h(done.)33 b(Where)23 b(a)h(v)o(ersion)e(number)f(is)j
(requested,)f(an)g(error)f(is)j(signalled)d(if)i(one)f(of)g(the)0
3318 y(follo)n(wing)c(is)i(true:)125 3550 y Fs(\017)41
b Fv(the)20 b(imported)e(library)h(does)h(not)g(carry)f(a)i(v)o(ersion)
e(number)125 3716 y Fs(\017)41 b Fv(the)20 b(imported)e(library')-5
b(s)20 b(v)o(ersion)f(number)f(is)j(smaller)f(than)g(the)g(one)g
(requested)125 3882 y Fs(\017)41 b Fv(the)21 b(imported)e(library')-5
b(s)20 b(v)o(ersion)g(number)f(has)j(a)f(\002rst)h(component)d(\(kno)n
(wn)g(as)j(the)f(\223major\224)f(v)o(ersion)f(number\))g(that)j(is)g
(greater)208 3982 y(than)d(the)h(one)g(requested)0 4214
y(A)h(w)o(arning)e(\(b)n(ut)i(no)f(error\))f(is)i(issued)g(if)g(the)f
(imported)f(library)g(has)i(the)g(same)f(major)g(v)o(ersion)g(b)n(ut)g
(the)h(v)o(ersion)e(as)i(a)g(whole)f(is)i(greater)0 4314
y(than)e(the)g(one)g(requested.)0 4463 y(Note:)j Ft(V)-9
b(er)o(sion)15 b(number)o(s)g(should)g(be)g(incr)m(emented)g(on)g(e)o
(very)g(c)o(hang)o(e)f(to)i(a)f(libr)o(ary)-5 b(.)24
b(The)16 b(major)f(ver)o(sion)h(number)e(should)h(be)g(incr)m(eased)0
4563 y(on)20 b(e)o(very)g(c)o(hang)o(e)e(that)i(is)i(not)d(bac)n(kwar)m
(d-compatible)o(.)0 4893 y Fx(7)119 b(Member)30 b(classes)f(and)i
(tools)0 5128 y Fv(Most)g(members)e(of)h(groups)f(and)h(libraries)g
(are)g(either)g(plain)g(ML)h(\002les)g(or)f(other)g(description)f
(\002les.)56 b(Ho)n(we)n(v)o(er)m(,)31 b(it)g(is)g(possible)f(to)0
5228 y(incorporate)16 b(other)h(types)h(of)g(\002les\227as)h(long)e(as)
i(their)e(contents)h(can)g(in)g(some)g(w)o(ay)g(be)g(e)o(xpanded)d
(into)j(ML)g(code)f(or)h(CM)h(descriptions.)0 5328 y(The)h(e)o
(xpansion)e(is)j(carried)e(out)h(by)g(CM')-5 b(s)21 b
Ft(tools)g Fv(f)o(acility)-5 b(.)1968 5709 y(21)p eop
%%Page: 22 23
22 22 bop 0 83 a Fv(CM)28 b(maintains)f(an)g(internal)f(re)o(gistry)g
(of)h Ft(classes)h Fv(and)f(associated)g Ft(rules)p Fv(.)46
b(Each)27 b(class)h(represents)f(the)g(set)h(of)f(source)f(\002les)i
(that)g(its)0 183 y(corresponding)d(rule)k(is)g(applicable)f(to.)50
b(F)o(or)29 b(e)o(xample,)g(the)g(class)g Fu(mlyacc)f
Fv(is)i(responsible)d(for)h(\002les)i(that)f(contain)f(input)f(for)i
(the)0 282 y(parser)22 b(generator)f(ML-Y)-8 b(acc)21
b([T)-8 b(A90)o(].)33 b(The)22 b(rule)g(for)g Fu(mlyacc)g
Fv(tak)o(es)h(care)g(of)f(e)o(xpanding)e(an)j(ML-Y)-8
b(acc)21 b(speci\002cations)h Fu(foo.grm)0 382 y Fv(by)d(in)m(v)n
(oking)e(the)j(auxiliary)e(program)f Fu(ml-yacc)p Fv(.)24
b(The)19 b(resulting)f(ML)i(\002les)g Fu(foo.grm.sig)e
Fv(and)h Fu(foo.grm.sml)f Fv(are)h(then)g(used)0 482
y(as)i(if)f(their)g(names)g(had)g(directly)f(been)h(speci\002ed)g(in)g
(place)g(of)g Fu(foo.grm)p Fv(.)0 623 y(CM)g(kno)n(ws)f(a)h(small)h
(number)c(of)j(b)n(uilt-in)f(classes.)26 b(In)19 b(man)o(y)g
(situations)g(these)h(classes)h(will)f(be)g(suf)n(\002cient,)f(b)n(ut)h
(in)f(more)g(complicated)0 723 y(cases)i(it)g(may)f(be)g(w)o(orthwhile)
f(to)h(add)g(a)h(ne)n(w)f(class.)26 b(Since)20 b(class)h(rules)g(are)f
(programmed)d(in)j(ML,)g(adding)f(a)i(class)g(is)g(not)f(as)h(simple)f
(a)0 823 y(matter)f(as)h(writing)e(a)i(rule)f(for)i(U)t
Fo(N)t(I)t(X)r Fv(')e Fu(make)g Fv(program)e([Fel79)o(].)25
b(Of)19 b(course,)g(using)g(ML)g(has)g(also)h(adv)n(antages)d(because)i
(it)h(k)o(eeps)f(CM)0 922 y(e)o(xtremely)h(\003e)o(xible)h(in)h(what)f
(rules)h(can)f(do.)29 b(Moreo)o(v)o(er)m(,)18 b(it)23
b(is)f(not)g(necessary)e(to)i(learn)f(yet)h(another)e(\223little)i
(language\224)e(in)i(order)e(to)i(be)0 1022 y(able)e(to)g(program)e
(CM')-5 b(s)22 b(tool)e(f)o(acility)-5 b(.)0 1164 y(When)20
b(looking)e(at)j(the)f(member)f(of)g(a)i(description)d(\002le,)j(CM)g
(determines)e(which)g(tool)h(to)g(use)g(by)g(looking)e(at)j(clues)f
(lik)o(e)g(the)g(\002le)h(name)0 1263 y(suf)n(\002x.)28
b(Ho)n(we)n(v)o(er)m(,)20 b(it)i(is)g(also)g(possible)f(to)g(specify)g
(the)g(class)i(of)e(a)h(member)e(e)o(xplicitly)-5 b(.)27
b(F)o(or)21 b(this,)h(the)f(member)f(name)h(is)h(follo)n(wed)e(by)0
1363 y(a)h(colon)e Fw(:)25 b Fv(and)20 b(the)g(name)g(of)g(the)g
(member)f(class.)25 b(All)c(class)g(names)f(are)g(case-insensiti)n(v)o
(e.)0 1505 y(In)g(addition)f(to)h(genuine)f(tool)h(classes,)h(there)e
(are)i(four)e(member)f(classes)k(that)e(refer)f(to)i(f)o(acilities)g
(internal)e(to)h(CM:)0 1698 y Fu(sml)41 b Fv(is)21 b(the)f(class)h(of)f
(ordinary)e(ML)j(source)e(\002les.)0 1856 y Fu(cm)41
b Fv(is)21 b(the)f(class)i(of)e(CM)g(library)g(or)f(group)g
(description)g(\002les.)0 2015 y Fu(tool)41 b Fv(is)25
b(the)f(class)h(of)f Ft(plugin)f(tools)p Fv(.)37 b(Its)25
b(purpose)e(is)i(to)f(trigger)f(the)i(loading)d(of)i(an)h(auxiliary)d
(plugin)h(module\227usually)f(with)j(the)208 2115 y(purpose)18
b(of)i(e)o(xtending)e(the)i(set)h(of)f(tool)g(classes)h(that)g(CM)g
(understands.)i(See)d(section)g(12.3)f(for)h(more)f(information.)0
2273 y Fu(suffix)40 b Fv(is)19 b(a)g(class)g(similar)f(to)g
Fu(tool)p Fv(.)24 b(Its)19 b(purpose)d(is)j(to)g(declare)e(additional)g
(\002lename)g(suf)n(\002x)o(es)h(and)f(their)h(associated)g(classes.)25
b(See)208 2373 y(section)20 b(12.3.)0 2566 y(By)29 b(def)o(ault,)h(CM)f
(automatically)e(classi\002es)j(\002les)f(with)g(a)g
Fu(.sml)f Fv(suf)n(\002x,)i(a)f Fu(.sig)f Fv(suf)n(\002x,)i(or)f(a)f
Fu(.fun)h Fv(suf)n(\002x)f(as)h(ML-source,)g(\002le)0
2665 y(names)20 b(ending)f(in)h Fu(.cm)g Fv(as)h(CM)g(descriptions.)j
(F)o(ailure)19 b(to)i(classify)f(a)h(member)e(will)i(be)f(reported)e
(as)j(an)f(error)-5 b(.)0 2942 y Fr(7.1)99 b(T)-9 b(ool)25
b(parameters)0 3140 y Fv(In)c(man)o(y)g(cases)h(the)g(name)f(of)g(the)h
(member)e(that)i(caused)f(a)h(rule)f(to)h(be)f(in)m(v)n(ok)o(ed)f(is)j
(the)e(only)g(input)g(to)h(that)f(rule.)29 b(Ho)n(we)n(v)o(er)m(,)20
b(rules)i(can)0 3239 y(be)g(written)g(in)g(such)g(a)h(w)o(ay)f(that)h
(the)o(y)e(tak)o(e)h(additional)f(parameters.)30 b(Those)21
b(parameters,)h(if)g(present,)g(must)g(be)g(speci\002ed)g(in)h(the)f
(CM)0 3339 y(description)d(\002le)i(between)e(parentheses)g(follo)n
(wing)g(the)h(name)f(of)h(the)g(member)f(and)h(the)g(optional)f(member)
g(class.)0 3481 y(CM')-5 b(s)17 b(core)f(mechanism)f(parses)h(these)h
(tool)f(options)f(and)g(breaks)h(them)g(up)g(into)f(a)i(list)g(of)f
(items,)i(where)d(each)h(item)g(is)i(either)d(a)i(\002lename)0
3580 y(\(i.e.,)h Ft(looks)h Fv(lik)o(e)g(a)g(\002lename\))f(or)h(a)g
(named)f(list)h(of)g(sub-options.)j(Ho)n(we)n(v)o(er)m(,)17
b(CM)j(itself)f(does)g(not)f(interpret)g(the)g(result)h(b)n(ut)g
(passes)g(it)h(on)0 3680 y(to)g(the)h(tool')-5 b(s)20
b(rule)g(function.)j(It)d(is)i(in)e(each)g(rule')-5 b(s)20
b(o)n(wn)g(responsibility)e(to)j(assign)f(meaning)f(to)h(its)h
(options.)0 3822 y(All)h(named)d(sub-option)g(lists)j(\(for)e(an)o(y)g
(class\))i(are)e(speci\002ed)h(by)f(a)i(name)e(string)h(follo)n(wed)e
(by)h(a)i(colon)e Fw(:)26 b Fv(and)21 b(a)g(parenthesized)e(list)j(of)0
3922 y(other)d(tool)h(options.)k(If)c(the)h(list)g(contains)e
(precisely)h(one)f(element,)h(then)f(its)j(parentheses)d(may)g(be)i
(omitted.)0 4181 y Fw(7.1.1)81 b(P)o(arameters)19 b(f)n(or)h(class)h
Fu(sml)0 4379 y Fv(The)16 b Fu(sml)g Fv(class)h(accepts)g(four)e
(optional)g(parameters.)22 b(One)16 b(is)h(the)g Ft(sharing)e
(annotation)f Fv(that)i(w)o(as)h(e)o(xplained)e(earlier)g(\(see)i
(Section)f(5.3\).)0 4479 y(The)25 b(sharing)f(annotation)f(must)i(be)g
(one)g(of)g(the)g(tw)o(o)g(strings)g Fu(shared)g Fv(and)f
Fu(private)p Fv(.)39 b(If)25 b Fu(shared)g Fv(is)h(speci\002ed,)f(then)
g(dynamic)0 4579 y(state)19 b(created)f(by)f(the)i(compilation)d(unit)i
(at)h(link-time)e(must)i(be)f(shared)g(across)g(in)m(v)n(ocations)f(of)
h Fu(CM.make)f Fv(or)h Fu(CM.autoload)p Fv(.)23 b(The)0
4678 y Fu(private)i Fv(annotation,)g(on)g(the)h(other)f(hand,)h(means)g
(that)g(dynamic)e(state)i(cannot)f(be)h(shared)f(across)h(such)f(calls)
i(to)f Fu(CM.make)f Fv(or)0 4778 y Fu(CM.autoload)p Fv(.)0
4920 y(The)i(second)g(possible)g(parameter)f(for)g(class)j
Fu(sml)e Fv(is)i(a)e(sub-option)f(list)i(labeled)f Fu(setup)g
Fv(and)g(can)g(be)g(used)g(to)h(specify)f(code)f(that)0
5019 y(will)i(be)e(e)o(x)o(ecuted)f(just)j(before)d(and)h(just)i(after)
e(the)h(compiler)e(is)j(in)m(v)n(ok)o(ed)d(for)h(the)h(ML)g(source)f
(\002le.)46 b(Code)26 b(to)h(be)g(e)o(x)o(ecuted)e(before)0
5119 y(compilation)f(is)i(labeled)f Fu(pre)p Fv(,)i(code)d(to)i(be)g(e)
o(x)o(ecuted)d(after)i(compilation)f(is)j(complete)d(is)i(labeled)f
Fu(post)p Fv(;)j(either)d(part)h(is)g(optional.)0 5219
y(Ex)o(ecutable)18 b(code)i(itself)h(is)g(speci\002ed)f(using)f
(strings)i(that)f(contain)f(ML)h(source)g(te)o(xt.)0
5360 y(F)o(or)k(e)o(xample,)h(if)g(one)f(wishes)h(to)g(disable)g(w)o
(arning)e(messages)i(for)f(a)i(speci\002c)f(source)f(\002le)h
Fu(poorlywritten.sml)d Fv(\(b)n(ut)j(not)f(for)0 5460
y(others\),)19 b(then)h(one)f(could)h(write:)1968 5709
y(22)p eop
%%Page: 23 24
23 23 bop 100 83 a Fu(poorlywritten.sml)46 b(\(setup:\(pre:)i("local)h
(open)g(Compiler.Control\\n\\)1644 183 y(\\)149 b(in)50
b(val)f(w)g(=)h(!printWarnings)d(before\\n\\)1644 282
y(\\)697 b(printWarnings)47 b(:=)j(false\\n\\)1644 382
y(\\)99 b(end;")1395 482 y(post:"Compiler.Control.printWarnin)o(gs)44
b(:=)49 b(w;"\)\))0 714 y Fv(Note)20 b(that)g(neither)g(the)g(pre-)f
(nor)h(the)g(post-section)f(will)i(be)f(e)o(x)o(ecuted)e(if)j(the)f(ML)
g(\002le)h(does)f(not)g(need)f(to)i(be)f(compiled.)0
863 y(The)27 b(pre-section)e(is)j(compiled)d(and)i(e)o(x)o(ecuted)e(in)
i(the)g(current)e(tople)n(v)o(el-en)m(vironment)d(while)27
b(the)g(post-section)f(uses)h(the)g(tople)n(v)o(el-)0
963 y(en)m(vironment)20 b(augmented)g(with)j(de\002nitions)f(from)g
(the)g(pre-section.)31 b(After)23 b(the)f(ML)h(\002le)h(has)f(been)f
(compiled)f(and)h(the)h(post-section)0 1063 y(\(if)i(present\))g(has)h
(completed)d(e)o(x)o(ecution,)i(de\002nitions)g(made)f(by)h(either)h
(section)f(will)h(be)f(erased.)41 b(This)25 b(means)h(that)f(setup)g
(code)g(for)0 1162 y(other)19 b(\002les)j Ft(cannot)c
Fv(refer)i(to)g(them,)g(and)f(neither)h(can)g(code)f(that)h(in)h(the)f
(future)f(might)g(be)i(entered)e(at)h(top)g(le)n(v)o(el.)0
1312 y(The)f(third)f(possible)h(parameter)e(for)h(class)i
Fu(sml)f Fv(is)h(a)g(sub-option)c(labelled)j Fu(lambdasplit)p
Fv(.)k(It)c(controls)f(the)h(cross-module)e(inlining)0
1411 y(mechanism)26 b(of)g(SML/NJ.)809 1381 y Fq(8)870
1411 y Fv(The)g(v)n(alue)h(of)f(the)h(option)f(can)h(either)f(be)h(a)g
(non-ne)o(gati)n(v)o(e)c(decimal)k(inte)o(ger)f(or)g(one)h(of)f(the)h
(follo)n(wing)0 1511 y(w)o(ords:)i Fu(default)p Fv(,)22
b Fu(on)p Fv(,)h Fu(off)p Fv(,)g(or)f Fu(infinity)p Fv(.)30
b(The)22 b(ef)n(fect)g(of)g(this)h(parameter)e(also)h(depends)f(on)h(a)
h(system-wide)f(setting)g(\(acces-)0 1611 y(sible)j(via)g(structure)f
Fu(Compiler.Control.LambdaSplitting)p Fv(\))o(.)33 b(In)25
b(the)f(follo)n(wing)f(table,)j(the)f(per)n(-\002le)f
Fu(lambdasplit)0 1710 y Fv(parameter)h(is)i(sho)n(wn)f(at)g(the)h(top)f
(and)f(the)i(system-wide)e(def)o(ault)h(is)h(sho)n(wn)f(on)f(the)i
(left)f(side.)44 b(T)-7 b(able)26 b(entries)g(sho)n(w)g(the)h(combined)
0 1810 y(ef)n(fect)21 b(of)f(the)i(tw)o(o:)27 b(-1)21
b(means)g(\223no)f(inlinable)g(e)o(xports)g(from)g(this)i(\002le\224,)g
Fs(1)f Fv(means)g(\223as)h(man)o(y)e(inlinable)g(e)o(xports)g(as)i
(possible\224,)f(and)f(a)0 1910 y(non-ne)o(gati)n(v)o(e)c(numeric)j(v)n
(alue)h(speci\002es)g(some)g(intermediate)f(\223aggressi)n(v)o
(eness\224)g(of)g(the)i(splitting)f(engine.)p 1656 2168
4 100 v 1673 2168 V 1725 2138 a Fu(default)p 2121 2168
V 98 w(on)p 2327 2168 V 106 w(off)p 2576 2168 V 99 w(infinity)p
3074 2168 V 98 w Fl(n)p 738 2172 2544 4 v 738 2188 V
1459 2258 a Fu(Off)p 1656 2288 4 100 v 1673 2288 V 116
w Fs(\000)p Fi(1)p 2121 2288 V 341 w Fs(\000)p Fi(1)p
2327 2288 V 99 w Fs(\000)p Fi(1)p 2576 2288 V 142 w Fs(\000)p
Fi(1)p 3074 2288 V 391 w Fs(\000)p Fi(1)p 738 2291 2544
4 v 961 2361 a Fu(Default)48 b(NONE)p 1656 2391 4 100
v 1673 2391 V 166 w Fs(\000)p Fi(1)p 2121 2391 V 341
w(0)p 2327 2391 V 164 w Fs(\000)p Fi(1)p 2576 2391 V
142 w Fs(1)p 3074 2391 V 415 w Fl(n)p 738 2394 2544 4
v 788 2464 a Fu(Default)h(\(SOME)g Fl(m)p Fu(\))p 1656
2494 4 100 v 1673 2494 V 116 w Fl(m)p 2121 2494 V 375
w(m)p 2327 2494 V 133 w Fs(\000)p Fi(1)p 2576 2494 V
142 w Fs(1)p 3074 2494 V 415 w Fl(n)0 2691 y Fv(Finally)-5
b(,)32 b(the)f(last)h(possible)e(parameter)f(for)h(class)i
Fu(sml)e Fv(is)i(the)e(string)h Fu(local)p Fv(.)55 b(A)32
b(\002le)f(mark)o(ed)e Fu(local)h Fv(will)i(be)e(ignored)f(when)0
2791 y(calculating)19 b(the)h(symbol)g(set)h(for)e(an)h(occurence)e(of)
i Fu(source\(-\))f Fv(within)h(the)h(e)o(xport)d(list)j(\(see)g
(section)f(4\).)0 3062 y Fw(7.1.2)81 b(P)o(arameters)19
b(f)n(or)h(class)h Fu(cm)0 3267 y Fv(The)26 b Fu(cm)g
Fv(class)h(understands)d(tw)o(o)i(kinds)g(of)g(parameters.)41
b(The)25 b(\002rst)i(is)g(a)g(named)d(parameter)h(labeled)g(by)h(the)g
(string)g Fu(version)p Fv(.)41 b(It)0 3367 y(must)21
b(ha)n(v)o(e)g(the)h(format)e(of)h(a)h(v)o(ersion)e(number)-5
b(.)27 b(CM)22 b(will)g(interpret)f(this)g(as)i(a)e(v)o(ersion)g
(request,)f(thereby)g(insuring)g(that)i(the)f(imported)0
3467 y(library)e(is)i(not)f(too)g(old)g(or)g(too)g(ne)n(w)-5
b(.)24 b(\(See)c(section)g(6)g(for)g(more)f(on)h(this)h(topic.\))0
3616 y(Example:)100 3849 y Fu(euler.cm)48 b(\(version:2.71828\))100
3948 y(pi.cm)198 b(\(version:3.14159\))0 4181 y Fv(Normally)-5
b(,)28 b(CM)g(looks)f(for)h(stable)g(library)e(\002les)j(in)f
(directory)e Fu(CM/)p Ft(ar)m(c)o(h)p Fu(-)p Ft(os)g
Fv(\(see)i(section)g(11\).)46 b(Ho)n(we)n(v)o(er)m(,)28
b(if)g(an)g(e)o(xplicit)f(v)o(ersion)0 4280 y(has)e(been)f(requested,)g
(it)i(will)f(\002rst)h(try)e(directory)g Fu(CM/)p Ft(ver)o(sion)p
Fu(/)p Ft(ar)m(c)o(h)p Fu(-)p Ft(os)e Fv(before)i(looking)f(at)i(the)g
(def)o(ault)f(location.)37 b(This)25 b(w)o(ay)g(it)h(is)0
4380 y(possible)20 b(to)g(k)o(eep)g(se)n(v)o(eral)f(v)o(ersions)h(of)g
(the)g(same)g(library)f(in)i(the)f(\002le)h(system.)0
4529 y(Ho)n(we)n(v)o(er)m(,)d(CM)i(normally)e(does)i
Ft(not)f Fv(permit)g(the)h(simultaneous)f(use)g(of)h(multiple)f(v)o
(ersions)g(of)g(the)h(same)g(library)f(in)h(one)f(session.)25
b(The)0 4629 y(disambiguating)20 b(rule)i(is)h(that)g(the)f(v)o(ersion)
f(that)h(gets)h(loaded)e(\002rst)i(\223wins\224;)h(subsequent)d
(attempts)h(to)h(load)e(dif)n(ferent)g(v)o(ersions)h(result)0
4729 y(in)e(w)o(arnings)g(or)g(errors.)k(\(See)c(the)g(discussion)g(of)
g Fu(CM.unshare)f Fv(in)h(section)g(5.1.6)f(for)g(ho)n(w)h(to)g(to)h
(circumv)o(ent)d(this)i(restriction.\))0 4878 y(The)k(second)g(kind)g
(of)g(parameter)f(understood)f(by)i Fu(cm)h Fv(is)g(a)g(named)f
(parameter)f(labeled)h(by)g(the)h(string)f Fu(bind)g
Fv(\(see)h(Section)f(3.3\).)37 b(It)0 4978 y(can)19 b(occur)f
(arbitrarily)f(man)o(y)h(times)h(and)f(each)h(occurence)e(must)i(be)g
(a)g(suboption-list)e(of)i(the)g(form)f Fu(\(anchor:)p
Fl(a)48 b Fu(value:)p Fl(v)s Fu(\))p Fv(.)24 b(The)0
5077 y(set)e(of)g Fu(bind)p Fv(-parameters)d(augments)h(the)i(current)e
(anchor)h(en)m(vironment)d(to)k(form)e(the)i(en)m(vironment)d(that)i
(is)i(used)e(while)h(processing)0 5177 y(the)e(contents)g(of)g(the)g
(named)f(CM)i(description)e(\002le.)p 0 5248 1608 4 v
90 5304 a Fp(8)120 5327 y Fo(The)d(label)j(is)e(named)h(after)g(the)g
(technique)i(\(\223)p Fh(\025)p Fo(-splitting\224)g([B)n(A97)q(]\))d
(used)g(to)g(achie)n(v)o(e)j(the)e(ef)n(fect)h(of)e(cross-module)h
(inlining.)1968 5709 y Fv(23)p eop
%%Page: 24 25
24 24 bop 0 83 a Fw(7.1.3)81 b(P)o(arameters)19 b(f)n(or)h(classes)h
Fu(tool)f Fw(and)h Fu(suffix)0 289 y Fv(Class)h Fu(tool)e
Fv(\(see)g(the)g(discussion)g(is)h(section)f(12.3.2\))e(does)i(not)g
(accept)g(an)o(y)f(parameters.)0 438 y(Class)j Fu(suffix)f
Fv(\(see)g(section)f(12.3.3\))f(tak)o(es)i(one)f(mandatory)f(parameter)
g(which)h(is)i(either)f(simply)f(a)h(class)h(name)e(or)h(the)g(same)g
(class)0 538 y(name)f(labeled)f(by)h Fu(class)p Fv(.)k(Thus,)c(the)g
(follo)n(wing)f(tw)o(o)h(lines)h(are)f(equi)n(v)n(alent:)0
770 y Fu(ml)49 b(:)h(suffix)f(\(sml\))0 870 y(ml)g(:)h(suffix)f
(\(class:sml\))0 1102 y Fv(There)19 b(are)h(no)g(recognized)e
(\002lename)i(suf)n(\002x)o(es)g(for)f(these)i(tw)o(o)f(classes.)0
1390 y Fr(7.2)99 b(Built-in)26 b(tools)0 1595 y Fw(7.2.1)81
b(ML-Y)-7 b(acc)0 1801 y Fv(The)28 b(ML-Y)-8 b(acc)27
b(tool)h(is)i(responsible)d(for)g(\002les)j(that)e(are)g(input)g(to)g
(the)h(ML-Y)-8 b(acc)27 b(parser)g(generator)-5 b(.)48
b(Its)29 b(class)g(name)f(is)h Fu(mlyacc)p Fv(.)0 1900
y(Recognized)22 b(\002le)i(name)f(suf)n(\002x)o(es)f(are)i
Fu(.grm)f Fv(and)g Fu(.y)p Fv(.)34 b(F)o(or)23 b(a)h(source)e(\002le)i
Fl(f)9 b Fv(,)25 b(the)e(tool)g(produces)f(tw)o(o)h(tar)o(gets)g
Fl(f)9 b Fu(.sig)23 b Fv(and)f Fl(f)9 b Fu(.sml)p Fv(,)0
2000 y(both)26 b(of)h(which)f(are)h(al)o(w)o(ays)g(treated)f(as)i(ML)f
(source)f(\002les.)46 b(The)26 b Fu(mlyacc)h Fv(class)h(accepts)e(tw)o
(o)h(optional)f(tool)h(parameters)e(labeled)0 2099 y
Fu(sigoptions)f Fv(and)h Fu(smloptions)p Fv(.)39 b(The)o(y)25
b(specify)f(tool)i(options)e(to)i(be)f(passed)g(on)g(to)h(the)f
(generated)f Fu(.sig)p Fv(-)h(and)g Fu(.sml)p Fv(-\002les,)0
2199 y(respecti)n(v)o(ely)-5 b(.)23 b(Example)736 2169
y Fq(9)767 2199 y Fv(:)100 2432 y Fu(lang.grm)48 b
(\(sigoptions:\(setup:\(pre:"print)c(\\"compiling)k
(lang.grm.sig\\\\n\\";"\)\))598 2531 y(smloptions:\(private\)\))0
2764 y Fv(The)22 b(tool)h(in)m(v)n(ok)o(es)e(the)i Fu(ml-yacc)f
Fv(command)e(if)j(the)g(tar)o(gets)f(are)g(\223outdated\224.)30
b(A)24 b(tar)o(get)d(is)j(outdated)d(if)i(it)g(is)g(missing)g(or)f
(older)g(than)0 2863 y(the)e(source.)25 b(Unless)c(anchored)e(using)h
(the)g(path)g(anchor)f(mechanism)g(\(see)i(Section)f(3.3\),)f(the)i
(command)d Fu(ml-yacc)i Fv(will)h(be)f(located)0 2963
y(using)g(the)g(operating)e(system')-5 b(s)21 b(path)f(search)f
(mechanism)g(\(e.g.,)g(the)i Fu($PATH)e Fv(en)m(vironment)f(v)n
(ariable\).)0 3234 y Fw(7.2.2)81 b(ML-Lex)0 3439 y Fv(The)16
b(ML-Le)o(x)f(tool)i(go)o(v)o(erns)d(\002les)k(that)e(are)h(input)f(to)
g(the)h(ML-Le)o(x)e(le)o(xical)h(analyzer)f(generator)g([AMT89)n(].)24
b(Its)17 b(class)h(name)e(is)h Fu(mllex)p Fv(.)0 3539
y(Recognized)25 b(\002le)h(name)g(suf)n(\002x)o(es)f(are)h
Fu(.lex)g Fv(and)g Fu(.l)p Fv(.)43 b(F)o(or)25 b(a)i(source)e(\002le)i
Fl(f)9 b Fv(,)27 b(the)g(tool)e(produces)g(one)g(tar)o(gets)h
Fl(f)9 b Fu(.sml)25 b Fv(which)h(will)0 3638 y(al)o(w)o(ays)21
b(be)f(treated)f(as)i(ML)g(source)e(code.)24 b(T)-7 b(ool)20
b(parameters)f(are)h(passed)g(on)g(without)g(change)f(to)h(that)g
(\002le.)0 3788 y(The)e(tool)f(in)m(v)n(ok)o(es)g(the)i
Fu(ml-lex)e Fv(command)f(if)i(the)g(tar)o(get)f(is)i(outdated)e(\(just)
h(lik)o(e)g(in)h(the)f(case)g(of)g(ML-Y)-8 b(acc\).)23
b(Unless)18 b(anchored)e(using)0 3888 y(the)25 b(path)g(anchor)e
(mechanism)h(\(see)h(Section)g(3.3\),)g(the)g(command)f
Fu(ml-lex)g Fv(will)i(be)f(located)f(using)h(the)g(operating)e(system')
-5 b(s)26 b(path)0 3987 y(search)20 b(mechanism)f(\(e.g.,)g(the)h
Fu($PATH)g Fv(en)m(vironment)d(v)n(ariable\).)0 4258
y Fw(7.2.3)81 b(ML-Bur)o(g)0 4463 y Fv(The)28 b(ML-Bur)o(g)f(tool)h
(deals)h(with)f(\002les)i(that)e(are)h(input)e(to)i(the)f(ML-Bur)o(g)f
(code-generater)e(generator)i([GG93)n(].)50 b(Its)29
b(class)h(name)e(is)0 4563 y Fu(mlburg)p Fv(.)53 b(The)30
b(only)f(recognized)e(\002le)k(name)e(suf)n(\002x)h(is)g
Fu(.burg)p Fv(.)54 b(F)o(or)29 b(a)i(source)e(\002le)h
Fl(f)9 b Fu(.burg)p Fv(,)31 b(the)f(tool)g(produces)e(one)h(tar)o(gets)
0 4663 y Fl(f)9 b Fu(.sml)19 b Fv(which)h(will)g(al)o(w)o(ays)h(be)e
(treated)h(as)g(ML)g(source)f(code.)25 b(An)o(y)19 b(tool)g(parameters)
g(are)h(passed)g(on)f(without)g(change)g(to)h(the)g(tar)o(get.)0
4812 y(The)26 b(tool)g(in)m(v)n(ok)o(es)f(the)h Fu(ml-burg)g
Fv(command)e(if)i(the)g(tar)o(get)g(is)h(outdated.)41
b(Unless)27 b(anchored)d(using)h(the)i(path)e(anchor)g(mechanism)0
4912 y(\(see)g(Section)f(3.3\),)g(the)g(command)f Fu(ml-lex)g
Fv(will)j(be)e(located)g(using)f(the)i(operating)d(system')-5
b(s)25 b(path)f(search)g(mechanism)f(\(e.g.,)i(the)0
5011 y Fu($PATH)20 b Fv(en)m(vironment)d(v)n(ariable\).)p
0 5079 1608 4 v 90 5135 a Fp(9)120 5158 y Fo(Since)h(the)g(generated)h
Fm(.sig)p Fo(-\002le)e(contains)i(nothing)g(more)e(than)h(an)f(ML)f
(signature)k(de\002nition,)e(it)g(is)f(typically)j(not)d(v)o(ery)h
(useful)g(to)f(pass)g(an)o(y)h(options)g(to)f(it.)1968
5709 y Fv(24)p eop
%%Page: 25 26
25 25 bop 0 83 a Fw(7.2.4)81 b(Shell)0 277 y Fv(The)23
b(Shell)g(tool)f(can)h(be)g(used)f(to)i(specify)e(arbitrary)f(shell)i
(commands)e(to)j(be)e(in)m(v)n(ok)o(ed)f(on)i(behalf)f(of)h(a)g(gi)n(v)
o(en)e(\002le.)34 b(The)23 b(name)f(of)h(the)0 377 y(class)d(is)f
Fu(shell)p Fv(.)24 b(There)18 b(are)g(no)g(recognized)f(\002le)i(name)f
(suf)n(\002x)o(es.)24 b(This)18 b(means)h(that)f(in)h(order)e(to)i(use)
g(the)f(shell)h(tool)g(one)f(must)g(al)o(w)o(ays)0 476
y(specify)i(the)g Fu(shell)g Fv(member)e(class)k(e)o(xplicitly)-5
b(.)0 614 y(The)24 b(rule)f(for)h(the)g Fu(shell)g Fv(class)g(relies)h
(on)f(tool)f(parameters.)36 b(The)23 b(parameter)g(list)i(must)f(be)g
(gi)n(v)o(en)f(in)h(parentheses)f(and)g(follo)n(w)h(the)0
714 y Fu(shell)c Fv(class)h(speci\002cation.)0 852 y(Consider)f(the)g
(follo)n(wing)e(e)o(xample:)100 1044 y Fu(foo.pp)48 b(:)i(shell)f
(\(target:foo.sml)e(options:\(shared\))1196 1144 y(/lib/cpp)h(-P)h
(-Dbar=baz)f(\045s)i(\045t\))0 1336 y Fv(This)16 b(member)e
(speci\002cation)h(says)h(that)g(\002le)g Fu(foo.sml)f
Fv(can)h(be)f(obtained)f(from)h Fu(foo.pp)g Fv(by)g(running)f(it)i
(through)e(the)h(C)i(preprocessor)0 1436 y Fu(cpp)p Fv(.)43
b(The)25 b(f)o(act)i(that)f(the)g(tar)o(get)f(\002le)i(is)g(gi)n(v)o
(en)e(as)i(a)f(tool)g(parameter)f(implies)h(that)g(the)g(member)f
(itself)i(is)g(the)f(source.)42 b(The)26 b(named)0 1535
y(parameter)18 b Fu(options)h Fv(lists)i(the)f(tool)f(parameters)f(to)i
(be)g(used)f(for)g(that)h(tar)o(get.)k(\(In)19 b(the)g(e)o(xample,)f
(the)i(parentheses)e(around)g Fu(shared)0 1635 y Fv(are)24
b(optional)f(because)g(it)i(is)g(the)f(only)f(element)h(of)f(the)i
(list.\))37 b(The)24 b(command)e(line)i(itself)g(is)h(gi)n(v)o(en)e(by)
h(the)g(remaining)e(non-k)o(e)o(yw)o(ord)0 1735 y(parameters.)h(Here,)c
(a)h(single)e Fw(\045s)i Fv(is)g(replaced)e(by)g(the)h(source)g(\002le)
g(name,)g(and)f(a)i(single)e Fw(\045t)i Fv(is)g(replaced)d(by)i(the)g
(tar)o(get)f(\002le)i(name;)e(an)o(y)0 1834 y(other)h(string)h(be)o
(ginning)e(with)i Fw(\045)h Fv(is)g(shortened)e(by)g(its)j(\002rst)f
(character)-5 b(.)0 1972 y(In)24 b(the)g(speci\002cation)g(one)g(can)g
(sw)o(ap)h(the)f(positions)g(of)g(source)g(and)f(tar)o(get)h(\(i.e.,)h
(let)g(the)f(member)f(name)h(be)g(the)g(tar)o(get\))f(by)h(using)g(a)0
2072 y Fu(source)c Fv(parameter:)100 2264 y Fu(foo.sml)48
b(:)i(shell)f(\(source:foo.pp)e(options:shared)1245 2364
y(/lib/cpp)i(-P)g(-Dbar=baz)f(\045s)i(\045t\))0 2556
y Fv(Exactly)24 b(one)h(of)f(the)h Fu(source)g Fv(and)f
Fu(target)h Fv(parameters)e(must)i(be)g(speci\002ed;)i(the)e(other)g
(one)f(is)i(tak)o(en)f(to)g(be)g(the)g(member)e(name)0
2656 y(itself.)44 b(The)27 b(tar)o(get)e(class)j(can)e(be)g(gi)n(v)o
(en)g(by)g(writing)g(a)g Fu(class)h Fv(parameter)e(whose)h(single)g
(sub-option)e(must)j(be)f(the)h(desired)f(class)0 2755
y(name.)0 2893 y(The)20 b(usual)g(distinction)f(between)h(nati)n(v)o(e)
f(and)h(standard)f(\002lename)g(syntax)h(applies)g(to)g(an)o(y)g(gi)n
(v)o(en)e Fu(source)i Fv(or)g Fu(target)g Fv(parameter)-5
b(.)0 3031 y(F)o(or)20 b(e)o(xample,)e(if)i(one)g(were)f(w)o(orking)g
(on)g(a)i(W)m(in32)e(system)h(and)f(the)h(tar)o(get)f(\002le)i(is)g
(supposed)e(to)h(be)f(in)i(the)f(root)f(directory)f(on)i(v)n(olume)0
3131 y Fu(D:)p Fv(,)g(then)g(one)f(must)i(use)f(nati)n(v)o(e)f(syntax)h
(to)g(write)h(it.)k(One)20 b(w)o(ay)h(of)f(doing)e(this)j(w)o(ould)f
(be:)100 3323 y Fu("D:\\\\foo.sml")47 b(:)j(shell)f(\(source)f(:)i
(foo.pp)e(options)h(:)g(shared)1544 3423 y(cpp)g(-P)h(-Dbar=baz)e
(\045s)h(\045t\))0 3615 y Fv(As)22 b(a)g(result,)g Fu(foo.sml)f
Fv(is)h(interpreted)e(using)h(nati)n(v)o(e)g(syntax)f(while)i
Fu(foo.pp)f Fv(uses)h(standard)e(con)m(v)o(entions)f(\(although)g(in)j
(this)g(case)0 3715 y(it)f(does)f(not)g(mak)o(e)f(a)i(dif)n(ference\).)
i(Had)d(we)g(used)g(the)g Fu(target)g Fv(v)o(ersion)f(from)g(abo)o(v)o
(e,)f(one)i(w)o(ould)f(ha)n(v)o(e)h(to)g(write:)100 3907
y Fu(foo.pp)48 b(:)i(shell)f(\(target)f(:)i("D:\\\\foo.sml")d(options)i
(:)g(shared)1644 4007 y(cpp)g(-P)h(-Dbar=baz)e(\045s)h(\045t\))0
4199 y Fv(The)20 b(shell)g(tool)g(in)m(v)n(ok)o(es)g(its)h(command)d
(whene)n(v)o(er)g(the)i(tar)o(get)g(is)h(outdated)d(with)j(respect)f
(to)g(the)g(source.)0 4454 y Fw(7.2.5)81 b(Mak)o(e)0
4648 y Fv(The)18 b(Mak)o(e)g(tool)g(\(class)h Fu(make)p
Fv(\))f(can)g(\(almost\))g(be)g(seen)h(as)g(a)g(specialized)f(v)o
(ersion)f(of)h(the)g(Shell)h(tool.)24 b(It)19 b(has)f(no)g(source)g
(and)g(one)f(tar)o(get)0 4747 y(\(the)22 b(member)f(itself\))h(which)f
(is)j(al)o(w)o(ays)e(considered)e(outdated.)30 b(As)23
b(with)f(the)g(Shell)g(tool,)g(it)h(is)g(possible)f(to)g(specify)g(tar)
o(get)f(class)i(and)0 4847 y(parameters)c(using)h(the)g
Fu(class)g Fv(and)f Fu(options)h Fv(k)o(e)o(yw)o(ord)e(parameters.)0
4985 y(The)28 b(tool)g(in)m(v)n(ok)o(es)g(the)g(shell)h(command)e
Fu(make)h Fv(on)g(the)h(tar)o(get.)49 b(Unless)29 b(anchored)d(using)i
(the)h(path)f(anchor)f(mechanism)g(3.3,)j(the)0 5084
y(command)18 b(will)j(be)f(located)g(using)f(the)i(operating)d(system')
-5 b(s)21 b(path)e(search)h(mechanism)f(\(e.g.,)g(the)h
Fu($PATH)g Fv(en)m(vironment)d(v)n(ariable\).)0 5222
y(An)o(y)28 b(parameters)g(other)g(than)g(the)h Fu(class)f
Fv(and)g Fu(options)g Fv(speci\002cations)g(must)h(be)g(plain)f
(strings)h(and)f(are)h(gi)n(v)o(en)e(as)j(additional)0
5322 y(command)18 b(line)i(ar)o(guments)f(to)h Fu(make)p
Fv(.)25 b(The)20 b(tar)o(get)f(name)g(is)j(al)o(w)o(ays)e(the)g(last)h
(command)e(line)h(ar)o(gument.)0 5460 y(Example:)1968
5709 y(25)p eop
%%Page: 26 27
26 26 bop 100 83 a Fu(bar-grm)48 b(:)i(make)f(\(class:mlyacc)e(-f)j
(bar-grm.mk\))0 308 y Fv(Here,)20 b(\002le)h Fu(bar-grm)e
Fv(is)i(generated)e(\(and)g(k)o(ept)h(up-to-date\))e(by)h(in)m(v)n
(oking)f(the)i(command:)100 517 y Fu(make)49 b(-f)g(bar-grm.mk)f
(bar-grm)0 726 y Fv(The)20 b(tar)o(get)f(\002le)i(is)g(then)f(treated)g
(as)g(input)g(for)f Fu(ml-yacc)p Fv(.)0 873 y(Cascading)24
b(Shell-)g(and)f(Mak)o(e-tools)g(is)i(easily)f(possible.)37
b(Here)24 b(is)h(an)f(e)o(xample)e(that)j(\002rst)g(uses)f(Mak)o(e)g
(to)g(b)n(uild)g Fu(bar.pp)f Fv(and)h(then)0 973 y(\002lters)d(the)f
(contens)f(of)h Fu(bar.pp)g Fv(through)e(the)i(C)h(preprocessor)d(to)j
(arri)n(v)o(e)e(at)h Fu(bar.sml)p Fv(:)100 1197 y Fu(bar.pp)48
b(:)i(make)f(\(class:shell)1046 1297 y(options:\(target:bar.sml)d(cpp)j
(-Dbar=baz)f(\045s)h(\045t\))847 1397 y(-f)g(bar-pp.mk\))0
1664 y Fw(7.2.6)81 b(No)o(web)0 1867 y Fv(The)21 b Fu(noweb)g
Fv(class)i(handles)e(sources)g(written)g(for)g(Ramse)o(y')-5
b(s)22 b Ft(noweb)f Fv(literate)g(programming)d(f)o(acility)k([Ram94)n
(].)30 b(Files)22 b(ending)e(with)0 1967 y(suf)n(\002x)g
Fu(.nw)g Fv(are)g(automatically)f(recognized)f(as)j(belonging)d(to)i
(this)h(class.)0 2114 y(The)f(list)h(of)f(tar)o(gets)f(that)h(are)g(to)
g(be)g(e)o(xtracted)f(from)g(a)h(no)n(web)f(\002le)i(must)f(be)g
(speci\002ed)f(using)h(tool)g(options.)k(A)c(tar)o(get)f(can)h(then)g
(ha)n(v)o(e)f(a)0 2214 y(v)n(ariety)g(of)h(its)h(o)n(wn)f(options.)k
(Each)c(tar)o(get)f(is)i(speci\002ed)f(by)g(a)g(separate)g(tool)g
(option)f(labelled)g Fu(target)p Fv(.)25 b(The)20 b(option)f(usually)g
(has)i(the)0 2314 y(form)e(of)h(a)h(sub-option)d(list.)26
b(Recognized)18 b(sub-options)h(are:)0 2538 y Fw(name)41
b Fv(the)20 b(name)g(of)g(the)g(tar)o(get)0 2702 y Fw(r)o(oot)40
b Fv(the)21 b(\(optional\))e(root)i(tag)g(for)f(the)i(tar)o(get)e(\(gi)
n(v)o(en)g(to)h(the)g Fu(-R)h Fv(command)d(line)i(switch)h(for)e(the)h
Fu(notangle)g Fv(command\);)e(if)j Fu(root)208 2802 y
Fv(is)f(missing,)f Fu(name)g Fv(is)h(used)f(instead)0
2965 y Fw(class)42 b Fv(the)20 b(\(optional\))e(class)j(of)f(the)g(tar)
o(get)0 3129 y Fw(options)41 b Fv(\(optional\))18 b(options)h(for)h
(the)g(tool)g(that)g(handles)g(the)g(tar)o(get')-5 b(s)20
b(class)0 3293 y Fw(linef)n(ormat)40 b Fv(a)21 b(string)e(that)i(will)g
(be)f(passed)g(to)g(the)g Fu(-L)h Fv(command)d(line)i(option)f(of)h
Fu(notangle)0 3518 y Fv(Example:)100 3742 y Fu(project.nw)48
b(\(target:\(name:main.sml)d(options:\(private\)\))697
3842 y(target:\(name:grammar)h(class:mlyacc\))697 3942
y(target:\(name:parse.sml\)\))0 4166 y Fv(In)30 b(place)h(of)f(the)h
(sub-option)e(list)i(there)g(can)f(be)h(a)g(single)g(string)f(option)f
(which)i(will)g(be)g(used)f(for)g Fu(name)h Fv(or)f(e)n(v)o(en)g(an)h
(unnamed)0 4266 y(parameter)16 b(\(i.e.,)h(without)f(the)h
Fu(target)g Fv(label\).)23 b(If)17 b(no)g(tar)o(gets)f(are)h
(speci\002ed,)g(the)g(tool)g(will)h(assume)f(tw)o(o)g(def)o(ault)g(tar)
o(gets)f(by)h(stripping)0 4365 y(the)j Fu(.nw)g Fv(suf)n(\002x)g(\(if)g
(present\))f(from)h(the)g(source)f(name)h(and)g(adding)e
Fu(.sig)i Fv(as)h(well)g(as)g Fu(.sml)p Fv(.)0 4513 y(The)f(follo)n
(wing)e(four)h(e)o(xamples)h(are)g(all)g(equi)n(v)n(alent:)100
4737 y Fu(foo.nw)48 b(\(target:\(name:foo.sig\))e
(target:\(name:foo.sml\)\))100 4837 y(foo.nw)i(\(target:foo.sig)f
(target:foo.sml\))100 4936 y(foo.nw)h(\(foo.sig)h(foo.sml\))100
5036 y(foo.nw)0 5261 y Fv(If)23 b Fu(lineformat)e Fv(is)j(missing,)f
(then)g(a)g(def)o(ault)f(based)h(on)f(the)h(tar)o(get)f(class)i(is)g
(used.)33 b(Currently)21 b(only)h(the)h Fu(sml)g Fv(and)g
Fu(cm)g Fv(classes)h(are)0 5360 y(kno)n(wn)19 b(to)i(CM;)h(other)e
(classes)h(can)g(be)g(added)e(or)i(remo)o(v)o(ed)d(by)i(using)g(the)h
Fu(NowebTool.lineNumbering)c Fv(controller)i(function)0
5460 y(e)o(xported)f(from)h(library)g Fu($/noweb-tool.cm)p
Fv(:)1968 5709 y(26)p eop
%%Page: 27 28
27 27 bop 100 83 a Fu(val)49 b(lineNumbering:)e(string)i(->)g({)h(get:)
f(unit)g(->)g(string)g(option,)1644 183 y(set:)g(string)g(option)f(->)i
(unit)f(})0 415 y Fv(The)20 b Fu(noweb)g Fv(class)h(accepts)f(tw)o(o)g
(other)g(parameter)e(besides)j Fu(target)p Fv(:)0 648
y Fw(subdir)42 b Fv(speci\002es)24 b(a)g(sub-option)d(that)j(is)g(used)
g(to)f(specify)g(a)h(directory)e(where)g(deri)n(v)o(ed)g(\002les)j
(\(i.e.,)e(tar)o(get)g(\002les)h(and)f(witness)h(\002les)h(as)208
747 y(f)o(ar)e(as)i(the)o(y)e(ha)n(v)o(e)g(been)g(speci\002ed)h(using)f
(relati)n(v)o(e)g(path)g(names\))g(are)h(created.)35
b(If)24 b(the)g Fu(subdir)f Fv(option)f(is)j(missing,)f(its)h(v)n(alue)
208 847 y(def)o(aults)19 b(to)i Fu(NW)p Fv(.)0 1013 y
Fw(witness)42 b Fv(speci\002es)25 b(an)g(auxiliary)e(deri)n(v)o(ed)g
(\002le)j(whose)e(time)h(stamp)g(is)g(used)g(by)f(CM)i(to)f(a)n(v)n
(oid)f(recompiling)f(e)o(xtracted)g(\002les)j(whose)208
1112 y(contents)15 b(ha)n(v)o(e)h(not)g(changed.)22 b(If)16
b Fu(witness)g Fv(has)g(not)h(been)e(speci\002ed,)i(then)f(CM)h(uses)g
(time)f(stamps)h(on)f(e)o(xtracted)f(\002les)i(directly)208
1212 y(to)i(determine)f(whether)h Fu(notangle)f Fv(needs)i(to)f(be)h
(run.)k(Thus,)19 b(with)h(no)f(witness,)h(an)o(y)e(change)h(to)g(the)h
(master)f(\002le)i(causes)e(time)208 1312 y(stamps)25
b(on)g(all)g(e)o(xtracted)f(\002les)i(to)f(be)h(updated)d(as)j(well.)40
b(If)25 b(a)h(witness)g(w)o(as)g(speci\002ed,)f(then)g(CM)h(will)g
(write)f(o)o(v)o(er)f(e)o(xtracted)208 1411 y(\002les,)c(causing)g
(their)f(time)i(stamps)f(to)g(change,)e(only)i(if)g(their)g(contents)f
(ha)n(v)o(e)g(also)i(changed.)i(The)d Fu(subdir)f Fv(speci\002cation)g
(also)208 1511 y(applies)h(to)g(the)g(name)g(of)g(the)g(witness)h
(\002le.)0 1743 y(Example:)100 1976 y Fu(foo.nw)48 b
(\(subdir:NOWEBFILES)498 2076 y(witness:foo.wtn)498 2175
y(target:\(name:main.sml\)\))0 2408 y Fv(Here,)20 b(the)g(\002les)h
(named)e Fu(main.sml)h Fv(and)f Fu(foo.wtn)h Fv(will)h(be)f(created)f
(as)100 2623 y Fu(NOWEBFILES/main.sml)100 2723 y(NOWEBFILES/foo.wtn)0
2939 y Fv(while)h(without)g(the)g Fu(subdir)p Fv(-option)d(it)k(w)o
(ould)f(ha)n(v)o(e)f(been)100 3155 y Fu(NW/main.sml)100
3254 y(NW/foo.wtn)0 3470 y Fv(T)-7 b(o)20 b(a)n(v)n(oid)g(the)g
(creation)g(of)g(such)f(a)i(sub-directory)-5 b(,)17 b(one)j(can)g(use)g
(the)g Ft(curr)m(ent)g(ar)m(c)h Fv(\223)p Fw(.)p Fv(\224)k(and)19
b(write:)100 3686 y Fu(foo.nw)48 b(\(subdir:.)498 3786
y(witness:foo.wtn)498 3885 y(target:\(name:main.sml\)\))0
4156 y Fw(7.2.7)81 b(Dir)0 4362 y Fv(Using)20 b(the)g(Dir)h(tool)f(one)
f(can)h(use)h(directory)d(names)i(in)g(description)f(\002les.)26
b(There)19 b(are)h(tw)o(o)h(possible)f(uses)h(for)e(the)h(Dir)h(tool:)
104 4594 y(1.)41 b(F)o(actoring)18 b(out)i(common)e(directory)h(names.)
104 4760 y(2.)41 b(Scanning)18 b(the)j(contents)e(of)h(directories)f
(for)h(\002les)h(with)f(ML)g(code.)1968 5709 y(27)p eop
%%Page: 28 29
28 28 bop 0 83 a Fw(Dir)o(ectory)19 b(factoring:)81 b
Fv(The)20 b(main)h(purpose)e(of)i(the)g(Dir)g(tool)g(\(class)g
Fu(dir)p Fv(\))g(is)h(to)f(simplify)f(CM)i(descriptions)d(that)j
(mention)d(a)j(lar)o(ge)0 183 y(number)c(of)i(\002les)h(all)g(of)f
(which)g(are)g(located)f(in)i(in)f(the)g(same)h(directory)-5
b(.)23 b(F)o(or)c(this)i(style)g(of)f(usage,)f(tool)h(options)f(ha)n(v)
o(e)h(to)g(be)g(speci\002ed.)0 332 y(F)o(or)g(e)o(xample,)e(writing)0
565 y Fu(Group)49 b(is)100 664 y(long/directory/name)d(:)k(dir)f
(\(a.sml)f(b/c.sml)h(d.sml\))0 897 y Fv(is)21 b(equi)n(v)n(alent)e(to)h
(the)g(follo)n(wing)f(v)o(erbose)f(description:)0 1129
y Fu(Group)49 b(is)100 1229 y(long/directory/name/a.sml)100
1328 y(long/directory/name/b/c.sml)100 1428 y
(long/directory/name/d.sml)0 1660 y Fv(Since)20 b(CM)h(automatically)e
(classi\002es)i(directory)e(names)h(as)h(members)e(of)h(class)h
Fu(dir)p Fv(,)f(the)g(e)o(xample)f(can)h(be)g(further)f(simpli\002ed:)0
1893 y Fu(Group)49 b(is)100 1993 y(long/directory/name)d(\(a.sml)j
(b/c.sml)f(d.sml\))0 2225 y Fv(Options)20 b(for)f(class)i
Fu(dir)g Fv(consist)f(of)g(a)g(list)i(of)e(items,)g(each)g(item)g(ha)n
(ving)f(one)h(of)g(tw)o(o)g(possible)g(forms:)104 2457
y(1.)41 b(The)18 b(item)g(can)g(be)g(a)h(sub-option)d(list)k(of)e(the)g
(form)f Fu(member:\()p Fl(m)49 b Fu(class:)p Fl(c)f Fu(options:)p
Fl(o)p Fu(\))18 b Fv(which)f(emulates)h(an)h(ordinary)208
2557 y(member)f(speci\002cation)g(with)i(class)g(and)f(options.)k(The)c
Fu(class)p Fv(-)g(and)g Fu(options)p Fv(-\002elds)f(may)h
(\(independently)d(of)j(each)g(other\))208 2657 y(be)h(missing,)g(b)n
(ut)g(the)g(order)f(of)h(\002elds)g(that)h(are)f(present)f(is)j(\002x)o
(ed.)104 2823 y(2.)41 b(The)20 b(item)i(can)f(be)g(a)g(simple)g(name)g
(\(as)g(sho)n(wn)g(in)g(the)g(e)o(xample\).)26 b(Such)21
b(a)h(simple)f(name)f Fl(m)i Fv(is)g(equi)n(v)n(alent)d(to)j(the)f
(longer)f(form)208 2922 y Fu(member:\()p Fl(m)p Fu(\))p
Fv(.)0 3155 y(Members)f Fl(m)i Fv(must)f(al)o(w)o(ays)h(be)f
(speci\002ed)g(using)g Ft(r)m(elative)g Fv(path)g(names.)0
3304 y(F)o(or)g(e)o(xample,)e(the)j(description)0 3537
y Fu(Group)49 b(is)100 3636 y(alpha/a.sml)e(\(private\))100
3736 y(alpha/b.ml)h(:)h(sml)g(\(shared\))100 3836 y(alpha/c.cm)100
3935 y(beta/d.sml)100 4035 y(beta/e.sml)0 4267 y Fv(can)20
b(be)g(simpli\002ed)g(as:)0 4500 y Fu(Group)49 b(is)100
4599 y(alpha)g(\(member:\(a.sml)e(options:private\))448
4699 y(member:\(b.ml)h(class:sml)g(options:shared\))448
4799 y(c.cm\))100 4898 y(beta)h(\(d.sml)f(e.sml\))1968
5709 y Fv(28)p eop
%%Page: 29 30
29 29 bop 0 83 a Fw(Dir)o(ectory)19 b(scanning:)83 b
Fv(Another)19 b(use)j(of)f(the)g(Dir)g(tool,)g(indicated)f(by)g(the)i
(absence)e(of)h(tool)g(options,)f(is)i(to)f(include)f(all)i(ML)f(code)f
(in)0 183 y(a)h(gi)n(v)o(en)e(directory)f(\223whole-sale)h(style\224.)
25 b(F)o(or)20 b(e)o(xample,)f(a)h(member)f(of)h(the)g(form)100
415 y Fu(projects/ml/foo)47 b(:)i(dir)0 648 y Fv(lets)23
b(CM)f(scan)g(the)f(contents)g(of)h(directory)d Fu(projects/ml/foo)h
Fv(and)h(proceed)f(as)i(if)g(a)g(list)h(of)e(all)h(disco)o(v)o(ered)e
(ML)i(\002les)g(had)f(been)0 747 y(written)e(in)g(place)g(of)g(the)g
Fu(dir)g Fv(member)-5 b(.)24 b(F)o(or)19 b(this,)h(the)f(usual)g
(classi\002cation)g(mechanism)f(is)i(used)f(to)g(decide)g(which)f
(directory)g(entries)0 847 y(are)i(to)g(be)h(considered)d(\002les)j
(containing)d(ML)j(code.)0 996 y(As)f(before,)d(the)i(e)o(xample)f
(could)g(be)h(further)e(simpli\002ed)i(by)f(omitting)g(the)h(class)h
(name.)k(Thus,)18 b(a)i(v)o(ery)e(quick)g(w)o(ay)h(of)f(putting)g
(together)0 1096 y(a)j(small)f(project)g(is)h(to)f(use)g(a)h(generic)e
(description)g(\002le)i(of)f(the)g(form:)0 1328 y Fu(Group)49
b(is)g($/basis.cm)f(.)0 1561 y Fv(As)21 b(usual,)f(the)g(dot)f(denotes)
h(the)g(current)f(directory)-5 b(.)22 b(Therefore,)c(CM)j(will)g(scan)f
(the)g(current)f(directory)f(and)i(include)f(an)o(y)g(ML)h(code)g(it)0
1660 y(\002nds)g(there.)25 b(\(Library)18 b Fu($/basis.cm)h
Fv(is)i(necessary)f(for)f(most)h(non-tri)n(vial)f(programs,)f(so)i(we)h
(included)d(it)j(also.\))0 1810 y(This)j(is)h(decepti)n(v)o(ely)e
(simple,)h(b)n(ut)h(be)f(w)o(arned:)32 b(The)24 b(technique)e(of)i
(letting)g(CM)h(scan)f(the)g(physical)f(directory)g(is)i(to)f(be)g(a)n
(v)n(oided)f(for)0 1910 y(an)o(y)f(serious)h(project)g(because)f(it)i
(is)g(v)o(ery)f(fragile.)33 b(It)23 b(does)g(not)g(mix)g(well)h(with)f
(the)h(use)f(of)g(other)g(tools,)g(it)h(will)g(break)e(when)h(certain)0
2009 y(otherwise)g(unrelated)e(ML)i(\002les)i(are)e(present,)g(and)f
(so)i(on,)f(and)g(so)g(forth.)33 b(In)23 b(short,)g(for)g(serious)f
(programming)e(the)j(Dir)h(tool)f(should)0 2109 y(not)d(be)g(used)g
(without)f(specifying)g(options.)0 2439 y Fx(8)119 b(Conditional)32
b(compilation)0 2674 y Fv(In)27 b(its)h(description)e(\002les,)k(CM)e
(of)n(fers)e(a)i(simple)f(conditional)e(compilation)h(f)o(acility)h
(inspired)f(by)h(the)g(preprocessor)e(for)i(the)g(C)h(lan-)0
2774 y(guage)22 b([KR88)o(].)33 b(Ho)n(we)n(v)o(er)m(,)22
b(it)h(is)h(not)f(really)f(a)i Ft(pr)m(e)p Fv(-processor)m(,)d(and)h
(the)h(syntax)f(of)h(the)g(controlling)e(e)o(xpressions)g(is)j(borro)n
(wed)d(from)0 2873 y(SML.)0 3023 y(Sequences)c(of)g(members)f(can)i(be)
f(guarded)f(by)h Fu(#if)p Fv(-)p Fu(#endif)f Fv(brack)o(ets)h(with)g
(optional)g Fu(#elif)g Fv(and)g Fu(#else)g Fv(lines)h(in)g(between.)23
b(The)0 3122 y(same)c(guarding)d(syntax)i(can)g(also)h(be)f(used)g(to)h
(conditionalize)d(the)j(e)o(xport)e(list.)25 b Fu(#if)p
Fv(-,)19 b Fu(#elif)p Fv(-,)e Fu(#else)p Fv(-,)h(and)g
Fu(#endif)p Fv(-lines)g(must)0 3222 y(start)j(in)g(the)g(\002rst)g
(column)e(and)h(al)o(w)o(ays)h(e)o(xtend)f(to)g(the)h(end)f(of)g(the)h
(current)e(line.)27 b Fu(#if)20 b Fv(and)g Fu(#elif)g
Fv(must)h(be)g(follo)n(wed)e(by)h(a)h(boolean)0 3322
y(e)o(xpression.)0 3471 y(Boolean)26 b(e)o(xpressions)f(can)h(be)g
(formed)f(by)h(comparing)e(arithmetic)h(e)o(xpressions)g(\(using)h
(operators)f Fu(<)p Fv(,)j Fu(<=)p Fv(,)g Fu(=)p Fv(,)g
Fu(>=)p Fv(,)f Fu(>)p Fv(,)h(or)e Fu(<>)p Fv(\),)i(by)0
3571 y(logically)i(combining)f(tw)o(o)i(other)g(boolean)e(e)o
(xpressions)h(\(using)g(operators)g Fu(andalso)p Fv(,)j
Fu(orelse)p Fv(,)g Fu(=)p Fv(,)h(or)c Fu(<>)p Fv(,)k(by)d(querying)e
(the)0 3670 y(e)o(xistence)19 b(of)h(a)h(CM)g(symbol)e(de\002nition,)g
(or)h(by)g(querying)e(the)i(e)o(xistence)f(of)h(an)g(e)o(xported)e(ML)j
(de\002nition.)0 3820 y(Arithmetic)d(e)o(xpressions)g(can)h(be)g
(numbers)f(or)h(references)f(to)h(CM)h(symbols,)f(or)f(can)h(be)g
(formed)f(from)g(other)g(arithmetic)h(e)o(xpressions)0
3919 y(using)h(operators)e Fu(+)p Fv(,)j Fu(-)f Fv(\(subtraction\),)e
Fu(*)p Fv(,)i Fu(div)p Fv(,)g Fu(mod)p Fv(,)g(or)10 b
Fi(~)g Fv(\(unary)18 b(minus\).)24 b(All)d(arithmetic)e(is)j(done)d(on)
h(signed)f(inte)o(gers.)0 4069 y(An)o(y)g(e)o(xpression)g(\(arithmetic)
g(or)h(boolean\))e(can)i(be)g(surrounded)e(by)h(parentheses)g(to)i
(enforce)d(precedence.)0 4356 y Fr(8.1)99 b(CM)25 b(v)o(ariables)0
4562 y Fv(CM)e(pro)o(vides)d(a)i(number)f(of)g(\223v)n(ariables\224)g
(\(names)h(that)g(stand)f(for)h(certain)f(inte)o(gers\).)29
b(These)22 b(v)n(ariables)f(may)h(appear)f(in)h(e)o(xpressions)0
4661 y(of)d(the)h(conditional-compilation)15 b(f)o(acility)-5
b(.)25 b(The)19 b(e)o(xact)g(set)i(of)e(v)n(ariables)g(pro)o(vided)e
(depends)h(on)i(SML/NJ)g(v)o(ersion)e(number)m(,)g(machine)0
4761 y(architecture,)g(and)h(operating)f(system.)25 b(A)20
b(reference)e(to)i(a)g(CM)h(v)n(ariable)d(is)j(considered)d(an)i
(arithmetic)f(e)o(xpression.)k(If)c(the)h(v)n(ariable)f(is)0
4861 y(not)h(de\002ned,)g(then)g(it)h(e)n(v)n(aluates)f(to)g(0.)26
b(The)20 b(e)o(xpression)f Fu(defined)p Fv(\()p Fl(v)s
Fv(\))h(is)h(a)g(boolean)e(e)o(xpression)g(that)h(yields)h(true)f(if)h
(and)f(only)g(if)g Fl(v)25 b Fv(is)0 4960 y(a)c(de\002ned)e(CM)i(v)n
(ariable.)0 5110 y(The)c(names)f(of)h(CM)g(v)n(ariables)f(are)h(formed)
e(starting)i(with)g(a)g(letter)g(follo)n(wed)f(by)g(zero)g(or)h(more)f
(occurences)f(of)i(letters,)g(decimal)g(digits,)0 5209
y(apostrophes,)h(or)i(underscores.)0 5359 y(The)g(follo)n(wing)e(v)n
(ariables)i(will)h(be)f(de\002ned)f(and)h(bound)e(to)i(1:)1968
5709 y(29)p eop
%%Page: 30 31
30 30 bop 125 83 a Fs(\017)41 b Fv(depending)17 b(on)j(the)g(operating)
e(system:)208 183 y Fu(OPSYS)p 463 183 25 4 v 29 w(UNIX)p
Fv(,)h Fu(OPSYS)p 982 183 V 29 w(WIN32)p Fv(,)h Fu(OPSYS)p
1552 183 V 29 w(MACOS)p Fv(,)f Fu(OPSYS)p 2121 183 V
29 w(OS2)p Fv(,)h(or)g Fu(OPSYS)p 2681 183 V 29 w(BEOS)125
335 y Fs(\017)41 b Fv(depending)17 b(on)j(processor)f(architecture:)208
435 y Fu(ARCH)p 413 435 V 29 w(SPARC)p Fv(,)g Fu(ARCH)p
932 435 V 29 w(ALPHA)p Fv(,)h Fu(ARCH)p 1452 435 V 29
w(MIPS)p Fv(,)g Fu(ARCH)p 1922 435 V 29 w(X86)p Fv(,)g
Fu(ARCH)p 2342 435 V 29 w(HPPA)p Fv(,)g Fu(ARCH)p 2812
435 V 29 w(RS6000)p Fv(,)f(or)h Fu(ARCH)p 3471 435 V
29 w(PPC)125 588 y Fs(\017)41 b Fv(depending)17 b(on)j(the)g
(processor')-5 b(s)19 b(endianness:)25 b Fu(BIG)p 1763
588 V 29 w(ENDIAN)20 b Fv(or)f Fu(LITTLE)p 2501 588 V
29 w(ENDIAN)125 740 y Fs(\017)41 b Fv(depending)17 b(on)j(the)g(nati)n
(v)o(e)g(w)o(ord)f(size)i(of)f(the)g(implementation:)j
Fu(SIZE)p 2348 740 V 29 w(32)e Fv(or)e Fu(SIZE)p 2787
740 V 30 w(64)125 893 y Fs(\017)41 b Fv(the)20 b(symbol)f
Fu(NEW)p 750 893 V 29 w(CM)0 1069 y Fv(Furthermore,)29
b(the)g(symbol)f Fu(SMLNJ)p 1128 1069 V 29 w(VERSION)g
Fv(will)i(be)f(bound)e(to)j(the)f(major)f(v)o(ersion)g(number)f(of)i
(SML/NJ)h(\(i.e.,)g(the)f(number)0 1169 y(before)19 b(the)h(\002rst)g
(dot\))g(and)f Fu(SMLNJ)p 1054 1169 V 29 w(MINOR)p 1333
1169 V 29 w(VERSION)g Fv(will)i(be)f(bound)e(to)i(the)g(system')-5
b(s)21 b(minor)e(v)o(ersion)g(number)f(\(i.e.,)h(the)h(number)0
1268 y(after)g(the)g(\002rst)h(dot\).)0 1405 y(Using)f(the)g
Fu(CM.symval)f Fv(interf)o(ace)h(one)f(can)h(de\002ne)g(additional)f(v)
n(ariables)g(or)h(modify)f(e)o(xisting)g(ones.)0 1673
y Fr(8.2)99 b(Querying)25 b(exported)h(de\002nitions)0
1865 y Fv(An)d(e)o(xpression)f(of)h(the)h(form)e Fu(defined)p
Fv(\()p Fl(n)g(s)p Fv(\),)i(where)f Fl(s)h Fv(is)g(an)g(ML)f(symbol)g
(and)f Fl(n)i Fv(is)h(an)e(ML)g(namespace)g(speci\002er)m(,)g(is)h(a)g
(boolean)0 1965 y(e)o(xpression)17 b(that)i(yields)g(true)f(if)h(and)f
(only)g(if)h(an)o(y)f(member)g(included)f(before)g(this)i(test)h(e)o
(xports)e(a)h(de\002nition)e(under)h(this)h(name.)24
b(There-)0 2064 y(fore,)19 b(order)f(among)g(members)g(matters)h(after)
g(all)h(\(b)n(ut)f(it)i(remains)d(unrelated)g(to)i(the)f(problem)f(of)h
(determining)e(static)j(dependencies\)!)0 2164 y(The)g(namespace)f
(speci\002er)h(must)g(be)g(one)g(of:)25 b Fu(structure)p
Fv(,)19 b Fu(signature)p Fv(,)f Fu(functor)p Fv(,)i(or)g
Fu(funsig)p Fv(.)0 2300 y(If)25 b(the)g(query)e(tak)o(es)i(place)g(in)g
(the)g(\223e)o(xports\224)e(section)i(of)g(a)g(description)e(\002le,)k
(then)d(it)i(yields)f(true)f(if)h Ft(any)g Fv(of)f(the)h(included)f
(members)0 2400 y(e)o(xports)19 b(the)h(named)f(symbol.)0
2536 y(Example:)100 2722 y Fu(Library)299 2821 y(structure)48
b(Foo)100 2921 y(#if)h(defined\(structure)e(Bar\))299
3020 y(structure)h(Bar)100 3120 y(#endif)100 3220 y(is)100
3319 y(#if)h(SMLNJ_VERSION)e(>)j(110)299 3419 y(new-foo.sml)100
3519 y(#else)299 3618 y(old-foo.sml)100 3718 y(#endif)100
3817 y(#if)f(defined\(structure)e(Bar\))299 3917 y(bar-client.sml)100
4017 y(#else)299 4116 y(no-bar-so-far.sml)100 4216 y(#endif)0
4402 y Fv(Here,)39 b(the)d(\002le)g Fu(bar-client.sml)d
Fv(gets)j(included)e(if)i Fu(SMLNJ)p 2069 4402 V 29 w(VERSION)f
Fv(is)h(greater)f(than)g(110)f(and)h Fu(new-foo.sml)f
Fv(e)o(x-)0 4502 y(ports)e(a)h(structure)e Fu(Bar)i Ft(or)f
Fv(if)h Fu(SMLNJ)p 1220 4502 V 29 w(VERSION)48 b(<=)i(110)32
b Fv(and)g Fu(old-foo.sml)f Fv(e)o(xports)g(structure)g
Fu(Bar)p Fv(.)62 b(Otherwise)32 b(\002le)0 4601 y Fu(no-bar-so-far.sml)
19 b Fv(gets)j(included)e(instead.)28 b(In)21 b(addition,)g(the)g(e)o
(xport)f(of)h(structure)g Fu(Bar)g Fv(is)i(guarded)c(by)i(its)i(o)n(wn)
e(e)o(xistence.)0 4701 y(\(Structure)h Fu(Bar)h Fv(could)g(also)h(be)f
(de\002ned)g(by)g Fu(no-bar-so-far.sml)d Fv(in)k(which)f(case)h(it)g(w)
o(ould)f(get)g(e)o(xported)e(re)o(gardless)h(of)i(the)0
4800 y(outcome)19 b(of)h(the)g(other)f Fu(defined)h Fv(test.\))0
5069 y Fr(8.3)99 b(Explicit)25 b(err)n(ors)0 5261 y Fv(A)19
b(pseudo-member)c(of)k(the)g(form)e Fu(#error)49 b Fl(:)14
b(:)g(:)p Fv(,)19 b(which\227lik)o(e)f(other)g Fu(#)p
Fv(-items\227starts)h(in)g(the)g(\002rst)g(column)f(and)g(e)o(xtends)f
(to)i(the)g(end)0 5360 y(of)f(the)g(line,)h(causes)f(an)h(e)o(xplicit)e
(error)h(message)g(to)g(be)g(printed)f(unless)i(it)g(gets)f(e)o
(xcluded)f(by)h(the)g(conditional)e(compilation)h(logic.)24
b(The)0 5460 y(error)19 b(message)h(is)h(gi)n(v)o(en)e(by)h(the)g
(remainder)e(of)i(the)h(line)f(after)g(the)g(w)o(ord)f
Fu(error)p Fv(.)1968 5709 y(30)p eop
%%Page: 31 32
31 31 bop 0 83 a Fx(9)119 b(Access)30 b(contr)n(ol)0
313 y Fv(The)17 b(basic)g(idea)g(behind)f(CM')-5 b(s)18
b(access)g(control)e(is)i(the)g(follo)n(wing:)k(In)17
b(their)g(description)e(\002les,)k(groups)d(and)g(libraries)h(can)g
(specify)g(a)g(list)0 413 y(of)k Ft(privile)m(g)o(es)h
Fv(that)g(the)g(client)g(must)f(ha)n(v)o(e)h(in)g(order)e(to)i(be)g
(able)f(to)h(use)g(them.)30 b(Pri)n(vile)o(ges)21 b(at)h(this)g(le)n(v)
o(el)g(are)f(just)i(names)e(\(strings\))g(and)0 513 y(must)h(be)g
(written)g(in)g(front)f(of)h(the)g(initial)h(k)o(e)o(yw)o(ord)d
Fu(Library)h Fv(or)h Fu(Group)p Fv(.)31 b(If)21 b(one)h(group)e(or)i
(library)f(imports)h(from)f(another)f(group)0 612 y(or)e(library)-5
b(,)17 b(then)g(pri)n(vile)o(ges)g(\(or)g(rather:)24
b(pri)n(vile)o(ge)16 b(requirements\))g(are)i(being)f(inherited.)23
b(In)18 b(ef)n(fect,)g(to)g(be)g(able)g(to)g(use)g(a)h(program,)d(one)0
712 y(must)k(ha)n(v)o(e)g(all)h(pri)n(vile)o(ges)d(for)i(all)h(its)g
(libraries,)f(sub-libraries)e(and)i(library)f(components,)f(components)
g(of)i(sub-libraries,)e(and)i(so)g(on.)0 857 y(Of)29
b(course,)g(this)h(alone)e(w)o(ould)f(not)i(yet)f(be)h(satisf)o(actory)
-5 b(.)49 b(The)28 b(main)g(service)h(of)f(the)h(access)g(control)e
(system)i(is)h(that)e(it)i(can)e(let)h(a)0 956 y(client)g(use)h(an)f
(\223unsafe\224)g(library)f(\223safely\224.)52 b(F)o(or)29
b(e)o(xample,)h(a)g(library)e Fu(LSafe.cm)h Fv(could)f(\223wrap\224)h
(all)h(the)f(unsafe)g(operations)e(in)0 1056 y Fu(LUnsafe.cm)d
Fv(with)i(enough)d(error)i(checking)e(that)j(the)o(y)f(become)f(safe.)
41 b(Therefore,)24 b(a)i(user)g(of)f Fu(LSafe.cm)f Fv(should)h(not)g
(also)h(be)0 1155 y(required)18 b(to)j(possess)g(the)f(pri)n(vile)o
(ges)f(that)h(w)o(ould)f(be)i(required)d(if)i(one)g(were)g(to)g(use)h
Fu(LUnsafe.cm)e Fv(directly)-5 b(.)0 1300 y(In)20 b(CM')-5
b(s)22 b(access)f(control)e(model)g(it)i(is)h(possible)e(for)g(a)g
(library)g(to)g(\223wrap\224)g(pri)n(vile)o(ges.)k(If)c(a)h(pri)n(vile)
o(ge)e Fl(P)33 b Fv(has)20 b(been)g(wrapped,)f(then)h(the)0
1400 y(user)f(of)f(the)h(library)e(does)h(not)h(need)f(to)h(ha)n(v)o(e)
f(pri)n(vile)o(ge)f Fl(P)31 b Fv(e)n(v)o(en)17 b(though)g(the)i
(library)e(is)j(using)e(another)f(library)h(that)h(requires)e(pri)n
(vile)o(ge)0 1499 y Fl(P)12 b Fv(.)25 b(In)20 b(essence,)g(the)h
(library)e(acts)h(as)h(a)g(go-between)d(who)i(pro)o(vides)e(the)i
(necessary)g(credentials)f(for)h(pri)n(vile)o(ge)e Fl(P)33
b Fv(to)20 b(the)h(sub-library)-5 b(.)0 1644 y(Of)21
b(course,)g(not)f(e)n(v)o(erybody)e(can)j(be)g(allo)n(wed)f(to)h
(establish)h(a)f(library)f(with)h(such)g(a)h(\223wrapped\224)d(pri)n
(vile)o(ge)g Fl(P)12 b Fv(.)28 b(The)21 b(programmer)d(who)0
1743 y(does)23 b(that)g(should)g(at)h(least)g(herself)e(ha)n(v)o(e)h
(pri)n(vile)o(ge)f(P)i(\(b)n(ut)f(perhaps)f(better)m(,)h(she)g(should)g
(ha)n(v)o(e)f Ft(permission)i(to)f(wr)o(ap)g Fl(P)12
b Fv(\227a)24 b(stronger)0 1843 y(requirement\).)0 1987
y(In)d(CM,)h(wrapping)e(a)i(pri)n(vile)o(ge)e(is)j(done)d(by)h
(specifying)f(the)i(name)f(of)g(that)h(pri)n(vile)o(ge)e(within)h
(parenthesis.)29 b(The)21 b(wrapping)f(becomes)0 2087
y(ef)n(fecti)n(v)o(e)f(once)h(the)h(library)f(gets)h(stabilized)f(via)h
Fu(CM.stabilize)p Fv(.)j(The)d(\(not)f(yet)g(implemented\))f
(enforcement)f(mechanism)i(must)0 2187 y(ensure)f(that)i(an)o(yone)d
(who)i(stabilizes)g(a)h(library)e(that)h(wraps)g Fl(P)33
b Fv(has)20 b(permission)g(to)g(wrap)g Fl(P)12 b Fv(.)0
2331 y(Note)20 b(that)g(pri)n(vile)o(ges)f(cannot)g(be)i(wrapped)d(at)j
(the)f(le)n(v)o(el)g(of)g(CM)h(groups.)0 2476 y(Access)e(control)e(is)i
(a)f(ne)n(w)g(feature.)24 b(At)18 b(the)g(moment,)f(only)h(the)g(basic)
g(mechanisms)f(are)h(implemented,)f(b)n(ut)h(there)g(is)h(no)e
(enforcement.)0 2575 y(In)k(other)f(w)o(ords,)g(e)n(v)o(erybody)d(is)22
b(assumed)f(to)f(ha)n(v)o(e)h(e)n(v)o(ery)e(possible)i(pri)n(vile)o
(ge.)k(CM)d(merely)d(reports)h(which)h(pri)n(vile)o(ges)e(\223w)o(ould)
h(ha)n(v)o(e)0 2675 y(been)g(required\224.)0 2998 y Fx(10)119
b(The)30 b(per)o(v)o(asi)o(v)o(e)f(en)-5 b(vir)n(onment)0
3228 y Fv(The)29 b Ft(pervasive)f(en)m(vir)l(onment)g
Fv(can)g(be)h(thought)e(of)i(as)h(a)f(compilation)e(unit)i(that)g(all)g
(compilation)f(units)h(implicitly)f(depend)f(upon.)0
3328 y(The)22 b(perv)n(asi)n(v)o(e)g(en)m(viroment)e(e)o(xports)h(all)j
(non-modular)19 b(bindings)i(\(types,)i(v)n(alues,)g(in\002x)f
(operators,)g(o)o(v)o(erloaded)e(symbols\))i(that)h(are)0
3428 y(mandated)h(by)h(the)g(speci\002cation)f(for)h(the)g(Standard)f
(ML)i(Basis)g(Library)e([RG99)o(].)41 b(\(All)25 b(other)g(bindings)f
(of)h(the)g(Basis)i(Library)d(are)0 3527 y(e)o(xported)18
b(by)i Fu($/basis.cm)f Fv(which)g(is)i(a)g(genuine)e(CM)i(library)-5
b(.\))0 3672 y(The)30 b(perv)n(asi)n(v)o(e)f(en)m(vironment)e(is)32
b(the)e(only)g(place)g(where)g(CM)i(con)m(v)o(e)o(ys)c(non-modular)f
(bindings)i(from)g(one)h(compilation)f(unit)h(to)0 3771
y(another)m(,)18 b(and)i(its)h(de\002nition)e(is)i(\002x)o(ed.)0
4094 y Fx(11)119 b(Files)0 4325 y Fv(CM)21 b(uses)g(three)e(kinds)h(of)
g(\002les)h(to)f(store)h(deri)n(v)o(ed)d(information)g(during)g(and)i
(between)f(sessions:)104 4540 y(1.)41 b Ft(Sk)o(eleton)15
b(\002les)i Fv(are)f(used)h(to)f(store)h(a)g(highly)e(abbre)n(viated)f
(v)o(ersion)i(of)g(each)g(ML)h(source)e(\002le')-5 b(s)18
b(abstract)e(syntax)g(tree\227just)h(barely)208 4640
y(suf)n(\002cient)24 b(to)i(dri)n(v)o(e)e(CM')-5 b(s)27
b(dependenc)o(y)22 b(analysis.)40 b(Sk)o(eleton)25 b(\002les)h(are)g
(much)e(smaller)h(and)g(\(for)f(a)i(program\))d(easier)j(to)f(read)208
4739 y(than)20 b(actual)h(ML)g(source)g(code.)27 b(Therefore,)18
b(the)k(e)o(xistence)e(of)h(v)n(alid)f(sk)o(eleton)h(\002les)h(mak)o
(es)f(CM)h(a)f(lot)h(f)o(aster)f(because)f(usually)208
4839 y(most)g(parsing)f(operations)g(can)h(be)g(a)n(v)n(oided)f(that)h
(w)o(ay)-5 b(.)104 5000 y(2.)41 b Ft(Bin\002les)20 b
Fv(are)g(the)h(SML/NJ)g(equi)n(v)n(alent)e(of)h(object)h(\002les.)27
b(The)o(y)19 b(contain)h(e)o(x)o(ecutable)f(code)g(and)i(a)g(symbol)e
(table)i(for)f(the)g(associ-)208 5100 y(ated)g(ML)g(source)f(\002le.)
104 5261 y(3.)41 b Ft(Libr)o(ary)23 b(\002les)h Fv(\(sometimes)f
(called:)32 b Ft(stable\002les)p Fv(\))23 b(contain)g(dependenc)o(y)d
(graph,)j(e)o(x)o(ecutable)f(code,)i(and)f(symbol)g(tables)h(for)f(an)
208 5360 y(entire)d(CM)h(library)e(including)g(all)i(of)f(its)h
(components)e(\(groups\).)k(Other)d(libraries)g(used)h(by)f(a)h(stable)
f(library)g(are)g(not)g(included)208 5460 y(in)g(full.)25
b(Instead,)19 b(references)g(to)h(those)g(libraries)g(are)g(recorded)e
(using)i(their)g(\(preferably)d(anchored\))h(pathnames.)1968
5709 y(31)p eop
%%Page: 32 33
32 32 bop 0 83 a Fv(Normally)-5 b(,)18 b(all)j(these)g(\002les)g(are)f
(stored)g(in)g(a)h(subdirectory)d(of)i(directory)e Fu(CM)p
Fv(.)i Fu(CM)h Fv(itself)g(is)g(a)f(subdirectory)e(of)i(the)g
(directory)f(where)h(the)0 183 y(original)f(ML)h(source)g(\002le)h(or)n
(\227in)e(the)i(case)f(of)g(library)f(\002les\227the)i(original)e(CM)i
(description)e(\002le)h(is)i(located.)0 332 y(Sk)o(eleton)e(\002les)i
(are)e(machine-)g(and)g(operating)f(system-independent.)k(Therefore,)18
b(the)o(y)i(are)h(al)o(w)o(ays)g(placed)f(into)h(the)f(same)h
(directory)0 432 y Fu(CM/SKEL)p Fv(.)31 b(P)o(arsing)g(\(for)f(the)i
(purpose)e(of)i(dependenc)o(y)c(analysis\))k(will)g(be)g(done)e(only)h
(once)g(e)n(v)o(en)g(if)h(the)g(same)f(\002le)i(system)f(is)0
531 y(accessible)20 b(from)f(machines)h(of)g(dif)n(ferent)e(type.)0
681 y(Bin\002les)35 b(and)e(library)f(\002les)j(contain)d(e)o(x)o
(ecutable)g(code)h(and)g(other)g(information)e(that)j(is)h(potentially)
d(system-)h(and)g(architecture-)0 780 y(dependent.)k(Therefore,)24
b(the)o(y)h(are)g(stored)f(under)g Fu(CM/)p Ft(ar)m(c)o(h)p
Fu(-)p Ft(os)g Fv(where)g Ft(ar)m(c)o(h)h Fv(is)h(a)f(string)g
(indicating)f(the)h(type)g(of)g(the)g(current)f(CPU)0
880 y(architecture)19 b(and)g Ft(os)i Fv(a)f(string)g(denoting)f(the)h
(current)f(operating)f(system)i(type.)0 1029 y(As)26
b(e)o(xplained)e(in)i(Section)f(2.8,)h(library)f(\002les)h(are)g(a)g
(bit)g(of)f(an)h(e)o(xception)d(in)j(the)g(sense)g(that)f(the)o(y)g(do)
g(not)h(require)e(an)o(y)h(source)g(\002les)0 1129 y(or)j(an)o(y)e
(other)h(deri)n(v)o(ed)f(\002les)j(of)f(the)f(same)h(library)f(to)h(e)o
(xist.)48 b(As)28 b(a)h(consequence,)e(the)h(location)e(of)i(such)g(a)g
(library)e(\002le)j(should)e(be)0 1229 y(described)e(as)h(being)f
(relati)n(v)o(e)g(to)h(\223the)g(location)e(of)i(the)g(original)e(CM)j
(description)d(\002le)j(if)f(that)g(description)e(\002le)j(still)g(e)o
(xisted\224.)41 b(\(Of)0 1328 y(course,)25 b(nothing)e(precludes)h(the)
h(CM)g(description)f(\002le)h(from)f(actually)h(e)o(xisting,)g(b)n(ut)f
(in)i(the)e(presence)g(of)h(a)g(corresponding)d(library)0
1428 y(\002le)f(CM)g(will)g(not)f(tak)o(e)g(an)o(y)f(notice)h(of)g
(that.\))0 1577 y Ft(Note:)25 b Fv(As)c(discussed)f(in)h(section)e
(7.1.2,)g(CM)i(sometimes)f(looks)g(for)f(library)g(\002les)i(in)g
Fu(CM/)p Ft(ver)o(sion)p Fu(/)p Ft(ar)m(c)o(h)p Fu(-)p
Ft(os)p Fv(.)h(Ho)n(we)n(v)o(er)m(,)d(library)g(\002les)0
1677 y(are)k(ne)n(v)o(er)f Ft(cr)m(eated)h Fv(there)g(by)f(CM.)i(If)f
(se)n(v)o(eral)g(v)o(ersions)f(of)h(the)g(same)h(library)e(are)h(to)h
(be)f(pro)o(vided,)e(an)i(administrator)f(must)h(arrange)0
1777 y(the)d(directory)f(hierarchy)e(accordingly)h(\223by)i(hand\224.)0
2064 y Fr(11.1)99 b(T)n(ime)25 b(stamps)0 2270 y Fv(F)o(or)e(sk)o
(eleton)g(\002les)h(and)f(bin\002les,)h(CM)g(uses)g(\002le)g(system)g
(time)f(stamps)h(\(i.e.,)g(modi\002cation)d(time\))j(to)f(determine)f
(whether)g(a)i(\002le)g(has)0 2369 y(become)19 b(outdated.)k(The)d
(rule)g(is)h(that)f(in)h(order)d(to)j(be)f(considered)e
(\223up-to-date\224)g(the)i(time)g(stamp)g(on)g(sk)o(eleton)g(\002le)h
(and)e(bin\002le)h(has)g(to)0 2469 y(be)f(e)o(xactly)g(the)g(same)649
2439 y Fq(10)730 2469 y Fv(as)h(the)g(one)e(on)h(the)h(ML)f(source)f
(\002le.)26 b(This)19 b(guarantees)f(that)h(all)h(changes)e(to)i(a)f
(source)g(will)h(be)f(noticed\227e)n(v)o(en)0 2568 y(those)h(that)g(re)
n(v)o(ert)f(to)i(an)f(older)f(v)o(ersion)g(of)h(a)h(source)e(\002le.)
1704 2538 y Fq(11)0 2718 y Fv(CM)i(also)f(uses)h(time)g(stamps)f(to)g
(decide)g(whether)f(tools)h(such)g(as)h(ML-Y)-8 b(acc)19
b(or)h(ML-Le)o(x)f(need)h(to)g(be)g(run)g(\(see)g(Section)g(7\).)25
b(Ho)n(we)n(v)o(er)m(,)0 2818 y(the)i(dif)n(ference)f(is)i(that)g(a)g
(\002le)g(is)g(considered)e(outdated)f(if)j(it)g(is)h(older)d(than)h
(its)i(source.)46 b(Some)27 b(care)g(on)g(the)g(programmers)e(side)j
(is)0 2917 y(necessary)17 b(since)h(this)g(scheme)g(does)f(not)h(allo)n
(w)f(CM)i(to)f(detect)f(the)h(situation)f(where)h(a)g(source)f(\002le)h
(gets)g(replaced)f(by)g(an)h(older)f(v)o(ersion)0 3017
y(of)j(itself.)0 3304 y Fr(11.2)99 b(Index)25 b(\002les)0
3510 y Fv(CM)h(can)e(optionally)f(generate)h(a)h(human-readable)c(inde)
o(x)j(\002le)i(for)e(each)g(description)g(\002le.)39
b(An)25 b(inde)o(x)f(\002les)i(alphabetically)d(lists)j(all)0
3609 y(symbols)18 b(de\002ned)g(or)h(imported)e(within)i(the)g(gi)n(v)o
(en)e(library)h(or)h(library)f(component.)k(Inde)o(x-\002le)17
b(generation)g(is)i(normally)f(disabled.)23 b(T)-7 b(o)0
3709 y(enable)19 b(it,)i Fu(CM.Control.generate)p 1280
3709 25 4 v 26 w(index)f Fv(must)h(be)f(set)h(to)f(true)g(\(see)g
(section)g(5.1\).)0 3858 y(W)m(ith)h(inde)o(x-\002le)e(generation)g
(enabled,)g(inde)o(x)g(\002les)j(will)f(be)f(written)h(for)f(all)h
(description)e(\002les)j(in)m(v)n(olv)o(ed)c(e)n(v)o(ery)h(time)i(CM)g
(performs)e(a)0 3958 y(dependenc)o(y)d(analysis.)25 b(\(In)18
b(other)h(w)o(ords,)g(it)g(is)i(a)e(side-ef)n(fect)f(to)i(other)e(CM)i
(operations)e(such)h(as)h Fu(CM.make)e Fv(etc.\))25 b(If)19
b(the)g(name)g(of)g(the)0 4058 y(description)g(\002les)i(is)g
Fl(p)p Fu(/)p Fl(d)p Fu(.cm)p Fv(,)f(then)f(the)i(corresponding)16
b(inde)o(x)j(\002le)i(will)g(be)f(in)h Fl(p)p Fu(/CM/INDEX/)p
Fl(d)p Fu(.cm)p Fv(.)0 4388 y Fx(12)119 b(Extending)31
b(the)f(tool)g(set)0 4623 y Fv(CM')-5 b(s)23 b(tool)f(set)g(is)h(e)o
(xtensible:)28 b(ne)n(w)22 b(tools)g(can)f(be)h(added)f(by)g(writing)h
(a)g(fe)n(w)g(lines)g(of)g(ML)g(code.)29 b(The)22 b(necessary)f(hooks)g
(for)g(this)i(are)0 4723 y(pro)o(vided)18 b(by)h(a)i(structure)e
Fu(Tools)h Fv(which)g(is)h(e)o(xported)d(by)i(the)g Fu
($smlnj/cm/tools.cm)d Fv(library)-5 b(.)p 0 4794 1608
4 v 66 4849 a Fp(10)120 4873 y Fo(CM)17 b(e)o(xplicitly)j(sets)d(the)h
(time)g(stamp)f(to)g(be)h(the)f(same.)66 4930 y Fp(11)120
4954 y Fo(e)o(xcept)i(for)e(the)g(pathological)k(case)d(where)g(tw)o(o)
g(dif)n(ferent)h(v)o(ersions)f(of)f(the)h(same)f(source)h(\002le)f(ha)o
(v)o(e)h(e)o(xactly)i(the)d(same)g(time)h(stamp)1968
5709 y Fv(32)p eop
%%Page: 33 34
33 33 bop 0 83 a Fr(12.1)99 b(Adding)25 b(simple)g(shell-command)h
(tools)0 289 y Fv(If)20 b(the)g(tool)g(is)h(implemented)e(as)i(a)f
(\223typical\224)g(shell)g(command,)e(then)i(all)h(that)f(needs)g(to)g
(be)g(done)f(is)i(a)g(single)f(call)h(of:)100 521 y Fu
(Tools.registerStdShellCmdTool)0 753 y Fv(F)o(or)27 b(e)o(xample,)h
(suppose)f(you)g(ha)n(v)o(e)g(made)g(a)h(ne)n(w)-5 b(,)29
b(impro)o(v)o(ed)c(v)o(ersion)h(of)h(ML-Y)-8 b(acc)27
b(\(\223Ne)n(w-ML-Y)-8 b(acc\224\))25 b(and)i(w)o(ant)h(to)g(re)o
(gister)f(it)0 853 y(under)19 b(a)h(class)i(called)e
Fu(nmlyacc)p Fv(.)k(Here)c(is)h(what)f(you)f(write:)100
1086 y Fu(val)49 b(_)h(=)f(Tools.registerStdShellCmdTool)199
1185 y({)h(tool)f(=)h("New-ML-Yacc",)299 1285 y(class)f(=)g("nmlyacc",)
299 1384 y(suffixes)f(=)i(["ngrm",)e("ny"],)299 1484
y(cmdStdPath)g(=)h("new-ml-yacc",)299 1584 y(template)f(=)i(NONE,)299
1683 y(extensionStyle)d(=)498 1783 y(Tools.EXTEND)h([\("sig",)g(SOME)h
("sml",)g(fn)g(_)h(=>)f(NONE\),)1196 1883 y(\("sml",)f(SOME)h("sml",)g
(fn)g(x)h(=>)f(x\)],)299 1982 y(dflopts)f(=)i([])f(})0
2215 y Fv(This)26 b(code)e(can)h(be)h(packaged)d(as)j(a)g(CM)g(library)
e(and)h(loaded)f(via)i Fu(CM.make)e Fv(or)i Fu(CM.load)p
2847 2215 25 4 v 28 w(plugin)p Fv(.)40 b(\()p Fu(CM.autoload)24
b Fv(is)i(not)0 2314 y(enough)18 b(because)i(of)g(its)i(lazy)e(nature)f
(which)h(pre)n(v)o(ents)f(the)h(required)f(side-ef)n(fects)g(to)i
(occur)-5 b(.\))24 b(Alternati)n(v)o(ely)-5 b(,)18 b(the)j(code)f
(could)f(also)i(be)0 2414 y(entered)e(at)i(the)f(interacti)n(v)o(e)f
(top)h(le)n(v)o(el)g(after)f(loading)g(library)g Fu($smlnj/cm/tools.cm)
p Fv(.)0 2563 y(In)h(our)g(e)o(xample,)g(the)g(shell)i(command)c(name)i
(for)h(our)f(tool)g(is)i Fu(new-ml-yacc)p Fv(.)j(When)20
b(looking)f(for)h(this)i(command)c(in)j(the)g(\002lesys-)0
2663 y(tem,)30 b(CM)g(\002rst)f(tries)g(to)f(treat)h(it)g(as)g(a)g
(path)f(anchor)f(\(see)i(section)f(3.3\).)49 b(F)o(or)28
b(e)o(xample,)h(suppose)e Fu(new-ml-yacc)g Fv(is)j(mapped)c(to)0
2763 y Fu(/bin)p Fv(.)e(In)19 b(this)h(case)g(the)f(command)e(to)j(be)f
(in)m(v)n(ok)o(ed)e(w)o(ould)i(be)g Fu(/bin/new-ml-yacc)p
Fv(.)j(If)d(path)g(anchor)f(resolution)g(f)o(ails,)i(then)f(the)0
2862 y(command)f(name)i(will)h(be)f(used)g(as-is.)25
b(Normally)19 b(this)i(causes)g(the)f(shell')-5 b(s)21
b(path)e(search)h(mechanism)f(to)i(be)f(used)g(as)g(a)h(f)o(allback.)0
3012 y Fu(Tools.registerStdShellCmdTool)c Fv(creates)22
b(the)g(class)h(and)e(installs)i(the)f(tool)g(for)f(it.)31
b(The)22 b(ar)o(guments)e(must)i(be)g(speci\002ed)0 3111
y(as)f(follo)n(ws:)0 3344 y Fw(tool)40 b Fv(a)21 b(descripti)n(v)o(e)e
(name)g(of)h(the)g(tool)g(\(used)g(in)g(error)f(messages\);)h(type:)25
b Fu(string)0 3510 y Fw(class)42 b Fv(the)20 b(name)f(of)h(the)g
(class;)i(the)e(string)g(must)g(not)g(contain)f(upper)n(-case)g
(letters;)h(type:)25 b Fu(string)0 3676 y Fw(suf\002xes)41
b Fv(a)21 b(list)g(of)f(\002le)h(name)f(suf)n(\002x)o(es)f(that)i(let)f
(CM)h(automatically)e(recognize)g(\002les)i(of)f(the)g(class;)h(type:)k
Fu(string)49 b(list)0 3842 y Fw(cmdStdP)o(ath)41 b Fv(the)20
b(command)e(string)i(from)f(abo)o(v)o(e;)g(type:)25 b
Fu(string)0 4008 y Fw(template)40 b Fv(an)21 b(optional)d(string)i
(that)h(describes)e(ho)n(w)h(the)g(command)e(line)j(is)g(to)f(be)g
(constructed)f(from)g(pieces;)208 4108 y(The)g(string)h(is)h(tak)o(en)f
(v)o(erbatim)f(e)o(xcept)g(for)h(embedded)e(\045)i(format)g
(speci\002ers:)208 4274 y Fw(\045c)41 b Fv(the)20 b(command)e(name)i
(\(i.e.,)g(the)g(elaboration)e(of)i Fu(cmdStdPath)p Fv(\))208
4390 y Fw(\045s)41 b Fv(the)21 b(source)e(\002le)i(name)e(in)i(nati)n
(v)o(e)e(pathname)g(syntax)208 4506 y Fw(\045)p Fl(n)p
Fw(t)41 b Fv(the)20 b Fl(n)p Fv(-th)g(tar)o(get)f(\002le)i(in)f(nati)n
(v)o(e)f(pathname)g(syntax;)390 4606 y(\()p Fl(n)27 b
Fv(is)h(speci\002ed)f(as)h(a)f(decimal)g(number)m(,)f(counting)f
(starts)j(at)f Fi(1)p Fv(,)i(and)d(each)h(tar)o(get)f(\002le)i(name)e
(is)i(constructed)e(from)g(the)390 4705 y(corresponding)13
b Fu(extensionStyle)h Fv(entry;)j(if)g Fl(n)g Fv(is)g
Fi(0)g Fv(\(or)e(missing\),)i(then)f(all)h(tar)o(gets\227separated)d
(by)i(single)g(spaces\227)390 4805 y(are)26 b(inserted;)i(if)d
Fl(n)i Fv(is)f(not)f(in)h(the)g(range)e(between)h Fi(0)h
Fv(and)f(the)h(number)d(of)j(a)n(v)n(ailable)f(tar)o(gets,)h(then)f
Fw(\045)p Fl(n)p Fw(t)h Fv(e)o(xpands)e(into)390 4905
y(itself\))208 5021 y Fw(\045)p Fl(n)p Fw(o)40 b Fv(the)21
b Fl(n)p Fv(-th)e(tool)h(parameter;)390 5120 y(\(named)i(sub-option)f
(parameters)h(are)h(ignored;)g Fl(n)h Fv(is)g(speci\002ed)f(as)h(a)f
(decimal)g(number)m(,)e(counting)h(starts)i(at)f Fi(1)p
Fv(;)i(if)f Fl(n)f Fv(is)h Fi(0)390 5220 y Fv(\(or)18
b(missing\),)g(then)g(all)h(options\227separated)c(by)j(single)g
(spaces\227are)g(inserted;)h(if)f Fl(n)h Fv(is)g(not)f(in)h(the)f
(range)f(between)h Fi(0)g Fv(and)390 5320 y(the)i(number)f(of)h(a)n(v)n
(ailable)f(options,)g(then)h Fw(\045)p Fl(n)p Fw(o)g
Fv(e)o(xpands)f(into)h(itself\))208 5436 y Fw(\045)p
Fl(x)42 b Fv(the)20 b(character)f Fl(x)i Fv(\(where)e
Fl(x)i Fv(is)g(neither)f Fw(c)p Fv(,)g(nor)g Fw(s)p Fv(,)g
Fw(t)p Fv(,)h(or)e Fw(o)p Fv(\))1968 5709 y(33)p eop
%%Page: 34 35
34 34 bop 208 83 a Fv(If)20 b(no)f(template)h(string)g(is)h(gi)n(v)o
(en,)e(then)g(it)i(def)o(aults)f(to)g Fu("\045c)50 b(\045s")p
Fv(.)0 249 y Fw(extensionStyle)40 b Fv(a)26 b(speci\002cation)e(of)h
(ho)n(w)g(the)g(names)g(of)g(\002les)h(generated)e(by)h(the)g(tool)g
(relate)g(to)h(the)f(name)g(of)g(the)g(tool)g(input)g(\002le;)208
349 y(type:)f Fu(Tools.extensionStyle)p Fv(.)208 448
y(Currently)-5 b(,)18 b(there)i(are)g(tw)o(o)g(possible)g(cases:)286
614 y(1.)41 b(\223)p Fu(Tools.EXTEND)19 b Fl(l)r Fv(\224)h(says)h(that)
f(if)h(the)f(tool)h(source)e(\002le)i(is)g Ft(\002le)g
Fv(then)f(for)g(each)g(suf)n(\002x)g Ft(sfx)h Fv(in)f
Fu(\(map)49 b(#1)h Fl(l)r Fu(\))20 b Fv(there)g(will)390
714 y(be)26 b(one)f(tool)g(output)g(\002le)h(named)f
Ft(\002le)p Fu(.)p Ft(sfx)p Fv(.)41 b(The)26 b(list)h
Fl(l)g Fv(consists)g(of)e(triplets)h(where)f(the)h(\002rst)g(component)
d(speci\002es)k(the)390 814 y(suf)n(\002x)21 b(string,)g(the)g(second)f
(component)f(optionally)g(speci\002es)i(the)h(member)d(class)j(name)f
(of)g(the)g(corresponding)c(deri)n(v)o(ed)390 913 y(\002le,)29
b(and)d(the)h(third)g(component)d(is)k(a)f(function)e(to)i(calculate)g
(tool)f(options)g(for)h(the)g(tar)o(get)f(from)f(those)i(of)g(the)g
(source.)390 1013 y(\(Ar)o(gument)18 b(and)h(result)i(type)e(of)h
(these)h(functions)d(is)k Fu(Tools.toolopts)47 b(option)p
Fv(.\))286 1146 y(2.)41 b(\223)p Fu(Tools.REPLACE)47
b Fi(\()p Fl(l)1181 1158 y Fk(1)1219 1146 y Fl(;)14 b(l)1281
1158 y Fk(2)1318 1146 y Fi(\))p Fv(\224)24 b(says)h(that)f(gi)n(v)o(en)
f(the)h(base)g(name)f Ft(base)h Fv(there)f(will)i(be)f(one)g(tool)f
(output)g(\002le)i Ft(base)p Fu(.)p Ft(sfx)390 1245 y
Fv(for)d(each)g(suf)n(\002x)f Ft(sfx)i Fv(in)g Fu(\(map)49
b(#1)g Fl(l)1520 1257 y Fk(2)1557 1245 y Fu(\))p Fv(.)32
b(Here,)22 b Ft(base)g Fv(is)h(determined)d(by)i(the)g(follo)n(wing)f
(rule:)29 b(If)22 b(the)g(name)g(of)g(the)g(tool)390
1345 y(input)17 b(\002le)h(has)f(a)h(suf)n(\002x)e(that)i(occurs)e(in)h
Fl(l)1574 1357 y Fk(1)1611 1345 y Fv(,)i(then)d Ft(base)h
Fv(is)h(the)g(name)e(without)h(that)g(suf)n(\002x.)23
b(Otherwise)17 b(the)h(whole)e(\002le)i(name)390 1445
y(is)h(tak)o(en)d(as)j Ft(base)e Fv(\(just)g(lik)o(e)h(in)f(the)h(case)
g(of)f Fu(Tools.EXTEND)p Fv(\).)e(As)j(with)f Fu(Tools.EXTEND)p
Fv(,)f(the)h(second)g(components)390 1544 y(of)k(the)g(elements)f(of)h
Fl(l)1036 1556 y Fk(2)1095 1544 y Fv(can)f(optionally)g(specify)g(the)h
(member)e(class)j(name)e(of)h(the)g(corresponding)c(deri)n(v)o(ed)j
(\002le,)h(and)g(the)390 1644 y(third)f(component)d(maps)k(source)e
(options)g(to)i(tar)o(get)e(options.)0 1810 y Fw(d\003opts)41
b Fv(a)29 b(list)h(of)e(tool)g(options)f(which)h(is)h(used)f(for)g
(substituting)f Fw(\045)p Fl(n)p Fw(o)h Fv(\002elds)h(in)g
Fu(template)e Fv(\(see)i(abo)o(v)o(e\))d(if)i(no)g(options)g(were)208
1910 y(speci\002ed.)c(\(Note)18 b(that)h(the)g(v)n(alue)g(of)f
Fu(dflopts)h Fv(is)h(ne)n(v)o(er)d(passed)i(to)g(the)g(option)f
(mappers)g(in)h Fu(Tools.EXTEND)e Fv(or)i Fu(Tools.)208
2009 y(REPLACE)p Fv(.\))f(T)-7 b(ype:)25 b Fu(Tools.toolopts)p
Fv(.)0 2242 y(Examples)20 b(for)g(the)h Fu(EXTEND)f Fv(e)o(xpansion)f
(style)i(are)g(tools)g(such)f(as)i(ML-Y)-8 b(acc)20 b(and)g(ML-Le)o(x,)
f(while)i(others,)f(e.g.,)g(ML-Bur)o(g,)f(use)j(the)0
2341 y Fu(REPLACE)d Fv(style)i(\(see)f(section)g(7.2\).)0
2629 y Fr(12.2)99 b(Adding)25 b(other)h(classes)0 2834
y Fv(Adding)20 b(a)i(ne)n(w)f(class)h(whose)f(beha)n(vior)e(is)j(not)f
(co)o(v)o(ered)e(by)i(the)g(mechanism)f(described)g(in)i(section)f
(12.1)f(is)i(not)f(complicated)f(either)m(,)0 2934 y(b)n(ut)g(it)h
(requires)e(a)i(bit)f(more)g(code.)0 3205 y Fw(12.2.1)81
b(Filename)20 b(abstractions)0 3410 y Fv(CM)e(represents)f(\002lenames)
g(as)h(something)e(that)h(could)g(be)g(called)g(a)h Ft(\002lename)e
(closur)m(e)p Fv(.)24 b(Essentially)-5 b(,)17 b(what)h(this)g(means)f
(is)h(that)f(not)g(only)0 3510 y(a)k(string)g(is)h(being)e(remembered)e
(b)n(ut)j(also)g(the)g(conte)o(xt)f(in)h(which)f(to)h(interpret)f(the)h
(string.)27 b(F)o(or)20 b(a)i(relati)n(v)o(e)e(path,)g(conte)o(xt)g
(information)0 3609 y(is)h(the)f(directory)f(in)h(which)g(it)h(is)g(to)
f(be)g(interpreted;)f(for)g(an)h(anchored)f(path,)g(the)h(conte)o(xt)f
(tak)o(es)i(care)f(of)g(the)g(anchoring.)0 3759 y(The)g
Fu(Tools)g Fv(module)e(pro)o(vides)h(tw)o(o)h(abstract)g(types)g
(related)g(to)g(this)h(\002lename)f(abstraction:)100
3991 y Fu(type)49 b(presrcpath)100 4091 y(type)g(srcpath)0
4323 y Fv(Since)27 b(man)o(y)e(tools)h(in)m(v)n(ok)o(e)g(e)o(xternal)f
(shell)i(commands)e(or)h(perform)e(other)i(operation)f(on)h(physical)f
(\002les,)k(it)e(is)h(often)e(necessary)f(to)0 4423 y(obtain)19
b(an)h(actual)g(nati)n(v)o(e)g(\002lename)f(string)h(from)f(an)i
(abstract)f(path:)100 4655 y Fu(val)49 b(nativeSpec)f(:)h(srcpath)g(->)
g(string)100 4755 y(val)g(nativePreSpec)e(:)j(presrcpath)e(->)h(string)
0 4988 y Fv(It)26 b(is)g(important)f(to)g(remember)f(that)i(these)g(tw)
o(o)f(functions)g(frequently)e(return)i(relati)n(v)o(e)f(\002lenames,)j
(and)e(such)g(relati)n(v)o(e)g(names)h(must)0 5087 y(be)21
b(interpreted)e(from)h(within)h(the)g(right)f(directory)-5
b(.)25 b(This)c(\223right\224)f(directory)f(is)j(the)f(directory)f
(that)h(contains)f(the)h(CM)g(description)f(\002le)0
5187 y(on)26 b(whose)f(behalf)h(the)g(tool')-5 b(s)26
b(rule)g(w)o(as)h(in)m(v)n(ok)o(ed.)41 b(Rules)26 b(that)h(perform)d
(physical)h(operations)f(on)i(\002les)h(whose)f(names)f(result)i(from)0
5286 y Fu(nativeSpec)d Fv(or)i Fu(nativePreSpec)d Fv(must)j(therefore)e
(\002rst)i(switch)g(to)f(that)h(directory)-5 b(.)39 b(See)26
b(the)f(discussion)g(of)h(the)f Fu(context)0 5386 y Fv(ar)o(gument)18
b(to)i(rule)g(functions)f(belo)n(w)-5 b(.)1968 5709 y(34)p
eop
%%Page: 35 36
35 35 bop 0 83 a Fv(Strings)21 b(that)g(can)g(potentially)f(be)h(used)g
(as)h(pathnames)e(are)h(being)g(passed)g(around)e(as)j(records)e
(containing)f(a)j Fu(name)p Fv(-)f(and)f(a)i Fu(mkpath)0
183 y Fv(\002eld.)j(The)20 b Fu(name)g Fv(\002eld)g(contains)g(the)g
(string)g(itself)h(while)f Fu(mkpath)g Fv(is)h(a)f(\223suspended\224)f
(abstract)h(v)o(ersion)f(of)g(the)i(path.)0 332 y(A)h(fresh)e(pathmak)o
(er)f(can)i(be)g(constructed)e(from)h(nati)n(v)o(e)g(strings)h(using)g
Fu(native2pathmaker)p Fv(,)d(which)j(lik)o(e)g Fu(context)f
Fv(is)i(also)g(an)0 432 y(ar)o(gument)c(to)j(rule)f(functions.)25
b(This)c(function)d(tak)o(es)j(care)g(of)f(interpreting)e(relati)n(v)o
(e)i(strings)h(within)f(the)h(correct)e(conte)o(xt.)25
b(\(F)o(or)20 b(this,)h(it)0 531 y(is)g(not)f(e)n(v)o(en)f(necessary)h
(to)g(\002rst)h(switch)f(the)h(current)e(w)o(orking)f(directory)-5
b(.\))0 681 y(Recall)24 b(that)f(\002lenames)g(that)g(appear)f(in)i
(description)d(\002les)j(can)f(be)g(written)g(using)g(either)g
(\223standard\224)e(or)i(\223nati)n(v)o(e\224)f(syntax.)34
b(The)22 b(\002eld)0 780 y Fu(name)h Fv(will,)i(thus,)f(contain)f(a)h
(string)f(that)h(can)f(be)g(in)h(either)f(of)g(these)h(tw)o(o)g(forms.)
34 b(Ho)n(we)n(v)o(er)m(,)22 b(CM)j(will)f(pass)g(an)f
Fu(mkpath)g Fv(function)0 880 y(that)d(accounts)g(for)f(these)h
(syntactic)g(dif)n(ferences)f(and)g(which)h(also)h(tak)o(es)f(care)g
(of)g(interpreting)e(the)i(string)g(in)h(the)f(correct)f(conte)o(xt.)0
1029 y(When)h(ne)n(w)f(name)g(speci\002cations)g(are)h(constructed)e
(by)h(the)h(tool,)f(the)h(appropriate)d Fu(mkpath)j Fv(function)e(must)
h(be)h(pro)o(vided.)i(F)o(or)e(most)0 1129 y(tools)k(this)h(will)g(be)f
(a)h(v)n(alue)e(constructed)g(by)h(applying)e Fu(native2pathmaker)g
Fv(to)i(some)g(nati)n(v)o(e)g(\002lename)f(string)h(\(because)g(most)0
1229 y(tools)c(internally)f(operate)g(on)h(nati)n(v)o(e)f(paths\).)0
1378 y(As)e(sho)n(wn)e(abo)o(v)o(e,)g(there)g(are)h(tw)o(o)h(abstract)e
(path)h(types:)23 b Fu(presrcpath)14 b Fv(and)i Fu(srcpath)p
Fv(.)23 b(The)15 b(former)g(can)g(represent)g(both)g(directory)0
1478 y(names)h(and)g(source)g(\002le)h(names,)f(the)h(latter)f(can)h
(represent)e(only)g(source)h(\002le)h(names.)24 b(T)-7
b(o)16 b(con)m(v)o(ert)e(from)i Fu(presrcpath)f Fv(to)i
Fu(srcpath)p Fv(,)0 1577 y(use)j(function)f Fu(Tools.srcpath)p
Fv(:)100 1793 y Fu(val)49 b(srcpath)f(:)i(presrcpath)e(->)h(srcpath)0
2009 y Fv(This)26 b(function)d(enforces)i(CM')-5 b(s)26
b(rule)g(that)f(there)g(has)h(to)g(be)f(at)h(least)g(one)f(arc)h(in)f
(e)n(v)o(ery)f(such)i(name)f(\(i.e.,)h(that)g(it)g(cannot)e(be)i(just)g
(an)0 2109 y(anchor\).)0 2258 y(One)g(can)g(also)h(construct)e(a)i(ne)n
(w)f(abstract)g(path)g(from)f(an)h(e)o(xisting)g(path)g(by)f(adding)g
(arcs)i(at)g(the)f(end.)42 b(The)26 b(constructed)f(path)h(will)0
2358 y(share)20 b(its)h(internal)f(conte)o(xt)e(with)j(the)f(old)g
(one.)100 2590 y Fu(val)49 b(augment)f(:)i(presrcpath)e(->)h(string)g
(list)g(->)h(presrcpath)0 2823 y Fv(The)20 b(list)h(of)f(strings)g
(must)g(contain)g(simple)g(pathname)e(arcs.)0 3094 y
Fw(12.2.2)81 b(Adding)20 b(a)h(class)f(and)h(its)g(rule)0
3299 y Fv(The)f(interf)o(ace)f(to)i(add)e(arbitrary)g(classes)i(is)g
(the)f(routine)f Fu(Tools.registerClass)p Fv(:)100 3532
y Fu(val)49 b(registerClass)e(:)j(class)f(*)g(rule)g(->)h(unit)0
3764 y Fv(Here,)22 b(type)f Fu(class)g Fv(is)h(simply)f(synon)o(ymous)e
(to)j Fu(string)p Fv(;)g(a)g(class)g(string)f(is)i(the)e(name)g(of)h
(the)f(class)i(to)e(be)h(re)o(gistered.)27 b(It)22 b(must)g(not)0
3864 y(contain)d(upper)n(-case)g(letters:)100 4096 y
Fu(type)49 b(class)g(=)g(string)0 4329 y Fv(T)-7 b(ype)20
b Fu(rule)h Fv(is)h(a)f(function)f(type.)26 b(It)c(describes)e(the)h
(rule)g(function)e(that)i(CM)h(will)f(in)m(v)n(ok)o(e)f(for)g(e)n(v)o
(ery)g(member)f(of)i(the)g(ne)n(w)g(class.)28 b(The)0
4428 y(rule)23 b(function)e(is)j(responsible)e(for)h(in)m(v)n(oking)e
(the)i(auxiliary)f(mechanism)g(necessary)g(to)h(bring)f(its)i(tar)o
(gets)f(up-to-date.)31 b(The)23 b(function)0 4528 y(result)j(of)f(the)g
(rule)g(function)f(describes)h(to)h(CM)g(what)g(the)f(tar)o(gets)g
(are.)41 b(Thus,)26 b(the)g(function)d(maps)j(the)f Ft(speci\002cation)
f Fv(of)h(the)h(gi)n(v)o(en)0 4627 y(member)19 b(to)h(its)h
(\(partial\))f Ft(e)n(xpansion)p Fv(:)100 4860 y Fu(type)49
b(rule)g(=)199 4960 y({)h(spec:)f(spec,)299 5059 y(native2pathmaker:)e
(string)h(->)i(pathmaker,)299 5159 y(context:)e(rulecontext,)299
5258 y(defaultClassOf:)f(fnspec)i(->)g(class)g(option)g(})g(->)199
5358 y(partial_expansion)1968 5709 y Fv(35)p eop
%%Page: 36 37
36 36 bop 0 83 a Fv(The)18 b(speci\002cation)f Fu(spec)i
Fv(consists)f(of)g(the)h(name)e(of)h(the)h(member)d(together)h(with)i
(a)f(function)f(to)h(produce)f(its)i(corresponding)c(abstract)0
183 y(path)22 b(\(should)f(that)i(be)f(necessary\),)g(the)g(member')-5
b(s)22 b(optional)f(class)i(\(in)f(case)h(it)h(had)d(been)h(gi)n(v)o
(en)f(e)o(xplicitly\),)h(its)h(tool)f(options,)g(and)g(a)0
282 y(boolean)d(\003ag)h(that)g(tells)h(whether)e(this)i(member)e(w)o
(as)i(the)f(result)g(of)g(another)f(tool:)100 502 y Fu(type)49
b(spec)g(=)g({)h(name:)f(string,)797 601 y(mkpath:)g(pathmaker,)797
701 y(class:)g(class)g(option,)797 800 y(opts:)g(toolopts)f(option,)797
900 y(derived:)g(bool)h(})0 1119 y Fw(name:)41 b Fv(The)22
b(name)g(is)h(the)f(v)o(erbatim)f(member)g(string)h(from)g(the)g
(description)f(\002le.)32 b(Be)23 b(sure)f(not)g(to)h(use)f(this)h
(string)f(directly)g(as)h(a)g(\002le)208 1219 y(name)g(\(although)f
(some)h(tools)h(might)f(use)i(it)f(directly)f(for)h(purposes)e(other)h
(than)h(\002le)g(names\).)36 b(Instead,)23 b(\002rst)i(con)m(v)o(ert)d
(it)j(to)f(an)208 1319 y(abstract)18 b(path)h(\(see)g
Fu(mkpath)f Fv(belo)n(w\))g(and)h(then)f(con)m(v)o(ert)f(back)h(to)h(a)
h Ft(native)e Fv(\002le)i(name)e(string)h(using)f(one)h(of)f
Fu(nativeSpec)g Fv(or)208 1418 y Fu(nativePreSpec)p Fv(.)0
1580 y Fw(mkpath)41 b Fv(This)25 b(is)h(a)g(function)d(of)i(type)f
Fu(pathmaker)g Fv(that)h(produces)e(an)i(abstract)g(pathname)e
(corresponding)f(to)j Fu(name)p Fv(.)39 b(CM)26 b(will)208
1680 y(pass)19 b(in)h(dif)n(ferent)e(functions)g(here)h(depending)d(on)
j(whether)g Fu(name)g Fv(w)o(as)h(gi)n(v)o(en)e(in)i(CM')-5
b(s)20 b(standard)e(pathname)g(syntax)h(or)g(in)h(the)208
1780 y(underlying)d(operating)h(system')-5 b(s)21 b(nati)n(v)o(e)e
(syntax.)307 1969 y Fu(type)49 b(pathmaker)f(=)i(unit)f(->)h
(presrcpath)0 2159 y Fw(class:)41 b Fv(This)23 b(ar)o(gument)e(carries)
h(the)h(class)h(name)e(if)h(such)f(a)h(class)h(name)e(w)o(as)i(e)o
(xplicitly)e(speci\002ed.)32 b(If)22 b(the)h(class)h(w)o(as)g(inferred)
d(from)208 2259 y(the)f(member)f(name,)g(then)h(it)h(will)f(be)h(set)g
(to)f Fu(NONE)p Fv(.)0 2421 y Fw(opts:)41 b Fv(T)-7 b(ool)20
b(options)f(are)h(represented)e(by)i(a)h(data)f(structure)f(resembling)
g(Lisp)h(lists:)307 2611 y Fu(type)49 b(fnspec)g(=)h({)f(name:)g
(string,)g(mkpath:)f(pathmaker)g(})307 2711 y(datatype)h(toolopt)f(=)
506 2810 y(STRING)h(of)h(fnspec)407 2910 y(|)f(SUBOPTS)g(of)g({)h
(name:)f(string,)f(opts:)h(toolopts)g(})307 3009 y(withtype)g(toolopts)
f(=)h(toolopt)g(list)208 3199 y Fv(The)22 b(nesting)h(of)f
Fu(SUBOPTS)h Fv(re\003ects)g(the)g(nesting)f(of)h(sub-option)e(lists)j
(in)g(the)f(member')-5 b(s)22 b(tool)g(option)g(speci\002cation.)33
b(Again,)208 3299 y(names)19 b(which)g(are)h(potentially)e(to)i(be)g
(interpreted)e(as)i(\002le)g(names)g(are)g(represented)d(by)j(their)f
(original)g(speci\002cation)g(string)g(and)208 3399 y(a)k(function)e
Fu(mkpath)h Fv(to)h(get)g(the)g(corresponding)d(abstract)i(path,)h
(thereby)e(taking)h(care)h(of)g(interpreting)d(the)j(name)g(according)
208 3498 y(to)h(its)i(respecti)n(v)o(e)d(syntactic)h(rules)h(and)f(its)
h(conte)o(xt.)37 b(\(T)-7 b(ype)24 b Fu(fnspec)g Fv(is)h(a)g
(slimmed-do)n(wn)d(v)o(ersion)h(of)i(type)f Fu(spec)p
Fv(.)37 b(It)25 b(also)208 3598 y(appears)19 b(as)i(the)f(ar)o(gument)e
(type)i(of)f(function)g Fu(defaultClassOf)p Fv(.)k(See)d(belo)n(w)-5
b(.\))0 3760 y Fw(deri)o(v)o(ed:)41 b Fv(This)23 b(\003ag)f(is)i(set)f
(to)g Fu(true)f Fv(if)h(the)f(source)g(\002le)h(represented)e(by)h(the)
g(speci\002cation)g(is)i(the)e(result)h(of)f(a)h(another)m(,)e(earlier)
h(tool)208 3860 y(in)m(v)n(ocation.)0 4079 y(The)e(other)f(three)h(ar)o
(guments)e(of)i(a)h(rule)e(function)g(are)h Fu(native2pathmaker)p
Fv(,)e Fu(context)p Fv(,)h(and)g Fu(defaultClassOf)p
Fv(:)0 4298 y Fw(nati)o(v)o(e2pathmak)o(er:)39 b Fv(This)22
b(function)d(tak)o(es)j(a)g(string)f(and)g(produces)f(a)h(function)f
(of)h(the)h(same)f(type)g(as)h Fu(mkpath)f Fv(abo)o(v)o(e.)27
b(When)22 b(the)208 4398 y(rule)e(constructs)f(the)i(speci\002cations)f
(for)g(its)h(result)g(\002les,)g(it)h(must)e(pro)o(vide)f(the)h
(corresponding)d Fu(mkpath)j Fv(functions)f(for)h(those.)208
4497 y(Since)f(most)g(tools)g(internally)f(operate)h(on)f(nati)n(v)o(e)
h(pathnames,)f(these)h Fu(mkpath)g Fv(functions)e(will)j(ha)n(v)o(e)f
(to)g(be)h(constructed)d(using)208 4597 y Fu(native2pathmaker)p
Fv(.)0 4759 y Fw(context:)39 b Fv(The)17 b(conte)o(xt)g(ar)o(gument)e
(of)i(a)h(rule)f(represents)g(the)g(directory)f(that)h(contains)g(the)h
(CM)g(description)e(\002le)i(on)f(whose)g(behalf)g(the)208
4859 y(rule)23 b(w)o(as)i(in)m(v)n(ok)o(ed.)34 b(It)24
b(is)h(represented)d(as)j(a)f(higher)n(-order)d(function)h(that)i(in)m
(v)n(ok)o(es)f(its)i(function)d(ar)o(gument)g(after)i(temporarily)208
4959 y(setting)k(the)g(w)o(orking)e(directory)g(to)i(the)g(conte)o(xt)f
(directory)f(and)i(returns)f(the)h(result)g(of)g(this)g(in)m(v)n
(ocation)e(after)i(restoring)f(the)208 5058 y(original)c(w)o(orking)g
(directory)-5 b(.)37 b(Not)24 b(all)i(rules)e(require)g(such)g(a)h
(temporary)e(change)g(of)i(directories,)f(b)n(ut)h(those)f(that)h(do)g
(should)208 5158 y(encapsulate)19 b(all)h(their)g(w)o(ork)g(into)g(a)g
(local)h(function)d(and)i(then)f(pass)i(this)g(function)d(to)j(the)f
(conte)o(xt.)307 5348 y Fu(type)49 b(rulefn)g(=)h(unit)f(->)g
(partial_expansion)307 5447 y(type)g(rulecontext)f(=)i(rulefn)e(->)i
(partial_expansion)1968 5709 y Fv(36)p eop
%%Page: 37 38
37 37 bop 0 83 a Fw(defaultClassOf:)40 b Fv(This)22 b(function)f(can)h
(be)g(used)h(to)f(directly)g(in)m(v)n(ok)o(e)f(CM')-5
b(s)23 b(internal)f(classi\002cation)h(mechanism,)e(taking)h(adv)n
(antage)208 183 y(of)17 b(an)o(y)g(re)o(gistered)g(classi\002ers.)25
b(The)17 b(ar)o(gument)f(to)i(be)f(passed)h(is)h(of)e(type)h
Fu(fnspec)p Fv(,)f(i.e.,)h(a)g(record)f(consisting)g(of)g(a)i(name)e
(string)208 282 y(and)i(a)i(function)d(to)j(con)m(v)o(ert)d(the)i
(string)g(to)g(its)h(corresponding)c(abstract)j(path.)0
515 y(A)h(\(full\))g Ft(e)n(xpansion)e Fv(consists)j(of)e(three)h
(lists:)28 b(a)21 b(list)h(of)f(ML)g(\002les,)h(a)f(list)h(of)f(CM)h
(\002les,)g(and)e(a)h(list)i(of)d Ft(sour)m(ces)p Fv(.)28
b(A)21 b(partial)g(e)o(xpansion)e(is)0 614 y(a)i(full)f(e)o(xpansion)e
(together)h(with)h(a)h(list)g(of)f(speci\002cations)g(that)g(still)h
(need)f(to)g(be)g(e)o(xpanded)e(further)-5 b(.)100 847
y Fu(type)49 b(expansion)f(=)199 946 y({)i(smlfiles:)e(\(srcpath)g(*)i
(Sharing.request)d(*)j(setup\))e(list,)299 1046 y(cmfiles:)g(\(srcpath)
h(*)g(Version.t)f(option)h(*)h(rebindings\))d(list,)299
1146 y(sources:)h(\(srcpath)h(*)g({)h(class:)e(class,)h(derived:)f
(bool}\))h(list)g(})100 1345 y(type)g(partial_expansion)d(=)k
(expansion)e(*)i(spec)f(list)0 1577 y Fv(A)25 b(rule)f(al)o(w)o(ays)h
(returns)e(a)i(partial)f(e)o(xpansion.)35 b(CM)25 b(will)g(deri)n(v)o
(e)e(a)i(full)f(e)o(xpansion)f(by)g(repeatedly)g(applying)g(rules)h
(until)g(the)g(list)i(of)0 1677 y(pending)18 b(speci\002cation)i
(becomes)f(empty)-5 b(.)0 1826 y(Most)22 b(rules)g(\(e)o(xcept)e(those)
i(for)f(classes)i Fu(sml)f Fv(and)g Fu(cm)p Fv(\))f(lea)n(v)o(e)h(the)g
(lists)h Fu(smlfiles)e Fv(and)g Fu(cmfiles)h Fv(empty)-5
b(.)28 b(A)23 b(tool)e(that)h(produces)0 1926 y(an)h(ML)g(source)f
(\002le)h(or)g(a)g(CM)h(description)d(\002le)i(as)h(output)e(should)f
(put)i(a)g(speci\002cation)f(for)g(this)i(\002le)f(into)g(the)g
(speci\002cation)f(list)i(of)e(a)0 2026 y(partial)g(e)o(xpansion,)e
(letting)h(the)h(rules)g(for)f(classes)j Fu(sml)d Fv(and)h
Fu(cm)g Fv(tak)o(e)g(care)g(of)f(the)h(rest.)31 b(At)22
b(this)h(point)e(we)h(will)h(therefore)d(not)i(dwell)0
2125 y(on)e(e)o(xplanations)e(for)i(the)g(types)g(of)g(these)g(tw)o(o)g
(\002elds.)0 2275 y(The)26 b Fu(sources)g Fv(\002eld)h(is)h(used)f(to)g
(implement)e Fu(CM.sources)g Fv(\(see)i(section)g(5.1.11\).)42
b(Therefore,)26 b(the)h(rule)g(should)e(include)h(here)0
2374 y(e)n(v)o(ery)d(\002le)i(that)f(it)h(consumes)e(if)h(its)h
(implementer)e(wishes)h(to)h(ha)n(v)o(e)e(it)i(reported)d(by)i
Fu(CM.sources)p Fv(.)36 b(\(Do)23 b(not)h(include)f(source)h(\002les)0
2474 y(that)c(are)g Ft(pr)l(oduced)f Fv(by)h(the)g(rule)g(because)f
(those)h(will)h(be)f(reported)f(by)h(subsequent)e(rules.\))0
2745 y Fw(12.2.3)81 b(Reporting)19 b(err)o(ors)h(fr)o(om)f(tools)0
2950 y Fv(When)k(a)h(rule)f(encounters)f(an)h(error)m(,)f(it)j(should)d
(raise)i(the)f(follo)n(wing)f(e)o(xception,)g(setting)h
Fu(tool)g Fv(to)h(a)g(string)f(describing)e(the)j(current)0
3050 y(tool)c(and)g Fu(msg)g Fv(to)g(a)h(diagnostic)e(string)h
(describing)e(the)i(nature)g(of)g(the)g(error:)100 3282
y Fu(exception)48 b(ToolError)g(of)h({)h(tool:)f(string,)f(msg:)h
(string)g(})0 3553 y Fw(12.2.4)81 b(Adding)20 b(a)h(classi\002er)0
3759 y Fv(A)e(classi\002er)h(is)g(a)f(mechanism)f(that)h(enables)f(CM)i
(to)f(infer)f(a)h(member')-5 b(s)18 b(class)i(from)e(its)h(name.)24
b(Classi\002ers)d(are)d(in)m(v)n(ok)o(ed)g(if)h(no)f(e)o(xplicit)0
3858 y(class)j(w)o(as)g(gi)n(v)o(en.)j(CM)d(supports)e(tw)o(o)h(kinds)g
(of)g(classi\002ers:)26 b(suf)n(\002x)20 b(classi\002ers)h(and)f
(general)f(classi\002ers.)100 4091 y Fu(datatype)48 b(classifier)g(=)
299 4191 y(SFX_CLASSIFIER)f(of)j(string)e(->)i(class)f(option)199
4290 y(|)h(GEN_CLASSIFIER)d(of)j({)f(name:)g(string,)g(mkfname:)f(unit)
h(->)g(string)g(})h(->)1196 4390 y(class)e(option)0 4622
y Fv(Most)24 b(of)g(the)g(time)h(classi\002ers)g(look)e(at)i(the)f
(\002le)g(name)g(suf)n(\002x)g(as)g(their)g(only)g(clue.)36
b(This)24 b(idea)g(is)h(captured)e(by)h Fu(SFX)p 3498
4622 25 4 v 29 w(CLASSIFIER)0 4722 y Fv(which)d(carries)g(a)h(partial)f
(function)f(from)g(suf)n(\002x)o(es)h(to)h(class)g(names.)29
b(The)21 b(function)f(should)g(return)h Fu(NONE)g Fv(if)h(it)g(does)f
(not)g(kno)n(w)g(about)0 4822 y(the)f(gi)n(v)o(en)f(ar)o(gument)f(suf)n
(\002x.)0 4971 y(The)31 b Fu(GEN)p 316 4971 V 29 w(CLASSIFIER)g
Fv(constructor)e(carries)j(a)f(similar)h(function\227the)d(dif)n
(ference)h(being)g(that)i(the)g(entire)f(member)f(name)h(is)0
5071 y(passed)18 b(to)h(it.)25 b(Moreo)o(v)o(er)m(,)16
b(the)i(function)f(can)h(also)h(in)m(v)n(ok)o(e)e(the)i
Fu(mkfname)e Fv(ar)o(gument)g(to)h(obtain)g(a)h(nati)n(v)o(e)e
(\002lename)h(string.)24 b(This)19 b(string)0 5170 y(can)h(at)h(this)f
(point)g(be)g(used)g(to)g(perform)e(actual)i(\002lesystem)h
(operations.)0 5320 y(In)m(v)n(ocation)c(of)i Fu(mkfname)f
Fv(may)h(raise)h(e)o(xceptions,)d(usually)i(due)g(to)g(syntax)g(errors)
f(in)i Fu(name)f Fv(that)g(pre)n(v)o(ent)f(it)i(from)e(being)g
(interpreted)0 5419 y(as)j(a)g(\002lename.)j(T)-7 b(ools)20
b(that)g(use)h Fu(mkfname)e Fv(should)h(therefore)e(be)i(prepared)e(to)
j(handle)e(such)h(e)o(xceptions.)1968 5709 y(37)p eop
%%Page: 38 39
38 38 bop 0 83 a Fv(Moreo)o(v)o(er)m(,)31 b(it)h(is)g(advisable)e(not)h
(to)g(o)o(v)o(er)n(-use)e(this)j(feature,)h(and)d(not)h(to)g(perform)e
(e)o(xtensi)n(v)o(e)h(\002lesystem)h(processing)f(in)i(order)d(to)0
183 y(perform)18 b(classi\002cation.)25 b(Otherwise)20
b(the)g(presence)g(of)f(this)i(classi\002er)g(might)f(cause)g
(considerable)e(o)o(v)o(erhead.)0 328 y(By)32 b(the)f(w)o(ay)-5
b(,)34 b(suf)n(\002x)d(classi\002ers)h(could)e(be)i(implemented)d(as)j
(general)e(classi\002ers,)35 b(b)n(ut)d(using)f Fu(SFX)p
3084 328 25 4 v 29 w(CLASSIFIER)f Fv(for)h(them)g(is)0
427 y(slightly)h(more)f(ef)n(\002cient.)60 b(CM)33 b(e)o(xtracts)e(the)
i(suf)n(\002x)e(from)g(the)h(name)g(only)f(once)g(and)h(applies)g(all)g
(suf)n(\002x)g(classi\002er)h(before)d(e)n(v)o(er)0 527
y(considering)25 b(an)o(y)i(generic)g(classi\002er)-5
b(.)48 b(If)27 b(some)h(suf)n(\002x)f(classi\002er)h(succeeds,)h(there)
e(will)h(be)g(no)f(o)o(v)o(erhead)e(caused)i(by)g(an)o(y)g(generic)0
627 y(classi\002er)-5 b(.)0 772 y(Function)20 b Fu
(Tools.stdSfxClassifier)d Fv(is)22 b(a)g(simple)f(wrapper)e(around)g
Fu(SFX)p 2513 772 V 30 w(CLASSIFIER)h Fv(and)g(produces)f(a)j
(classi\002er)f(that)0 871 y(looks)f(for)f(precisely)h(one)f(suf)n
(\002x)h(string.)100 1089 y Fu(val)49 b(stdSfxClassifier)e(:)i({)h
(sfx:)f(string)g(,)g(class:)g(class)g(})h(->)f(classifier)0
1306 y Fv(Classi\002ers)22 b(are)e(re)o(gistered)f(with)h(CM)h(by)f(in)
m(v)n(oking)e Fu(Tools.registerClassifier)p Fv(:)100
1524 y Fu(val)49 b(registerClassifier)d(:)k(classifier)e(->)h(unit)0
1788 y Fw(12.2.5)81 b(Miscellaneous)0 1990 y Fv(Structure)22
b Fu(Tools)h Fv(also)h(pro)o(vides)e(a)i(number)d(of)i(other)g(types)g
(and)g(functions)f(with)i(the)f(purpose)f(of)h(making)f(it)i(easier)g
(to)f(write)h(rule)0 2089 y(functions.)0 2234 y Fw(Filename)33
b(extension:)49 b Fv(Man)o(y)31 b(tools)i(deri)n(v)o(e)e(the)i(names)f
(of)g(their)h(tar)o(gets)f(from)f(the)i(name)f(of)g(their)g(source.)62
b(As)33 b(discussed)f(in)0 2334 y(section)20 b(12.1,)f(CM)i(pro)o
(vides)d(some)i(support)f(for)h(this)g(via)g(v)n(alues)g(of)g(type)g
Fu(extensionStyle)p Fv(:)100 2552 y Fu(type)49 b(tooloptcvt)f(=)h
(toolopts)g(option)f(->)i(toolopts)e(option)100 2651
y(datatype)g(extensionStyle)f(=)299 2751 y(EXTEND)i(of)g(\(string)g(*)g
(class)g(option)g(*)g(tooloptcvt\))f(list)199 2850 y(|)i(REPLACE)e(of)i
(string)f(list)g(*)g(\(string)g(*)g(class)g(option)g(*)h(tooloptcvt\))d
(list)0 3068 y Fv(These)26 b(v)n(alues)f(can)g(not)h(only)f(be)g
(passed)h(to)g Fu(Tools.registerStdShellCmdTool)21 b
Fv(b)n(ut)26 b(also)g(be)f(used)h(to)g(let)g(CM)h(perform)0
3168 y(name)20 b(e)o(xtension)e(directly)-5 b(.)24 b(T)-7
b(o)20 b(do)g(so,)g(one)g(must)g(in)m(v)n(ok)o(e)f(function)g
Fu(Tools.extend)p Fv(:)100 3385 y Fu(val)49 b(extend)g(:)g
(extensionStyle)e(->)747 3485 y(\(string)i(*)g(toolopts)g(option\))f
(->)747 3584 y(\(string)h(*)g(class)g(option)g(*)h(toolopts)e(option\))
g(list)0 3802 y Fw(Checking)20 b(time)h(stamps:)k Fv(A)c(tool)f(can)g
(check)f(whether)h(a)g(gi)n(v)o(en)f(source)h(\002le)g(is)i(older)d
(than)h(all)g(of)g(its)i(corresponding)16 b(tar)o(get)k(\002les.)100
4019 y Fu(val)49 b(outdated)f(:)i(string)f(->)g(string)g(list)g(*)g
(string)g(->)g(bool)0 4237 y Fv(In)22 b(a)g(call)h Fu(\(Tools.outdated)
47 b Fl(t)j Fu(\()p Fl(l)r Fu(,)e Fl(s)p Fu(\)\))p Fv(,)23
b Fl(t)f Fv(is)h(the)g(name)e(of)h(the)g(tool,)g Fl(l)i
Fv(is)f(the)f(list)h(of)f(tar)o(gets)g(\(as)g(nati)n(v)o(e)f(\002le)i
(names\),)f(and)f Fl(s)0 4336 y Fv(is)g(the)f(source)g(\(also)g(as)h(a)
f(nati)n(v)o(e)g(\002le)h(name\).)0 4481 y(An)f(alternati)n(v)o(e)f(w)o
(ay)h(of)g(checking)f(for)g(outdated)g(sources)h(\(in)g(the)g(style)g
(of)g(the)h(No)n(web-tool;)d(see)j(section)f(7.2.6\))e(is)j(the)f
(follo)n(wing:)100 4699 y Fu(val)49 b(outdated')f(:)i(string)e(->)897
4799 y({)h(src:)g(string,)g(wtn:)g(string,)f(tgt:)h(string)g(})h(->)f
(bool)0 5016 y Fv(The)24 b(idea)g(here)g(is)h(that)f(if)h(both)e
Fu(tgt)i Fv(\(\223tar)o(get\224\))d(and)i Fu(wtn)g Fv
(\(\223witness\224\))g(e)o(xist,)h(then)f Fu(tgt)g Fv(is)h(considered)e
(outdated)f(if)j Fu(wtn)f Fv(is)h(older)0 5116 y(than)f
Fu(src)p Fv(.)39 b(Otherwise,)26 b(if)f Fu(tgt)g Fv(e)o(xists)g(b)n(ut)
g Fu(wtn)g Fv(does)f(not,)i(then)e Fu(tgt)h Fv(is)h(considered)d
(outdated)g(if)i(it)h(is)g(older)e(than)g Fu(src)p Fv(.)39
b(If)25 b Fu(tgt)0 5215 y Fv(does)20 b(not)g(e)o(xist,)g(then)g(it)h
(is)g(al)o(w)o(ays)f(considered)f(outdated.)0 5360 y
Fw(File-)j(and)g(dir)o(ectory-cr)o(eation:)j Fv(T)-7
b(o)22 b(open)f(a)i(te)o(xt)f(\002le)g(for)g(output)e(in)j(such)e(a)i
(w)o(ay)f(that)g(all)h(directories)e(leading)g(up)g(to)i(it)f(are)g
(created)0 5460 y(when)e(the)o(y)f(do)h(not)g(already)f(e)o(xist,)h
(use)g Fu(Tools.openTextOut)p Fv(:)1968 5709 y(38)p eop
%%Page: 39 40
39 39 bop 100 83 a Fu(val)49 b(openTextOut)f(:)h(string)g(->)g
(TextIO.outstream)0 315 y Fv(T)-7 b(o)28 b(create)g(the)f(same)h
(directories)f(without)g(opening)f(the)i(\002le)h(\(and)e(without)g(e)n
(v)o(en)g(creating)f(it)j(if)f(it)h(does)e(not)h(e)o(xist\),)h(use)f
(function)0 415 y Fu(Tools.makeDirs)p Fv(:)100 648 y
Fu(val)49 b(makeDirs)f(:)i(string)f(->)g(unit)0 880 y
Fv(Note)20 b(that)g(the)h(string)f(passed)g(to)g Fu(makeDirs)f
Fv(is)i(still)h(the)e(name)f(of)h(a)h(\002le!)0 1029
y Fw(Option)f(pr)o(ocessing:)k Fv(F)o(or)c(simple)g(tools,)g(the)h
(follo)n(wing)d(function)h(for)g(\223parsing\224)g(tool)h(options)f
(can)h(be)g(useful:)100 1262 y Fu(val)49 b(parseOptions)e(:)299
1362 y({)j(tool)f(:)g(string,)g(keywords)f(:)i(string)e(list,)h
(options)g(:)g(toolopts)g(})g(->)299 1461 y({)h(matches)e(:)i(string)e
(->)i(toolopts)e(option,)h(restoptions)e(:)j(string)f(list)g(})0
1694 y Fv(Gi)n(v)o(en)17 b(a)i(list)g(of)f(accepted)g(k)o(e)o(yw)o
(ords,)f(this)h(function)f(scans)i(the)f(tool)g(options)f(and)h
(collects)g(occurrences)f(of)h(sub-option)e(lists)j(labelled)0
1793 y(by)24 b(one)h(of)f(these)h(k)o(e)o(yw)o(ords.)37
b(An)o(y)24 b(sub-option)f(list)j(that)f(is)g(not)g(recognized)d(and)j
(an)o(y)f(k)o(e)o(yw)o(ord)f(that)h(occurs)g(more)g(than)h(once)f(will)
0 1893 y(be)f(rejected)f(as)i(an)f(error)-5 b(.)32 b(The)23
b(result)g(consists)g(of)g(a)h(function)d Fu(matches)h
Fv(that)h(can)g(be)g(uses)g(to)g(query)f(each)h(of)f(the)h(k)o(e)o(yw)o
(ords.)32 b(The)0 1993 y(function)18 b(also)j(collects)f(and)g(returns)
f(all)i(the)f Fu(STRING)g Fv(options.)0 2142 y Fw(Issuing)j
(diagnostics:)28 b Fv(Functions)21 b Fu(Tools.say)g Fv(and)g
Fu(Tools.vsay)g Fv(both)g(tak)o(e)h(a)g(list)h(of)f(strings)g(and)f
(output)g(the)h(concatenation)0 2242 y(of)16 b(these)h(strings)g(to)g
(the)f(compiler')-5 b(s)16 b(standard)g(control)f(output)g(stream)i
(\(i.e.,)g(usually)f Fu(TextIO.stdOut)p Fv(\).)21 b(The)c(dif)n
(ference)d(between)0 2341 y Fu(say)22 b Fv(and)f Fu(vsay)h
Fv(is)h(that)f(the)g(former)e(w)o(orks)h(unconditionally)e(while)j(the)
g(latter)g(is)h(controlled)d(by)h Fu(CM.Control.verbose)e
Fv(\(see)0 2441 y(section)h(5.1.3\).)0 2590 y Fw(Anchor)m
(-con\002gurable)27 b(strings:)41 b Fv(Mainly)28 b(for)f(the)h(purpose)
f(of)h(implementing)e(anchor)n(-con\002gurable)e(names)k(for)f
(auxiliary)g(shell)0 2690 y(commands)18 b(\(such)i(as)h
Fu(ml-yacc)p Fv(\),)e(one)g(can)h(in)m(v)n(ok)o(e)f Fu(Tools.mkCmdName)
p Fv(:)100 2922 y Fu(val)49 b(mkCmdName)f(:)i(string)e(->)i(string)0
3155 y Fv(If)20 b Fl(m)h Fv(is)g(a)f(path)g(anchor)f(that)h(points)g
(to)g Fl(d)p Fv(,)h(then)f Fu(\(mkCmdName)48 b Fl(m)p
Fu(\))20 b Fv(returns)f Fl(d)p Fu(/)p Fl(m)p Fv(;)i(otherwise)f(it)h
(returns)e Fl(m)p Fv(.)0 3442 y Fr(12.3)99 b(Plug-in)25
b(T)-9 b(ools)0 3648 y Fw(12.3.1)81 b(A)l(utomatically)18
b(loaded,)i(global)f(plug-in)i(tools)0 3853 y Fv(If)32
b(CM)g(encounters)e(a)i(member)f(class)h(name)g Fl(c)g
Fv(that)g(it)g(does)g(not)f(kno)n(w)g(about,)i(then)f(it)g(tries)g(to)g
(load)g(a)g(plugin)e(module)h(named)0 3953 y Fu($/)p
Fl(c)p Fu(-tool.cm)p Fv(.)39 b(If)25 b(it)h(sees)g(a)f(\002le)h(whose)f
(name)g(ends)g(in)g(suf)n(\002x)g Fl(s)h Fv(for)e(which)h(no)g(e)o
(xplicit)f(member)g(class)i(has)g(been)e(speci\002ed)h(in)0
4053 y(the)h(CM)h(description)d(\002le)j(and)e(for)g(which)h(automatic)
e(member)h(classi\002cation)h(f)o(ails,)i(it)e(will)h(try)f(to)g(load)f
(a)h(plugin)f(module)g(named)0 4152 y Fu($/)p Fl(s)p
Fu(-ext.cm)p Fv(.)i(The)21 b(so-loaded)f(module)f(can)i(then)g(re)o
(gister)g(the)g(required)f(tool,)h(thereby)e(enabling)h(CM)i(to)g
(successfully)e(deal)h(with)0 4252 y(the)f(pre)n(viously)e(unkno)n(wn)g
(member)-5 b(.)0 4401 y(This)24 b(mechanism)e(mak)o(es)i(it)g(possible)
f(for)g(ne)n(w)h(tools)f(to)h(be)f(added)g(by)g(simply)g(placing)g
(appropriately)e(named)h(plug-in)g(libraries)h(in)0 4501
y(some)c(con)m(v)o(enient)e(place)i(and)g(making)g(the)g(corresponding)
d(adjustments)j(to)h(the)f(anchor)f(en)m(vironment.)k(In)d(other)g(w)o
(ords,)g(description)0 4600 y(\002les)f Fu($/)p Fl(c)p
Fu(-tool.cm)d Fv(and)h Fu($/)p Fl(s)p Fu(-ext.cm)g Fv(that)h
(correspond)d(to)j(general-purpose)c(tools)k(should)e(be)i(re)o
(gistered)e(either)i(by)f(modifying)0 4700 y(the)22 b(global)f(or)g
(the)h(local)g(path)f(con\002guration)e(\002le)j(or)g(by)f(directly)g
(in)m(v)n(oking)f(functon)g Fu(CM.Anchor.anchor)f Fv(\(see)j(section)g
(5.1.4\).)0 4800 y(Actual)e(description)f(\002les)i(for)e(the)i(tools')
f(implementations)e(can)i(then)g(be)g(placed)f(in)h(arbitrary)f
(locations.)1968 5709 y(39)p eop
%%Page: 40 41
40 40 bop 0 83 a Fw(12.3.2)81 b(Explicitly)20 b(loaded,)g(local)f
(plug-in)i(tools)0 280 y Fv(Some)i(projects)g(might)f(w)o(ant)i(to)f
(use)h(their)f(o)n(wn)f(special-purpose)f(tools)j(for)e(which)h(a)h
(global)e(installation)h(is)h(not)f(con)m(v)o(enient)e(or)i(not)0
380 y(appropriate.)h(In)d(such)f(a)h(case,)h(the)e(project')-5
b(s)21 b(description)e(\002le)i(can)g(e)o(xplicitly)f(demand)f(the)i
(tool)f(to)h(be)g(re)o(gistered)e(temporarily)-5 b(.)24
b(This)0 480 y(is)d(the)f(purpose)f(of)h(the)g(special)g(tool)g(class)h
Fu(tool)p Fv(.)k(Example:)0 683 y Fu(Library)199 783
y(structure)48 b(Foo)0 882 y(is)199 982 y(bar-tool.cm)g(:)i(tool)199
1082 y(foo.b)f(:)h(bar)0 1285 y Fv(Here,)16 b(the)f(member)f(whose)h
(class)i(is)f Fu(tool)f Fv(\(i.e,)h Fu(bar-tool.cm)p
Fv(\))e(must)h(be)h(the)f(CM)h(description)e(\002le)i(of)f(the)h(tool')
-5 b(s)15 b(implementation.)0 1385 y(The)25 b(dif)n(ference)f(to)h
(class)i Fu(cm)f Fv(is)g(that)g(the)g(so-speci\002ed)e(library)h(does)g
(not)g(become)g(part)g(of)g(the)h(current)e(project)h(b)n(ut)g(is)i
(loaded)d(and)0 1485 y(link)o(ed)19 b(immediately)g(via)i
Fu(CM.load)p 1141 1485 25 4 v 28 w(plugin)p Fv(,)f(causing)f(one)h(or)f
(more)h(ne)n(w)g(classes)h(and)f(their)g(classi\002ers)h(to)f(be)g(re)o
(gistered.)0 1626 y(If)i(we)g(assume)g(that)h(loading)d
Fu(bar-tool.cm)h Fv(causes)h(a)h(class)g Fu(bar)f Fv(to)g(be)g(re)o
(gistered)f(with)h(its)h(associated)f(rule)g(\(e.g.,)f(by)h(in)m(v)n
(oking)0 1726 y Fu(Tools.registerStdShellCmdTool)p Fv(\),)28
b(the)i(class)i(name)e Fu(bar)g Fv(will)i(be)e(a)n(v)n(ailable)g(for)g
(all)i(subsequent)d(members)g(of)i(the)0 1825 y(current)18
b(description)g(\002le.)26 b(Lik)o(e)n(wise,)19 b(classi\002ers)i
(\(e.g.,)d(\002lename)h(suf)n(\002x)o(es\))g(re)o(gistered)f(by)h
Fu(bar-tool.cm)g Fv(will)h(also)g(be)f(a)n(v)n(ailable.)0
1966 y(The)k(ef)n(fect)h(of)f(re)o(gistering)f(classes)j(and)e
(classi\002ers)i(using)e(class)i Fu(tool)e Fv(lasts)i(until)e(the)h
(end)f(of)h(the)g(current)e(description)g(\002le)i(and)g(is)0
2066 y(restricted)f(to)g(that)g(\002le.)35 b(This)23
b(means)g(that)g(other)g(description)e(\002les)k(that)e(also)g(w)o(ant)
h(to)f(use)g(class)i Fu(bar)e Fv(will)h(ha)n(v)o(e)e(to)i(ha)n(v)o(e)e
(their)h(o)n(wn)0 2166 y Fu(tool)d Fv(entry)-5 b(.)408
2136 y Fq(12)0 2307 y Fv(Local)20 b(tool)g(classes)h(and)f(suf)n(\002x)
o(es)f(temporarily)g(o)o(v)o(erride)e(an)o(y)j(equally-named)d(global)i
(classes)j(or)d(suf)n(\002x)o(es,)h(respecti)n(v)o(ely)-5
b(.)0 2566 y Fw(12.3.3)81 b(Locally)19 b(declar)o(ed)h(suf\002xes)0
2763 y Fv(It)27 b(is)g(sometimes)f(con)m(v)o(enient)e(to)i(locally)g
(add)g(another)f(recognized)f(\002lename)i(suf)n(\002x)g(to)h(an)f
(already)f(re)o(gistered)g(class.)45 b(This)26 b(is)i(the)0
2863 y(purpose)18 b(of)h(the)g(special)g(tool)g(class)h
Fu(suffix)p Fv(.)k(F)o(or)19 b(e)o(xample,)f(a)i(programmer)c(who)i
(has)i(named)e(all)i(ML)f(\002les)h(in)g(such)f(a)g(w)o(ay)h(that)f
(\002le)0 2962 y(names)h(end)g(in)g Fu(.ml)g Fv(could)f(write)i(near)e
(the)h(be)o(ginning)e(of)i(the)g(description)f(\002le:)199
3166 y Fu(ml)50 b(:)f(suffix)g(\(sml\))0 3370 y Fv(F)o(or)20
b(the)g(remainder)e(of)i(the)g(current)f(description)g(\002le,)i(all)f
(such)g Fu(.ml)p Fv(-\002les)h(will)g(no)n(w)e(be)h(treated)g(as)h
(members)e(of)h(class)h Fu(sml)p Fv(.)0 3688 y Fx(13)119
b(P)o(arallel)30 b(and)h(distrib)n(uted)g(compilation)0
3915 y Fv(T)-7 b(o)20 b(speed)g(up)g(recompilation)d(of)j(lar)o(ge)f
(projects)h(with)g(man)o(y)f(ML)h(source)f(\002les,)i(CM)g(can)f(e)o
(xploit)f(parallelism)g(that)i(is)g(inherent)d(in)j(the)0
4015 y(dependenc)o(y)f(graph.)32 b(Currently)-5 b(,)21
b(the)i(only)f(kind)g(of)h(operating)e(system)i(for)g(which)f(this)h
(is)h(implemented)d(is)j(Unix)f(\()p Fu(OPSYS)p 3749
4015 V 28 w(UNIX)p Fv(\),)0 4114 y(where)29 b(separate)h(processes)g
(are)g(used.)54 b(From)30 b(there,)i(one)d(can)h(distrib)n(ute)g(the)g
(w)o(ork)f(across)h(a)h(netw)o(ork)e(of)h(machines)f(by)g(taking)0
4214 y(adv)n(antage)18 b(of)i(the)g(netw)o(ork)f(\002le)i(system)g(and)
e(the)h(\223rsh\224)g(f)o(acility)-5 b(.)0 4355 y(T)e(o)17
b(perform)f(parallel)h(compilations,)f(one)g(must)i(attach)f
Ft(compile)g(server)o(s)h Fv(to)g(the)f(currently)f(running)f(CM)j
(session.)24 b(This)18 b(is)g(done)e(using)0 4455 y(function)i
Fu(CM.Server.start)p Fv(,)g(which)i(has)g(the)g(follo)n(wing)f(type:)
100 4658 y Fu(structure)48 b(Server)g(:)i(sig)299 4758
y(type)f(server)299 4858 y(val)g(start)g(:)h({)f(name:)g(string,)996
4957 y(cmd:)g(string)g(*)h(string)e(list,)996 5057 y(pathtrans:)g
(\(string)h(->)g(string\))g(option,)996 5157 y(pref:)g(int)g(})h(->)f
(server)g(option)100 5256 y(end)p 0 5302 1608 4 v 66
5358 a Fp(12)120 5381 y Fo(Note)17 b(that)h(CM)e(cannot)i(enforce)h
(that)f(the)f(tool)g(library)i(actually)g(re)o(gister)g(a)d(class)i(or)
e(a)h(classi\002er)l(.)22 b(An)o(y)17 b(side-ef)n(fects)i(other)f(than)
g(re)o(gistering)h(classes)f(or)e(classi\002ers)0 5460
y(are)i(be)o(yond)g(CM')l(s)f(control)i(and)e(will)h(not)g(be)f(undone)
h(once)g(processing)h(the)f(current)g(description)i(\002le)e(is)f
(complete.)1968 5709 y Fv(40)p eop
%%Page: 41 42
41 41 bop 0 83 a Fv(Here,)21 b Fu(name)g Fv(is)h(an)f(arbitrary)f
(string)g(that)i(is)g(used)e(by)h(CM)h(when)f(issuing)g(diagnostic)f
(messages)h(concerning)d(the)j(serv)o(er)3646 53 y Fq(13)3729
83 y Fv(and)g Fu(cmd)0 183 y Fv(is)g(a)g(v)n(alue)e(suitable)h(as)h(ar)
o(gument)d(to)i Fu(Unix.execute)p Fv(.)0 332 y(The)32
b(program)d(to)j(be)g(speci\002ed)g(by)f Fu(cmd)h Fv(should)f(be)h
(another)e(instance)i(of)f(CM\227running)f(in)i(\223sla)n(v)o(e)g
(mode\224.)59 b(T)-7 b(o)32 b(start)h(CM)f(in)0 432 y(sla)n(v)o(e)h
(mode,)i(start)e Fu(sml)g Fv(with)f(a)i(single)e(command-line)e(ar)o
(gument)g(of)j Fu(@CMslave)p Fv(.)61 b(F)o(or)33 b(e)o(xample,)h(if)f
(you)f(ha)n(v)o(e)g(installed)g(in)0 531 y(/path/to/smlnj/bin/sml,)18
b(then)i(a)g(serv)o(er)g(process)f(on)h(the)g(local)h(machine)e(could)g
(be)h(started)g(by)100 764 y Fu(CM.Server.start)47 b({)i(name)g(=)h
("A",)f(pathtrans)f(=)i(NONE,)f(pref)g(=)g(0,)996 863
y(cmd)h(=)f(\("/path/to/smlnj/bin/sml",)1345 963 y(["@CMslave"]\))e(};)
0 1196 y Fv(T)-7 b(o)21 b(run)g(a)h(process)f(on)f(a)i(remote)f
(machine,)f(e.g.,)h(\223thatmachine\224,)e(as)j(compute)e(serv)o(er)m
(,)g(one)h(can)g(use)g(\223rsh\224.)3243 1165 y Fq(14)3333
1196 y Fv(Unfortunately)-5 b(,)19 b(at)j(the)0 1295 y(moment)f(it)h(is)
h(necessary)e(to)h(specify)g(the)g(full)f(path)h(to)g(\223rsh\224)g
(because)f Fu(Unix.execute)f Fv(\(and)h(therefore)f Fu(CM.Server.start)
p Fv(\))0 1395 y(does)g(not)g(perform)e(a)i Fu(PATH)g
Fv(search.)25 b(The)20 b(remote)f(machine)g(must)h(share)g(the)g
(\002le)h(system)f(with)g(the)h(local)f(machine,)e(for)i(e)o(xample)f
(via)0 1494 y(NFS.)100 1727 y Fu(CM.Server.start)47 b({)i(name)g(=)h
("thatmachine",)996 1826 y(pathtrans)e(=)i(NONE,)f(pref)g(=)h(0,)996
1926 y(cmd)g(=)f(\("/usr/ucb/rsh",)1345 2026 y(["thatmachine",)1395
2125 y("/path/to/smlnj/bin/sml",)1395 2225 y("@CMslave"]\))e(};)0
2457 y Fv(Y)-9 b(ou)23 b(can)g(start)h(as)h(man)o(y)d(serv)o(ers)h(as)h
(you)f(w)o(ant,)h(b)n(ut)g(the)o(y)f(all)h(must)f(ha)n(v)o(e)g(dif)n
(ferent)f(names.)35 b(If)23 b(you)g(attach)g(an)o(y)g(serv)o(ers)g(at)h
(all,)h(then)0 2557 y(you)19 b(should)g(attach)g(at)h(least)h(tw)o(o)f
(\(unless)g(you)e(w)o(ant)i(to)g(attach)g(one)f(that)h(runs)f(on)h(a)g
(machine)e(v)n(astly)i(more)f(po)n(werful)f(than)h(your)g(local)0
2657 y(one\).)30 b(Local)22 b(serv)o(ers)f(mak)o(e)h(sense)h(on)f
(multi-CPU)g(machines:)28 b(start)23 b(as)g(man)o(y)e(serv)o(ers)g(as)i
(there)f(are)g(CPUs.)32 b(P)o(arallel)23 b(mak)o(e)e(is)j(most)0
2756 y(ef)n(fecti)n(v)o(e)18 b(on)g(multiprocessor)f(machines)h
(because)h(netw)o(ork)e(latencies)i(can)g(ha)n(v)o(e)g(a)g(se)n(v)o
(erely)f(limiting)g(ef)n(fect)h(on)f(what)h(can)g(be)g(gained)0
2856 y(in)k(the)f(distrib)n(uted)f(case.)32 b(\(Be)23
b(careful,)f(though.)29 b(Since)23 b(there)f(is)h(no)f(memory-sharing)d
(to)j(speak)g(of)g(between)g(separate)g(instances)g(of)0
2956 y Fu(sml)p Fv(,)e(you)f(should)g(be)i(sure)f(to)g(check)f(that)i
(your)e(machine)g(has)h(enough)e(main)i(memory)-5 b(.\))0
3105 y(If)23 b(serv)o(ers)f(on)h(machines)f(of)h(dif)n(ferent)e(po)n
(wer)h(are)h(attached,)f(one)h(can)g(gi)n(v)o(e)f(some)h(preference)d
(to)j(f)o(aster)h(ones)e(by)h(setting)g(the)g Fu(pref)0
3205 y Fv(v)n(alue)18 b(higher)-5 b(.)24 b(\(But)19 b(since)g(the)g
Fu(pref)g Fv(v)n(alue)f(is)i(consulted)e(only)g(in)h(the)g(rare)g(case)
g(that)g(more)f(than)h(one)f(serv)o(er)g(is)i(idle,)f(this)h(will)f
(rarely)0 3304 y(lead)k(to)f(v)n(astly)h(better)f(throughput.\))29
b(All)24 b(attached)e(serv)o(ers)g(must)h(use)g(the)f(same)h
(architecture-OS)e(combination)f(as)k(the)f(controlling)0
3404 y(machine.)0 3553 y(In)29 b(parallel)g(mode,)h(the)g(master)f
(process)g(itself)h(normally)d(does)i(not)g(compile)g(an)o(ything.)50
b(Therefore,)29 b(if)h(you)e(w)o(ant)i(to)f(utilize)h(the)0
3653 y(master')-5 b(s)19 b(CPU)h(for)f(compilation,)e(you)h(should)g
(start)h(a)h(compile)e(serv)o(er)g(on)g(the)h(same)g(machine)f(that)h
(the)g(master)g(runs)g(on)f(\(e)n(v)o(en)g(if)h(it)h(is)0
3753 y(a)h(uniprocessor)d(machine\).)0 3902 y(The)k Fu(pathtrans)g
Fv(ar)o(gument)e(is)k(used)e(when)g(connecting)f(to)i(a)g(machine)e
(with)i(a)g(dif)n(ferent)e(\002le-system)i(layout.)31
b(F)o(or)23 b(local)f(serv)o(ers,)0 4002 y(it)28 b(can)g(safely)f(be)h
(left)f(at)h Fu(NONE)p Fv(.)g(The)f(\223path)g(transformation\224)e
(function)h(is)i(used)f(to)h(translate)f(local)h(path)f(names)g(to)h
(their)f(remote)0 4101 y(counterparts.)39 b(This)26 b(can)f(be)h(a)g
(bit)g(trick)o(y)e(to)i(get)g(right,)g(especially)f(if)h(the)f
(machines)g(use)h(automounters)d(or)i(similar)h(de)n(vices.)41
b(The)0 4201 y Fu(pathtrans)19 b Fv(functions)g(consumes)g(and)h
(produces)e(names)i(in)g(CM')-5 b(s)22 b(internal)d(\223protocol)f
(encoding\224)g(\(see)j(Section)f(13.1\).)0 4350 y(Once)k(serv)o(ers)g
(ha)n(v)o(e)g(been)g(attached,)h(one)f(can)g(in)m(v)n(ok)o(e)f
(functions)h(lik)o(e)g Fu(CM.recomp)p Fv(,)h Fu(CM.make)p
Fv(,)f(and)g Fu(CM.stabilize)p Fv(.)37 b(The)o(y)0 4450
y(should)19 b(w)o(ork)h(the)g(w)o(ay)g(the)g(al)o(w)o(ays)h(do,)f(b)n
(ut)g(during)e(compilation)h(the)o(y)g(will)i(tak)o(e)f(adv)n(antage)f
(of)g(parallelism.)0 4599 y(When)h(CM)g(is)h(interrupted)d(using)h
(Control-C)g(\(or)h(such\),)f(one)g(will)i(sometimes)e(e)o(xperience)f
(a)i(certain)g(delay)f(if)h(serv)o(ers)f(are)h(currently)0
4699 y(attached)j(and)g(b)n(usy)-5 b(.)34 b(This)23 b(is)i(because)d
(the)i(interrupt-handling)19 b(code)k(will)h(w)o(ait)g(for)f(the)h
(serv)o(ers)f(to)g(\002nish)h(what)f(the)o(y)g(are)g(currently)0
4799 y(doing)c(and)h(bring)f(them)g(back)h(to)g(an)g(\223idle\224)g
(state)h(\002rst.)p 0 4870 1608 4 v 66 4925 a Fp(13)120
4949 y Fo(Therefore,)d(it)f(is)g(useful)h(to)f(choose)h
Fm(name)e Fo(uniquely)l(.)66 5006 y Fp(14)120 5030 y
Fo(On)g(certain)k(systems)d(it)g(may)g(be)g(necessary)i(to)e(wrap)h
Fm(rsh)e Fo(into)i(a)f(script)h(that)g(protects)h(rsh)e(from)g
(interrupt)i(signals.)1968 5709 y Fv(41)p eop
%%Page: 42 43
42 42 bop 0 83 a Fr(13.1)99 b(P)o(athname)26 b(pr)n(otocol)f(encoding)0
289 y Fv(A)j(path)f(encoded)f(by)h(CM')-5 b(s)29 b(master)n(-sla)n(v)o
(e)e(protocol)f(encoding)g(does)h(not)g(only)g(specify)g(which)g
(\002le)h(a)g(path)f(refers)h(to)f(b)n(ut)h(also,)h(in)0
388 y(some)20 b(sense,)g(speci\002es)g(why)f(CM)i(constructed)d(this)i
(path)g(in)g(the)f(\002rst)i(place.)k(F)o(or)19 b(e)o(xample,)f(the)i
(encoding)e Fu(a/b/c.cm:d/e.sml)0 488 y Fv(represents)31
b(the)h(\002le)h Fu(a/b/d/e.sml)d Fv(b)n(ut)i(also)h(tells)f(us)h(that)
f(it)h(w)o(as)f(constructed)f(by)g(putting)g Fu(d/e.sml)g
Fv(into)h(the)g(conte)o(xt)f(of)0 587 y(description)21
b(\002le)h Fu(a/b/c.cm)p Fv(.)30 b(Thus,)22 b(an)g(encoded)e(path)h
(name)h(consists)g(of)g(one)g(or)f(more)h(colon-separated)d(\()p
Fw(:)p Fv(\))28 b(sections,)22 b(and)g(each)0 687 y(section)d(consists)
i(of)e(slash-separated)g(\()p Fw(/)p Fv(\))g(arcs.)25
b(T)-7 b(o)20 b(\002nd)f(out)h(what)f(actual)h(\002le)g(a)g(path)g
(refers)f(to,)h(it)g(is)h(necessary)e(to)g(erase)h(all)h(arcs)e(that)0
787 y(precede)g(colons.)0 936 y(The)i(\002rst)i(section)e(is)i(special)
f(because)f(it)h(also)g(speci\002es)g(whether)f(the)g(whole)h(path)f(w)
o(as)h(relati)n(v)o(e)f(or)h(absolute,)f(or)g(whether)g(it)h(w)o(as)h
(an)0 1036 y(anchored)18 b(path.)0 1268 y Fw(Anchor)o(ed)i(paths)41
b Fv(start)25 b(with)f(a)g(dollar)n(-symbol)e Fw($)p
Fv(.)36 b(The)24 b(name)f(of)h(the)f(anchor)g(is)i(the)f(string)f
(between)g(this)i(leading)e(dollar)n(-symbol)208 1368
y(and)h(the)i(\002rst)g(occurence)e(of)h(a)h(slash)g
Fw(/)g Fv(within)f(the)h(\002rst)g(section.)40 b(The)25
b(remaining)f(arcs)i(of)f(the)h(\002rst)g(section)f(are)g(interpreted)
208 1467 y(relati)n(v)o(e)19 b(to)h(the)h(current)d(v)n(alue)i(of)g
(the)g(anchor)-5 b(.)0 1633 y Fw(Absolute)20 b(paths)42
b Fv(start)25 b(either)g(with)g(a)g(percent-sign)e Fw(\045)j
Fv(or)f(a)g(slash)h Fw(/)p Fv(.)40 b(The)25 b(canonical)e(form)h(is)i
(the)f(one)g(with)g(the)g(percent-sign:)33 b(it)208 1733
y(speci\002es)19 b(the)g(v)n(olume)g(name)f(between)h(the)g
Fw(\045)h Fv(and)e(the)h(\002rst)h(slash.)26 b(In)19
b(the)g(common)e(case)j(where)e(the)i(v)n(olume)e(name)g(is)i(empty)208
1833 y(\(i.e,)f Ft(always)i Fv(on)f(Unix)f(systems\),)h(the)h(path)e
(starts)i(with)g Fw(/)p Fv(.)0 1999 y Fw(Relati)o(v)o(e)f(paths)41
b Fv(are)20 b(all)h(other)e(paths.)0 2231 y(Encoded)j(path)h(names)h
(ne)n(v)o(er)e(contain)h(white)h(space.)36 b(Moreo)o(v)o(er)m(,)21
b(the)j(encoding)e(for)h(path)g(arcs,)i(v)n(olume)e(names,)h(or)g
(anchor)e(names)0 2331 y(does)g(not)g(contain)f(special)h(characters)f
(such)h(as)h Fw(/)p Fv(,)g Fw($)p Fv(,)g Fw(\045)p Fv(,)g
Fw(:)p Fv(,)f Fu(\\)p Fv(,)h Fw(\()p Fv(,)g(and)e Fw(\))p
Fv(.)31 b(Instead,)22 b(should)f(white)h(space)g(or)g(special)g
(characters)g(occur)0 2430 y(in)f(the)f(non-encoded)d(name,)j(then)h
(the)o(y)e(will)j(be)e(encoded)f(using)h(the)h(escape-sequence)d
Fu(\\ddd)j Fv(where)f Fu(ddd)h Fv(is)g(the)g(decimal)f(v)n(alue)g(of)0
2530 y(the)g(respecti)n(v)o(e)f(character')-5 b(s)20
b(ordinal)e(number)h(\(i.e,)h(the)g(result)g(of)g(applying)e
Fu(Char.ord)p Fv(\).)0 2680 y(The)h(so-called)f Ft(curr)m(ent)h
Fv(arc)g(is)g(encoded)f(as)h Fw(.)p Fv(,)g(the)g Ft(par)m(ent)g
Fv(arc)f(uses)i Fw(..)25 b Fv(as)19 b(its)h(representation.)j(It)c
(might)f(be)h(that)g(under)f(some)g(operating)0 2779
y(systems)k(the)f(names)f Fu(.)28 b Fv(or)21 b Fu(..)28
b Fv(do)20 b(not)h(actually)g(refer)f(to)h(the)g(current)f(or)h(the)g
(parent)f(arc.)27 b(In)21 b(such)f(a)i(case,)f(CM)h(will)g(encode)e
(the)h(dots)0 2879 y(in)f(these)h(names)f(using)f(the)h
Fu(\\ddd)g Fv(method,)f(too.)0 3028 y(When)i(issuing)g(progress)f
(messages,)i(CM)g(sho)n(ws)f(path)g(names)g(in)g(a)h(form)e(that)h(is)h
(almost)g(the)f(same)g(as)h(the)f(protocol)f(encoding.)26
b(The)0 3128 y(only)17 b(dif)n(ference)f(is)j(that)f(arcs)g(that)g
(precede)f(colon-sign)f Fw(:)24 b Fv(are)18 b(enclosed)f(within)h
(parentheses)e(to)i(emphasize)f(that)h(the)o(y)g(are)f(\223not)h
(really)0 3227 y(there\224.)24 b(The)c(same)h(form)e(is)i(also)f(used)g
(by)g Fu(CM.Library.descr)p Fv(.)0 3515 y Fr(13.2)99
b(P)o(arallel)24 b(bootstrap)h(compilation)0 3720 y Fv(The)30
b(bootstrap)f(compiler)797 3690 y Fq(15)889 3720 y Fv(with)h(its)i
(main)e(function)f Fu(CMB.make)g Fv(and)h(the)h(corresponding)c
(cross-compilation)h(v)n(ariants)h(of)i(the)0 3820 y(bootstrap)23
b(compiler)g(will)i(also)g(use)g(an)o(y)e(attached)h(compile)f(serv)o
(ers.)37 b(If)25 b(one)e(intends)h(to)h(e)o(xclusi)n(v)o(ely)d(use)j
(the)f(bootstrap)f(compiler)m(,)0 3920 y(one)d(can)g(e)n(v)o(en)f
(attach)h(serv)o(ers)f(that)i(run)e(on)h(machines)f(with)i(dif)n
(ferent)d(architecture)h(or)h(operating)e(system.)0 4069
y(Since)g(the)f(master)n(-sla)n(v)o(e)h(protocol)e(is)i(f)o(airly)g
(simple,)g(it)g(cannot)f(handle)f(complicated)g(scenarios)i(such)f(as)h
(the)g(one)f(necessary)g(for)g(com-)0 4169 y(piling)g(the)g(\223init)h
(group\224)d(\(i.e.,)j(the)f(small)h(set)g(of)f(\002les)h(necessary)f
(for)g(setting)g(up)g(the)h(\223perv)n(asi)n(v)o(e\224)d(en)m
(vironment\))f(during)i Fu(CMB.make)p Fv(.)0 4268 y(Therefore,)i(this)j
(will)f(al)o(w)o(ays)h(be)f(done)f(locally)h(by)g(the)g(master)g
(process.)0 4598 y Fx(14)119 b(The)30 b Fg(sml)f Fx(command)h(line)0
4834 y Fv(The)c(SML/NJ)h(interacti)n(v)o(e)e(system\227including)f
(CM\227is)j(started)f(from)g(the)g(operating)e(system)j(shell)f(by)g
(in)m(v)n(oking)e(the)j(command)0 4933 y Fu(sml)p Fv(.)e(This)20
b(section)g(describes)g(those)g(ar)o(guments)e(accepted)h(by)h
Fu(sml)g Fv(that)g(are)h(related)e(to)i(\(and)e(processed)g(by\))g(CM.)
0 5083 y(CM)26 b(accepts)e Ft(\002le)h(names)p Fv(,)g
Ft(mode)f(switc)o(hing)h(\003a)o(gs)p Fv(,)g Ft(pr)m(epr)l(ocessor)g
(de\002nitions)p Fv(,)f(and)g Ft(contr)l(ol)g(par)o(ameter)o(s)h
Fv(as)g(ar)o(guments.)37 b(All)25 b(these)0 5182 y(ar)o(guments)18
b(are)i(processed)f(one-by-one)e(from)i(left)i(to)f(right.)p
0 5254 1608 4 v 66 5309 a Fp(15)120 5333 y Fo(otherwise)e(not)g
(mentioned)h(in)e(this)h(document)1968 5709 y Fv(42)p
eop
%%Page: 43 44
43 43 bop 0 83 a Fr(14.1)99 b(File)24 b(ar)o(guments)0
289 y Fv(Names)c(of)g(ML)h(source)e(\002les)i(and)f(CM)h(description)d
(\002les)k(can)e(appear)f(as)h(ar)o(guments)f(in)h(an)o(y)f(order)-5
b(.)0 521 y Fw(ML)22 b(sour)o(ce)d(\002les)42 b Fv(are)28
b(recognized)e(by)h(their)h(\002lename)f(e)o(xtensions)g(\()p
Fu(.sig)p Fv(,)i Fu(.sml)p Fv(,)h(or)d Fu(.fun)p Fv(\))h(and)f(cause)h
(the)g(named)f(\002le)i(to)f(be)208 621 y(loaded)d(via)i
Fu(use)g Fv(at)h(the)f(time)g(the)f(ar)o(gument)f(is)j(being)e
(considered.)43 b(Names)27 b(of)g(ML)g(source)f(\002les)i(are)f
(speci\002ed)f(using)h(the)208 720 y(underlying)17 b(operating)h
(system')-5 b(s)21 b(nati)n(v)o(e)e(pathname)g(syntax.)0
886 y Fw(CM)i(description)f(\002les)42 b Fv(are)19 b(recognized)d(by)h
(their)h(e)o(xtension)f Fu(.cm)p Fv(.)25 b(The)o(y)17
b(must)h(be)g(speci\002ed)g(in)h(CM')-5 b(s)19 b Ft(standar)m(d)e
Fv(pathname)f(syntax.)208 986 y(At)23 b(the)h(time)f(the)g(ar)o(gument)
e(is)k(being)d(considered,)g(the)h(named)f(library)h(\(or)f(group\))f
(will)j(be)g(loaded)e(by)h(passing)f(the)i(name)e(to)208
1086 y(either)d Fu(CM.autoload)f Fv(or)i Fu(CM.make)p
Fv(\227depending)c(on)j(which)g Ft(mode)g(switc)o(hing)h(\003a)o(g)f
Fv(\()p Fu(-a)g Fv(or)h Fu(-m)p Fv(\))f(w)o(as)i(speci\002ed)e(last.)26
b(The)208 1185 y(def)o(ault)19 b(is)i Fu(-a)g Fv(\(i.e.,)e
Fu(CM.autoload)p Fv(\).)0 1473 y Fr(14.2)99 b(Mode-switching)26
b(\003ags)0 1678 y Fv(By)21 b(def)o(ault,)f(CM)i(description)d(\002les)
j(are)e(loaded)g(via)h Fu(CM.autoload)p Fv(.)k(By)c(specifying)e
Fu(-m)i Fv(some)n(where)e(on)i(the)g(command)d(line)j(one)0
1778 y(can)27 b(force)f(the)h(system)h(to)f(use)g Fu(CM.make)g
Fv(for)f(all)i(follo)n(wing)d(description)h(\002les)i(up)f(to)g(the)g
(ne)o(xt)f(occurence)g(of)g Fu(-a)p Fv(.)46 b(The)27
b Fu(-a)g Fv(\003ag)0 1877 y(switches)20 b(back)f(to)h(the)g(def)o
(ault)f(beha)n(vior)m(,)f(using)h Fu(CM.autoload)p Fv(,)g(which)g(will)
h(then)g(again)f(be)g(in)h(ef)n(fect)g(up)f(to)h(the)g(ne)o(xt)f
(occurrence)0 1977 y(of)h(another)f Fu(-m)p Fv(.)0 2126
y(Mode-switching)f(\003ags)j(can)f(be)g(speci\002ed)g(arbitrarily)e
(often)i(on)f(the)i(same)f(command)e(line.)0 2414 y Fr(14.3)99
b(De\002ning)26 b(and)f(unde\002ning)i(CM)e(pr)n(epr)n(ocessor)i
(symbols)0 2619 y Fv(The)17 b(follo)n(wing)f(options)h(for)f
(de\002ning)h(and)g(unde\002ning)e(CM)j(preprocessor)d(symbols)i(can)g
(also)h(occur)f(arbitrarily)f(often.)23 b(Their)17 b(ef)n(fects)0
2719 y(accumulate)25 b(while)h(processing)e(the)i(command)e(line)i
(from)f(left)h(to)g(right.)42 b(The)25 b(resulting)g(\002nal)h(state)h
(of)f(the)g(internal)f(preprocessor)0 2819 y(re)o(gistry)19
b(becomes)g(observ)n(able)g(in)h(the)g(interacti)n(v)o(e)f(system.)0
3051 y Fu(-D)p Fl(v)s Fu(=)p Fl(n)41 b Fv(acts)21 b(lik)o(e)f
Fu(\(#set)49 b(\(CM.symval)f(")p Fl(v)s Fu("\))i(\(SOME)e
Fl(n)p Fu(\)\))p Fv(.)0 3217 y Fu(-D)p Fl(v)c Fv(is)21
b(equi)n(v)n(alent)e(to)h Fu(-D)p Fl(v)s Fu(=1)p Fv(.)0
3383 y Fu(-U)p Fl(v)44 b Fv(acts)21 b(lik)o(e)g Fu(\(#set)49
b(\(CM.symval)e(")p Fl(v)s Fu("\))j(NONE\))p Fv(.)0 3671
y Fr(14.4)99 b(Contr)n(ol)25 b(P)o(arameters)0 3876 y
Fv(There)19 b(are)h(three)g(kinds)g(of)g(control)f(parameters:)0
4109 y Fw(help)42 b Fv(A)29 b(request)f(of)g(help)g(is)h(one)f(of)g
Fu(-h)p Fv(,)j Fu(-h)p Ft(num)p Fv(,)e(or)f Fu(-H)p Fv(.)h(In)f
(general,)h Fu(-h)p Ft(num)f Fv(produces)f(a)i(help)f(listing)g(with)h
(all)g(con\002gurable)208 4208 y(controls)21 b(up)h(to)h(obscurity)e
(le)n(v)o(el)h Ft(num)p Fv(.)32 b(If)22 b Ft(num)g Fv(is)h(omitted,)g
(it)g(def)o(aults)f(to)h(0.)32 b(The)22 b Fu(-H)h Fv(\003ag)f(requests)
g(a)h(full)g(help)f(listing)g(with)208 4308 y(all)e(controls.)0
4474 y Fw(curr)o(ent)g(settings)41 b Fv(This)17 b(is)i(similar)f(to)f
(requesting)f(help\227e)o(xcept)g Fu(-h)i Fv(and)f Fu(-H)g
Fv(are)h(replaced)e(with)i Fu(-s)g Fv(and)f Fu(-S)p Fv(,)g(respecti)n
(v)o(ely)-5 b(.)22 b(Instead)208 4573 y(of)d(sho)n(wing)h(the)g(help)f
(message)h(associated)g(with)h(each)f(control,)e(this)j(requests)f(sho)
n(wing)f(the)h(current)f(settings.)0 4740 y Fw(set)i(a)f(contr)o(ol)39
b Fv(A)26 b(control)d(v)n(alue)h(can)g(be)h(set)g(using)f(an)h(ar)o
(gument)d(of)j(the)f(form)g Fu(-C)p Ft(contr)l(ol)p Fu(=)p
Ft(value)p Fv(,)f(where)h Ft(contr)l(ol)h Fv(is)g(the)g(name)f(of)208
4839 y(a)j(control)f(and)g Fu(value)h Fv(is)h(a)f(string)g(that)g(can)g
(be)g(parsed)f(and)h(con)m(v)o(erted)d(to)j(a)h(ne)n(w)f(v)n(alue)f
(appropriate)f(for)h(the)h(type)g(of)g(the)208 4939 y(control.)1968
5709 y(43)p eop
%%Page: 44 45
44 44 bop 0 83 a Fx(15)119 b(A)-6 b(uxiliary)31 b(scripts)0
335 y Fr(15.1)99 b(Building)25 b(stand-alone)h(pr)n(ograms)0
540 y Fv(The)e(programmer)d(should)i(normally)f(ha)n(v)o(e)h(no)h(need)
f(to)h(in)m(v)n(ok)o(e)f Fu(CM.mk)p 2215 540 25 4 v 29
w(standalone)g Fv(\(see)h(Section)g(5.1.10\))d(directly)-5
b(.)35 b(Instead,)0 640 y(SML/NJ)23 b(pro)o(vides)e(a)h(command)f
Fu(ml-build)g Fv(which)h(does)g(all)h(the)g(w)o(ork.)30
b(T)-7 b(o)23 b(be)f(able)h(to)f(use)h Fu(ml-build)p
Fv(,)f(one)f(must)i(implement)0 740 y(a)e(library)f(e)o(xporting)f(a)i
(structure)f(that)i(has)f(some)g(function)e(suitable)i(to)g(be)g(an)g
(ar)o(gument)d(to)k Fu(SMLofNJ.exportFn)p Fv(.)j(Suppose)20
b(the)0 839 y(library)26 b(is)i(called)f Fu(myproglib.cm)p
Fv(,)g(the)g(structure)f(is)j(called)d Fu(MyProg)p Fv(,)j(and)d(the)h
(function)f(is)i(called)f Fu(MyProg.main)p Fv(.)44 b(If)27
b(one)0 939 y(wishes)21 b(to)f(produce)e(a)j(heap)e(image)h(\002le)h
Fu(myprog)f Fv(one)f(simply)h(has)g(to)h(in)m(v)n(ok)o(e)e(the)h(follo)
n(wing)e(command:)100 1171 y Fu(ml-build)48 b(myproglib.cm)g
(MyProg.main)f(myprog)0 1404 y Fv(The)20 b(heap)g(image)g(is)h(written)
f(only)g(when)f(needed:)25 b(if)c(a)f(heap)g(image)g(e)o(xists)h(and)f
(is)h(ne)n(wer)f(than)g(all)h(ML)f(sources)g(in)m(v)n(olv)o(ed,)e(pro)o
(vided)0 1504 y(that)26 b(none)f(of)g(the)h(ML)g(sources)g(ha)n(v)o(e)f
(to)h(be)g(recompiled,)f Fu(ml-build)g Fv(will)h(just)h(issue)f(a)g
(message)g(indicating)f(that)g(e)n(v)o(erything)f(is)0
1603 y(up-to-date.)0 1753 y(As)19 b(in)f(the)h(case)f(of)g
Fu(sml)p Fv(,)g(it)h(is)h(possible)d(to)i(de\002ne)e(or)h(unde\002ne)f
(preprocessor)f(symbols)h(using)h Fu(-D)h Fv(or)e Fu(-U)i
Fv(options)e(\(see)h(Section)g(14.3\).)0 1852 y(These)i(options)f(must)
h(be)h(speci\002ed)f(before)e(the)j(three)e(re)o(gular)g(ar)o(guments.)
k(Thus,)c(the)h(full)h(command)d(line)i(syntax)g(is:)100
2085 y Fu(ml-build)48 b([DU-options])g(myproglib.cm)f(MyProg.main)h
(myprog)0 2356 y Fw(15.1.1)81 b(Bootstrapping:)23 b(Ho)o(w)d
Fu(ml-build)g Fw(w)o(orks)0 2561 y Fv(Internally)-5 b(,)21
b Fu(ml-build)h Fv(generates)g(a)h(temporary)e(wrapper)g(library)h
(containing)f(a)i(single)g(call)g(of)g Fu(SMLofNJ.exportFn)d
Fv(as)k(part)0 2661 y(of)e(the)g(library')-5 b(s)21 b
(module-initialization)e(code.)29 b(Once)22 b(this)g(is)h(done,)e(CM)i
(is)f(started,)g Fu(CM.mk)p 2814 2661 V 29 w(standalone)f
Fv(is)i(in)m(v)n(ok)o(ed)d(\(with)i(the)0 2760 y(main)i(project)g
(description)f(\002le,)j(the)e(generated)f(wrapper)g(library)h(\002le,)
i(and)e(the)g(heap)g(image)g(name)g(as)h(ar)o(guments\),)e(and)h(a)h
Ft(bootlist)0 2860 y Fv(\002le)g(is)g(written.)37 b(If)24
b(all)h(these)g(steps)f(were)h(successful,)g Fu(ml-build)e
Fv(in)m(v)n(ok)o(es)g(the)h(\(bare\))f(SML/NJ)i(runtime)e(with)i(a)g
(special)f(option,)0 2960 y(causing)19 b(it)i(to)g Ft(bootstr)o(ap)d
Fv(using)i(the)g Ft(bootlist)g Fv(\002le.)0 3109 y(Each)c(line)g(of)g
(the)g Ft(bootlist)g Fv(\002le)h(speci\002es)g(one)e(module)g(to)h(be)h
(link)o(ed)e(into)h(the)g(\002nal)h(stand-alone)d(program.)22
b(The)15 b(runtime)g(system)i(reads)0 3209 y(these)j(lines)g
(one-by-one,)c(loads)j(the)g(corresponding)d(modules,)j(and)g(e)o(x)o
(ecutes)f(their)h(initialization)g(code.)24 b(Since)19
b(the)h(last)g(module)e(has)0 3308 y(been)g(arranged)e(\(by)i(w)o(ay)g
(of)h(using)e(the)i(wrapper)e(library)g(from)h(abo)o(v)o(e\))e(to)j
(contain)e(a)i(call)g(of)f Fu(SMLofNJ.exportFn)p Fv(,)e(initialization)
0 3408 y(of)k(this)h(module)d(causes)j(the)f(program')-5
b(s)19 b(heap)g(image)h(to)g(be)g(written)g(and)g(the)g(bootstrap)f
(procedure)e(to)k(terminate.)0 3695 y Fr(15.2)99 b(Generating)25
b(dependencies)j(f)n(or)c Ff(make)0 3901 y Fv(When)k(ML)h(programs)d
(are)j(used)f(as)h(parts)f(of)g(lar)o(ger)f(projects,)j(it)f(can)f
(become)f(necessary)h(to)h(use)f(CM)h(\(or)m(,)h(e.g.,)f
Fu(ml-build)f Fv(as)0 4000 y(described)i(in)h(Section)g(15.1\))f(in)i
(a)f(traditional)g(mak)o(e\002le)g(for)f(Unix')h Fw(mak)o(e)p
Fv(.)59 b(T)-7 b(o)31 b(a)n(v)n(oid)g(repeated)f(in)m(v)n(ocations,)i
(the)g(dependenc)o(y)0 4100 y(information)18 b(that)i(CM)h(normally)e
(manages)g(internally)g(must)h(be)g(described)f(e)o(xternally)g(so)h
(that)g Fw(mak)o(e)h Fv(can)f(process)g(it.)0 4249 y(F)o(or)d(this)g
(purpose,)f(it)i(is)g(possible)f(to)g(let)h(CM')-5 b(s)18
b(dependenc)o(y)c(analyzer)i(generate)g(a)h(list)i(of)d(\002les)j(that)
e(a)g(gi)n(v)o(en)f(ML)h(program)e(depends)h(on)0 4349
y(\(see)k(Section)f(5.1.11\).)j(The)e Fu(ml-makedepend)d
Fv(scripts)j(con)m(v)o(eniently)d(wraps)i(this)h(functionality)e(in)h
(such)h(a)f(w)o(ay)h(that)g(it)g(resembles)0 4449 y(the)g(f)o(amiliar)g
Fw(mak)o(edepend)h Fv(f)o(acility)f(found)f(on)g(man)o(y)g(Unix)h
(installations)g(for)g(the)g(use)g(by)g(C)h(projects.)0
4598 y(An)29 b(in)m(v)n(ocation)e(of)i Fu(ml-makedepend)e
Fv(tak)o(es)j(tw)o(o)f(mandatory)e(ar)o(guments:)41 b(the)29
b(root)g(description)e(\002le)j(of)f(the)g(ML)g(program)e(in)0
4698 y(question)21 b(and)h(the)g(name)g(of)g(the)h(tar)o(get)e(that)h
(is)i(to)e(be)h(used)f(by)g(the)g(generated)e(mak)o(e\002le)i(entry)-5
b(.)31 b(Thus,)22 b(a)h(typical)f(command)e(line)i(has)0
4797 y(the)e(form:)100 5030 y Fu(ml-makedepend)47 b(project.cm)h
(targetname)1968 5709 y Fv(44)p eop
%%Page: 45 46
45 45 bop 0 83 a Fv(This)21 b(will)g(cause)g Fu(ml-makedepend)e
Fv(to)i(\002rst)h(look)e(for)g(a)h(\002le)g(named)f Fu(makefile)g
Fv(and)g(if)h(that)g(cannot)f(be)h(found)e(for)h Fu(Makefile)p
Fv(.)0 183 y(\(An)e(error)e(message)i(is)h(issued)f(if)g(neither)f(of)h
(the)g(tw)o(o)g(e)o(xists.\))24 b(After)18 b(deleting)f(an)o(y)g(pre)n
(viously)f(generated)g(entry)h(for)g(this)h(description-)0
282 y(tar)o(get)h(combination,)f(the)i(script)g(will)h(in)m(v)n(ok)o(e)
e(CM)i(and)f(add)f(up-to-date)f(dependenc)o(y)f(information)h(to)j(the)
f(\002le.)0 428 y(Using)26 b(the)f Fu(-f)h Fv(option)f(it)h(is)h
(possible)e(to)h(force)f(an)h(arbitrary)e(programmer)n(-speci\002ed)e
(\002le)k(to)g(be)g(used)f(in)h(place)g(of)f Fu(makefile)g
Fv(or)0 528 y Fu(Makefile)p Fv(.)0 674 y(Some)f(of)h(the)f(\002les)i(a)
f(CM-managed)e(program)f(depends)h(on)h(are)h(stable)g(libraries.)38
b(Since)24 b(the)h(\002le)g(names)f(for)g(stable)h(libraries)g(v)n(ary)
0 773 y(according)i(to)j(current)e(CPU)i(architecture)e(and)h
(operating)e(system,)32 b(writing)d(them)g(directly)f(w)o(ould)h
(require)f(dif)n(ferent)g(entries)h(for)0 873 y(dif)n(ferent)17
b(systems.)25 b(T)-7 b(o)19 b(a)n(v)n(oid)g(this)g(problem)e(\(most)i
(of)f(the)h(time)1919 843 y Fq(16)1981 873 y Fv(\),)g
Fu(ml-makedepend)e Fv(will)i(use)h Fw(mak)o(e)p Fv(-v)n(ariables)d
Fu($\(ARCH\))h Fv(and)0 972 y Fu($\(OPSYS\))24 b Fv(as)h(placeholders)d
(within)j(the)f(information)e(it)k(generates.)37 b(It)24
b(is)i(the)e(programmer')-5 b(s)22 b(responsibility)h(to)i(mak)o(e)f
(sure)g(that)0 1072 y(these)e(v)n(ariables)f(are)h(set)h(to)f
(meaningful)e(v)n(alues)i(at)g(the)g(time)g Fw(mak)o(e)h
Fv(is)g(e)n(v)o(entually)d(being)h(in)m(v)n(ok)o(ed.)29
b(This)22 b(feature)f(can)h(be)g(turned)e(of)n(f)0 1172
y(\(causing)f(actual)h(\002le)h(names)f(to)g(be)g(used\))g(by)g
(specifying)e(the)i Fu(-n)h Fv(option)e(to)h Fu(ml-makedepend)p
Fv(.)0 1317 y(In)25 b(cases)g(where)g(the)g(programmer)d(prefers)i
(other)g(strings)h(to)g(be)g(used)g(in)g(place)f(of)h
Fu($\(ARCH\))f Fv(or)h Fu($\(OPSYS\))f Fv(\(or)h(both\))e(one)i(can)0
1417 y(specify)20 b(those)g(strings)g(using)f(the)i Fu(-a)f
Fv(and)g Fu(-o)g Fv(options,)f(respecti)n(v)o(ely)-5
b(.)0 1563 y(Lik)o(e)20 b Fu(ml-build)g Fv(\(Section)g(15.1\))f(and)h
Fu(sml)g Fv(\(Section)g(14.3\),)f(the)h Fu(ml-makedepend)f
Fv(command)f(also)j(accepts)f Fu(-D)h Fv(and)f Fu(-U)g
Fv(com-)0 1663 y(mand)f(line)i(options.)0 1808 y(Thus,)f(the)g(full)g
(command)e(line)i(syntax)g(for)f Fu(ml-makedepend)g Fv(is:)100
2028 y Fu(ml-makedepend)47 b([DU-options])h([-n])h([-f)g(makefile])f
(project.cm)g(target)100 2128 y(ml-makedepend)f([DU-options])h([-a)h
(arch])g([-o)g(os])g([-f)g(makefile])g(project.cm)f(target)0
2348 y Fv(\(If)20 b Fu(-n)g Fv(is)h(gi)n(v)o(en,)e(then)h(an)o(y)f
(additional)g Fu(-a)h Fv(or)g Fu(-o)g Fv(options\227while)f(not)h(ille)
o(gal\227will)g(be)g(ignored.\))0 2672 y Fx(16)119 b(Example:)37
b(Dynamic)30 b(linking)0 2904 y Fv(Autoloading)21 b(is)i(con)m(v)o
(enient)e(and)h(a)n(v)n(oids)h(w)o(asted)g(memory)e(for)h(modules)g
(that)h(should)f(be)h(a)n(v)n(ailable)f(at)i(the)f(interacti)n(v)o(e)e
(prompt)h(b)n(ut)0 3004 y(ha)n(v)o(e)e(not)g(actually)f(been)h(used)g
(so)h(f)o(ar)-5 b(.)26 b(Ho)n(we)n(v)o(er)m(,)18 b(sometimes)i(one)g(w)
o(ants)g(to)h(be)f(e)n(v)o(en)f(more)h(aggressi)n(v)o(e)f(and)h(sa)n(v)
o(e)g(the)h(space)f(needed)0 3103 y(for)g(a)g(function)f(until\227at)h
(runtime\227that)e(function)h(is)i(actually)e(being)h(dynamically)e(in)
m(v)n(ok)o(ed.)0 3249 y(CM)26 b(does)e(not)h(pro)o(vide)d(immediate)i
(support)g(for)g(this)h(kind)f(of)h Ft(dynamic)f(linking)p
Fv(,)h(b)n(ut)g(it)g(is)h(quite)e(simple)h(to)g(achie)n(v)o(e)f(the)h
(ef)n(fect)f(by)0 3349 y(carefully)19 b(arranging)f(some)i(helper)f
(libraries)h(and)f(associated)h(stub)h(code.)0 3495 y(Consider)f(the)g
(follo)n(wing)e(module:)100 3700 y Fu(structure)48 b(F)h(=)h(struct)299
3799 y(fun)f(f)h(\(x:)f(int\):)g(int)g(=)498 3899 y(G.g)g(x)h(+)g(H.h)f
(\(2)g(*)h(x)g(+)f(1\))100 3998 y(end)0 4203 y Fv(Let)26
b(us)f(further)f(assume)h(that)h(the)f(implementations)e(of)i
(structures)g Fu(G)h Fv(and)f Fu(H)g Fv(are)g(rather)g(lar)o(ge)f(so)i
(that)f(it)h(w)o(ould)f(be)g(w)o(orthwhile)f(to)0 4303
y(a)n(v)n(oid)f(loading)e(the)i(code)f(for)g Fu(G)h Fv(and)g
Fu(H)g Fv(until)g Fu(F.f)f Fv(is)i(called)f(with)g(some)g(actual)f(ar)o
(gument.)31 b(Of)23 b(course,)f(if)h Fu(F)h Fv(were)e(bigger)m(,)g
(then)g(we)0 4403 y(also)f(w)o(ant)f(to)g(a)n(v)n(oid)g(loading)f
Fu(F)h Fv(itself.)0 4548 y(T)-7 b(o)31 b(achie)n(v)o(e)f(this)h(goal,)i
(we)f(\002rst)f(de\002ne)g(a)g Ft(hook)f Fv(module)g(which)g(will)i(be)
f(the)g(place)g(where)f(the)h(actual)g(implementation)e(of)h(our)0
4648 y(function)18 b(will)j(be)f(re)o(gistered)f(once)g(it)i(has)g
(been)e(loaded.)24 b(This)c(hook)f(module)g(is)i(then)e(wrapped)g(into)
h(a)g(hook)f(library)-5 b(.)23 b(Thus,)d(we)g(ha)n(v)o(e)0
4748 y Fu(f-hook.cm)p Fv(:)100 4953 y Fu(Library)299
5052 y(structure)48 b(F_Hook)100 5152 y(is)299 5252 y(f-hook.sml)p
0 5302 1608 4 v 66 5358 a Fp(16)120 5381 y Fo(The)17
b(careful)j(reader)f(may)f(ha)o(v)o(e)g(noticed)i(that)f(because)g(of)f
(CM')l(s)g(conditional)j(compilation)f(it)f(is)e(possible)i(that)g
(dependenc)o(y)h(information)g(itself)f(v)n(aries)h(between)0
5460 y(dif)n(ferent)g(architectures)h(or)16 b(operating)k(systems.)1968
5709 y Fv(45)p eop
%%Page: 46 47
46 46 bop 0 83 a Fv(and)20 b Fu(f-hook.sml)p Fv(:)100
315 y Fu(structure)48 b(F_Hook)g(=)i(struct)299 415 y(local)498
515 y(fun)f(placeholder)f(\(i:)h(int\))g(:)h(int)f(=)697
614 y(raise)g(Fail)g("F_Hook.f:)f(unitinialized")498
714 y(val)h(r)h(=)g(ref)f(placeholder)299 814 y(in)498
913 y(fun)g(init)g(f)h(=)g(r)f(:=)h(f)498 1013 y(fun)f(f)h(x)g(=)f(!r)h
(x)299 1112 y(end)100 1212 y(end)0 1445 y Fv(The)25 b(hook)g(module)f
(pro)o(vides)g(a)i(reference)e(cell)i(into)f(which)g(a)h(function)e(of)
i(type)f(equal)g(to)h Fu(F.f)f Fv(can)h(be)f(installed.)42
b(Here)25 b(we)h(ha)n(v)o(e)0 1544 y(chosen)18 b(to)g(hide)g(the)h
(actual)f(reference)f(cell)i(behind)e(a)h Fw(local)g
Fv(construct.)24 b(Accessor)18 b(functions)f(are)h(pro)o(vided)e(to)j
(install)g(something)e(into)0 1644 y(the)j(hook)f(\()p
Fu(init)p Fv(\))g(and)h(to)g(in)m(v)n(ok)o(e)f(the)h(so-installed)g(v)n
(alue)f(\()p Fu(f)p Fv(\).)0 1793 y(W)m(ith)h(this)g(preparation)e(we)i
(can)g(write)g(the)f(implementation)f(module)g Fu(f-impl.sml)h
Fv(in)h(such)f(a)h(w)o(ay)g(that)g(not)g(only)f(does)g(it)i(pro)o(vide)
0 1893 y(the)f(actual)g(code)g(b)n(ut)g(also)g(installs)h(itself)g
(into)f(the)g(hook:)100 2109 y Fu(structure)48 b(F_Impl)g(=)i(struct)
299 2208 y(local)498 2308 y(fun)f(f)h(\(x:)f(int\):)g(int)g(=)697
2408 y(G.g)h(x)f(+)h(H.h)f(\(2)h(*)f(x)h(+)f(1\))299
2507 y(in)498 2607 y(val)g(_)h(=)g(F_Hook.init)d(f)299
2707 y(end)100 2806 y(end)0 3022 y Fv(The)20 b(implementation)e(module)
h(is)i(wrapped)d(into)i(its)i(implementation)17 b(library)j
Fu(f-impl.cm)p Fv(:)100 3238 y Fu(Library)299 3337 y(structure)48
b(F_Impl)100 3437 y(is)299 3537 y(f-impl.sml)299 3636
y(f-hook.cm)299 3736 y(g.cm)348 b(\(*)49 b(imports)g(G)g(*\))299
3836 y(h.cm)348 b(\(*)49 b(imports)g(H)g(*\))0 4051 y
Fv(Note)20 b(that)g Fu(f-impl.cm)g Fv(must)g(mention)f
Fu(f-hook.cm)g Fv(for)g Fu(f-impl.sml)g Fv(to)i(be)f(able)g(to)g
(access)h(structure)e Fu(F)p 3405 4051 25 4 v 30 w(Hook)p
Fv(.)0 4201 y(Finally)-5 b(,)19 b(we)i(replace)e(the)i(original)e
(contents)g(of)h Fu(f.sml)g Fv(with)g(a)h(stub)f(module)f(that)h
(de\002nes)g(structure)f Fu(F)p Fv(:)100 4417 y Fu(structure)48
b(F)h(=)h(struct)299 4516 y(local)498 4616 y(val)f(initialized)f(=)i
(ref)f(false)299 4716 y(in)498 4815 y(fun)g(f)h(x)g(=)697
4915 y(\(if)g(!initialized)d(then)i(\(\))747 5015 y(else)g(if)h
(CM.make)e("f-impl.cm")g(then)h(initialized)f(:=)h(true)747
5114 y(else)g(raise)g(Fail)g("dynamic)g(linkage)f(for)h(F.f)h(failed";)
747 5214 y(F_Hook.f)f(x\))299 5313 y(end)100 5413 y(end)1968
5709 y Fv(46)p eop
%%Page: 47 48
47 47 bop 0 83 a Fv(The)29 b(trick)g(here)g(is)h(to)g(e)o(xplicitly)e
(in)m(v)n(ok)o(e)g Fu(CM.make)h Fv(the)g(\002rst)i(time)e
Fu(F.f)h Fv(is)g(called.)52 b(This)30 b(will)g(then)f(cause)g
Fu(f-impl.cm)f Fv(\(and)0 183 y(therefore)17 b Fu(g.cm)h
Fv(and)g(also)h Fu(h.cm)p Fv(\))f(to)h(be)g(loaded)e(and)h(the)h
(\223real\224)f(implementation)f(of)h Fu(F.f)h Fv(to)f(be)h(re)o
(gistered)e(with)i(the)g(hook)e(module)0 282 y(from)i(where)h(it)h
(will)g(then)e(be)h(a)n(v)n(ailable)g(to)g(this)h(and)f(future)f(calls)
i(of)f Fu(F.f)p Fv(.)0 432 y(F)o(or)k(the)h(ne)n(w)f
Fu(f.sml)g Fv(to)g(be)h(compiled)e(successfully)h(it)h(must)f(be)h
(placed)e(into)h(a)h(library)f Fu(f.cm)g Fv(that)g(mentions)g
Fu(f-hook.cm)f Fv(and)0 531 y Fu($smlnj/cm.cm)p Fv(.)f(As)d(we)e(ha)n
(v)o(e)g(seen,)h Fu(f-hook.cm)f Fv(e)o(xports)f Fu(F)p
2010 531 25 4 v 30 w(Hook.f)g Fv(and)h Fu($smlnj/cm.cm)f
Fv(is)j(needed)d(because)h(it)h(e)o(xports)0 631 y Fu(CM.make)p
Fv(:)100 863 y Fu(Library)299 963 y(structure)48 b(F)100
1063 y(is)299 1162 y(f.sml)299 1262 y(f-hook.cm)299 1362
y($smlnj/cm.cm)f(\(*)j(or)f($smlnj/cm/full.cm)e(*\))0
1594 y Fw(Bewar)o(e!)24 b Fv(This)19 b(solution)g(mak)o(es)g(use)g(of)g
Fu($smlnj/cm.cm)e Fv(which)i(in)g(turn)g(requires)f(the)h(SML/NJ)h
(compiler)d(to)j(be)f(present.)24 b(There-)0 1694 y(fore,)f(is)h(w)o
(orthwhile)e(only)g(for)h(really)g(lar)o(ge)f(program)f(modules)h
(where)g(the)h(bene\002ts)g(of)g(their)g(absence)g(are)g(not)f
(outweighed)f(be)j(the)0 1793 y(need)c(for)f(the)h(compiler)-5
b(.)0 2123 y Fx(17)119 b(Some)30 b(history)0 2359 y Fv(Although)18
b(its)i(programming)c(model)i(is)j(more)d(general,)g(CM')-5
b(s)21 b(implementation)c(is)j(closely)f(tied)h(to)f(the)h(Standard)e
(ML)h(programming)0 2458 y(language)f([MTHM97)n(])j(and)e(its)j(SML/NJ)
e(implementation)e([AM91)o(].)0 2608 y(The)h(current)g(v)o(ersion)f(is)
j(preceded)d(by)h(se)n(v)o(eral)g(other)g(compilation)f(managers.)24
b(Of)19 b(those,)h(the)g(most)f(recent)h(went)f(by)h(the)f(same)h(name)
0 2707 y(\223CM\224)26 b([Blu95)o(],)i(while)e(earlier)f(ones)h(were)g
(kno)n(wn)e(as)j(IRM)f(\()p Ft(Incr)m(emental)f(Recompilation)f(Mana)o
(g)o(er)p Fv(\))g([HLPR94b)o(])i(and)f(SC)j(\(for)0 2807
y Ft(Separ)o(ate)19 b(Compilation)p Fv(\))f([HLPR94a)o(].)25
b(CM)c(o)n(wes)f(man)o(y)f(ideas)i(to)f(SC)h(and)f(IRM.)0
2956 y(Separate)26 b(compilation)g(in)h(the)g(SML/NJ)h(system)f(hea)n
(vily)f(relies)i(on)e(mechanisms)h(for)f(con)m(v)o(erting)e(static)k
(en)m(vironments)c(\(i.e.,)29 b(the)0 3056 y(compiler')-5
b(s)20 b(symbol)h(tables\))g(into)g(linear)f(byte)h(stream)g(suitable)g
(for)g(storage)f(on)h(disks)h([AM94)n(].)28 b(Ho)n(we)n(v)o(er)m(,)19
b(unlik)o(e)i(all)h(its)g(predeces-)0 3156 y(sors,)g(the)f(current)f
(implementation)f(of)i(CM)h(is)g(inte)o(grated)d(into)i(the)g(main)g
(compiler)f(and)h(no)g(longer)e(relies)j(on)f(the)g Ft(V)-6
b(isible)21 b(Compiler)0 3255 y Fv(interf)o(ace.)1968
5709 y(47)p eop
%%Page: 48 49
48 48 bop 0 83 a Fx(A)120 b(CM)30 b(description)h(\002le)g(syntax)0
333 y Fr(A.1)99 b(Lexical)25 b(Analysis)0 537 y Fv(The)d(CM)i(parser)e
(emplo)o(ys)f(a)i(conte)o(xt-sensiti)n(v)o(e)d(scanner)-5
b(.)32 b(In)22 b(man)o(y)g(cases)h(this)g(a)n(v)n(oids)g(the)f(need)g
(for)g(\223escape)h(characters\224)e(or)h(other)0 637
y(le)o(xical)30 b(de)n(vices)g(that)h(w)o(ould)f(mak)o(e)g(writing)g
(description)g(\002les)h(cumbersome.)54 b(\(The)30 b(do)n(wnside)g(of)g
(this)h(is)h(that)f(it)g(increases)g(the)0 736 y(comple)o(xity)18
b(of)i(both)f(documentation)f(and)h(implementation.\))0
884 y(The)h(scanner)f(skips)i(all)f(nestable)g(SML-style)g(comments)f
(\(enclosed)g(with)h Fw(\(*)g Fv(and)g Fw(*\))p Fv(\).)0
1032 y(Lines)h(starting)f(with)h Fw(#line)h Fv(may)e(list)i(up)f(to)g
(three)f(\002elds)h(separated)f(by)h(white)g(space.)27
b(The)20 b(\002rst)i(\002eld)f(is)h(tak)o(en)e(as)i(a)f(line)g(number)e
(and)0 1132 y(the)g(last)g(\002eld)g(\(if)f(more)g(than)g(one)g
(\002eld)h(is)h(present\))d(as)i(a)g(\002le)h(name.)j(The)c(optional)e
(third)h(\(middle\))f(\002eld)i(speci\002es)g(a)g(column)e(number)-5
b(.)0 1231 y(A)21 b(line)f(of)h(this)g(form)e(resets)i(the)f(scanner')
-5 b(s)20 b(idea)h(about)e(the)i(name)e(of)i(the)f(\002le)h(that)g(it)g
(is)g(currently)e(processing)g(and)h(about)f(the)i(current)0
1331 y(position)c(within)g(that)g(\002le.)25 b(If)17
b(no)g(\002le)i(is)f(speci\002ed,)f(the)h(def)o(ault)f(is)h(the)g
(current)e(\002le.)24 b(If)18 b(no)f(column)f(is)i(speci\002ed,)g(the)f
(def)o(ault)g(is)h(the)g(\002rst)0 1430 y(column)k(of)h(the)g
(\(speci\002ed\))f(line.)35 b(This)23 b(feature)f(is)j(meant)d(for)h
(program-generators)18 b(or)23 b(tools)h(such)f(as)h
Fu(noweb)f Fv(b)n(ut)g(is)h(not)f(intended)0 1530 y(for)d(direct)f(use)
i(by)f(programmers.)0 1678 y(The)g(follo)n(wing)e(le)o(xical)i(classes)
i(are)e(recognized:)0 1904 y Fw(Namespace)g(speci\002ers:)42
b(structur)o(e)p Fv(,)19 b Fw(signatur)o(e)p Fv(,)g Fw(functor)p
Fv(,)g(or)h Fw(funsig)p Fv(.)26 b(These)20 b(k)o(e)o(yw)o(ords)e(are)i
(recognized)e(e)n(v)o(erywhere.)0 2069 y Fw(CM)j(k)o(eyw)o(ords:)41
b(gr)o(oup)p Fv(,)22 b Fw(Gr)o(oup)p Fv(,)g Fw(GR)n(OUP)p
Fv(,)f Fw(library)p Fv(,)h Fw(Library)p Fv(,)g Fw(LIBRAR)m(Y)p
Fv(,)i Fw(sour)o(ce)p Fv(,)e Fw(Sour)o(ce)p Fv(,)g Fw(SOURCE)p
Fv(,)h Fw(is)p Fv(,)g Fw(IS)p Fv(,)h Fw(*)p Fv(,)e Fw(-)p
Fv(.)32 b(These)208 2168 y(k)o(e)o(yw)o(ords)20 b(are)h(recognized)e(e)
n(v)o(erywhere)g(e)o(xcept)i(within)g(\223preprocessor\224)e(lines)j
(\(lines)g(starting)f(with)g Fw(#)p Fv(\))h(or)f(follo)n(wing)f(one)h
(of)208 2268 y(the)f(namespace)f(speci\002ers.)0 2432
y Fw(Pr)o(epr)o(ocessor)f(contr)o(ol)h(k)o(eyw)o(ords:)41
b(#if)p Fv(,)21 b Fw(#elif)p Fv(,)f Fw(#else)p Fv(,)h
Fw(#endif)p Fv(,)f Fw(#err)o(or)p Fv(.)25 b(These)c(k)o(e)o(yw)o(ords)e
(are)i(recognized)d(only)i(at)h(the)g(be)o(ginning)208
2532 y(of)g(the)i(line)f(and)f(indicate)h(the)g(start)h(of)f(a)g
(\223preprocessor\224)e(line.)31 b(The)21 b(initial)i
Fw(#)f Fv(character)f(may)h(be)g(separated)f(from)g(the)h(rest)h(of)208
2632 y(the)d(tok)o(en)f(by)h(white)g(space)g(\(b)n(ut)g(not)g(by)g
(comments\).)0 2796 y Fw(Pr)o(epr)o(ocessor)e(operator)h(k)o(eyw)o
(ords:)41 b(de\002ned)p Fv(,)22 b Fw(di)o(v)p Fv(,)f
Fw(mod)p Fv(,)g Fw(andalso)p Fv(,)g Fw(or)o(else)p Fv(,)f
Fw(not)p Fv(.)27 b(These)21 b(k)o(e)o(yw)o(ords)f(are)g(recognized)f
(only)h(when)208 2896 y(the)o(y)26 b(occur)g(within)h
(\223preprocessor\224)d(lines.)47 b(Ev)o(en)26 b(within)g(such)h
(lines,)i(the)o(y)e(are)g(not)f(recognized)f(as)j(k)o(e)o(yw)o(ords)e
(when)g(the)o(y)208 2995 y(directly)19 b(follo)n(w)g(a)i(namespace)e
(speci\002er)n(\227in)h(which)g(case)g(the)o(y)g(are)g(considered)e
(SML)j(identi\002ers.)0 3160 y Fw(SML)h(identi\002ers)f(\()p
Ft(mlid)p Fw(\):)40 b Fv(Recognized)19 b(SML)h(identi\002ers)g(include)
g(all)g(le)o(gal)g(identi\002ers)g(as)h(de\002ned)f(by)g(the)g(SML)h
(language)d(de\002ni-)208 3259 y(tion.)24 b(\(CM)d(also)f(recognizes)f
(some)g(tok)o(ens)h(as)h(SML)f(identi\002ers)g(that)g(are)g(really)f(k)
o(e)o(yw)o(ords)g(according)f(to)i(the)g(SML)g(language)208
3359 y(de\002nition.)41 b(Ho)n(we)n(v)o(er)m(,)25 b(this)i(can)f(ne)n
(v)o(er)e(cause)i(problems)f(in)h(practice.\))42 b(SML)26
b(identi\002ers)g(are)g(recognized)e(only)h(when)g(the)o(y)208
3459 y(directly)19 b(follo)n(w)g(one)h(of)g(the)g(namespace)f
(speci\002ers.)0 3623 y Fw(CM)i(identi\002ers)g(\()p
Ft(cmid)p Fw(\):)40 b Fv(CM)29 b(identi\002ers)g(ha)n(v)o(e)f(the)h
(same)g(form)f(as)h(those)g(ML)g(identi\002ers)f(that)h(are)g(made)f
(up)g(solely)h(of)f(letters,)208 3723 y(decimal)17 b(digits,)h
(apostrophes,)e(and)i(underscores.)k(CM)c(identi\002ers)g(are)g
(recognized)d(when)j(the)o(y)f(occur)f(within)i(\223preprocessor\224)
208 3822 y(lines,)i(b)n(ut)g(not)g(when)g(the)o(y)f(directly)g(follo)n
(w)h(some)g(namespace)f(speci\002er)-5 b(.)0 3987 y Fw(Numbers)21
b(\()p Ft(number)p Fw(\):)39 b Fv(Numbers)18 b(are)i(non-empty)c
(sequences)j(of)g(decimal)f(digits.)25 b(Numbers)18 b(are)h(recognized)
e(only)i(within)g(\223prepro-)208 4086 y(cessor\224)h(lines.)0
4251 y Fw(Pr)o(epr)o(ocessor)e(operators:)40 b Fv(The)22
b(follo)n(wing)f(unary)g(and)g(binary)g(operators)g(are)i(recognized)d
(when)i(the)o(y)f(occur)h(within)g(\223preproces-)208
4350 y(sor\224)c(lines:)25 b Fu(+)p Fv(,)19 b Fu(-)p
Fv(,)g Fu(*)p Fv(,)g Fu(/)p Fv(,)g Fu(\045)p Fv(,)g Fu(<>)p
Fv(,)f Fu(!=)p Fv(,)h Fu(<=)p Fv(,)g Fu(<)p Fv(,)g Fu(>=)p
Fv(,)g Fu(>)p Fv(,)g Fu(==)p Fv(,)g Fu(=)p Fv(,)9 b Fi(~)-12
b Fv(,)20 b Fu(&&)p Fv(,)e Fu(||)p Fv(,)h Fu(!)p Fv(.)25
b(Of)19 b(these,)f(the)h(follo)n(wing)e(\(\223C-style\224\))h
(operators)f(are)208 4450 y(considered)h(obsolete)h(and)g(trigger)g(a)i
(w)o(arning)d(message)1898 4420 y Fq(17)1980 4450 y Fv(as)j(long)e(as)i
Fu(CM.Control.warn)p 3083 4450 25 4 v 27 w(obsolete)e
Fv(is)i(set)g(to)f Fu(true)p Fv(:)208 4549 y Fu(/)p Fv(,)g
Fu(\045)p Fv(,)g Fu(!=)p Fv(,)g Fu(==)p Fv(,)g Fu(&&)p
Fv(,)h Fu(||)p Fv(,)f Fu(!)p Fv(.)0 4714 y Fw(Standard)g(path)g(names)h
(\()p Ft(stdpn)p Fw(\):)39 b Fv(An)o(y)19 b(non-empty)e(sequence)h(of)h
(upper)n(-)f(and)h(lo)n(wer)n(-case)g(letters,)g(decimal)g(digits,)h
(and)f(characters)208 4813 y(dra)o(wn)f(from)g Fu(')p
670 4813 V 29 w(.;,!\045&$+/<=>?@)t Fi(~)r Fu(|#*-\210)g
Fv(that)i(occurs)e(outside)h(of)g(\223preprocessor\224)d(lines)k(and)f
(is)h(neither)e(a)i(namespace)208 4913 y(speci\002er)j(nor)h(a)g(CM)h
(k)o(e)o(yw)o(ord)d(will)i(be)g(recognized)e(as)j(a)f(stardard)f(path)h
(name.)35 b(Strings)24 b(that)g(le)o(xically)f(constitute)h(standard)
208 5013 y(path)k(names)g(are)h(usually\227b)n(ut)f(not)g(al)o(w)o
(ays\227interpreted)f(as)j(\002le)f(names.)51 b(Sometimes)28
b(the)o(y)g(are)h(simply)f(tak)o(en)h(as)g(literal)208
5112 y(strings.)f(When)21 b(the)o(y)f(act)i(as)g(\002le)g(names,)f(the)
o(y)g(will)h(be)f(interpreted)e(according)h(to)h(CM')-5
b(s)22 b Ft(standar)m(d)e(syntax)h Fv(\(see)h(Section)f(3.2\).)208
5212 y(\(Member)j(class)j(names,)h(names)e(of)g(pri)n(vile)o(ges,)g
(and)f(man)o(y)g(tool)h(optios)g(are)g(also)h(speci\002ed)f(as)h
(standard)e(path)h(names)g(e)n(v)o(en)208 5312 y(though)18
b(in)i(these)h(cases)g(no)e(actual)h(\002le)h(is)g(being)f(named.\))p
0 5381 1608 4 v 66 5437 a Fp(17)120 5460 y Fo(The)c(use)i(of)f
Fm(-)f Fo(as)h(a)g(unary)h(minus)f(also)g(triggers)i(this)e(w)o
(arning.)1968 5709 y Fv(48)p eop
%%Page: 49 50
49 49 bop 0 83 a Fw(Nati)o(v)o(e)20 b(path)g(names)h(\()p
Ft(ntvpn)p Fw(\):)39 b Fv(A)17 b(tok)o(en)g(that)g(has)h(the)f(form)f
(of)h(an)g(SML)h(string)f(is)h(considered)d(a)j(nati)n(v)o(e)e(path)h
(name.)23 b(The)17 b(same)h(rules)208 183 y(as)j(in)h(SML)f(re)o
(garding)d(escape)j(characters)f(apply)-5 b(.)26 b(Lik)o(e)21
b(their)g(\223standard\224)f(counterparts,)f(nati)n(v)o(e)h(path)h
(names)f(are)h(not)g(al)o(w)o(ays)208 282 y(used)27 b(to)h(actually)g
(name)f(\002les,)k(b)n(ut)d(when)f(the)o(y)g(are,)j(the)o(y)d(use)h
(the)g(nati)n(v)o(e)f(\002le)i(name)e(syntax)h(of)f(the)h(underlying)d
(operating)208 382 y(system.)0 548 y Fw(Punctuation:)40
b Fv(A)30 b(colon)g Fw(:)45 b Fv(is)31 b(recognized)d(as)j(a)g(tok)o
(en)e(e)n(v)o(erywhere)f(e)o(xcept)h(within)h(\223preprocessor\224)e
(lines.)55 b(P)o(arentheses)30 b Fw(\(\))g Fv(are)208
648 y(recognized)18 b(e)n(v)o(erywhere.)0 935 y Fr(A.2)99
b(EBNF)26 b(f)n(or)f(pr)n(epr)n(ocessor)h(expr)n(essions)0
1141 y Ft(Le)n(xical)17 b(con)m(ventions:)22 b Fv(Syntax)16
b(de\002nitions)g(use)i Ft(Extended)d(Bac)n(kus-Naur)h(F)-9
b(orm)18 b Fv(\(EBNF\).)f(This)g(means)g(that)g(v)o(ertical)g(bars)34
b Fs(j)18 b Fv(separate)0 1240 y(tw)o(o)g(or)f(more)f(alternati)n(v)o
(es,)h(curly)f(braces)h Fs(fg)g Fv(indicate)g(zero)g(or)g(more)f
(copies)h(of)g(what)g(the)o(y)g(enclose)g(\(\223Kleene-closure\224\),)e
(and)h(square)0 1340 y(brack)o(ets)25 b Fi([])i Fv(specify)e(zero)g(or)
h(one)f(instances)h(of)f(their)h(enclosed)f(contents.)41
b(Round)24 b(parentheses)h(\(\))h(are)g(used)f(for)g(grouping.)39
b(Non-)0 1439 y(terminal)19 b(symbols)h(appear)f(in)h
Ft(this)h Fv(typef)o(ace;)e(terminal)h(symbols)f(are)h
Fw(underlined)p 2104 1453 388 4 v 1 w Fv(.)0 1589 y(The)g(follo)n(wing)
e(set)j(of)f(rules)g(de\002nes)g(the)h(syntax)e(for)h(CM')-5
b(s)21 b(preprocessor)d(e)o(xpressions)h(\()p Ft(ppe)n(xp)p
Fv(\):)54 1735 y Ft(aatom)99 b Fs(!)g Ft(number)40 b
Fs(j)21 b Ft(cmid)41 b Fs(j)21 b Fw(\()p 1130 1762 28
4 v 20 w Ft(asum)f Fw(\))p 1374 1762 V 41 w Fs(j)h Fv(\()t
Fi(~)p 1515 1748 50 4 v 45 w Fs(j)g Fu(-)p 1650 1748
V Fv(\))f Ft(aatom)67 1835 y(apr)l(od)99 b Fs(!)g(f)p
Ft(aatom)19 b Fv(\()p Fu(*)p 842 1848 V 41 w Fs(j)i Fw(di)o(v)p
977 1849 110 4 v 41 w Fs(j)g Fw(mod)p 1172 1849 157 4
v Fv(\))41 b Fs(j)21 b Fu(/)p 1442 1855 50 4 v 41 w Fs(j)g
Fu(\045)p 1577 1849 V 21 w Fs(g)f Ft(aatom)87 1935 y(asum)99
b Fs(!)g(f)p Ft(apr)l(od)19 b Fv(\()p Fu(+)p 829 1948
V 41 w Fs(j)i Fu(-)p 964 1948 V Fv(\))p Fs(g)f Ft(apr)l(od)188
2134 y(ns)100 b Fs(!)f Fw(structur)o(e)p 544 2148 326
4 v 41 w Fs(j)20 b Fw(signatur)o(e)p 955 2164 331 4 v
40 w Fs(j)h Fw(functor)p 1371 2148 263 4 v 41 w Fs(j)f
Fw(funsig)p 1719 2164 217 4 v 50 2237 a Ft(mlsym)100
b Fs(!)f Ft(ns)21 b(mlid)73 2337 y(query)99 b Fs(!)g
Fw(de\002ned)p 544 2351 259 4 v 21 w(\()p 823 2364 28
4 v 21 w Ft(cmid)20 b Fw(\))p 1054 2364 V 41 w Fs(j)h
Fw(de\002ned)p 1167 2351 259 4 v 21 w(\()p 1446 2364
28 4 v 20 w Ft(mlsym)g Fw(\))p 1727 2364 V 82 2537 a
Ft(acmp)99 b Fs(!)g Ft(asum)20 b Fv(\()p Fu(<)p 768 2550
50 4 v 41 w Fs(j)h Fu(<=)p 903 2550 100 4 v 41 w Fs(j)g
Fu(>)p 1088 2550 50 4 v 41 w Fs(j)g Fu(>=)p 1223 2550
100 4 v 41 w Fs(j)g Fu(=)p 1408 2550 50 4 v 41 w Fs(j)g
Fu(==)p 1543 2550 100 4 v 41 w Fs(j)g Fu(<>)p 1728 2550
V 41 w Fs(j)g Fu(!=)p 1913 2551 V Fv(\))f Ft(asum)54
2736 y(batom)99 b Fs(!)g Ft(query)41 b Fs(j)21 b Ft(acmp)40
b Fs(j)21 b Fv(\()p Fw(not)p 1112 2750 116 4 v 40 w Fs(j)g
Fu(!)p 1312 2750 50 4 v Fv(\))f Ft(batom)40 b Fs(j)21
b Fw(\()p 1703 2763 28 4 v 21 w Ft(bdisj)f Fw(\))p 1934
2763 V 82 2836 a Ft(bcmp)99 b Fs(!)g Ft(batom)20 b Fv([\()p
Fu(=)p 829 2849 50 4 v 40 w Fs(j)h Fu(==)p 963 2849 100
4 v 41 w Fs(j)g Fu(<>)p 1148 2849 V 41 w Fs(j)g Fu(!=)p
1333 2850 V -1 w Fv(\))g Ft(batom)p Fv(])77 2936 y Ft(bconj)99
b Fs(!)g(f)p Ft(bcmp)19 b Fv(\()p Fw(andalso)p 814 2950
273 4 v 41 w Fs(j)h Fu(&&)p 1171 2950 100 4 v Fv(\))p
Fs(g)g Ft(bcmp)100 3035 y(bdisj)100 b Fs(!)f(f)p Ft(bconj)19
b Fv(\()p Fw(or)o(else)p 819 3049 206 4 v 40 w Fs(j)i
Fu(||)p 1110 3069 100 4 v Fv(\))p Fs(g)e Ft(bconj)65
3242 y(ppe)n(xp)99 b Fs(!)g Ft(bdisj)0 3520 y Fr(A.3)g(EBNF)26
b(f)n(or)f(tool)f(options)0 3726 y Fv(The)c(follo)n(wing)e(set)j(of)f
(rules)g(de\002nes)g(the)h(syntax)e(for)h(tool)g(options)f(\()p
Ft(toolopts)p Fv(\):)50 3871 y Ft(pathname)97 b Fs(!)j
Ft(stdpn)40 b Fs(j)21 b Ft(ntvpn)110 3971 y(toolopts)98
b Fs(!)i(f)20 b Ft(pathname)e Fv([)p Fw(:)p 1098 3985
28 4 v 20 w Fv(\()p Fw(\()p 1174 3998 V 20 w Ft(toolopts)h
Fw(\))p 1510 3998 V 42 w Fs(j)h Ft(pathname)p Fv(\)])e
Fs(g)0 4250 y Fr(A.4)99 b(EBNF)26 b(f)n(or)f(export)g(lists)0
4455 y Fv(The)20 b(follo)n(wing)e(set)j(of)f(rules)g(de\002nes)g(the)h
(syntax)e(for)h(e)o(xport)e(lists)k(\()p Ft(elst)p Fv(\):)1968
5709 y(49)p eop
%%Page: 50 51
50 50 bop 386 70 a Ft(libkw)100 b Fs(!)f Fw(library)p
848 100 250 4 v 41 w Fs(j)21 b Fw(Library)p 1183 100
282 4 v 41 w Fs(j)g Fw(LIBRAR)m(Y)p 1550 83 380 4 v 279
173 a Ft(gr)l(oupkw)99 b Fs(!)g Fw(gr)o(oup)p 848 203
211 4 v 41 w Fs(j)21 b Fw(Gr)o(oup)p 1145 203 234 4 v
40 w Fs(j)g Fw(GR)n(OUP)p 1464 188 298 4 v 256 276 a
Ft(sour)m(cekw)99 b Fs(!)g Fw(sour)o(ce)p 848 290 230
4 v 41 w Fs(j)21 b Fw(Sour)o(ce)p 1163 291 243 4 v 40
w Fs(j)g Fw(SOURCE)p 1491 291 346 4 v 50 376 a Ft(guar)m(dede)n(xports)
97 b Fs(!)i(f)21 b Ft(e)n(xport)f Fs(g)g Fv(\()p Fw(#endif)p
1232 390 222 4 v 41 w Fs(j)h Fw(#else)p 1539 390 171
4 v 20 w Fs(f)f Ft(e)n(xport)g Fs(g)h Fw(#endif)p 2086
390 222 4 v 41 w Fs(j)f Fw(#elif)p 2392 390 153 4 v 20
w Ft(ppe)n(xp)g(guar)m(dede)n(xports)p Fv(\))320 475
y Ft(r)m(estline)100 b Fs(!)f Fv(rest)21 b(of)f(current)f(line)h(up)g
(to)g(ne)o(xt)g(ne)n(wline)f(character)356 575 y Ft(e)n(xport)99
b Fs(!)g Ft(dif)o(fer)m(ence)40 b Fs(j)21 b Fw(#if)p
1261 588 93 4 v 20 w Ft(ppe)n(xp)f(guar)m(dede)n(xports)38
b Fs(j)21 b Fw(#err)o(or)p 2193 589 229 4 v 19 w Ft(r)m(estline)239
675 y(dif)o(fer)m(ence)98 b Fs(!)h Ft(inter)o(section)41
b Fs(j)21 b Ft(dif)o(fer)m(ence)e Fu(-)p 1673 688 50
4 v 21 w Ft(inter)o(section)175 774 y(inter)o(section)99
b Fs(!)g Ft(atomicset)41 b Fs(j)21 b Ft(inter)o(section)f
Fu(*)p 1664 787 V 21 w Ft(atomicset)248 874 y(atomicset)99
b Fs(!)g Ft(mlsym)42 b Fs(j)21 b Ft(union)40 b Fs(j)20
b Ft(implicitset)377 974 y(union)98 b Fs(!)h Fw(\()p
848 1001 28 4 v 21 w Fv([)20 b Ft(elst)h Fv(])g Fw(\))p
1130 1001 V 220 1074 a Ft(implicitset)100 b Fs(!)f Ft(sour)m(ceset)41
b Fs(j)21 b Ft(subgr)l(oupset)40 b Fs(j)21 b Ft(libr)o(aryset)256
1174 y(sour)m(ceset)99 b Fs(!)g Ft(sour)m(cekw)21 b Fw(\()p
1180 1201 V 20 w Fv(\()p Fu(-)p 1256 1187 50 4 v 41 w
Fs(j)g Ft(pathname)p Fv(\))d Fw(\))p 1767 1201 28 4 v
164 1274 a Ft(subgr)l(oupset)98 b Fs(!)h Ft(gr)l(oupkw)20
b Fw(\()p 1156 1301 V 20 w Fv(\()p Fu(-)p 1232 1287 50
4 v 41 w Fs(j)h Ft(pathname)p Fv(\))d Fw(\))p 1743 1301
28 4 v 245 1374 a Ft(libr)o(aryset)99 b Fs(!)g Ft(libkw)21
b Fw(\()p 1049 1401 V 21 w Fv(\()p Ft(pathname)p Fv(\))c([)p
Fw(\()p 1529 1401 V 20 w Ft(toolopts)i Fw(\))p 1865 1401
V Fv(])h Fw(\))p 1941 1401 V 451 1474 a Ft(elst)100 b
Fs(!)f Ft(e)n(xport)21 b Fs(f)f Ft(e)n(xport)g Fs(g)0
1752 y Fr(A.5)99 b(EBNF)26 b(f)n(or)f(member)g(lists)0
1958 y Fv(The)20 b(follo)n(wing)e(set)j(of)f(rules)g(de\002nes)g(the)h
(syntax)e(for)h(member)f(lists)i(\()p Ft(member)o(s)p
Fv(\):)456 2104 y Ft(class)100 b Fs(!)g Ft(stdpn)355
2203 y(member)f Fs(!)h Ft(pathname)18 b Fv([)p Fw(:)p
1281 2217 V 20 w Ft(class)p Fv(])i([)p Fw(\()p 1571 2231
V 20 w Ft(toolopts)g Fw(\))p 1908 2231 V -1 w Fv(])50
2304 y Ft(guar)m(dedmember)o(s)97 b Fs(!)j Ft(member)o(s)20
b Fv(\()p Fw(#endif)p 1252 2318 222 4 v 41 w Fs(j)h Fw(#else)p
1559 2318 171 4 v 20 w Ft(member)o(s)g Fw(#endif)p 2070
2318 222 4 v 41 w Fs(j)f Fw(#elif)p 2376 2318 153 4 v
20 w Ft(ppe)n(xp)g(guar)m(dedmember)o(s)p Fv(\))323 2403
y Ft(member)o(s)100 b Fs(!)g(f)20 b Fv(\()p Ft(member)40
b Fs(j)21 b Fw(#if)p 1347 2416 93 4 v 20 w Ft(ppe)n(xp)f(guar)m
(dedmember)o(s)39 b Fs(j)20 b Fw(#err)o(or)p 2335 2417
229 4 v 19 w Ft(r)m(estline)p Fv(\))h Fs(g)0 2681 y Fr(A.6)99
b(EBNF)26 b(f)n(or)f(library)f(descriptions)0 2887 y
Fv(The)g(follo)n(wing)f(set)i(of)g(rules)f(de\002nes)g(the)h(syntax)f
(for)g(library)f(descriptions)h(\()p Ft(libr)o(ary)p
Fv(\).)37 b(Notice)24 b(that)h(although)e(the)h(syntax)g(used)g(for)0
2986 y Ft(ver)o(sion)h Fv(is)g(the)f(same)h(as)g(that)g(for)f
Ft(stdpn)p Fv(,)g(actual)h(v)o(ersion)e(strings)h(will)h(under)o(go)d
(further)h(analysis)h(according)f(to)h(the)h(rules)f(gi)n(v)o(en)f(in)0
3086 y(section)d(6:)111 3215 y Ft(ver)o(sion)99 b Fs(!)g
Ft(stdpn)63 3315 y(privile)m(g)o(e)g Fs(!)g Ft(stdpn)50
3414 y(lprivspec)g Fs(!)g(f)21 b Ft(privile)m(g)o(e)40
b Fs(j)21 b Fw(\()p 1075 3442 28 4 v 20 w Fs(f)g Ft(privile)m(g)o(e)e
Fs(g)i Fw(\))p 1560 3442 V 20 w Fs(g)125 3515 y Ft(libr)o(ary)99
b Fs(!)g Fv([)p Ft(lprivspec)p Fv(])20 b Ft(libkw)h Fv([[)p
Fw(\()p 1274 3542 V 19 w Ft(ver)o(sion)g Fw(\))p 1586
3542 V -1 w Fv(])g Ft(elst)p Fv(])f(\()p Fw(is)p 1853
3529 56 4 v 42 w Fs(j)h Fw(IS)p 1994 3530 79 4 v Fv(\))g
Ft(member)o(s)0 3793 y Fr(A.7)99 b(EBNF)26 b(f)n(or)f(library)f
(component)j(descriptions)e(\(gr)n(oup)h(descriptions\))0
3999 y Fv(The)20 b(main)g(dif)n(ferences)e(between)h(group-)g(and)g
(library-syntax)f(can)i(be)g(summarized)e(as)j(follo)n(ws:)125
4231 y Fs(\017)41 b Fv(Groups)19 b(use)h(k)o(e)o(yw)o(ord)e
Fw(gr)o(oup)p 912 4261 211 4 v 20 w Fv(instead)i(of)g
Fw(library)p 1490 4261 250 4 v -1 w Fv(.)125 4364 y Fs(\017)41
b Fv(Groups)19 b(may)g(ha)n(v)o(e)h(an)g(empty)f(e)o(xport)g(list.)125
4497 y Fs(\017)41 b Fv(Groups)17 b(cannot)h(wrap)h(pri)n(vile)o(ges,)e
(i.e.,)i(names)g(of)f(pri)n(vile)o(ges)g(\(in)h(front)f(of)g(the)h
Fw(gr)o(oup)p 2570 4527 211 4 v 18 w Fv(k)o(e)o(yw)o(ord\))e(ne)n(v)o
(er)h(appear)f(within)i(paren-)208 4597 y(theses.)125
4729 y Fs(\017)41 b Fv(Groups)19 b(ha)n(v)o(e)g(no)h(v)o(ersion.)125
4862 y Fs(\017)41 b Fv(Groups)19 b(ha)n(v)o(e)g(an)h(optional)f(o)n
(wner)-5 b(.)0 5095 y(The)20 b(follo)n(wing)e(set)j(of)f(rules)g
(de\002nes)g(the)h(syntax)e(for)h(library)f(component)e(\(group\))h
(descriptions)h(\()p Ft(gr)l(oup)p Fv(\):)165 5241 y
Ft(owner)99 b Fs(!)h Ft(pathname)50 5340 y(gprivspec)e
Fs(!)i(f)20 b Ft(privile)m(g)o(e)g Fs(g)178 5440 y Ft(gr)l(oup)98
b Fs(!)i Fv([)p Ft(gprivspec)p Fv(])19 b Ft(gr)l(oupkw)g
Fv([)p Fw(\()p 1389 5467 28 4 v 20 w Ft(owner)i Fw(\))p
1666 5467 V -1 w Fv(])g([)p Ft(elst)p Fv(])f(\()p Fw(is)p
1961 5454 56 4 v 42 w Fs(j)g Fw(IS)p 2101 5455 79 4 v
1 w Fv(\))g Ft(member)o(s)1968 5709 y Fv(50)p eop
%%Page: 51 52
51 51 bop 0 83 a Fx(B)119 b(Full)31 b(signatur)n(e)f(of)g
Fg(structure)69 b(CM)0 312 y Fv(Structure)31 b Fu(CM)h
Fv(serv)o(es)g(as)h(the)f(compilation)e(manager')-5 b(s)31
b(user)h(interf)o(ace)f(and)g(also)h(constitutes)g(the)g(major)f(part)h
(of)g(the)g(API.)g(The)0 411 y(structure)23 b(is)i(the)f(\(only\))f(e)o
(xport)g(of)g(library)h Fu($smlnj/cm.cm)p Fv(.)35 b(The)23
b(standard)g(installation)h(procedure)e(of)i(SML/NJ)g(re)o(gisters)g
(this)0 511 y(library)19 b(for)h(autoloading)d(at)k(the)f(interacti)n
(v)o(e)f(top)h(le)n(v)o(el.)90 711 y Fe(signature)43
b(CM)h(=)h(sig)269 894 y(val)f(autoload)g(:)g(string)g(->)h(bool)269
985 y(val)f(make)g(:)h(string)f(->)g(bool)269 1076 y(val)g(recomp)g(:)h
(string)f(->)g(bool)269 1168 y(val)g(stabilize)g(:)g(bool)g(->)h
(string)f(->)g(bool)269 1350 y(type)g('a)h(controller)e(=)h({)h(get)f
(:)h(unit)f(->)h('a,)f(set)g(:)h('a)g(->)f(unit)g(})269
1533 y(structure)f(Anchor)h(:)h(sig)448 1624 y(val)g(anchor)e(:)i
(string)f(->)g(string)g(option)g(controller)448 1716
y(val)h(reset)f(:)g(unit)g(->)h(unit)269 1807 y(end)269
1990 y(structure)e(Control)h(:)h(sig)448 2081 y(val)g(keep_going)e(:)h
(bool)h(controller)448 2172 y(val)g(verbose)e(:)i(bool)f(controller)448
2264 y(val)h(parse_caching)d(:)j(int)f(controller)448
2355 y(val)h(warn_obsolete)d(:)j(bool)f(controller)448
2446 y(val)h(debug)f(:)g(bool)g(controller)448 2538 y(val)h
(conserve_memory)d(:)j(bool)f(controller)448 2629 y(val)h
(generate_index)d(:)j(bool)f(controller)269 2720 y(end)269
2903 y(structure)f(Library)h(:)h(sig)448 2994 y(type)f(lib)448
3086 y(val)h(known)f(:)g(unit)g(->)h(lib)f(list)448 3177
y(val)h(descr)f(:)g(lib)h(->)f(string)448 3268 y(val)h(osstring)e(:)i
(lib)f(->)h(string)448 3360 y(val)g(dismiss)e(:)i(lib)f(->)h(unit)448
3451 y(val)g(unshare)e(:)i(lib)f(->)h(unit)269 3542 y(end)269
3725 y(structure)e(State)h(:)h(sig)448 3816 y(val)g(synchronize)e(:)h
(unit)g(->)h(unit)448 3907 y(val)g(reset)f(:)g(unit)g(->)h(unit)448
3999 y(val)g(pending)e(:)i(unit)f(->)h(string)e(list)269
4090 y(end)269 4273 y(structure)g(Server)h(:)h(sig)448
4364 y(type)f(server)448 4455 y(val)h(start)f(:)g({)h(cmd)f(:)h(string)
f(*)g(string)g(list,)1076 4547 y(name)g(:)h(string,)1076
4638 y(pathtrans)e(:)i(\(string)f(->)g(string\))g(option,)1076
4729 y(pref)g(:)h(int)f(})h(->)f(server)g(option)448
4821 y(val)h(stop)f(:)g(server)g(->)h(unit)448 4912 y(val)g(kill)f(:)g
(server)g(->)h(unit)448 5003 y(val)g(name)f(:)g(server)g(->)h(string)
269 5095 y(end)269 5277 y(val)f(sources)g(:)448 5369
y({)h(arch:)f(string,)g(os:)g(string)g(})g(option)g(->)448
5460 y(string)g(->)1968 5709 y Fv(51)p eop
%%Page: 52 53
52 52 bop 448 83 a Fe({)45 b(file:)f(string,)g(class:)f(string,)h
(derived:)g(bool)g(})g(list)h(option)269 266 y(val)f(symval)g(:)h
(string)f(->)g(int)g(option)g(controller)269 357 y(val)g(load_plugin)f
(:)i(string)f(->)g(bool)269 540 y(val)g(mk_standalone)f(:)448
631 y(bool)h(option)g(->)448 722 y({)h(project:)e(string,)h(wrapper:)g
(string,)f(target:)h(string)g(})g(->)448 814 y(string)g(list)g(option)
90 905 y(end)90 1088 y(structure)f(CM)h(:)h(CM)0 1418
y Fx(C)120 b(Listing)30 b(of)f(all)h(pr)n(e-de\002ned)i(CM)e
(identi\002ers)p 1293 1686 4 100 v 1310 1686 V 1361 1656
a Fv(Alpha32)p 1695 1686 V 97 w(HP-P)-8 b(A)p 2027 1686
V 100 w(Po)n(werPC)p 2438 1686 V 99 w(Po)n(werPC)p 2849
1686 V 100 w(Sparc)p 3138 1686 V 98 w(IA32)p 3408 1686
V 124 w(IA32)p 1293 1785 V 1310 1785 V 1421 1755 a(Unix)p
1695 1785 V 191 w(Unix)p 2027 1785 V 142 w(MA)m(COS)p
2438 1785 V 182 w(Unix)p 2849 1785 V 183 w(Unix)p 3138
1785 V 112 w(Unix)p 3408 1785 V 101 w(W)m(in32)p 288
1789 3444 4 v 288 1805 V 338 1875 a Fu(ARCH)p 543 1875
25 4 v 29 w(ALPHA)p 1293 1905 4 100 v 1310 1905 V 666
w Fv(1)p 1695 1905 V 2027 1905 V 2438 1905 V 2849 1905
V 3138 1905 V 3408 1905 V 338 1975 a Fu(ARCH)p 543 1975
25 4 v 29 w(HPPA)p 1293 2004 4 100 v 1310 2004 V 1695
2004 V 1075 w Fv(1)p 2027 2004 V 2438 2004 V 2849 2004
V 3138 2004 V 3408 2004 V 338 2074 a Fu(ARCH)p 543 2074
25 4 v 29 w(PPC)p 1293 2104 4 100 v 1310 2104 V 1695
2104 V 2027 2104 V 1496 w Fv(1)p 2438 2104 V 369 w(1)p
2849 2104 V 3138 2104 V 3408 2104 V 338 2174 a Fu(ARCH)p
543 2174 25 4 v 29 w(SPARC)p 1293 2204 4 100 v 1310 2204
V 1695 2204 V 2027 2204 V 2438 2204 V 2849 2204 V 2157
w Fv(1)p 3138 2204 V 3408 2204 V 338 2273 a Fu(ARCH)p
543 2273 25 4 v 29 w(X86)p 1293 2303 4 100 v 1310 2303
V 1695 2303 V 2027 2303 V 2438 2303 V 2849 2303 V 3138
2303 V 2537 w Fv(1)p 3408 2303 V 254 w(1)338 2373 y Fu(OPSYS)p
593 2373 25 4 v 29 w(UNIX)p 1293 2403 4 100 v 1310 2403
V 666 w Fv(1)p 1695 2403 V 317 w(1)p 2027 2403 V 2438
2403 V 740 w(1)p 2849 2403 V 308 w(1)p 3138 2403 V 238
w(1)p 3408 2403 V 338 2473 a Fu(OPSYS)p 593 2473 25 4
v 29 w(MACOS)p 1293 2503 4 100 v 1310 2503 V 1695 2503
V 2027 2503 V 1346 w Fv(1)p 2438 2503 V 2849 2503 V 3138
2503 V 3408 2503 V 338 2572 a Fu(OPSYS)p 593 2572 25
4 v 29 w(WIN32)p 1293 2602 4 100 v 1310 2602 V 1695 2602
V 2027 2602 V 2438 2602 V 2849 2602 V 3138 2602 V 3408
2602 V 2683 w Fv(1)338 2672 y Fu(BIG)p 493 2672 25 4
v 29 w(ENDIAN)p 1293 2702 4 100 v 1310 2702 V 1695 2702
V 2027 2702 V 2438 2702 V 2849 2702 V 2157 w Fv(1)p 3138
2702 V 3408 2702 V 338 2772 a Fu(LITTLE)p 643 2772 25
4 v 29 w(ENDIAN)p 1293 2801 4 100 v 1310 2801 V 516 w
Fv(1)p 1695 2801 V 317 w(1)p 2027 2801 V 329 w(1)p 2438
2801 V 369 w(1)p 2849 2801 V 3138 2801 V 588 w(1)p 3408
2801 V 254 w(1)338 2871 y Fu(SIZE)p 543 2871 25 4 v 29
w(32)p 1293 2901 4 100 v 1310 2901 V 816 w Fv(1)p 1695
2901 V 317 w(1)p 2027 2901 V 329 w(1)p 2438 2901 V 369
w(1)p 2849 2901 V 308 w(1)p 3138 2901 V 238 w(1)p 3408
2901 V 254 w(1)338 2971 y Fu(NEW)p 493 2971 25 4 v 29
w(CM)p 1293 3001 4 100 v 1310 3001 V 866 w Fv(1)p 1695
3001 V 317 w(1)p 2027 3001 V 329 w(1)p 2438 3001 V 369
w(1)p 2849 3001 V 308 w(1)p 3138 3001 V 238 w(1)p 3408
3001 V 254 w(1)338 3070 y Fu(SMLNJ)p 593 3070 25 4 v
29 w(VERSION)p 1293 3100 4 100 v 1310 3100 V 474 w Fv(110)p
1695 3100 V 233 w(110)p 2027 3100 V 246 w(110)p 2438
3100 V 285 w(110)p 2849 3100 V 224 w(110)p 3138 3100
V 153 w(110)p 3408 3100 V 170 w(110)338 3170 y Fu(SMLNJ)p
593 3170 25 4 v 29 w(MINOR)p 872 3170 V 29 w(VERSION)p
1293 3200 4 100 v 1310 3200 V 216 w Fv(40)p 1695 3200
V 275 w(40)p 2027 3200 V 287 w(40)p 2438 3200 V 328 w(40)p
2849 3200 V 266 w(40)p 3138 3200 V 195 w(40)p 3408 3200
V 212 w(40)0 3471 y Fx(D)120 b(Listing)30 b(of)f(all)h(CM-speci\002c)h
(en)-5 b(vir)n(onment)31 b(v)o(ariables)0 3707 y Fv(Most)26
b(control)e(parameters)g(that)i(af)n(fect)f(CM')-5 b(s)27
b(operation)c(can)j(be)f(adjusted)g(using)g(en)m(vironment)d(v)n
(ariables)j Fl(v)3323 3719 y Fj(s)3385 3707 y Fv(at)h(startup)f(time,)i
(i.e,)0 3806 y(when)15 b(the)h Fu(sml)g Fv(command)d(is)k(in)m(v)n(ok)o
(ed.)22 b(Each)15 b(such)g(parameter)f(has)i(a)h(def)o(ault)e(setting.)
23 b(Def)o(ault)15 b(settings)h(are)g(determined)e(at)i(bootstrap)0
3906 y(time,)26 b(i.e.,)h(the)e(time)h(when)e(the)i(heap)e(image)h(for)
g(SML/NJ')-5 b(s)26 b(interacti)n(v)o(e)e(system)h(is)h(b)n(uilt.)2762
3876 y Fq(18)2865 3906 y Fv(At)g(bootstrap)e(time,)i(it)g(is)g
(possible)f(to)0 4005 y(adjust)20 b(def)o(aults)g(by)g(using)f(a)i(set)
g(of)f(en)m(vironment)d(v)n(ariables)j Fl(v)1863 4017
y Fj(b)1896 4005 y Fv(.)26 b(In)20 b(the)g(current)f(v)o(ersion)g(of)h
(CM)h(it)g(is)g(al)o(w)o(ays)g(the)f(case)h(that)f Fl(v)3779
4017 y Fj(s)3838 4005 y Fi(=)j Fl(v)3966 4017 y Fj(b)3999
4005 y Fv(.)0 4105 y(\(In)d(older)f(v)o(ersions)g(this)i(w)o(as)g(not)f
(the)g(case.\))25 b(If)20 b(neither)f Fl(v)1728 4117
y Fj(s)1785 4105 y Fv(nor)g Fl(v)1956 4117 y Fj(b)2011
4105 y Fv(were)h(set,)g(a)h(hard-wired)d(f)o(allback)h(v)n(alue)h(will)
h(be)f(used.)0 4254 y(The)h(rule)g(for)g(constructing)f(the)h(name)g
Fl(v)1219 4266 y Fj(s)1277 4254 y Fv(\(and)g Fl(v)1487
4266 y Fj(b)1520 4254 y Fv(\))h(is)g(the)g(follo)n(wing:)k(F)o(or)21
b(each)g(adjustable)g(parameter)f Fl(x)j Fv(there)e(is)h(a)g
Ft(name)f(stem)p Fv(.)30 b(If)0 4354 y(the)20 b(stem)h(for)e
Fl(x)j Fv(is)f Fl(s)p Fv(,)f(then)g Fl(v)846 4366 y Fj(s)905
4354 y Fi(=)i Fl(v)1032 4366 y Fj(b)1089 4354 y Fi(=)h
Fu(CM)p 1282 4354 25 4 v 29 w Fl(s)p Fv(.)0 4504 y(Since)c(the)f
(normal)g(installation)g(procedure)e(for)i(SML/NJ)h(sets)g(some)g(of)f
(the)h Fl(v)2326 4516 y Fj(b)2378 4504 y Fv(v)n(ariables)f(at)h
(bootstrap)e(time,)i(there)f(are)h(tw)o(o)g(columns)0
4603 y(with)h(def)o(ault)g(v)n(alues)f(in)h(the)g(follo)n(wing)f
(table.)25 b(The)19 b(v)n(alue)h(labeled)f Ft(fallbac)n(k)h
Fv(is)h(the)f(one)f(that)h(w)o(ould)g(ha)n(v)o(e)f(been)g(used)h(had)g
(there)f(been)0 4703 y(no)h(en)m(vironment)d(v)n(ariable)i(at)i
(bootrap)d(time,)i(the)g(one)g(labeled)g Ft(default)f
Fv(is)i(the)f(one)g(the)g(user)g(will)h(actually)f(see.)0
4852 y(T)-7 b(o)28 b(sa)n(v)o(e)g(space,)h(the)f(table)f(lists)i(the)f
(stem)g(b)n(ut)g(not)f(the)h(names)f(for)g(its)i(associated)e
(\(longer\))f Fl(v)2892 4864 y Fj(s)2956 4852 y Fv(and)h
Fl(v)3144 4864 y Fj(b)3178 4852 y Fv(.)48 b(F)o(or)27
b(e)o(xample,)h(since)g(the)0 4952 y(the)d(table)g(sho)n(ws)f
Fu(VERBOSE)g Fv(in)h(the)g(ro)n(w)f(for)h Fu(CM.Control.verbose)p
Fv(,)e(CM')-5 b(s)25 b(per)n(-session)g(v)o(erbosity)e(can)h(be)h
(adjusted)f(using)0 5051 y Fu(CM)p 105 5051 V 30 w(VERBOSE)p
Fv(.)p 0 5106 1608 4 v 66 5162 a Fp(18)120 5185 y Fo(Normally)18
b(this)f(is)g(the)h(same)f(as)g(installation)k(time,)c(b)o(ut)g(for)g
(SML/NJ)g(compiler)h(hack)o(ers)h(there)g(is)e(also)g(a)g
Fm(makeml)f Fo(script)i(for)f(the)h(purpose)g(of)f(bootstrapping.)1968
5709 y Fv(52)p eop
%%Page: 53 54
53 53 bop 166 64 a Fe(CM.Control.)p Fd(c)p 869 91 4 92
v 886 91 V 522 w Fc(stem)p 1685 91 V 449 w(type)p 2053
91 V 198 w(f)o(allback)p 2448 91 V 172 w(def)o(ault)p
2842 91 V 145 w(def)o(ault')l(s)19 b(meaning)p 166 95
3688 4 v 166 111 V 166 175 a Fe(verbose)p 869 203 4 92
v 886 203 V 649 w(VERBOSE)p 1685 203 V 336 w(bool)p 2053
203 V 201 w(true)p 2448 203 V 228 w Fc(same)p 2842 203
V 171 w(issue)g(progess)h(messages)166 267 y Fe(debug)p
869 294 V 886 294 V 784 w(DEBUG)p 1685 294 V 381 w(bool)p
2053 294 V 179 w(false)p 2448 294 V 205 w Fc(same)p 2842
294 V 171 w(do)f(not)g(issue)g(deb)o(ug)h(messages)166
358 y Fe(keep)p 350 358 23 4 v 27 w(going)p 869 385 4
92 v 886 385 V 474 w(KEEP)p 1256 358 23 4 v 26 w(GOING)p
1685 385 4 92 v 278 w(bool)p 2053 385 V 179 w(false)p
2448 385 V 205 w Fc(same)p 2842 385 V 171 w(quit)f(on)g(\002rst)f
(error)166 449 y(\(none\))p 869 477 V 886 477 V 703 w
Fe(PATHCONFIG)p 1685 477 V 223 w(string)p 2053 477 V
99 w Fc(see)h(belo)n(w)p 2448 477 V 100 w(see)g(belo)n(w)p
2842 477 V 101 w(central)g(path)g(con\002guration)h(\002le)166
540 y Fe(parse)p 395 540 23 4 v 26 w(caching)p 869 659
4 183 v 886 659 V 272 w(PARSE)p 1233 540 23 4 v 26 w(CACHING)p
1685 659 4 183 v 233 w(int)p 2053 659 V 247 w(100)p 2448
659 V 250 w Fc(same)p 2842 659 V 171 w(at)27 b(most)g(100)i(parse)e
(trees)h(will)e(be)2894 632 y(cached)20 b(in)f(main)g(memory)166
723 y(\(none\))p 869 842 V 886 842 V 577 w Fe(LOCAL)p
1166 723 23 4 v 26 w(PATHCONFIG)p 1685 842 4 183 v 98
w(string)p 2053 842 V 99 w Fc(see)g(belo)n(w)p 2448 842
V 171 w(same)p 2842 842 V 171 w(user)o(-speci\002c)28
b(path)h(con\002guration)2894 814 y(\002le)166 906 y
Fe(warn)p 350 906 23 4 v 27 w(obsolete)p 869 1116 4 274
v 886 1116 V 271 w(WARN)p 1188 906 23 4 v 27 w(OBSOLETE)p
1685 1116 4 274 v 210 w(bool)p 2053 1116 V 201 w(true)p
2448 1116 V 228 w Fc(same)p 2842 1116 V 171 w(issue)41
b(w)o(arnings)h(about)g(obsolete)2894 997 y(C-style)25
b(operators)h(in)g(description)2894 1088 y(\002les)166
1180 y Fe(conserve)p 530 1180 23 4 v 26 w(memory)p 869
1390 4 274 v 886 1390 V 138 w(CONSERVE)p 1324 1180 23
4 v 25 w(MEMORY)p 1685 1390 4 274 v 166 w(bool)p 2053
1390 V 179 w(false)p 2448 1390 V 205 w Fc(same)p 2842
1390 V 171 w(a)o(v)o(oid)14 b(repeated)i(I/O)e(operations)i(by)2894
1271 y(k)o(eeping)38 b(certain)f(information)h(in)2894
1362 y(main)19 b(memory)0 1579 y Fv(The)24 b(f)o(allback)g(for)h
Fu(PATHCONFIG)e Fv(is)j Fu(/usr/lib/smlnj-pathconfig)p
Fv(,)21 b(b)n(ut)k(the)g(standard)f(installation)g(o)o(v)o(errides)f
(this)i(and)0 1678 y(uses)c Fu($INSTALLDIR/lib/pathconfig)16
b Fv(\(where)j Fu($INSTALLDIR)g Fv(is)i(the)f(SML/NJ)h(installation)e
(directory\))g(instead.)0 1825 y(The)28 b(def)o(ault)g(for)g(the)h
(\223local\224)g(path)f(con\002guration)e(\002le)j(is)h
Fu(.smlnj-pathconfig)p Fv(.)48 b(This)29 b(\002le)g(is)h(located)e(in)h
(the)g(user')-5 b(s)29 b(home)0 1925 y(directory)18 b(\(gi)n(v)o(en)h
(by)h(the)g(en)m(vironment)d(v)n(ariable)i Fu($HOME)p
Fv(\).)0 2072 y(Control)g(parameters)g(can)h(also)h(be)f(set)h(using)f
(command-line)d(parameters)i(\(see)h(section)g(14\).)0
2398 y Fx(E)119 b(Listing)30 b(of)f(all)i(class)e(names)g(and)h(their)h
(tools)448 2634 y Fv(class)p 697 2664 4 100 v 139 w(\002le)21
b(contents)p 1684 2664 V 771 w(tool)p 2289 2664 V 287
w(\002le)f(name)g(suf)n(\002x)o(es)p 359 2667 3302 4
v 359 2684 V 469 2753 a(sml)p 697 2783 4 100 v 159 w(ML)h(source)e
(code)p 1684 2783 V 578 w(b)n(uilt-in)p 2289 2783 V 230
w Fu(.sig)p Fv(,)g Fu(.sml)p Fv(,)h Fu(.fun)478 2853
y Fv(cm)p 697 2883 V 168 w(CM)h(description)e(\002le)p
1684 2883 V 473 w(b)n(uilt-in)p 2289 2883 V 230 w Fu(.cm)409
2953 y Fv(mlyacc)p 697 2983 V 98 w(ML-Y)-8 b(acc)20 b(grammar)p
1684 2983 V 469 w(ml-yacc)p 2289 2983 V 217 w Fu(.grm)p
Fv(,)f Fu(.y)435 3052 y Fv(mlle)o(x)p 697 3082 V 124
w(ML-Le)o(x)g(speci\002cation)p 1684 3082 V 411 w(ml-le)o(x)p
2289 3082 V 243 w Fu(.lex)p Fv(,)g Fu(.l)411 3152 y Fv(mlb)n(ur)o(g)p
697 3182 V 98 w(ML-Bur)o(g)g(speci\002cation)p 1684 3182
V 349 w(ml-b)n(ur)o(g)p 2289 3182 V 218 w Fu(.burg)419
3252 y Fv(no)n(web)p 697 3282 V 108 w(literate)i(program)p
1684 3282 V 595 w(no)n(web)p 2289 3282 V 241 w Fu(.nw)439
3351 y Fv(mak)o(e)p 697 3381 V 129 w(mak)o(e\002le)p
1684 3381 V 865 w(mak)o(e)p 2289 3381 V 450 3451 a(shell)p
697 3481 V 141 w(arbitrary)p 1684 3481 V 700 w(shell)f(command)p
2289 3481 V 464 3550 a(tool)p 697 3580 V 154 w(CM)h(library)e
(description)g(\002le)p 1684 3580 V 231 w(b)n(uilt-in)p
2289 3580 V 435 3650 a(suf)n(\002x)p 697 3680 V 125 w
Ft(\(does)h(not)g(name)f(a)i(\002le\))p 1684 3680 V 398
w Fv(b)n(uilt-in)p 2289 3680 V 483 3750 a(dir)p 697 3780
V 172 w(directory)p 1684 3780 V 817 w(b)n(uilt-in)p 2289
3780 V 230 w Ft(\(dir)m(ectories)f(r)m(eco)o(gnized)f(automatically\))0
4047 y Fx(F)120 b(A)-12 b(v)o(ailable)30 b(libraries)0
4280 y Fv(Compiler)c(and)h(interacti)n(v)o(e)f(system)h(of)g(SML/NJ)h
(consist)f(of)g(se)n(v)o(eral)f(hundred)f(indi)n(vidual)h(compilation)f
(units.)46 b(Lik)o(e)27 b(modules)f(of)0 4380 y(application)19
b(programs,)f(these)i(compilation)f(units)h(are)g(also)g(or)o(ganized)e
(using)h(CM)i(libraries.)0 4527 y(Some)26 b(of)f(the)i(libraries)e
(that)h(mak)o(e)g(up)g(SML/NJ)g(are)g(actually)g(the)g(same)g(ones)g
(that)g(application)e(programmers)g(are)h(lik)o(ely)h(to)h(use,)0
4626 y(others)k(e)o(xist)g(for)g(or)o(ganizational)d(purposes)i(only)-5
b(.)58 b(There)30 b(are)i(\223plugin\224)e(libraries\227mainly)f(for)i
(the)h(CM)g(\223tools\224)f(subsystem\227)0 4726 y(that)c(will)g(be)g
(automatically)e(loaded)h(on)g(demand,)h(and)f(libraries)g(such)h(as)g
Fu($smlnj/cmb.cm)e Fv(can)h(be)h(used)f(to)h(obtain)f(access)h(to)0
4826 y(functionality)18 b(that)i(by)g(def)o(ault)g(is)h(not)f(present.)
0 5109 y Fr(F)-11 b(.1)99 b(Libraries)26 b(f)n(or)e(general)i(pr)n
(ogramming)0 5312 y Fv(Libraries)19 b(listed)i(in)f(the)h(follo)n(wing)
d(table)i(pro)o(vide)f(a)h(broad)f(palette)h(of)g(general-purpose)d
(programming)f(tools)3315 5282 y Fq(19)3377 5312 y Fv(:)p
0 5381 1608 4 v 66 5437 a Fp(19)120 5460 y Fo(Recall)j(that)f(anchored)
h(paths)f(of)f(the)h(form)e Fm($)p Fh(=x)p Fb([)p Fh(=)c
Fa(\001)f(\001)h(\001)o Fb(])k Fo(act)i(as)f(an)h(abbre)n(viation)j
(for)c Fm($)p Fh(x=x)p Fb([)p Fh(=)11 b Fa(\001)g(\001)h(\001)o
Fb(])p Fo(.)1968 5709 y Fv(53)p eop
%%Page: 54 55
54 54 bop 96 64 a Fc(name)p 1164 91 4 92 v 1181 91 V
975 w(description)p 3320 91 V 1809 w(installed)p 3673
91 V 100 w(loaded)p 46 95 3928 4 v 46 111 V 96 175 a
Fe($/basis.cm)p 1164 203 4 92 v 1181 203 V 686 w Fc(Standard)20
b(Basis)e(Library)p 3320 203 V 1475 w(al)o(w)o(ays)p
3673 203 V 159 w(auto)p 46 206 3928 4 v 46 222 V 96 286
a Fe($/ml-yacc-lib.cm)p 1164 314 4 92 v 1181 314 V 416
w Fc(ML-Y)-7 b(acc)19 b(library)p 3320 314 V 1663 w(al)o(w)o(ays)p
3673 314 V 186 w(no)p 46 317 3928 4 v 46 334 V 96 398
a Fe($/smlnj-lib.cm)p 1164 425 4 92 v 1181 425 V 506
w Fc(SML/NJ)f(general-purpose)j(utility)e(library)p 3320
425 V 991 w(al)o(w)o(ays)p 3673 425 V 159 w(auto)p 46
428 3928 4 v 96 492 a Fe($/unix-lib.cm)p 1164 520 4 92
v 1181 520 V 551 w Fc(SML/NJ)f(Unix)h(programming)i(utility)d(library)p
3320 520 V 878 w(optional)p 3673 520 V 167 w(no)p 46
523 3928 4 v 96 587 a Fe($/inet-lib.cm)p 1164 614 4 92
v 1181 614 V 551 w Fc(SML/NJ)g(internet)h(programming)i(utility)d
(library)p 3320 614 V 799 w(optional)p 3673 614 V 167
w(no)p 46 618 3928 4 v 96 682 a Fe($/regexp-lib.cm)p
1164 709 4 92 v 1181 709 V 461 w Fc(SML/NJ)g(re)o(gular)i(e)o
(xpression)g(library)p 3320 709 V 1102 w(optional)p 3673
709 V 167 w(no)p 46 712 3928 4 v 96 776 a Fe($/reactive-lib.cm)p
1164 804 4 92 v 1181 804 V 371 w Fc(SML/NJ)e(reacti)n(v)o(e)i
(programming)g(library)p 3320 804 V 991 w(optional)p
3673 804 V 167 w(no)p 46 807 3928 4 v 96 871 a Fe($/pp-lib.cm)p
1164 898 4 92 v 1181 898 V 641 w Fc(SML/NJ)e(pretty-printing)i(library)
p 3320 898 V 1234 w(al)o(w)o(ays)p 3673 898 V 186 w(no)p
46 902 3928 4 v 96 966 a Fe($/html-lib.cm)p 1164 993
4 92 v 1181 993 V 551 w Fc(SML/NJ)e(HTML)h(handling)h(library)p
3320 993 V 1178 w(al)o(w)o(ays)p 3673 993 V 186 w(no)p
46 996 3928 4 v 96 1060 a Fe($/controls-lib.cm)p 1164
1088 4 92 v 1181 1088 V 371 w Fc(SML/NJ)e(library)h(for)g
(con\002gurable)h(\223controls\224)p 3320 1088 V 866
w(al)o(w)o(ays)p 3673 1088 V 186 w(no)p 46 1091 3928
4 v 96 1155 a Fe($/hash-cons-lib.cm)p 1164 1182 4 92
v 1181 1182 V 326 w Fc(SML/NJ)e(hash-consing)j(library)p
3320 1182 V 1256 w(optional)p 3673 1182 V 167 w(no)0
1430 y Fr(F)-11 b(.2)99 b(Libraries)26 b(f)n(or)e(contr)n(olling)h
(SML/NJ')l(s)h(operation)0 1636 y Fv(The)k(follo)n(wing)f(table)h
(lists)i(those)f(libraries)f(that)g(pro)o(vide)f(access)i(to)f(the)h
(so-called)f Ft(visible)h(compiler)f Fv(infrastructure)e(and)i(to)h
(the)0 1736 y(compilation)18 b(manager)h(API.)121 1959
y Fc(name)p 1549 1986 V 1565 1986 V 1335 w(description)p
3165 1986 V 1269 w(installed)p 3518 1986 V 165 w(loaded)p
71 1989 3879 4 v 71 2006 V 121 2070 a Fe($smlnj/compiler.cm)121
2161 y($smlnj/compiler/current.cm)p 1549 2189 4 183 v
1565 2189 V 1617 2070 a Fc(visible)g(compiler)g(for)g(current)g
(architecture)p 3165 2189 V 433 w(al)o(w)o(ays)p 3518
2189 V 225 w(auto)121 2252 y Fe($smlnj/compiler/compiler.cm)p
1549 2371 V 1565 2371 V 281 w Fc(structure)j Fe(Compiler)f
Fc(\(the)i(visible)f(compiler)h(in)f(one)1617 2344 y(big)d(structure\))
p 3165 2371 V 3240 2252 a(al)o(w)o(ays)p 3518 2371 V
252 w(no)p 71 2374 3879 4 v 71 2391 V 121 2455 a Fe($smlnj/cm.cm)121
2546 y($smlnj/cm/cm.cm)p 1549 2574 4 183 v 1565 2574
V 1617 2455 a Fc(compilation)h(manager)p 3165 2574 V
991 w(al)o(w)o(ays)p 3518 2574 V 225 w(auto)p 71 2577
3879 4 v 121 2641 a Fe($smlnj/cm/tools.cm)p 1549 2668
4 92 v 1565 2668 V 686 w Fc(API)e(for)h(e)o(xtending)h(CM)f(with)f(ne)n
(w)i(tools)p 3165 2668 V 493 w(al)o(w)o(ays)p 3518 2668
V 252 w(no)p 71 2672 3879 4 v 71 2688 V 121 2752 a Fe($/mllex-tool.cm)p
1549 2780 4 92 v 1565 2780 V 821 w Fc(plugin)g(library)e(for)h(class)g
Fe(mllex)p 3165 2780 V 701 w Fc(al)o(w)o(ays)p 3518 2780
V 124 w(on)h(demand)p 71 2783 3879 4 v 121 2847 a Fe($/lex-ext.cm)p
1549 2874 4 92 v 1565 2874 V 956 w Fc(plugin)g(library)e(for)h(e)o
(xtension)h Fe(.lex)p 3165 2874 V 606 w Fc(al)o(w)o(ays)p
3518 2874 V 124 w(on)g(demand)p 71 2878 3879 4 v 121
2942 a Fe($/mlyacc-tool.cm)p 1549 2969 4 92 v 1565 2969
V 776 w Fc(plugin)g(library)e(for)h(class)g Fe(mlyacc)p
3165 2969 V 656 w Fc(al)o(w)o(ays)p 3518 2969 V 124 w(on)h(demand)p
71 2972 3879 4 v 121 3036 a Fe($/grm-ext.cm)p 1549 3064
4 92 v 1565 3064 V 956 w Fc(plugin)g(library)e(for)h(e)o(xtension)h
Fe(.grm)p 3165 3064 V 606 w Fc(al)o(w)o(ays)p 3518 3064
V 124 w(on)g(demand)p 71 3067 3879 4 v 121 3131 a Fe($/mlburg-tool.cm)p
1549 3158 4 92 v 1565 3158 V 776 w Fc(plugin)g(library)e(for)h(class)g
Fe(mlburg)p 3165 3158 V 656 w Fc(al)o(w)o(ays)p 3518
3158 V 124 w(on)h(demand)p 71 3162 3879 4 v 121 3225
a Fe($/burg-ext.cm)p 1549 3253 4 92 v 1565 3253 V 911
w Fc(plugin)g(library)e(for)h(e)o(xtension)h Fe(.burg)p
3165 3253 V 561 w Fc(al)o(w)o(ays)p 3518 3253 V 124 w(on)g(demand)p
71 3256 3879 4 v 121 3320 a Fe($/noweb-tool.cm)p 1549
3348 4 92 v 1565 3348 V 821 w Fc(plugin)g(library)e(for)h(class)g
Fe(noweb)p 3165 3348 V 701 w Fc(al)o(w)o(ays)p 3518 3348
V 124 w(on)h(demand)p 71 3351 3879 4 v 121 3415 a Fe($/nw-ext.cm)p
1549 3442 4 92 v 1565 3442 V 1001 w Fc(plugin)g(library)e(for)h(e)o
(xtension)h Fe(.nw)p 3165 3442 V 651 w Fc(al)o(w)o(ays)p
3518 3442 V 124 w(on)g(demand)p 71 3445 3879 4 v 121
3509 a Fe($/make-tool.cm)p 1549 3537 4 92 v 1565 3537
V 866 w Fc(plugin)g(library)e(for)h(class)g Fe(make)p
3165 3537 V 746 w Fc(al)o(w)o(ays)p 3518 3537 V 124 w(on)h(demand)p
71 3540 3879 4 v 121 3604 a Fe($/shell-tool.cm)p 1549
3631 4 92 v 1565 3631 V 821 w Fc(plugin)g(library)e(for)h(class)g
Fe(shell)p 3165 3631 V 701 w Fc(al)o(w)o(ays)p 3518 3631
V 124 w(on)h(demand)p 71 3635 3879 4 v 121 3699 a Fe($/dir-tool.cm)p
1549 3726 4 92 v 1565 3726 V 911 w Fc(plugin)g(library)e(for)h(class)g
Fe(dir)p 3165 3726 V 791 w Fc(al)o(w)o(ays)p 3518 3726
V 124 w(on)h(demand)0 3974 y Fr(F)-11 b(.3)99 b(Libraries)26
b(f)n(or)e(SML/NJ)i(compiler)f(hack)o(ers)0 4180 y Fv(The)j(follo)n
(wing)e(table)i(lists)h(libraries)e(that)h(pro)o(vide)e(access)i(to)g
(the)g(SML/NJ)h Ft(bootstr)o(ap)d(compiler)p Fv(.)48
b(The)27 b(bootstrap)g(compiler)f(is)j(a)0 4279 y(deri)n(v)n(ati)n(v)o
(e)17 b(of)h(the)h(compilation)e(manager)-5 b(.)23 b(In)c(addition)e
(to)i(being)f(able)h(to)f(recompile)g(SML/NJ)h(for)f(the)h
(\223host\224)f(system)h(there)g(are)f(also)0 4379 y(cross-compilers)g
(that)j(can)f(tar)o(get)f(all)i(of)f(SML/NJ')-5 b(s)21
b(supported)d(platforms.)1968 5709 y(54)p eop
%%Page: 55 56
55 55 bop 66 64 a Fc(name)p 1494 91 4 92 v 1511 91 V
1335 w(description)p 3350 91 V 1509 w(installed)p 3703
91 V 100 w(loaded)p 16 95 3988 4 v 16 111 V 66 175 a
Fe($smlnj/cmb.cm)66 267 y($smlnj/cmb/current.cm)p 1494
294 4 183 v 1511 294 V 1562 175 a Fc(bootstrap)20 b(compiler)f(for)g
(current)g(architecture)h(and)f(OS)p 3350 294 V 353 w(al)o(w)o(ays)p
3703 294 V 186 w(no)p 16 297 3988 4 v 16 314 V 66 378
a Fe($smlnj/cmb/alpha32-unix.cm)p 1494 405 4 92 v 1511
405 V 326 w Fc(bootstrap)h(compiler)f(for)g(Alpha/Unix)h(systems)p
3350 405 V 569 w(al)o(w)o(ays)p 3703 405 V 186 w(no)p
16 408 3988 4 v 66 472 a Fe($smlnj/cmb/hppa-unix.cm)p
1494 500 4 92 v 1511 500 V 461 w Fc(bootstrap)g(compiler)f(for)g(HP-P)
-7 b(A/Unix)18 b(systems)p 3350 500 V 543 w(al)o(w)o(ays)p
3703 500 V 186 w(no)p 16 503 3988 4 v 66 567 a Fe
($smlnj/cmb/ppc-macos.cm)p 1494 594 4 92 v 1511 594 V
461 w Fc(bootstrap)i(compiler)f(for)g(Po)n(werPC/Unix)f(systems)p
3350 594 V 472 w(al)o(w)o(ays)p 3703 594 V 186 w(no)p
16 598 3988 4 v 66 662 a Fe($smlnj/cmb/ppc-unix.cm)p
1494 689 4 92 v 1511 689 V 506 w Fc(bootstrap)i(compiler)f(for)g(Po)n
(werPC/MacOS)f(systems)p 3350 689 V 393 w(al)o(w)o(ays)p
3703 689 V 186 w(no)p 16 692 3988 4 v 66 756 a Fe
($smlnj/cmb/sparc-unix.cm)p 1494 784 4 92 v 1511 784
V 416 w Fc(bootstrap)i(compiler)f(for)g(Sparc/Unix)g(systems)p
3350 784 V 582 w(al)o(w)o(ays)p 3703 784 V 186 w(no)p
16 787 3988 4 v 66 851 a Fe($smlnj/cmb/x86-unix.cm)p
1494 878 4 92 v 1511 878 V 506 w Fc(bootstrap)h(compiler)f(for)g
(IA32/Unix)h(systems)p 3350 878 V 598 w(al)o(w)o(ays)p
3703 878 V 186 w(no)p 16 882 3988 4 v 66 946 a Fe
($smlnj/cmb/x86-win32.cm)p 1494 973 4 92 v 1511 973 V
461 w Fc(bootstrap)g(compiler)f(for)g(IA32/W)m(in32)h(systems)p
3350 973 V 547 w(al)o(w)o(ays)p 3703 973 V 186 w(no)p
16 976 3988 4 v 16 993 V 66 1057 a Fe($smlnj/compiler/alpha32.cm)p
1494 1176 4 183 v 1511 1176 V 326 w Fc(visible)33 b(compiler)f(with)g
(back)o(end)j(for)d(Alpha-speci\002c)h(cross-)1562 1148
y(compiler)p 3350 1176 V 3426 1057 a(al)o(w)o(ays)p 3703
1176 V 186 w(no)p 16 1179 3988 4 v 66 1243 a Fe
($smlnj/compiler/hppa.cm)p 1494 1362 4 183 v 1511 1362
V 461 w Fc(visible)28 b(compiler)h(with)e(back)o(end)j(for)e(HP-P)-7
b(A-speci\002c)27 b(cross-)1562 1334 y(compiler)p 3350
1362 V 3426 1243 a(al)o(w)o(ays)p 3703 1362 V 186 w(no)p
16 1365 3988 4 v 66 1429 a Fe($smlnj/compiler/ppc.cm)p
1494 1548 4 183 v 1511 1548 V 506 w Fc(visible)16 b(compiler)h(with)e
(back)o(end)k(for)c(Po)n(werPC-speci\002c)h(cross-)1562
1520 y(compiler)p 3350 1548 V 3426 1429 a(al)o(w)o(ays)p
3703 1548 V 186 w(no)p 16 1551 3988 4 v 66 1615 a Fe
($smlnj/compiler/sparc.cm)p 1494 1733 4 183 v 1511 1733
V 416 w Fc(visible)35 b(compiler)g(with)f(back)o(end)i(for)e
(Sparc-speci\002c)h(cross-)1562 1706 y(compiler)p 3350
1733 V 3426 1615 a(al)o(w)o(ays)p 3703 1733 V 186 w(no)p
16 1737 3988 4 v 66 1801 a Fe($smlnj/compiler/x86.cm)p
1494 1919 4 183 v 1511 1919 V 506 w Fc(visible)j(compiler)f(with)g
(back)o(end)i(for)e(IA32-speci\002c)h(cross-)1562 1892
y(compiler)p 3350 1919 V 3426 1801 a(al)o(w)o(ays)p 3703
1919 V 186 w(no)p 16 1923 3988 4 v 66 1987 a Fe($smlnj/compiler/all.cm)
p 1494 2105 4 183 v 1511 2105 V 506 w Fc(visible)20 b(compiler)m(,)h
(back)o(ends)h(and)f(bootstrap)g(compilers)g(for)f(all)1562
2078 y(architectures)p 3350 2105 V 3426 1987 a(al)o(w)o(ays)p
3703 2105 V 186 w(no)p 16 2109 3988 4 v 66 2173 a Fe($/pgraph.cm)p
1494 2200 4 92 v 1511 2200 V 1001 w Fc(de\002nition)f(of)g
(\223portable)h(dependenc)o(y)h(graph\224)f(data)g(structure)p
3350 2200 V 180 w(al)o(w)o(ays)p 3703 2200 V 186 w(no)p
16 2203 3988 4 v 66 2267 a Fe($/pgraph-util.cm)p 1494
2295 4 92 v 1511 2295 V 776 w Fc(utility)f(routines)g(for)g(use)g(with)
g(portable)g(dependenc)o(y)j(graphs)p 3350 2295 V 175
w(optional)p 3703 2295 V 167 w(no)0 2543 y Fr(F)-11 b(.4)99
b(Inter)o(nal)25 b(libraries)0 2748 y Fv(F)o(or)20 b(completeness,)f
(here)g(is)i(the)g(list)g(of)f(other)f(libraries)h(that)g(are)g(part)g
(of)g(SML/NJ')-5 b(s)21 b(implementation:)1968 5709 y(55)p
eop
%%Page: 56 57
56 56 bop 96 64 a Fc(name)p 1644 91 4 92 v 1661 91 V
1455 w(description)p 3320 91 V 1329 w(installed)p 3673
91 V 100 w(loaded)p 46 95 3928 4 v 46 111 V 96 175 a
Fe($SMLNJ-MLRISC/Lib.cm)p 1644 203 4 92 v 1661 203 V
716 w Fc(utility)19 b(library)f(for)h(MLRISC)f(back)o(end)p
3320 203 V 620 w(al)o(w)o(ays)p 3673 203 V 186 w(no)p
46 206 3928 4 v 96 270 a Fe($SMLNJ-MLRISC/Control.cm)p
1644 297 4 92 v 1661 297 V 536 w Fc(control)i(f)o(acilities)e(for)h
(MLRISC)f(back)o(end)p 3320 297 V 529 w(al)o(w)o(ays)p
3673 297 V 186 w(no)p 46 301 3928 4 v 96 364 a Fe
($SMLNJ-MLRISC/Graphs.cm)p 1644 392 4 92 v 1661 392 V
581 w Fc(control)i(\003o)n(w)e(graphs)i(for)f(MLRISC)f(back)o(end)p
3320 392 V 437 w(al)o(w)o(ays)p 3673 392 V 186 w(no)p
46 395 3928 4 v 96 459 a Fe($SMLNJ-MLRISC/Visual.cm)p
1644 487 4 92 v 1661 487 V 581 w Fc(visualization)i(for)f(MLRISC)p
3320 487 V 898 w(al)o(w)o(ays)p 3673 487 V 186 w(no)p
46 490 3928 4 v 96 554 a Fe($SMLNJ-MLRISC/MLRISC.cm)p
1644 581 4 92 v 1661 581 V 581 w Fc(architecture-neutral)h(core)f(of)g
(MLRISC)f(back)o(end)p 3320 581 V 309 w(al)o(w)o(ays)p
3673 581 V 186 w(no)p 46 584 3928 4 v 96 648 a Fe
($SMLNJ-MLRISC/MLTREE.cm)p 1644 767 4 183 v 1661 767
V 581 w Fc(utility)31 b(routines)g(for)g(dealing)h(with)e(mltree)h
(data)g(struc-)1712 740 y(tures)p 3320 767 V 3396 648
a(al)o(w)o(ays)p 3673 767 V 186 w(no)p 46 770 3928 4
v 96 834 a Fe($SMLNJ-MLRISC/ALPHA.cm)p 1644 862 4 92
v 1661 862 V 626 w Fc(Alpha-speci\002c)20 b(MLRISC)e(back)o(end)p
3320 862 V 686 w(al)o(w)o(ays)p 3673 862 V 186 w(no)p
46 865 3928 4 v 96 929 a Fe($SMLNJ-MLRISC/HPPA.cm)p 1644
956 4 92 v 1661 956 V 671 w Fc(HP-P)-7 b(A-speci\002c)18
b(MLRISC)g(back)o(end)p 3320 956 V 660 w(al)o(w)o(ays)p
3673 956 V 186 w(no)p 46 960 3928 4 v 96 1024 a Fe
($SMLNJ-MLRISC/PPC.cm)p 1644 1051 4 92 v 1661 1051 V
716 w Fc(Po)n(werPC-speci\002c)h(MLRISC)e(back)o(end)p
3320 1051 V 589 w(al)o(w)o(ays)p 3673 1051 V 186 w(no)p
46 1054 3928 4 v 96 1118 a Fe($SMLNJ-MLRISC/SPARC.cm)p
1644 1146 4 92 v 1661 1146 V 626 w Fc(Sparc-speci\002c)i(MLRISC)f(back)
o(end)p 3320 1146 V 699 w(al)o(w)o(ays)p 3673 1146 V
186 w(no)p 46 1149 3928 4 v 96 1213 a Fe($SMLNJ-MLRISC/IA32.cm)p
1644 1240 4 92 v 1661 1240 V 671 w Fc(IA32-speci\002c)i(MLRISC)e(back)o
(end)p 3320 1240 V 715 w(al)o(w)o(ays)p 3673 1240 V 186
w(no)p 46 1244 3928 4 v 46 1260 V 96 1324 a Fe($/pickle-lib.cm)p
1644 1352 4 92 v 1661 1352 V 941 w Fc(utility)h(library)f(for)h
(compiler)h(and)f(CM)p 3320 1352 V 636 w(al)o(w)o(ays)p
3673 1352 V 186 w(no)p 46 1355 3928 4 v 96 1419 a Fe
($smlnj/viscomp/core.cm)p 1644 1446 4 92 v 1661 1446
V 626 w Fc(architecture-neutral)h(core)f(of)g(compiler)p
3320 1446 V 587 w(al)o(w)o(ays)p 3673 1446 V 186 w(no)p
46 1450 3928 4 v 96 1513 a Fe($smlnj/viscomp/alpha32.cm)p
1644 1541 4 92 v 1661 1541 V 491 w Fc(Alpha-speci\002c)h(part)f(of)g
(compiler)p 3320 1541 V 748 w(al)o(w)o(ays)p 3673 1541
V 186 w(no)p 46 1544 3928 4 v 96 1608 a Fe($smlnj/viscomp/hppa.cm)p
1644 1636 4 92 v 1661 1636 V 626 w Fc(HP-P)-7 b(A-speci\002c)18
b(part)h(of)g(compiler)p 3320 1636 V 722 w(al)o(w)o(ays)p
3673 1636 V 186 w(no)p 46 1639 3928 4 v 96 1703 a Fe
($smlnj/viscomp/ppc.cm)p 1644 1730 4 92 v 1661 1730 V
671 w Fc(Po)n(werPC-speci\002c)g(part)f(of)h(compiler)p
3320 1730 V 651 w(al)o(w)o(ays)p 3673 1730 V 186 w(no)p
46 1733 3928 4 v 96 1797 a Fe($smlnj/viscomp/sparc.cm)p
1644 1825 4 92 v 1661 1825 V 581 w Fc(Sparc-speci\002c)g(part)g(of)g
(compiler)p 3320 1825 V 761 w(al)o(w)o(ays)p 3673 1825
V 186 w(no)p 46 1828 3928 4 v 96 1892 a Fe($smlnj/viscomp/x86.cm)p
1644 1919 4 92 v 1661 1919 V 671 w Fc(IA32-speci\002c)h(part)f(of)f
(compiler)p 3320 1919 V 778 w(al)o(w)o(ays)p 3673 1919
V 186 w(no)p 46 1923 3928 4 v 46 1939 V 96 2003 a Fe
($smlnj/init/init.cmi)p 1644 2122 4 183 v 1661 2122 V
716 w Fc(initial)j(\223glue\224;)i(implementation)f(of)g(perv)n(asi)n
(v)o(e)g(en)m(viron-)1712 2095 y(ment)p 3320 2122 V 3396
2003 a(al)o(w)o(ays)p 3673 2122 V 186 w(no)p 46 2125
3928 4 v 46 2142 V 96 2206 a Fe($smlnj/internal/cm-sig-lib.cm)p
1644 2233 4 92 v 1661 2233 V 311 w Fc(signatures)e Fe(CM)e
Fc(and)i Fe(CMB)p 3320 2233 V 992 w Fc(al)o(w)o(ays)p
3673 2233 V 186 w(no)p 46 2237 3928 4 v 96 2301 a Fe
($smlnj/internal/srcpath-lib.cm)p 1644 2419 4 183 v 1661
2419 V 266 w Fc(implementation)f(of)e(an)h(internal)f(\223source)i
(path\224)f(abstrac-)1712 2392 y(tion)h(used)h(by)f(the)g(compilation)h
(manager)p 3320 2419 V 3396 2301 a(al)o(w)o(ays)p 3673
2419 V 186 w(no)p 46 2423 3928 4 v 96 2487 a Fe
($smlnj/internal/cm-lib.cm)p 1644 2605 4 183 v 1661 2605
V 491 w Fc(implementation)28 b(of)f(CM)g(\(not)g(yet)g(specialized)g
(to)g(spe-)1712 2578 y(ci\002c)19 b(back)o(ends\))p 3320
2605 V 3396 2487 a(al)o(w)o(ays)p 3673 2605 V 186 w(no)p
46 2609 3928 4 v 96 2672 a Fe($smlnj/internal/cm0.cm)p
1644 2791 4 183 v 1661 2791 V 626 w Fc(specialization)24
b(of)f(compilation)h(manager)g(to)e(host)i(com-)1712
2764 y(piler)p 3320 2791 V 3396 2672 a(al)o(w)o(ays)p
3673 2791 V 186 w(no)p 46 2795 3928 4 v 96 2858 a Fe
($smlnj/internal/intsys.cm)p 1644 2977 4 183 v 1661 2977
V 491 w Fc(root)i(library)-5 b(,)27 b(containing)g(interacti)n(v)o(e)f
(system)g(and)h(glue)1712 2950 y(for)19 b(all)f(the)h(other)h(parts)p
3320 2977 V 3396 2858 a(al)o(w)o(ays)p 3673 2977 V 186
w(no)0 3175 y Fv(Libraries)d(for)f(the)h(MLRISC)h(back)o(end)e(ha)n(v)o
(e)h(internal)f(dependencies.)22 b(Ho)n(we)n(v)o(er)m(,)16
b(when)g(referring)f(to)j(a)g Fu($SMLNJ-MLRISC/)p Ft(lib)p
Fu(.cm)0 3275 y Fv(library)-5 b(,)31 b(all)f(anchor)e(names)i(that)g
(correspond)d(to)j(these)g(dependencies)e(are)i(still)h(unbound.)51
b(Thus,)32 b(a)e(client)g(w)o(ould)f(ha)n(v)o(e)h(to)g(pro-)0
3374 y(vide)d(its)i(o)n(wn)e(bindings)f(for)h(them.)1074
3344 y Fq(20)1184 3374 y Fv(There)g(is)h(an)g(analogous)e(set)i(of)g
(library)e(names)i(of)f(the)h(form)f Fu($smlnj/MLRISC/)p
Ft(lib)p Fu(.cm)0 3474 y Fv(which)33 b(pro)o(vides)e(the)j
(SML/NJ-speci\002c)f(bindings)e(for)i(all)h(the)f(anchors.)63
b(In)33 b(practice)g(this)h(means)e(that)i(if)f(one)g(refers)g(to,)j
(e.g.,)0 3574 y Fu($smlnj/MLRISC/MLRISC.cm)p Fv(,)15
b(one)i(will)i(implicitly)f(pick)g(up)f Fu($smlnj/MLRISC/Graphs.cm)p
Fv(,)e(and)j(the)g Fu($Graphs.cm)0 3673 y Fv(anchor)25
b(within)g(the)h(former)f(will)i(be)f(resolv)o(ed)e(to)i(the)h(latter)
-5 b(.)43 b(On)26 b(the)g(other)f(hand,)h(when)g(referring)e(directly)h
(to)h(the)g(\223ra)o(w\224)g(library)0 3773 y Fu
($SMLNJ-MLRISC/MLRISC.cm)p Fv(,)16 b(one)k(still)h(can)f(\(and)f
(must\))h(pro)o(vide)f(one')-5 b(s)20 b(o)n(wn)f(binding)g(for)g
Fu($Graphs.cm)p Fv(.)0 4103 y Fx(G)120 b(Exports)29 b(of)g(library)i
Fg($smlnj/cm/tools.cm)0 4338 y Fv(As)23 b(described)d(in)i(section)g
(12,)g(it)g(is)h(possible)f(to)g(e)o(xtend)f(CM')-5 b(s)23
b(set)f(of)g(a)n(v)n(ailable)f(tools)h(using)g(the)g(programming)c
(interf)o(ace)j(pro)o(vided)0 4438 y(by)d Fu(structure)48
b(Tools)p Fv(.)24 b(This)19 b(structure\227together)c(with)k(its)g
(corresponding)c Fu(signature)48 b(TOOLS)p Fv(\227is)19
b(e)o(xported)d(by)i(library)0 4538 y Fu($smlnj/cm/tools.cm)p
Fv(.)54 b(The)30 b(same)h(library)f(also)h(e)o(xports)e
Fu(structure)48 b(Sharing)p Fv(,)32 b Fu(structure)49
b(Version)p Fv(,)32 b(and)e(a)0 4637 y(corresponding)17
b Fu(signature)48 b(VERSION)p Fv(.)0 4925 y Fr(G.1)99
b(The)26 b(public)g(signatur)n(e)f(of)g Ff(structure)58
b(Tools)90 5122 y Fe(signature)43 b(TOOLS)h(=)h(sig)269
5304 y(type)f(class)g(=)h(string)p 0 5369 1608 4 v 66
5425 a Fp(20)120 5448 y Fo(The)16 b(anchor)j(names)e(coincide)j(with)d
(the)h Fn(lib)p Fm(.cm)f Fo(components)i(of)e(the)h(abo)o(v)o(e)g
(names.)1968 5709 y Fv(56)p eop
%%Page: 57 58
57 57 bop 269 174 a Fe(type)44 b(srcpath)269 266 y(type)g(presrcpath)
269 448 y(type)g(rebindings)f(=)i({)g(anchor:)e(string,)h(value:)g
(presrcpath)f(})i(list)269 631 y(val)f(nativeSpec)f(:)i(srcpath)f(->)g
(string)269 722 y(val)g(nativePreSpec)f(:)i(presrcpath)e(->)h(string)
269 814 y(val)g(srcpath)g(:)h(presrcpath)e(->)h(srcpath)269
905 y(val)g(augment)g(:)h(presrcpath)e(->)h(string)g(list)g(->)h
(presrcpath)269 1088 y(exception)e(ToolError)h(of)g({)h(tool:)f
(string,)f(msg:)i(string)e(})269 1270 y(type)h(pathmaker)f(=)i(unit)f
(->)h(presrcpath)269 1453 y(type)f(fnspec)g(=)h({)f(name:)g(string,)g
(mkpath:)g(pathmaker)f(})269 1636 y(datatype)g(toolopt)h(=)448
1727 y(STRING)g(of)h(fnspec)359 1818 y(|)f(SUBOPTS)g(of)g({)h(name:)f
(string,)g(opts:)g(toolopts)f(})269 1910 y(withtype)g(toolopts)h(=)h
(toolopt)e(list)269 2092 y(type)h(tooloptcvt)f(=)i(toolopts)e(option)h
(->)h(toolopts)e(option)269 2275 y(type)h(spec)g(=)h({)g(name:)f
(string,)f(mkpath:)h(pathmaker,)897 2366 y(class:)f(class)h(option,)g
(opts:)g(toolopts)g(option,)f(derived:)h(bool)g(})269
2549 y(type)g(setup)g(=)h(string)f(option)f(*)i(string)f(option)g(\(*)g
(\(pre,)g(post\))g(*\))269 2731 y(type)g(expansion)f(=)493
2823 y({)i(smlfiles:)e(\(srcpath)h(*)g(Sharing.request)f(*)h(setup\))g
(list,)583 2914 y(cmfiles:)f(\(srcpath)h(*)g(Version.t)g(option)g(*)g
(rebindings\))f(list,)583 3005 y(sources:)g(\(srcpath)h(*)g({)h(class:)
f(class,)g(derived:)f(bool}\))h(list)g(})269 3188 y(type)g
(partial_expansion)e(=)j(expansion)e(*)i(spec)f(list)269
3371 y(type)g(rulefn)g(=)h(unit)f(->)g(partial_expansion)269
3462 y(type)g(rulecontext)f(=)i(rulefn)f(->)g(partial_expansion)269
3553 y(type)g(rule)g(=)h({)g(spec:)f(spec,)897 3645 y
(native2pathmaker:)e(string)h(->)i(pathmaker,)897 3736
y(context:)e(rulecontext,)897 3827 y(defaultClassOf:)f(fnspec)i(->)g
(class)g(option)g(})807 3919 y(->)g(partial_expansion)269
4101 y(val)g(registerClass)f(:)i(class)f(*)g(rule)g(->)h(unit)269
4284 y(datatype)e(classifier)h(=)448 4375 y(SFX_CLASSIFIER)f(of)h
(string)g(->)h(class)f(option)359 4467 y(|)g(GEN_CLASSIFIER)f(of)h({)h
(name:)f(string,)g(mkfname:)f(unit)h(->)h(string)f(})g(->)1255
4558 y(class)g(option)269 4741 y(val)g(stdSfxClassifier)e(:)j({)g(sfx:)
f(string)g(,)g(class:)g(class)g(})h(->)f(classifier)269
4923 y(datatype)f(extensionStyle)g(=)448 5015 y(EXTEND)h(of)h(\(string)
e(*)i(class)f(option)g(*)g(tooloptcvt\))f(list)359 5106
y(|)h(REPLACE)g(of)g(string)g(list)g(*)h(\(string)f(*)g(class)g(option)
g(*)h(tooloptcvt\))e(list)269 5289 y(val)h(extend)g(:)h(extensionStyle)
d(->)852 5380 y(\(string)h(*)i(toolopts)f(option\))f(->)1968
5709 y Fv(57)p eop
%%Page: 58 59
58 58 bop 852 83 a Fe(\(string)43 b(*)i(class)f(option)g(*)h(toolopts)e
(option\))h(list)269 266 y(val)g(outdated)g(:)g(string)g(->)h(string)f
(list)g(*)g(string)g(->)h(bool)269 448 y(val)f(outdated')g(:)448
540 y(string)g(->)h({)f(src:)g(string,)g(wtn:)g(string,)g(tgt:)g
(string)g(})h(->)f(bool)269 722 y(val)g(openTextOut)f(:)i(string)f(->)g
(TextIO.outstream)269 905 y(val)g(makeDirs)g(:)g(string)g(->)h(unit)269
1088 y(val)f(registerClassifier)e(:)j(classifier)e(->)h(unit)269
1270 y(val)g(parseOptions)f(:)448 1362 y({)i(tool)f(:)h(string,)e
(keywords)h(:)h(string)e(list,)h(options)g(:)h(toolopts)e(})i(->)448
1453 y({)g(matches)f(:)g(string)g(->)h(toolopts)e(option,)h
(restoptions)f(:)h(string)g(list)g(})269 1636 y(val)g(say)h(:)f(string)
g(list)g(->)h(unit)269 1727 y(val)f(vsay)g(:)h(string)f(list)g(->)h
(unit)269 1910 y(val)f(mkCmdName)g(:)g(string)g(->)h(string)269
2092 y(val)f(registerStdShellCmdTool)d(:)448 2183 y({)k(tool:)f
(string,)g(class:)f(string,)h(suffixes:)f(string)h(list,)538
2275 y(cmdStdPath:)f(string,)h(extensionStyle:)e(extensionStyle,)538
2366 y(template:)h(string)h(option,)g(dflopts:)f(toolopts)h(})448
2457 y(->)h(unit)90 2549 y(end)90 2731 y(structure)e(Tools)h(:>)g
(TOOLS)0 3019 y Fr(G.2)99 b(The)26 b(public)g(signatur)n(e)f(of)g
Ff(structure)58 b(Version)90 3216 y Fe(signature)43 b(VERSION)h(=)g
(sig)269 3399 y(type)g(t)269 3581 y(val)g(fromString)f(:)i(string)f(->)
g(t)h(option)269 3673 y(val)f(toString:)g(t)g(->)h(string)269
3764 y(val)f(compare)g(:)h(t)f(*)h(t)g(->)f(order)269
3947 y(val)g(nextMajor)g(:)g(t)h(->)f(t)269 4129 y(val)g(zero:)g(t)90
4221 y(end)90 4403 y(structure)f(Version)h(:>)g(VERSION)0
4691 y Fr(G.3)99 b(The)26 b(public)g(signatur)n(e)f(of)g
Ff(structure)58 b(Sharing)90 4888 y Fe(structure)43 b(Sharing)h(:)g
(sig)269 4979 y(datatype)f(request)h(=)h(PRIVATE)e(|)i(SHARED)f(|)h
(DONTCARE)269 5071 y(datatype)e(mode)i(=)f(SHARE)g(of)h(bool)f(|)h
(DONTSHARE)90 5162 y(end)1968 5709 y Fv(58)p eop
%%Page: 59 60
59 59 bop 0 83 a Fx(Refer)n(ences)0 302 y Fv([AM91])160
b(Andre)n(w)25 b(W)-8 b(.)27 b(Appel)f(and)f(Da)n(vid)h(B.)h(MacQueen.)
47 b(Standard)25 b(ML)h(of)g(Ne)n(w)h(Jerse)o(y)-5 b(.)47
b(In)26 b(Martin)g(W)m(irsing,)h(editor)m(,)g Ft(3r)m(d)434
401 y(International)14 b(Symp.)i(on)g(Pr)l(o)o(g)o(.)g(Lang)o(.)g
(Implementation)e(and)i(Lo)o(gic)g(Pr)l(o)o(gr)o(amming)p
Fv(,)g(pages)g(1\22613,)g(Ne)n(w)h(Y)-9 b(ork,)16 b(August)434
501 y(1991.)i(Springer)n(-V)-9 b(erlag.)0 667 y([AM94])160
b(Andre)n(w)19 b(W)-8 b(.)21 b(Appel)f(and)g(Da)n(vid)g(B.)i(MacQueen.)
28 b(Separate)20 b(compilation)f(for)h(Standard)f(ML.)30
b(In)20 b Ft(Pr)l(oc.)g(SIGPLAN)g('94)434 767 y(Symp.)f(on)h(Pr)l(o)o
(g)o(.)f(Langua)o(g)o(e)g(Design)h(and)f(Implementation)p
Fv(,)e(v)n(olume)j(29,)f(pages)h(13\22623.)e(A)m(CM)j(Press,)f(June)g
(1994.)0 933 y([AMT89])109 b(Andre)n(w)21 b(W)-8 b(.)25
b(Appel,)d(James)i(S.)f(Mattson,)h(and)e(Da)n(vid)h(R.)h(T)-7
b(arditi.)38 b(A)23 b(le)o(xical)g(analyzer)f(generator)f(for)h
(Standard)g(ML.)434 1032 y(Distrib)n(uted)d(with)i(Standard)d(ML)j(of)f
(Ne)n(w)g(Jerse)o(y)-5 b(,)19 b(December)g(1989.)0 1198
y([A)-9 b(TW94])114 b(Rolf)22 b(Adams,)h(W)-7 b(alter)23
b(T)m(ichy)-5 b(,)22 b(and)g(Annette)g(W)-7 b(einert.)36
b(The)23 b(cost)f(of)h(selecti)n(v)o(e)f(recompilation)e(and)i(en)m
(vironment)e(pro-)434 1298 y(cessing.)29 b Ft(A)n(CM)20
b(T)o(OSEM)p Fv(,)g(3\(1\):3\22628,)d(January)i(1994.)0
1464 y([B)m(A97])182 b(Matthias)24 b(Blume)h(and)f(Andre)n(w)g(W)-8
b(.)26 b(Appel.)43 b(Lambda-splitting:)32 b(A)25 b(higher)n(-order)d
(approach)h(to)i(cross-module)d(opti-)434 1564 y(mizations.)k(In)19
b Ft(Pr)l(oc.)h(1997)e(A)n(CM)i(SIGPLAN)f(International)e(Confer)m
(ence)h(on)h(Functional)f(Pr)l(o)o(gr)o(amming)g(\(ICFP'97\))p
Fv(,)434 1663 y(pages)h(112\226124.)e(A)m(CM)k(Press,)g(June)f(1997.)0
1829 y([B)m(A99])182 b(Matthias)22 b(Blume)g(and)f(Andre)n(w)g(W)-8
b(.)23 b(Appel.)34 b(Hierarchical)21 b(modularity)-5
b(.)33 b Ft(A)n(CM)22 b(T)-5 b(r)o(ans.)22 b(on)g(Pr)l(o)o(gr)o(amming)
e(Langua)o(g)o(es)434 1929 y(and)f(Systems)p Fv(,)h
(21\(4\):790\226812,)15 b(July)20 b(1999.)0 2095 y([Blu95])174
b(Matthias)24 b(Blume.)41 b(Standard)23 b(ML)h(of)g(Ne)n(w)g(Jerse)o(y)
g(compilation)e(manager)-5 b(.)40 b(Manual)24 b(accompan)o(ying)c
(SML/NJ)25 b(soft-)434 2195 y(w)o(are,)20 b(1995.)0 2361
y([Blu99])174 b(Matthias)29 b(Blume.)60 b(Dependenc)o(y)27
b(analysis)j(for)f(Standard)f(ML.)60 b Ft(A)n(CM)30 b(T)-5
b(r)o(ans.)30 b(on)f(Pr)l(o)o(gr)o(amming)f(Langua)o(g)o(es)g(and)434
2460 y(Systems)p Fv(,)20 b(21\(4\):813\226846,)15 b(July)20
b(1999.)0 2626 y([Fel79])188 b(S.)30 b(I.)f(Feldman.)58
b(Mak)o(e)30 b(\226)f(a)h(program)e(for)h(maintaining)e(computer)h
(programs.)57 b(In)30 b Ft(Unix)f(Pr)l(o)o(gr)o(ammer')m(s)g(Manual,)
434 2726 y(Se)o(venth)18 b(Edition,)h(V)-9 b(olume)19
b(2A)p Fv(.)h(Bell)h(Laboratories,)d(1979.)0 2892 y([GG93])174
b(Florent)23 b(Guillaume)g(and)h(Lal)h(Geor)o(ge.)40
b Ft(ML-Bur)m(g)24 b(Documentation)p Fv(.)39 b(A)-9 b(T&T)24
b(Bell)h(Laboratories,)e(1993.)40 b(distrib)n(uted)434
2992 y(with)20 b(SML/NJ)h(softw)o(are.)0 3158 y([HLPR94a])45
b(Robert)18 b(Harper)m(,)f(Peter)i(Lee,)g(Frank)f(Pfenning,)f(and)h
(Eugene)f(Rollins.)27 b(A)19 b(Compilation)e(Manager)h(for)g(Standard)f
(ML)i(of)434 3257 y(Ne)n(w)h(Jerse)o(y)-5 b(.)28 b(In)20
b Ft(1994)f(A)n(CM)i(SIGPLAN)f(W)-8 b(orkshop)19 b(on)h(ML)h(and)e(its)
j(Applications)p Fv(,)c(pages)i(136\226147,)d(1994.)0
3423 y([HLPR94b])40 b(Robert)29 b(Harper)m(,)i(Peter)f(Lee,)i(Frank)d
(Pfenning,)i(and)e(Eugene)f(Rollins.)61 b(Incremental)28
b(recompilation)g(for)h(Standard)434 3523 y(ML)19 b(of)f(Ne)n(w)i
(Jerse)o(y.)26 b(T)-6 b(echnical)18 b(Report)h(CMU-CS-94-116,)d
(Department)i(of)h(Computer)e(Science,)i(Carne)o(gie-Mellon)434
3623 y(Uni)n(v)o(ersity)-5 b(,)18 b(February)g(1994.)0
3789 y([KR88])179 b(Brian)20 b(W)-8 b(.)22 b(K)n(ernighan)d(and)h
(Dennis)h(M.)g(Ritchie.)31 b Ft(The)21 b(C)h(Pr)l(o)o(gr)o(amming)e
(Langua)o(g)o(e)o(,)e(Second)i(Edition)p Fv(.)30 b(Prentice)20
b(Hall,)434 3888 y(Engle)n(w)o(ood)e(Clif)n(fs,)i(Ne)n(w)h(Jerse)o(y)f
(07632,)e(1988.)0 4054 y([MTHM97])39 b(Robin)20 b(Milner)m(,)g(Mads)g
(T)-7 b(ofte,)21 b(Robert)f(Harper)m(,)f(and)h(Da)n(vid)g(MacQueen.)29
b Ft(The)21 b(De\002nition)e(of)i(Standar)m(d)e(ML)i(\(Re)o(vised\))p
Fv(.)434 4154 y(MIT)e(Press,)i(Cambridge,)e(MA,)h(1997.)0
4320 y([Ram94])137 b(Norman)18 b(Ramse)o(y)-5 b(.)29
b(Literate)20 b(programming)d(simpli\002ed.)28 b Ft(IEEE)20
b(Softwar)m(e)p Fv(,)g(11\(5\):97\226105,)15 b(September)k(1994.)0
4486 y([RG99])179 b(John)19 b(Repp)o(y)h(and)f(Emden)g(Gansner)-5
b(.)29 b(Standard)19 b(ML)h(Basis)i(Library)-5 b(.)27
b(\(not)20 b(yet)g(in)g(paper)f(form\),)g(1999.)0 4652
y([T)-8 b(A90])191 b(Da)n(vid)16 b(R.)i(T)-7 b(arditi)17
b(and)g(Andre)n(w)f(W)-8 b(.)18 b(Appel.)j(ML-Yacc,)c(v)o(ersion)f
(2.0.)22 b(Distrib)n(uted)16 b(with)h(Standard)f(ML)h(of)g(Ne)n(w)g
(Jerse)o(y)-5 b(,)434 4752 y(April)20 b(1990.)1968 5709
y(59)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
