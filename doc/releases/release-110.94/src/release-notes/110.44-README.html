<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>SML/NJ 110.44 NEWS</title>
</head>
<body>
<pre>			S  M  L   /   N  J<br><br>                  1  1  0  .  4  4      N  E  W  S<br>			<br>  		         November 6, 2003<br><br>			      WARNING<br><br>  	This working version is believed to be stable, but<br>	we have not run our full regression-test suite.<br><br>             HOME:  <a
 href="http://www.smlnj.org/index.html">http://www.smlnj.org/index.html</a><br>             FILES: <a
 href="http://smlnj.cs.uchicago.edu/dist/working/110.44/">http://smlnj.cs.uchicago.edu/dist/working/110.44/ </a><br></pre>
<h2>Summary:</h2>
Again, there are a number of important bug fixes and updates, mostly to
the Basis library and the installer.<br>
<br>
<hr>
<h2>Details:</h2>
<dl>
  <dt>Basis: </dt>
  <dd>
    <ul>
      <li>fixed bugs and improved code for <span
 style="font-family: monospace;">Real.{from,to}LargeInt</span></li>
      <li>fixed bug in <span style="font-family: monospace;">Posix.ProcEnv.times</span></li>
      <li>changed <span style="font-family: monospace;">inputLine</span>
functions to return an <span style="font-family: monospace;">option</span></li>
      <li>implemented native<span style="font-family: monospace;"></span>
        <span style="font-family: monospace;">int32-&gt;real64</span>
conversion</li>
      <li>slices implemented according to spec</li>
      <li><span style="font-family: monospace;">Time.{from,to}NanoSeconds</span>
added to <span style="font-family: monospace;">Time</span></li>
      <li>made <span style="font-family: monospace;">SOCKET</span> API
match the spec</li>
      <li>OS-specific details of socket implementation moved into
separate files (this makes it possible to share the bulk of the code
between Unix and Win32)</li>
      <li>added signature <span style="font-family: monospace;">SYNCHRONOUS_SOCKET</span>
to Basis</li>
      <li><span style="font-family: monospace;">precision</span> of <span
 style="font-family: monospace;">real64</span> is 53 (not 52)</li>
      <li>added <span style="font-family: monospace;">openVector</span>,
        <span style="font-family: monospace;">nullRd</span>, and <span
 style="font-family: monospace;">nullWr</span> to <span
 style="font-family: monospace;">PRIM_IO</span> </li>
    </ul>
  </dd>
  <dt>installer: </dt>
  <dd>
    <ul>
      <li>new installer (which is mostly written in SML) is no longer
optional (old installer has been removed)</li>
      <li>the ML code of the installer is now in its own library and
gets compiled by <span style="font-family: monospace;">CMB.make</span>;
the installer script simply invokes <span
 style="font-family: monospace;">sml -m
$smlnj/installer.cm</span><br>
(the ML code does not have to be compiled as
part
of the installation process)</li>
      <li>minor improvements and bugfixes</li>
      <li>sense environment variable <span
 style="font-family: monospace;">CM_DIR_ARC</span> that lets one
override
the default name for CM meta-data (default is <span
 style="font-family: monospace;">.cm</span> -- see CM section)</li>
      <li>sense value of <span style="font-family: monospace;">INSTALLDIR</span>
environment variable and behave
accordingly</li>
      <li><span style="font-family: monospace;">dont_move_libraries</span>
directive eliminated from
        <span style="font-family: monospace;">config/targets</span>
(This was a legacy mechanism which turned out to be
broken anyway.) </li>
    </ul>
  </dd>
  <dt>Scripts:</dt>
  <dd>
    <ul>
      <li>made <span style="font-family: monospace;">.bat</span>-files
Win95-compatible</li>
      <li>changed default <span style="font-family: monospace;">@SMLalloc</span>
parameter for x86/celeron to <span style="font-family: monospace;">64k</span>
      </li>
    </ul>
  </dd>
  <dt>CM:</dt>
  <dd>
    <ul>
      <li>default name of meta-data directory changed from <span
 style="font-family: monospace;">CM</span> to <span
 style="font-family: monospace;">.cm</span></li>
      <li>a different name can be chosen at installation time</li>
      <li>added missing wrapper for privilege <span
 style="font-family: monospace;">primitive</span> in
        <span style="font-family: monospace;">$smlnj/viscomp/core.cm</span></li>
    </ul>
  </dd>
  <dt>CML:</dt>
  <dd>
    <ul>
      <li>tracked Basis changes (non-blocking Socket functons are left
out since they are redundant: <span style="font-family: monospace;">CML_SOCKET</span>
is defined in terms of
        <span style="font-family: monospace;">SYNCHRONOUS_SOCKET</span>)</li>
      <li>make use of non-blocking socket functions from Basis; CML
socket implementation is now OS-independent</li>
    </ul>
  </dd>
  <dt>Interactive Loop:</dt>
  <dd>
    <ul>
      <li>added hook to prettyprinter so it can invoke the autoloader
if a qid to be printed is not currently bound in the toplevel
environment; this eliminates many instances where the prettyprinter
used to print <span style="font-family: monospace;">?</span> in front
of a name</li>
    </ul>
  </dd>
  <dt>runtime</dt>
  <dd>
    <ul>
      <li>works with Mac OS X 10.3 (Panther)</li>
    </ul>
  </dd>
  <dt>MLRISC</dt>
  <dd>
    <ul>
      <li>minor bug fixes</li>
    </ul>
  </dd>
</dl>
</body>
</html>
