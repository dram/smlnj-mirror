<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>SML/NJ 110.53 NEWS</title>
</head>

<body>
<pre>
                         S  M  L   /   N  J

                   1  1  0  .  5  3      N  E  W  S
			
                          Februar 25, 2005

                                WARNING

        This working version is believed to be stable, but
        we have not run our full regression-test suite.
</pre>

<dl>
  <dt>HOME:</dt>
  <dd><a href="http://www.smlnj.org/index.html">http://www.smlnj.org/index.html</a></dd>
  <dt>FILES:</dt>
  <dd><a href="http://smlnj.cs.uchicago.edu/dist/working/110.53/">http://smlnj.cs.uchicago.edu/dist/working/110.53/</a></dd>
</dl>

<h2>Summary:</h2>

   Bugfixes and minor feature improvements.

<hr>

<h2>Details:</h2>

<dl>
  <dt>Basis:</dt>
  <dd>
    <ul>
      <li><tt>SMLofNJ.Susp</tt> is back.</li>
    </ul>
  </dd>

  <dt>CML</dt>
  <dd>
    <ul>
      <li>Thread-safe version of <tt>structure Atom</tt> matches
      original signature and re-uses the original implementation.
      Moreover, since an <i>mvar</i> is used as a lock (instead of a separate
      server thread) to protect the global hashtable, it is now
      possible to create atoms even before <tt>RunCML.doit</tt> has started
      executing.</li>
    </ul>
  </dd>

  <dt>Library</dt>
  <dd>
    <ul>
      <li>Moved source tree from <tt>smlnj-lib/TraceDebugProf</tt> to a new
      <tt>tools/TraceDebugProf</tt>.</li>
    </ul>
  </dd>

  <dt>NLFFI</dt>
  <dd>
    <ul>
      <li>Handles access to signed and unsigned <tt>long long</tt> data.</li>
      <li>Handles <tt>long long</tt> function arguments and results (but so far
      only on the PowerPC).</li>
      <li>Some organizational cleanup of the library code.</li>
    </ul>
  </dd>

  <dt>ML-Yacc</dt>
  <dd>
    <ul>
      <li>Fixed formatting bug that sometimes caused syntactically incorrect
      code from being formed.</li>
    </ul>
  </dd>

  <dt>Runtime</dt>
  <dd>
    <ul>
      <li>Fixed bug in PC-sampling profiler.</li>
      <li>Fixed off-by-1 bug in <tt>ML_STRING</tt> macro (which caused the names
      of certain exceptions to be garbled).</li>
    </ul>
  </dd>

  <dt>Scripts</dt>
  <dd>
    <ul>
      <li>Added an experimental <tt>heap2exec</tt> script (with a helper
      <tt>heap2asm</tt> script in the background).  This is experimental
      and so far only works under Mac OS X.</li>
      <li>Made <tt>ml-build</tt> script slightly smarter.  (One can now omit
      the 3rd argument -- which in this case is taken to be the same as
      the 1st argument without the extension.</li>
      <li> <tt>_run-sml</tt> now converts SMLNJ_HOME to a POSIX pathname on
      cygwin.</li>
    </ul>
  </dd>

  <dt>CM</dt>
  <dd>
    <ul>
      <il>Fixed its incorrect assumption about the PowerPC being
      little-endian. (PPC couldn be little-endian, but on the only
      supported platform -- Mac OS X -- it is big-endian.)</li>
    </ul>
  </dd>

  <dt>MLRISC</dt>
  <dd>
    <ul>
      <li>Bugfixes in <tt>c-calls</tt> implementation.</li>
    </ul>
  </dd>
</dl>

</body>
</html>
