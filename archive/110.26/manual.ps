%!PS-Adobe-2.0
%%Creator: dvipsk 5.58f Copyright 1986, 1994 Radical Eye Software
%%Title: manual.dvi
%%Pages: 26
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentFonts: Times-Bold Times-Roman Times-Italic Courier
%%EndComments
%DVIPSCommandLine: dvips -o manual.ps manual
%DVIPSParameters: dpi=600, compressed, comments removed
%DVIPSSource:  TeX output 2000.03.22:1702
%%BeginProcSet: texc.pro
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N
/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72
mul N /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1}{-1 1}
ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
isls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div
hsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul
TR[matrix currentmatrix{dup dup round sub abs 0.00001 lt{round}if}
forall round exch round exch]setmatrix}N /@landscape{/isls true N}B
/@manualfeed{statusdict /manualfeed true put}B /@copies{/#copies X}B
/FMat[1 0 0 -1 0 0]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{
/nn 8 dict N nn begin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N
string /base X array /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N
end dup{/foo setfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{
/sf 1 N /fntrx FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]
N df-tail}B /E{pop nn dup definefont setfont}B /ch-width{ch-data dup
length 5 sub get}B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{
128 ch-data dup length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub
get 127 sub}B /ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data
dup type /stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N
/rc 0 N /gp 0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup
/base get 2 index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx
0 ch-xoff ch-yoff ch-height sub ch-xoff ch-width add ch-yoff
setcachedevice ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff
.1 sub]/id ch-image N /rw ch-width 7 add 8 idiv string N /rc 0 N /gp 0 N
/cp 0 N{rc 0 ne{rc 1 sub /rc X rw}{G}ifelse}imagemask restore}B /G{{id
gp get /gp gp 1 add N dup 18 mod S 18 idiv pl S get exec}loop}B /adv{cp
add /cp X}B /chg{rw cp id gp 4 index getinterval putinterval dup gp add
/gp X adv}B /nd{/cp 0 N rw exit}B /lsh{rw cp 2 copy get dup 0 eq{pop 1}{
dup 255 eq{pop 254}{dup dup add 255 and S 1 and or}ifelse}ifelse put 1
adv}B /rsh{rw cp 2 copy get dup 0 eq{pop 128}{dup 255 eq{pop 127}{dup 2
idiv S 128 and or}ifelse}ifelse put 1 adv}B /clr{rw cp 2 index string
putinterval adv}B /set{rw cp fillstr 0 4 index getinterval putinterval
adv}B /fillstr 18 string 0 1 17{2 copy 255 put pop}for N /pl[{adv 1 chg}
{adv 1 chg nd}{1 add chg}{1 add chg nd}{adv lsh}{adv lsh nd}{adv rsh}{
adv rsh nd}{1 add adv}{/rc X nd}{1 add set}{1 add clr}{adv 2 chg}{adv 2
chg nd}{pop nd}]dup{bind pop}forall N /D{/cc X dup type /stringtype ne{]
}if nn /base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup
length 1 sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{
cc 1 add D}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin
0 0 moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul
add .99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore userdict
/eop-hook known{eop-hook}if showpage}N /@start{userdict /start-hook
known{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X
/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for
65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 0
0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V
{}B /RV statusdict begin /product where{pop product dup length 7 ge{0 7
getinterval dup(Display)eq exch 0 4 getinterval(NeXT)eq or}{pop false}
ifelse}{false}ifelse end{{gsave TR -.1 .1 TR 1 1 scale rulex ruley false
RMat{BDot}imagemask grestore}}{{gsave TR -.1 .1 TR rulex ruley scale 1 1
false RMat{BDot}imagemask grestore}}ifelse B /QV{gsave newpath transform
round exch round exch itransform moveto rulex 0 rlineto 0 ruley neg
rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta 0 N /tail
{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}B /c{-4 M}
B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{3 M}B /k{
4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p -1 w}B /q{
p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{3 2 roll p
a}B /bos{/SS save N}B /eos{SS restore}B end
%%EndProcSet
%%BeginFont: Times-Bold
% @psencodingfile{
%   author = "P. MacKay, Alan Jeffrey, S. Rahtz, K. Berry, B. Horn",
%   version = "0.2",
%   date = "7 September 94",
%   filename = "8r.enc",
%   email = "kb@cs.umb.edu",
%   address = "135 Center Hill Rd. // Plymouth, MA 02360",
%   codetable = "ISO/ASCII",
%   checksum = "xx",
%   docstring = "Encoding for TrueType or Type 1 fonts to be used with TeX."
% }
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are in their Windows ANSI positions,
% because Windows users cannot easily reencode the fonts, and it makes
% no difference on other systems. The only Windows ANSI characters not
% available are those that make no sense for typesetting -- rubout
% (127 decimal), nobreakspace (160), softhyphen (173).
% 
% (2) The caron and dotlessi characters are in the positions used by
% Y&Y for their modified ATM encoding.
% 
% (3) Remaining characters are assigned arbitrarily to the first few
% positions.
% 
% (4) (Y&Y) Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x10.
% 
% (5) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available in the Type 1 fonts.
% 
% Ligatures are omitted, since this encoding is intended for use at the
% driver end. Including ligatures and kerns would make the TFM files
% much larger, to no particular purpose. If someone actually wants to
% typeset in this encoding, they can pick a different name, and regenerate
% the fonts.
 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /breve /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /tilde /minus
  % These are the only two remaining unencoded characters, so may as
  % well include them.
  /Zcaron /zcaron /.notdef /.notdef
% 0x10 (TeX characters from, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quotesingle
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /grave /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE
 /caron % Y&Y
 /.notdef
 /.notdef
% 0x90
 /.notdef /quoteleft /quoteright /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tildeaccent /trademark /scaron /guilsinglright
 /oe
 /dotlessi % Y&Y
 /.notdef
 /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def
%%EndFont
%%BeginProcSet: texps.pro
TeXDict begin /rf{findfont dup length 1 add dict begin{1 index /FID ne 2
index /UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type /integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics /Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont /setfont load]cvx def}def
/ObliqueSlant{dup sin S cos div neg}B /SlantFont{4 index mul add}def
/ExtendFont{3 -1 roll mul exch}def /ReEncodeFont{/Encoding exch def}def
end
%%EndProcSet
TeXDict begin 39158280 55380996 1000 600 600 (manual.dvi)
@start /Fa 140[40 40 3[40 40 40 1[40 40 40 4[40 1[40
19[40 9[40 19[40 40 46[{TeXBase1Encoding ReEncodeFont}14
66.666664 /Courier rf /Fb 2 51 df<13381378EA01F8121F12FE12E01200B3AB487E
B512F8A215267BA521>49 D<13FF000313E0380E03F0381800F848137C487F00787F12FC
6C1480A2140FA2127CC7121F1500A25C143E5C14785C495A495A495A49C7FC131C5B9038
70018013E0EA01C03903800300EA06005A001FB5FC5A485BB5FCA219267DA521>I
E /Fc 5 127 df<146014E0EB01C0EB0380EB0700130E131E5B5BA25B485AA2485AA212
075B120F90C7FCA25A121EA2123EA35AA65AB2127CA67EA3121EA2121F7EA27F12077F12
03A26C7EA26C7E1378A27F7F130E7FEB0380EB01C0EB00E01460135279BD20>40
D<12C07E12707E7E7E120F6C7E6C7EA26C7E6C7EA21378A2137C133C133E131EA2131F7F
A21480A3EB07C0A6EB03E0B2EB07C0A6EB0F80A31400A25B131EA2133E133C137C1378A2
5BA2485A485AA2485A48C7FC120E5A5A5A5A5A13527BBD20>I<EB03F8EB1FFF90387E0F
C09038F803E03901E000F0484813780007147C48487FA248C77EA2481580A3007EEC0FC0
A600FE15E0B3007E15C0A4007F141F6C1580A36C15006D5B000F143EA26C6C5B6C6C5B6C
6C485A6C6C485A90387E0FC0D91FFFC7FCEB03F8233A7DB72A>48
D<497E1307130F133FEA01FFB5FC13DFEAFE1F1200B3B3A8EB7FE0007FB512E0A31B3879
B72A>I<D801E01340D807F813E0390FFE01C0391FFF8780393C3FFF0038700FFE38E003
FC384000F01B0879B62A>126 D E /Fd 134[33 33 48 33 33 18
26 22 1[33 33 33 52 18 2[18 33 33 22 29 33 29 33 29 8[48
3[41 4[48 48 59 3[22 5[44 20[17 1[17 4[22 36[37 2[{
TeXBase1Encoding ReEncodeFont}33 66.666664 /Times-Roman
rf /Fe 202[25 25 25 25 25 49[{TeXBase1Encoding ReEncodeFont}5
50.000000 /Times-Roman rf /Ff 202[29 29 29 29 29 49[{
TeXBase1Encoding ReEncodeFont}5 58.333336 /Times-Roman
rf /Fg 12 121 df<121C127FEAFF80A5EA7F00121C0909798817>58
D<121C127FEAFF80A213C0A3127F121C1200A412011380A2120313005A1206120E5A5A5A
12600A19798817>I<0107B7FC18E018F8903B0007F80007FC4BEB00FE187F020FED3F80
F01FC05DA2021F16E0A25DA2143FF03FC05DA2027FED7F80A292C8130018FE4A4A5A604A
EC07F04D5A0101ED3FC04CB4C7FC91B612FC17E0D903FCCAFCA25CA21307A25CA2130FA2
5CA2131FA25CA2133FA25CA2137FA291CBFC497EB6FCA33B397DB835>80
D<0003B812FEA25A903AF8003FC00101C0913880007E4848163C90C7007F141C121E001C
92C7FCA2485CA200305C007017180060130112E0485CA21403C716005DA21407A25DA214
0FA25DA2141FA25DA2143FA25DA2147FA292C9FCA25CA25CA21301A25CA21303A25CEB0F
FC007FB67EA293C8FC37397EB831>84 D<EC3FC0903801FFF0903807E03890380F801C90
383F000E137E49137E484813FE485A485A120F4913FC001F1400485AA2127F90C8FCA35A
5AA45AA315031507007E1406150E003E143C003F14706C14E0390F8007C03907E03F0038
01FFF838003FC020267DA424>99 D<16F8ED03FEED0F8792381F0780ED3E1F163F157CA2
03FC1300161E93C7FC4A5AA414035DA414075DA20107B512F0A39026000FE0C7FC5DA414
1F5DA4143F92C8FCA45CA2147EA414FE5CA413015CA4495AA45C1307A25CA2121C387E0F
80A200FE90C9FC5B131EEAF83CEA7078EA3FF0EA0FC0294C7CBA29>102
D<EB0FC0EA07FFA3EA001F1480A2133FA21400A25BA2137EA213FEA25BA21201A25BA212
03A25BA21207A25BA2120FA25BA2121FA25BA2123FA290C7FCA25AA2EA7E06A212FE130E
EAFC0CA3131C1318EA7C381330EA3E706C5AEA07C0123B7CB919>108
D<D801F0137F3A07FC01FFC03A0E3E0783E03A1C1F0E01F00018011C7F0038EBB8000030
13F000705B0060497FA24A485AEAE03F00C01300A200001403495C137EA2150701FE5C5B
150F5E120149011F13301680033F13700003ED00605B17E0033E13C00007150149EC0380
17005E000FEC1E1E49EB0FF8D80380EB03E02C267EA432>110 D<3901F001F83907FC07
FE390E3E1E073A1C1F380F800018EB303F003813F0003013E0007001C013001260EC801C
92C7FCEAE03F00C090C8FCA212005B137EA313FE5BA312015BA312035BA312075BA3120F
5BEA038021267EA425>114 D<147F903803FFC090380780E090381E0070491338151849
13789038F801F813F0A215F03901F800E015007FEBFFE06C13FC14FF6D13806D13C06D13
E013039038003FF0140714031401123E127E00FE14E0A348EB03C012C06CEB07800070EB
0F006C133E001E13F83807FFE0000190C7FC1D267CA427>I<017CEB038048B4EB07E039
0787800F260E07C013F0120C121C0038140700301403D8700F130112601500D8E01F14E0
00C05B133F000090C7FC16C05B137E150101FE14805B150316001201495B1506150E150C
151C151815385D00005C6D485A90387C03806D48C7FCEB1FFEEB03F824267EA428>118
D<903907E001F090391FF807FE9039783E0E0F9038E01F1CD801C09038383F803903800F
F0010013E0481600000E14C0000C151C021F90C7FC001C5C1218A2C7123FA292C8FCA25C
A2147EA214FEA24A130CA20101141C1618001C5B007E153801035C00FE1560010714E090
390E7C01C0D8781C495A9026383E0FC7FC393FF00FFC3907C003F029267EA42F>120
D E /Fh 5 107 df<EB0FE0EB7FFC497E0003EBFF804814C04814E04814F04814F8A248
14FCA3B612FEA86C14FCA36C14F8A26C14F06C14E06C14C06C1480C6EBFE006D5AEB0FE0
1F207BA42A>15 D<19E0A38519781938193C85851A80F107C0F103E0F101F0007FBA12FC
BCFCA26C19FCCCEA01F0F103E0F107C0F10F801A00191E61193819786161A3481E7BA353
>33 D<EC01F8140FEC3F80ECFC00495A495A495AA2130F5CB3A7131F5C133F49C7FC13FE
EA03F8EA7FE048C8FCEA7FE0EA03F8EA00FE137F6D7E131F80130FB3A7801307A26D7E6D
7E6D7EEC3F80EC0FF814011D537ABD2A>102 D<12FCEAFFC0EA07F0EA01FCEA007E7F80
131F80130FB3A7801307806D7E6D7EEB007EEC1FF0EC07F8EC1FF0EC7E00495A495A495A
5C130F5CB3A7131F5C133F91C7FC137E485AEA07F0EAFFC000FCC8FC1D537ABD2A>I<12
6012F0B3B3B3B3A91260045377BD17>106 D E /Fi 133[37 42
42 60 42 46 28 32 37 1[46 42 46 69 23 46 28 23 46 42
28 37 46 37 46 42 6[55 60 3[60 55 46 60 1[51 1[60 78
55 2[32 2[51 55 60 60 55 60 6[28 42 42 42 42 42 42 42
42 42 42 23 21 28 1[47 42 28 28 28 1[83 42 2[28 29[46
46 2[{TeXBase1Encoding ReEncodeFont}66 83.333336 /Times-Bold
rf /Fj 134[50 50 1[50 55 33 39 44 1[55 50 55 83 28 2[28
55 50 33 44 55 44 55 50 12[66 55 1[78 61 1[72 94 66 4[78
61 66 1[72 66 72 7[50 2[50 50 50 50 50 50 50 1[25 33
42[55 2[{TeXBase1Encoding ReEncodeFont}45 100.000000
/Times-Bold rf /Fk 130[50 1[50 50 50 50 50 50 50 50 50
50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50 50
1[50 1[50 50 50 50 50 50 50 50 50 50 50 50 1[50 50 50
50 50 50 50 50 50 50 50 50 50 50 50 50 50 1[50 50 50
50 50 1[50 1[50 1[50 50 50 50 50 50 50 50 50 50 50 50
50 50 1[50 50 50 50 50 33[{TeXBase1Encoding ReEncodeFont}84
83.333336 /Courier rf /Fl 133[32 37 37 55 37 42 23 32
32 42 42 42 42 60 23 37 23 23 42 42 23 37 42 37 42 42
9[69 51 60 46 42 51 1[51 60 55 69 46 2[28 1[60 1[51 60
55 51 51 7[42 4[42 42 42 42 42 1[21 28 21 2[28 28 28
36[42 2[{TeXBase1Encoding ReEncodeFont}57 83.333336 /Times-Italic
rf /Fm 104[83 42 1[37 37 24[37 42 42 60 42 42 23 32 28
42 42 42 42 65 23 42 23 23 42 42 28 37 42 37 42 37 3[28
1[28 1[60 1[78 60 60 51 46 55 60 46 60 60 74 51 60 32
28 60 60 46 51 60 55 55 60 3[47 1[23 23 42 42 42 42 42
42 42 42 42 42 23 21 28 21 2[28 28 28 65 69 3[28 29[46
46 2[{TeXBase1Encoding ReEncodeFont}81 83.333336 /Times-Roman
rf /Fn 134[60 60 1[60 66 40 47 53 1[66 60 66 100 33 66
40 33 66 60 40 53 66 53 66 60 11[86 80 66 86 1[73 1[86
113 3[47 2[73 80 86 86 1[86 6[40 60 60 60 60 60 60 60
60 60 60 45[66 2[{TeXBase1Encoding ReEncodeFont}48 119.999947
/Times-Bold rf /Fo 134[50 2[50 50 28 39 33 2[50 50 78
28 2[28 50 1[33 44 1[44 1[44 11[72 1[55 66 4[89 1[72
1[33 6[66 15[50 1[50 3[25 44[{TeXBase1Encoding ReEncodeFont}26
100.000000 /Times-Roman rf /Fp 137[33 1[21 29 29 2[37
37 1[21 2[21 2[21 33 37 2[37 13[37 4[50 62 42 1[33 18[37
4[37 37 37 21 19 4[25 25 40[{TeXBase1Encoding ReEncodeFont}25
75.000000 /Times-Italic rf /Fq 134[72 3[72 40 56 48 1[72
72 72 112 40 2[40 72 72 1[64 72 1[72 64 11[104 88 80
4[104 128 88 1[56 6[96 19[40 47[{TeXBase1Encoding ReEncodeFont}26
144.000000 /Times-Roman rf /Fr 178[135 9[104 67[{
TeXBase1Encoding ReEncodeFont}2 144.000000 /Times-Bold
rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%PaperSize: a4

%%EndSetup
%%Page: 1 1
1 0 bop 1890 432 a Fr(CM)629 614 y Fq(The)36 b(SML/NJ)g(Compilation)g
(and)f(Library)h(Manager)1433 797 y Fp(\(for)19 b(SML/NJ)f(version)g
(110.27)h(and)g(later\))1638 980 y Fq(User)36 b(Manual)1690
1269 y Fo(Matthias)25 b(Blume)1108 1385 y(Research)g(Institute)g(for)g
(Mathematical)g(Sciences)1666 1501 y(K)n(yoto)f(Uni)n(v)n(ersity)1693
1744 y(March)h(22,)g(2000)0 2151 y Fn(1)120 b(Intr)m(oduction)0
2385 y Fm(This)24 b(manual)g(describes)h(a)f(ne)n(w)g(implementation)g
(of)g(CM,)g(the)h(\223Compilation)f(and)g(Library)g(Manager\224)g(for)g
(Standard)h(ML)f(of)g(Ne)n(w)0 2485 y(Jerse)o(y)g(\(SML/NJ\).)h(Lik)o
(e)g(its)g(pre)n(vious)g(v)n(ersion,)h(CM)f(is)g(in)f(char)o(ge)g(of)h
(managing)g(separate)g(compilation)f(and)h(f)o(acilitates)g(access)g
(to)0 2584 y(stable)c(libraries.)0 2732 y(Programming)26
b(projects)g(that)h(use)f(CM)g(are)g(typically)h(composed)f(of)g
(separate)g Fl(libr)o(aries)p Fm(.)42 b(Libraries)27
b(are)f(collections)g(of)g(ML)h(com-)0 2832 y(pilation)d(units)g(and)h
(themselv)o(es)f(can)g(be)g(internally)g(sub-structured)h(using)f(CM')
-5 b(s)25 b(notion)f(of)g Fl(gr)l(oups)p Fm(.)37 b(Using)24
b(libraries)g(and)g(groups,)0 2932 y(programs)30 b(can)g(be)h(vie)n
(wed)f(as)g(a)g Fl(hier)o(ar)m(c)o(hy)g(of)g(modules)p
Fm(.)54 b(The)30 b(or)o(g)o(anization)h(of)f(lar)n(ge)h(projects)f
(tends)g(to)g(bene\002t)g(from)h(this)f(ap-)0 3031 y(proach)21
b([B)m(A99].)0 3179 y(CM)e(uses)h Fl(cutof)n(f)f Fm(techniques)h([A)-10
b(TW94])20 b(to)f(minimize)g(recompilation)h(w)o(ork)f(and)g(pro)o
(vides)g(automatic)h(dependenc)o(y)f(analysis)g(to)g(free)0
3279 y(the)i(programmer)g(from)f(ha)o(ving)g(to)h(specify)g(a)g
(detailed)f(module)h(dependenc)o(y)g(graph)f(by)h(hand)g([Blu99].)0
3427 y(This)j(ne)n(w)f(v)o(ersion)h(of)f(CM)h(emphasizes)g
Fl(working)g(with)f(libr)o(aries)p Fm(.)35 b(This)23
b(contrasts)h(with)g(the)f(pre)n(vious)h(implementation)g(where)f(the)0
3526 y(focus)i(w)o(as)g(on)f(compilation)h(management)g(while)g
(libraries)f(were)h(added)g(as)g(an)f(afterthought.)38
b(Be)o(ginning)25 b(no)n(w)-6 b(,)26 b(CM)f(tak)o(es)g(a)f(v)o(ery)0
3626 y(library-centric)17 b(vie)n(w)f(of)h(the)g(w)o(orld.)24
b(In)17 b(f)o(act,)h(the)e(implementation)h(of)g(SML/NJ)g(itself)f(has)
h(been)g(restructured)f(to)h(meet)g(this)g(approach.)0
3954 y Fn(2)120 b(The)29 b(CM)h(model)0 4188 y Fm(A)21
b(CM)g(library)g(is)g(a)g(\(possibly)g(empty\))g(collection)g(of)g(ML)g
(source)g(\002les)g(and)g(may)g(also)g(contain)g(references)g(to)g
(other)g(libraries.)26 b(Each)0 4288 y(library)19 b(comes)g(with)f(an)h
(e)o(xplicit)g(e)o(xport)f(interface)g(which)h(lists)g(all)g(tople)n(v)
n(el-de\002ned)g(symbols)g(of)g(the)g(library)g(that)f(shall)h(be)g(e)o
(xported)0 4387 y(to)i(its)g(clients.)k(A)c(library)g(is)g(described)f
(by)h(the)g(contents)g(of)f(its)h Fl(description)g(\002le)p
Fm(.)0 4535 y(Example:)0 4763 y Fk(Library)199 4862 y(signature)50
b(BAR)199 4962 y(structure)g(Foo)0 5061 y(is)199 5161
y(bar.sig)199 5261 y(foo.sml)199 5360 y(helper.sml)199
5460 y(basis.cm)1989 5709 y Fm(1)p eop
%%Page: 2 2
2 1 bop 0 83 a Fm(This)20 b(library)g(e)o(xports)g(tw)o(o)g
(de\002nitions,)g(one)g(for)g(a)g(structure)g(named)g
Fk(Foo)g Fm(and)g(one)g(for)g(a)g(signature)g(named)g
Fk(BAR)p Fm(.)g(The)g(speci\002cation)0 183 y(for)29
b(such)h(e)n(xports)g(appear)f(between)g(the)h(k)o(e)o(yw)o(ords)f
Fk(Library)g Fm(and)h Fk(is)p Fm(.)51 b(The)29 b Fl(members)g
Fm(of)g(the)g(library)h(are)f(speci\002ed)g(after)h(the)0
282 y(k)o(e)o(yw)o(ord)24 b Fk(is)p Fm(.)37 b(Here)24
b(we)g(ha)o(v)n(e)h(three)f(ML)g(source)g(\002les)h(\()p
Fk(bar.sig)p Fm(,)g Fk(foo.sml)p Fm(,)g(and)f Fk(helper.sml)p
Fm(\))h(as)f(well)g(as)g(a)h(reference)f(to)0 382 y(one)c(e)o(xternal)g
(library)g(\()p Fk(basis.cm)p Fm(\).)25 b(The)20 b(entry)g
Fk(basis.cm)g Fm(typically)g(denotes)g(the)g(description)f(\002le)h
(for)g(the)g Fl(Standar)m(d)g(ML)g(Basis)0 482 y(Libr)o(ary)h
Fm([RG99];)f(most)h(programs)g(will)g(w)o(ant)f(to)h(list)g(it)g(in)f
(their)h(o)n(wn)g(description)g(\002le\(s\).)0 764 y
Fj(2.1)100 b(Library)25 b(descriptions)0 966 y Fm(Members)18
b(of)g(a)h(library)f(do)g(not)g(ha)o(v)n(e)g(to)h(be)f(listed)g(in)g
(an)o(y)g(particular)g(order)h(since)f(CM)g(will)g(automatically)g
(calculate)h(the)f(dependenc)o(y)0 1066 y(graph.)26 b(Some)20
b(minor)h(restrictions)g(on)g(the)g(source)f(language)h(are)g
(necessary)g(to)f(mak)o(e)h(this)g(w)o(ork:)104 1272
y(1.)42 b(All)19 b(top-le)m(v)o(el)g(de\002nitions)g(must)g(be)g
Fl(module)h Fm(de\002nitions)f(\(structures,)g(signatures,)g(functors,)
h(or)f(functor)g(signatures\).)25 b(In)19 b(other)208
1372 y(w)o(ords,)i(there)g(can)f(be)h(no)g(top-le)n(v)o(el)f(type-,)h
(v)n(alue-,)g(or)g(in\002x-de\002nitions.)104 1534 y(2.)42
b(F)n(or)24 b(a)h(gi)m(v)o(en)f(symbol,)h(there)f(can)h(be)f(at)g(most)
g(one)g(ML)g(source)g(\002le)h(per)f(library)g(\(or)n(\227more)g
(correctly\227one)g(\002le)h(per)f(library)208 1634 y(component;)d(see)
g(Section)f(2.3\))h(that)g(de\002nes)g(the)f(symbol)h(at)g(top)g(le)m
(v)o(el.)104 1797 y(3.)42 b(If)20 b(more)g(than)g(one)g(sub-library)g
(or)g(sub-group)g(is)g(e)o(xporting)g(the)g(same)h(symbol,)f(then)g
(the)g(de\002nition)g(\(i.e.,)g(the)h(ML)f(source)g(\002le)208
1896 y(that)h(actually)g(de\002nes)f(the)h(symbol\))g(must)g(be)f
(identical)h(in)g(all)g(cases.)104 2059 y(4.)42 b(The)20
b(use)h(of)g(ML)-8 b(')l(s)20 b Fi(open)h Fm(construct)g(is)g(not)f
(permitted)h(at)g(top)g(le)n(v)n(el.)0 2265 y(Note)e(that)h(these)f
(rules)h(do)f(not)g(require)h(the)f(e)o(xports)g(of)h(sub-groups)f(or)g
(sub-libraries)h(to)f(be)h(distinct)f(from)g(the)h(e)n(xports)g(of)f
(ML)h(source)0 2365 y(\002les.)37 b(If)24 b(an)g(ML)h(source)f(\002le)h
(re-de\002nes)f(an)g(imported)h(name,)g(then)g(the)f(disambiguating)g
(rule)h(is)f(that)h(the)f(de\002nition)g(from)h(the)f(ML)0
2464 y(source)d(tak)o(es)g(precedence)f(o)o(v)o(er)h(the)f
(de\002nition)h(imported)g(from)g(the)f(group)h(or)g(library)-5
b(.)0 2611 y(Rule)26 b(3)g(may)g(come)g(as)g(a)g(bit)g(of)g(a)g
(surprise)g(considering)g(that)g(each)g(ML)g(source)g(\002le)f(can)h
(be)g(a)g(member)g(of)g(at)g(most)g(one)g(group)g(or)0
2710 y(library)18 b(\(see)g(section)g(2.4\).)25 b(Ho)n(we)n(v)o(er)l(,)
19 b(it)f(is)g(indeed)g(possible)g(for)g(two)g(libraries)g(to)g(e)o
(xport)g(the)g(\223same\224)g(de\002nition)g(pro)o(vided)g(the)o(y)g
(both)0 2810 y(import)j(that)g(de\002nition)g(from)g(a)h(third)f
(library)-6 b(.)27 b(F)o(or)21 b(e)o(xample,)g(let)g(us)g(assume)g
(that)g Fk(a.cm)h Fm(e)n(xports)f(a)h(structure)f Fk(X)g
Fm(which)g(w)o(as)g(de\002ned)0 2909 y(in)27 b Fk(x.sml)p
Fm(\227one)f(of)h Fk(a.cm)p Fm(')l(s)f(members.)44 b(No)n(w)-6
b(,)28 b(if)f(both)g Fk(b.cm)g Fm(and)f Fk(c.cm)h Fm(re-e)o(xport)f
(that)h(same)g(structure)g Fk(X)f Fm(after)h(importing)g(it)0
3009 y(from)21 b Fk(a.cm)p Fm(,)g(it)f(is)h(le)o(g)o(al)g(for)g(a)g
(fourth)f(library)h Fk(d.cm)g Fm(to)g(import)f(from)h(both)g
Fk(b.cm)g Fm(and)f Fk(c.cm)p Fm(.)0 3155 y(The)26 b(full)f(syntax)h
(for)g(library)f(description)h(\002les)g(also)g(includes)f(pro)o
(visions)h(for)f(a)h(simple)g(\223conditional)f(compilation\224)h(f)o
(acility)g(\(see)0 3255 y(Section)21 b(6\),)g(for)f(access)h(control)g
(\(see)g(Section)f(7\),)h(and)g(accepts)g(ML-style)f(nestable)h
(comments)g(delimited)g(by)f Fk(\(*)h Fm(and)g Fk(*\))p
Fm(.)0 3537 y Fj(2.2)100 b(Name)25 b(visibility)0 3740
y Fm(In)c(general,)g(all)g(de\002nitions)g(e)n(xported)g(from)g
(members)g(of)g(a)g(library)g(are)f(visible)h(in)g(all)g(ML)g(source)g
(\002les)g(of)g(that)f(library)-5 b(.)26 b(The)21 b(source)0
3839 y(code)c(in)h(those)f(source)h(\002les)f(can)h(refer)f(to)h(them)f
(directly)g(without)h(further)f(quali\002cation.)25 b(Here,)18
b(\223e)o(xported\224)f(means)h(either)f(a)h(top-le)n(v)n(el)0
3939 y(de\002nition)j(within)g(an)f(ML)h(source)g(\002le)g(or)f(a)h
(de\002nition)g(listed)g(in)f(a)h(\(sub-\)library')l(s)f(e)o(xport)h
(list.)0 4085 y(If)35 b(a)h(library)f(is)g(structured)h(into)f(library)
g(components)h(using)f Fl(gr)l(oups)h Fm(\(see)f(Section)g(2.3\),)k
(then\227as)d(f)o(ar)f(as)g(name)h(visibility)f(is)0
4185 y(concerned\227each)21 b(component)g(\(group\))f(is)h(treated)g
(lik)o(e)g(a)f(separate)h(library)-5 b(.)0 4331 y(Cyclic)21
b(dependencies)h(among)f(libraries,)h(library)f(components,)g(or)h(ML)f
(source)g(\002les)h(within)f(a)h(library)f(are)g(detected)h(and)f
(\003agged)g(as)0 4430 y(errors.)0 4713 y Fj(2.3)100
b(Gr)n(oups)0 4915 y Fm(CM')-5 b(s)30 b(group)f(model)g(eliminates)g(a)
g(whole)g(class)h(of)f(potential)g(naming)g(problems)g(by)g(pro)o
(viding)g(control)g(o)o(v)o(er)g(name)g(spaces)g(for)0
5015 y(program)19 b(linkage.)26 b(The)19 b(group)h(model)f(in)h(full)f
(generality)g(sometimes)h(requires)f(bindings)h(to)f(be)h(renamed)f(at)
h(the)f(time)h(of)f(import.)25 b(As)0 5115 y(has)e(been)g(described)h
(separately)f([B)m(A99],)h(in)f(the)g(case)g(of)h(ML)f(this)g(can)g
(also)g(be)h(achie)n(v)n(ed)f(using)h(\223administati)n(v)n(e\224)g
(libaries,)f(which)0 5214 y(is)e(wh)o(y)g(CM)g(can)g(get)f(a)o(w)o(ay)h
(with)g(not)g(pro)n(viding)g(more)g(direct)g(support)f(for)h(renaming.)
0 5360 y(Ho)n(we)n(v)o(er)l(,)e(under)f(CM,)g(the)g(term)g
(\223library\224)g(does)g(not)g(only)g(mean)g(namespace)g(management)g
(\(as)g(it)g(w)o(ould)g(from)g(the)g(point)g(of)g(vie)n(w)g(of)0
5460 y(the)k(pure)g(group)g(model\))g(b)o(ut)g(also)g(refers)g(to)g
(actual)g(\002le)g(system)g(objects.)30 b(It)22 b(would)g(be)g(incon)l
(v)o(enient)g(if)g(name)h(resolution)f(problems)1989
5709 y(2)p eop
%%Page: 3 3
3 2 bop 0 83 a Fm(w)o(ould)24 b(result)g(in)g(a)f(proliferation)h(of)g
(additional)g(library)g(\002les.)34 b(Therefore,)25 b(CM)f(also)f(pro)o
(vides)h(the)g(notion)g(of)f(groups)h(\(or:)32 b(\223library)0
183 y(components\224\).)25 b(Name)18 b(resolution)g(for)g(groups)g
(works)g(lik)o(e)g(name)g(resolution)g(for)g(entire)g(libraries,)h(b)n
(ut)f(grouping)h(is)f(entirely)g(internal)0 282 y(to)j(each)g(library)
-6 b(.)0 423 y(During)21 b(de)n(v)o(elopment,)g(each)g(group)h(has)f
(its)g(o)n(wn)g(description)g(\002le)h(which)f(will)g(be)g(referred)g
(to)h(by)f(the)g(surrounding)g(library)g(or)h(other)0
523 y(components)d(thereof.)24 b(The)19 b(syntax)f(of)h(group)f
(description)h(\002les)g(is)f(the)h(same)f(as)h(that)f(of)h(library)f
(description)h(\002les)f(with)h(the)f(follo)n(wing)0
622 y(e)o(xceptions:)125 825 y Fh(\017)42 b Fm(The)27
b(initial)h(k)o(e)o(yw)o(ord)f Fk(Library)h Fm(is)f(replaced)h(with)g
Fk(Group)p Fm(.)46 b(It)27 b(is)h(follo)n(wed)f(by)h(the)g(name)f(of)h
(the)f(surrounding)h(library')-5 b(s)208 924 y(description)21
b(\002le)g(in)f(parentheses.)125 1082 y Fh(\017)42 b
Fm(The)23 b(e)n(xport)g(list)g(can)g(be)g(left)h(empty)-6
b(,)24 b(in)f(which)g(case)g(CM)g(will)g(pro)o(vide)g(a)g(def)o(ault)g
(e)o(xport)g(list:)30 b(all)23 b(e)o(xports)g(from)g(ML)g(source)208
1181 y(\002les)g(plus)g(all)g(e)o(xports)g(from)g(sub-components)g(of)g
(the)g(component.)32 b(\(Note)23 b(that)g(this)g(does)g(not)g(include)g
(the)g(e)o(xports)f(of)h(other)208 1281 y(libraries.\))125
1438 y Fh(\017)42 b Fm(There)20 b(are)h(some)g(small)g(restrictions)f
(on)h(access)g(control)g(speci\002cations)f(\(see)h(Section)g(7\).)0
1641 y(As)g(an)g(e)n(xample,)g(let)g(us)g(assume)f(that)h
Fk(foo-utils.cm)g Fm(contains)g(the)f(follo)n(wing)h(te)o(xt:)0
1843 y Fk(Group)50 b(\(foo-lib.cm\))0 1943 y(is)199 2042
y(set-util.sml)199 2142 y(map-util.sml)199 2242 y(basis.cm)0
2444 y Fm(Here,)21 b(the)g(library)f(description)h(\002le)g
Fk(foo-lib.cm)g Fm(w)o(ould)f(list)h Fk(foo-utils.cm)g
Fm(as)g(one)f(of)h(its)g(members:)0 2646 y Fk(Library)199
2746 y(signature)50 b(FOO)199 2845 y(structure)g(Foo)0
2945 y(is)199 3045 y(foo.sig)199 3144 y(foo.sml)199 3244
y(foo-utils.cm)199 3344 y(basis.cm)0 3619 y Fj(2.4)100
b(Multiple)25 b(occur)n(ences)g(of)g(the)f(same)h(member)0
3815 y Fm(The)d(follo)n(wing)h(rules)f(apply)h(to)f(multiple)g
(occurences)h(of)f(the)h(same)f(ML)g(source)h(\002le,)g(the)f(same)g
(library)-5 b(,)23 b(or)f(the)h(same)f(group)g(within)0
3915 y(a)f(program:)125 4117 y Fh(\017)42 b Fm(W)l(ithin)21
b(the)g(same)f(description)h(\002le,)g(each)g(member)f(can)h(be)g
(speci\002ed)g(at)g(most)f(once.)125 4275 y Fh(\017)42
b Fm(Libraries)20 b(can)h(be)g(referred)g(to)f(freely)h(from)g(as)g
(man)n(y)g(other)g(groups)g(or)f(libraries)h(as)g(the)g(programmer)f
(desires.)125 4432 y Fh(\017)42 b Fm(A)21 b(group)h(cannot)f(be)h(used)
g(from)f(outside)h(the)g(\(uniquely)f(de\002ned\))h(library)f(that)h
(it)g(is)f(a)h(component)f(of.)29 b(Ho)n(we)n(v)n(er)m(,)22
b(within)g(that)208 4532 y(library)f(it)g(can)f(be)h(referred)g(to)g
(from)f(arbitrarily)h(man)o(y)g(other)f(groups.)125 4689
y Fh(\017)42 b Fm(The)19 b(same)g(ML)g(source)g(\002le)g(cannot)h
(appear)f(more)g(than)g(once.)25 b(If)19 b(an)h(ML)f(source)g(\002le)g
(is)g(to)g(be)h(referred)f(to)g(by)g(multiple)g(clients,)208
4789 y(it)i(must)g(\002rst)f(be)h(\223wrapped\224)g(into)g(a)f(library)
h(\(or)n(\227if)g(all)g(references)g(are)f(from)h(within)g(the)g(same)f
(library\227a)h(group\).)0 5064 y Fj(2.5)100 b(T)-10
b(op-le)o(v)o(el)25 b(gr)n(oups)0 5261 y Fm(Mainly)g(to)g(f)o
(acilitate)g(some)g(super\002cial)f(backward-compatibility)-6
b(,)26 b(CM)f(also)g(allo)n(ws)g(groups)f(to)h(appear)g(at)g(top)g(le)n
(v)n(el,)h(i.e.,)g(outside)0 5360 y(of)20 b(an)o(y)g(library)-6
b(.)26 b(Such)20 b(groups)g(must)g(omit)g(the)g(parenthetical)g
(library)g(speci\002cation)g(and)g(then)f(cannot)h(also)g(be)g(used)g
(within)g(libraries.)0 5460 y(One)h(could)g(think)f(of)h(the)g(top)g
(le)m(v)o(el)g(itself)g(as)f(a)h(\223virtual)g(unnamed)g(library\224)g
(whose)f(components)h(are)g(these)g(top-le)m(v)o(el)g(groups.)1989
5709 y(3)p eop
%%Page: 4 4
4 3 bop 0 83 a Fn(3)120 b(Naming)29 b(objects)h(in)g(the)g(\002le)g
(system)0 335 y Fj(3.1)100 b(Moti)o(v)o(ation)0 540 y
Fm(File)23 b(naming)h(has)f(been)g(an)g(area)h(notorious)f(for)g(its)g
(problems)h(and)f(w)o(as)g(the)h(cause)f(of)g(most)g(of)h(the)f(gripes)
g(from)g(CM')l(s)g(users.)33 b(W)m(ith)0 640 y(this)21
b(in)g(mind,)f(CM)h(no)n(w)g(tak)o(es)g(a)f(dif)n(ferent)h(approach)g
(to)g(\002le)f(name)h(resolution.)0 790 y(The)j(main)g(dif)n(\002culty)
g(lies)g(in)g(the)g(f)o(act)g(that)g(\002les)f(or)h(e)n(v)o(en)g(whole)
g(directories)g(may)g(mo)o(v)n(e)g(after)g(CM)g(has)g(already)g
(partially)g(\(b)n(ut)g(not)0 889 y(fully\))c(processed)g(them.)25
b(F)o(or)20 b(e)o(xample,)g(this)g(happens)g(when)g(the)g
Fl(autoloader)f Fm(\(see)h(Section)g(4.2\))g(has)g(been)g(in)m(v)n(ok)o
(ed)g(and)g(the)g(session)0 989 y(\(including)j(CM')-5
b(s)23 b(internal)f(state\))h(is)g(then)f(frozen)h(\(i.e.,)g(sa)n(v)o
(ed)g(to)g(a)f(\002le\))h(via)f Fk(SMLofNJ.exportML)p
Fm(.)h(The)g(ne)n(w)f(CM)h(is)g(no)n(w)f(able)0 1088
y(to)j(resume)f(such)h(a)f(session)h(e)n(v)o(en)f(when)h(operating)f
(in)h(a)f(dif)n(ferent)h(en)l(vironment,)h(perhaps)f(on)f(a)h(dif)n
(ferent)f(machine)h(with)f(dif)n(ferent)0 1188 y(\002le)d(system)g
(mounted,)f(or)h(a)g(dif)n(ferent)f(location)h(of)g(the)g(SML/NJ)f
(installation.)0 1337 y(T)-7 b(o)22 b(mak)o(e)g(this)g(possible,)h(CM)e
(pro)o(vides)h(a)g(con\002gurable)g(mechanism)g(for)g(locating)g
(\002le)g(system)g(objects.)29 b(Moreo)o(v)n(er)m(,)22
b(it)g(in)m(v)n(okes)f(this)0 1437 y(mechanism)g(al)o(w)o(ays)g(as)g
(late)f(as)h(possible)g(and)g(is)f(prepared)h(to)g(re-in)m(v)n(ok)o(e)g
(it)g(after)f(the)h(con\002guration)g(changes.)0 1725
y Fj(3.2)100 b(Basic)25 b(rules)0 1930 y Fm(CM)31 b(uses)f(its)h(o)m
(wn)g(\223standard\224)f(syntax)h(for)g(pathnames)f(which)h(happens)f
(to)h(be)f(the)h(same)f(as)h(the)f(one)h(used)f(by)h(most)f(Unix-lik)o
(e)0 2030 y(systems:)d(path)22 b(name)f(components)h(are)f(separated)h
(by)f(\223)p Fi(/)p Fm(\224,)h(paths)f(be)o(ginning)h(with)f(\223)p
Fi(/)p Fm(\224)h(are)f(considered)h Fl(absolute)f Fm(while)h(other)f
(paths)0 2129 y(are)g Fl(r)m(elative)p Fm(.)0 2279 y(Since)26
b(this)g(standard)g(syntax)g(does)g(not)h(co)n(v)o(er)f
(system-speci\002c)g(aspects)g(such)g(as)h(v)n(olume)f(names,)h(it)g
(is)f(also)g(possible)g(to)g(re)n(v)o(ert)g(to)0 2378
y(\223nati)n(v)o(e\224)21 b(syntax)g(by)g(enclosing)h(the)f(name)g(in)g
(double-quotes.)27 b(Of)22 b(course,)f(description)g(\002les)g(that)h
(use)f(path)g(names)g(in)h(nati)m(v)o(e)f(syntax)0 2478
y(are)g(not)g(portable)f(across)h(operating)g(systems.)0
2627 y(Absolute)i(pathnames)h(are)f(resolv)o(ed)g(in)h(the)f(usual)g
(manner)h(speci\002c)f(to)h(the)f(operating)g(system.)34
b(Ho)n(we)n(v)n(er)m(,)24 b(it)g(is)f(advisable)g(to)h(a)n(v)n(oid)0
2727 y(absolute)d(pathnames)g(because)f(the)o(y)h(are)g(certain)f(to)h
(\223break\224)g(if)g(the)f(corresponding)h(\002le)g(mo)o(v)n(es)g(to)g
(a)g(dif)n(ferent)f(location.)0 2877 y(The)h(resolution)g(of)f(relati)n
(v)o(e)h(pathnames)f(is)h(more)g(complicated:)125 3109
y Fh(\017)42 b Fm(If)26 b(the)h(\002rst)g(component)f(of)h(a)g(relati)n
(v)o(e)f(pathname)h(is)g(a)g(\223con\002guration)f(anchor\224)h(\(see)g
(Section)g(3.3\),)h(then)f(we)f(call)h(the)g(path)208
3209 y Fl(anc)o(hor)m(ed)p Fm(.)58 b(In)31 b(this)h(case)f(the)h(whole)
f(name)h(will)f(be)h(resolv)n(ed)g(relati)n(v)n(e)g(to)f(the)h(v)n
(alue)f(associated)h(with)f(that)h(anchor)-5 b(.)58 b(F)o(or)208
3308 y(e)o(xample,)28 b(if)f(the)g(path)f(is)h Fk(foo/bar/baz)g
Fm(and)g Fk(foo)g Fm(is)f(kno)n(wn)h(as)g(an)g(anchor)f(mapped)h(to)g
Fk(/usr/local)p Fm(,)h(then)f(the)g(full)208 3408 y(name)21
b(of)g(the)g(actual)g(\002le)g(system)g(object)f(referred)h(to)g(is)g
Fk(/usr/local/foo/bar/baz)p Fm(.)26 b(Note)21 b(that)g(the)g
Fk(foo)g Fm(component)208 3507 y(is)28 b(not)h(stripped)f(a)o(w)o(ay)h
(during)f(the)g(resolution)h(process;)j(dif)n(ferent)c(anchors)h(that)f
(map)h(to)f(the)h(same)f(directory)g(still)h(remain)208
3607 y(dif)n(ferent.)125 3773 y Fh(\017)42 b Fm(Otherwise,)17
b(if)h(the)f(relati)n(v)o(e)g(name)g(appears)g(in)g(some)h(description)
f(\002le)g(whose)g(name)g(is)h Fl(path)p Fk(/)p Fl(\002le)p
Fk(.cm)p Fm(,)g(then)f(it)g(will)g(be)g(resolv)o(ed)208
3873 y(relati)n(v)o(e)j(to)h Fl(path)p Fm(,)g(i.e.,)g(relati)n(v)n(e)g
(to)g(the)g(directory)f(that)h(contains)g(the)g(description)f(\002le.)
125 4039 y Fh(\017)42 b Fm(If)22 b(a)h(non-anchored)g(relati)n(v)n(e)g
(path)g(is)f(entered)h(interacti)n(v)o(ely)-6 b(,)24
b(for)e(e)o(xample)h(as)f(an)h(ar)o(gument)f(to)h(one)g(of)f(CM')l(s)h
(interf)o(ace)f(func-)208 4138 y(tions,)27 b(then)f(it)g(will)f(be)h
(resolv)o(ed)g(in)g(the)f(OS-speci\002c)h(manner)m(,)h(i.e.,)g(relati)n
(v)o(e)e(to)h(the)g(current)g(w)o(orking)g(directory)-6
b(.)41 b(Ho)n(we)n(v)o(er)m(,)208 4238 y(CM)18 b(will)h(internally)f
(represent)g(the)g(name)h(in)f(such)g(a)g(w)o(ay)h(that)f(it)g
(remembers)h(the)f(corresponding)g(w)o(orking)g(directory)-5
b(.)25 b(Should)208 4338 y(the)f(w)o(orking)f(directory)h(change)g
(during)f(an)h(ongoing)f(CM)h(session)g(while)f(there)h(still)f(is)h(a)
g(reference)f(to)h(the)f(name,)i(then)e(CM)208 4437 y(will)i(switch)h
(its)f(mode)h(of)f(operation)h(and)f(prepend)h(the)f(path)h(of)f(the)g
(original)h(w)o(orking)g(directory)-6 b(.)40 b(As)25
b(a)h(result,)g(two)f(names)208 4537 y(speci\002ed)c(using)f(identical)
h(strings)f(b)o(ut)g(at)h(dif)n(ferent)f(times)h(when)f(dif)n(ferent)h
(w)o(orking)g(directories)f(were)h(in)f(ef)n(fect)h(will)f(be)h(k)o
(ept)208 4637 y(distinct)g(and)g(continue)f(to)h(refer)g(to)g(the)f
(\002le)h(system)g(location)g(that)f(the)o(y)h(referred)g(to)f(when)h
(the)o(y)g(were)f(\002rst)h(seen.)0 4924 y Fj(3.3)100
b(Anchor)25 b(con\002guration)0 5130 y Fm(The)35 b(association)g(of)g
(path)g(name)g(anchors)g(with)g(their)f(corresponding)h(directory)g
(names)g(is)g(a)g(simple)g(one-w)o(ay)g(mapping.)68 b(At)0
5229 y(startup)36 b(time,)k(this)35 b(mapping)h(is)g(initialized)g(by)g
(reading)g(tw)o(o)g(con\002guration)g(\002les:)56 b(an)36
b(installation-speci\002c)g(one)g(and)f(a)h(user)o(-)0
5329 y(speci\002c)c(one.)58 b(After)31 b(that,)j(the)e(mapping)f(can)h
(be)g(maintained)f(using)h(CM')-5 b(s)32 b(interf)o(ace)f(functions)h
Fk(CM.Anchor.anchor)f Fm(and)0 5428 y Fk(CM.Anchor.reset)21
b Fm(\(see)g(Section)f(4.1\).)1989 5709 y(4)p eop
%%Page: 5 5
5 4 bop 0 83 a Fm(The)22 b(def)o(ault)g(location)g(of)g(the)g
(installation-speci\002c)g(con\002guration)g(\002le)g(is)g
Fk(/usr/lib/smlnj-pathconfig)p Fm(.)29 b(Ho)n(we)n(v)o(er)m(,)22
b(nor)n(-)0 183 y(mally)27 b(this)f(def)o(ault)h(gets)f(replaced)h
(\(via)g(an)f(en)m(vironment)g(v)n(ariable)h(named)f
Fk(CM)p 2435 183 25 4 v 30 w(PATHCONFIG)p 2964 183 V
30 w(DEFAULT)p Fm(\))h(at)f(installation)h(time)0 282
y(by)22 b(a)g(path)g(pointing)f(to)h(where)n(v)o(er)g(the)g
(installation)g(actually)f(puts)h(the)g(con\002guration)g(\002le.)29
b(The)22 b(user)g(can)g(specify)g(a)f(ne)n(w)h(location)g(at)0
382 y(startup)f(time)g(using)f(the)h(en)m(vironment)f(v)n(ariable)h
Fk(CM)p 1566 382 V 30 w(PATHCONFIG)p Fm(.)0 528 y(The)e(def)o(ault)f
(location)h(of)g(the)f(user)o(-speci\002c)g(con\002guration)h(\002le)g
(is)f Fk(.smlnj-pathconfig)h Fm(in)g(the)f(user')l(s)g(home)h
(directory)g(\(which)0 628 y(must)28 b(be)g(gi)n(v)o(en)g(by)g(the)g
Fk(HOME)g Fm(en)m(vironment)g(v)n(ariable\).)48 b(At)28
b(startup)g(time,)i(this)e(def)o(ault)g(can)g(be)g(o)o(v)o(erridden)g
(by)g(a)g(\002x)o(ed)g(location)0 728 y(which)21 b(must)g(be)f(gi)n(v)o
(en)h(as)f(the)h(v)n(alue)g(of)g(the)f(en)m(vironment)h(v)n(ariable)g
Fk(CM)p 2158 728 V 29 w(LOCAL)p 2437 728 V 30 w(PATHCONFIG)p
Fm(.)0 874 y(The)i(syntax)h(of)f(all)h(con\002guration)f(\002les)h(is)f
(identical.)34 b(Lines)23 b(are)h(processed)f(from)h(top)f(to)h
(bottom.)34 b(White)23 b(space)g(di)n(vides)h(lines)f(into)0
974 y(tok)o(ens.)125 1181 y Fh(\017)42 b Fm(A)24 b(line)h(with)g(e)o
(xactly)g(tw)o(o)g(tok)o(ens)g(associates)f(an)h(anchor)g(\(the)g
(\002rst)g(tok)o(en\))g(with)f(a)h(directory)g(in)g(nati)n(v)o(e)f
(syntax)h(\(the)g(second)208 1281 y(tok)o(en\).)39 b(Neither)25
b(anchor)g(nor)g(directory)g(name)g(may)g(contain)g(white)g(space)g
(and)g(the)g(anchor)g(should)g(not)g(contain)g(a)g Fi(/)p
Fm(.)39 b(If)25 b(the)208 1380 y(directory)g(name)g(is)f(a)h(relati)n
(v)o(e)f(name,)i(then)f(it)g(will)g(be)f(e)o(xpanded)h(by)g(prepending)
f(the)h(name)g(of)g(the)f(directory)h(that)g(contains)208
1480 y(the)c(con\002guration)g(\002le.)125 1643 y Fh(\017)42
b Fm(A)25 b(line)h(containing)f(e)o(xactly)h(one)g(tok)o(en)f(that)h
(is)g(the)f(name)h(of)g(an)f(anchor)h(cancels)g(an)n(y)g(e)o(xisting)g
(association)f(of)h(that)g(anchor)208 1743 y(with)21
b(a)g(directory)-6 b(.)125 1906 y Fh(\017)42 b Fm(A)23
b(line)h(with)f(a)h(single)g(tok)o(en)f(that)h(consists)g(of)f(a)h
(single)g(minus)f(sign)h Fi(-)f Fm(cancels)h(all)g(e)n(xisting)g
(anchors.)34 b(This)24 b(typically)g(mak)o(es)208 2006
y(sense)k(only)h(at)f(the)g(be)o(ginning)g(of)h(the)f(user)o
(-speci\002c)g(con\002guration)g(\002le)h(and)f(erases)g(an)o(y)g
(settings)h(that)f(were)g(made)h(by)f(the)208 2105 y
(installation-speci\002c)21 b(con\002guration)g(\002le.)125
2269 y Fh(\017)42 b Fm(Lines)20 b(with)h(no)g(tok)o(en)g(\(i.e.,)f
(empty)h(lines\))g(will)g(be)f(silently)h(ignored.)125
2432 y Fh(\017)42 b Fm(An)n(y)21 b(other)g(line)g(is)f(considered)h
(malformed)g(and)g(will)f(cause)h(a)g(w)o(arning)g(b)n(ut)g(will)g
(otherwise)f(be)h(ignored.)0 2758 y Fn(4)120 b(Using)29
b(CM)0 3007 y Fj(4.1)100 b(Structur)n(e)25 b(CM)0 3209
y Fm(Functions)k(that)g(control)g(CM')-5 b(s)29 b(operation)g(are)g
(accessible)g(as)g(members)g(of)g(a)g(structure)g(named)f
Fk(CM)p Fm(.)h(This)g(structure)g(itself)g(is)g(e)o(x-)0
3309 y(ported)20 b(from)g(a)g(library)g(called)g Fk(smlnj/cm/full.cm)g
Fm(\(or)l(,)g(alternati)n(v)o(ely)-5 b(,)20 b Fk(smlnj/cm.cm)p
Fm(\).)25 b(Other)20 b(libraries)g(can)g(e)o(xploit)g(CM')-5
b(s)0 3409 y(functionality)30 b(simply)g(by)g(putting)f(a)h
Fk(smlnj/cm/full.cm)g Fm(entry)g(into)g(their)g(o)n(wn)g(description)g
(\002le.)53 b(Section)30 b(12)f(sho)n(ws)h(one)0 3508
y(interesting)21 b(use)g(of)f(this)h(feature.)0 3655
y(Initially)-5 b(,)24 b(only)g(a)g(\223minimal\224)g(v)n(ersion)g(of)g
(structure)g Fk(CM)f Fm(\(e)o(xported)h(by)g(library)g
Fk(smlnj/cm/minimal.cm)p Fm(\))f(is)h(pre-re)o(gistered)g(at)0
3754 y(the)17 b(interacti)n(v)n(e)g(prompt.)25 b(T)-7
b(o)17 b(mak)o(e)g(the)f(full)h(v)o(ersion)g(of)f(structure)h
Fk(CM)g Fm(a)n(v)n(ailable,)h(one)f(must)f(e)o(xplicitly)h(load)g
Fk(smlnj/cm/full.cm)0 3854 y Fm(using)22 b Fk(CM.autoload)f
Fm(or)h Fk(CM.make)p Fm(,)f(both)h(of)f(which)h(are)f(also)h(a)n(v)n
(ailable)g(in)f(the)h(minimal)f(v)o(ersion.)28 b(\(The)21
b(minimal)h(structure)f Fk(CM)0 3954 y Fm(contains)g(four)g(members:)k
Fk(CM.recomp)p Fm(,)c Fk(CM.stabilize)p Fm(,)g Fk(CM.make)p
Fm(,)g(and)f Fk(CM.autoload)p Fm(.\))0 4100 y(Here)h(is)g(a)f
(description)h(of)g(all)g(members:)0 4367 y Fi(Compiling)0
4570 y Fm(T)-7 b(wo)20 b(main)h(acti)n(vities)g(when)f(using)h(CM)g(is)
g(to)f(compile)h(ML)g(source)g(code)g(and)f(to)h(b)n(uild)g(stable)g
(libraries:)100 4792 y Fk(val)50 b(recomp)g(:)f(string)h(->)g(bool)100
4892 y(val)g(stabilize)g(:)f(bool)h(->)g(string)g(->)g(bool)0
5114 y(CM.recomp)25 b Fm(tak)o(es)h(the)f(name)g(of)h(a)f(program')-5
b(s)26 b(\223root\224)f(description)g(\002le)g(and)h(compiles)f(or)g
(recompiles)h(all)f(ML)g(source)g(\002les)h(that)0 5214
y(are)21 b(necessary)g(to)f(pro)o(vide)h(de\002nitions)g(for)f(the)h
(root)g(library')-5 b(s)21 b(e)o(xport)g(list.)0 5360
y Fk(CM.stabilize)g Fm(takes)g(a)g(boolean)h(\003ag)f(and)g(then)h(the)
f(name)g(of)h(a)f(library)g(and)h Fl(stabilizes)f Fm(this)g(library)-5
b(.)28 b(A)21 b(library)g(is)h(stabilized)f(by)0 5460
y(writing)i(all)g(information)g(pertaining)g(to)g(it)h(\(including)f
(all)g(of)g(its)g(library)g(components\))g(into)g(a)g(single)g(\002le.)
33 b(Later)m(,)24 b(when)f(the)g(library)1989 5709 y(5)p
eop
%%Page: 6 6
6 5 bop 0 83 a Fm(is)24 b(used)g(in)g(other)f(programs,)i(all)f
(members)g(of)g(the)f(library)h(are)g(guaranteed)g(to)g(be)g
(up-to-date;)h(no)f(dependenc)o(y)f(analysis)h(w)o(ork)g(and)0
183 y(no)f(recompilation)g(work)g(will)g(be)g(necessary)-5
b(.)33 b(If)23 b(the)h(boolean)f(\003ag)g(is)g Fk(false)p
Fm(,)h(then)g(all)f(sub-libraries)g(of)g(the)h(library)f(must)g
(already)0 282 y(be)e(stable.)k(If)c(the)g(\003ag)g(is)g
Fk(true)p Fm(,)f(then)h(CM)g(will)g(recursi)m(v)o(ely)g(stabilize)g
(all)f(libraries)h(reachable)g(from)g(the)g(gi)m(v)o(en)g(root.)0
428 y(After)i(a)f(library)h(has)g(been)f(stabilized)h(it)g(can)g(be)f
(used)h(e)n(v)o(en)f(if)h(none)g(of)f(its)h(original)g
(sources\227including)f(the)h(description)g(\002le\227are)0
528 y(present.)0 674 y(The)d(boolean)h(result)f(of)g
Fk(CM.recomp)g Fm(and)h Fk(CM.stabilize)f Fm(indicates)g(success)g(or)h
(f)o(ailure)f(of)g(the)g(operation)h(\()p Fk(true)f Fm(=)g(success\).)0
940 y Fi(Linking)0 1142 y Fm(In)d(SML/NJ,)f(linking)h(means)g(e)o(x)n
(ecuting)g(top-le)n(v)o(el)f(code)h(of)g(each)g(compilation)f(unit.)25
b(The)16 b(resulting)h(bindings)g(can)f(then)h(be)g(re)o(gistered)0
1242 y(at)k(the)g(interacti)m(v)o(e)g(top)g(le)n(v)n(el.)100
1462 y Fk(val)50 b(make)g(:)f(string)h(->)g(bool)100
1562 y(val)g(autoload)g(:)f(string)h(->)g(bool)0 1782
y(CM.make)30 b Fm(\002rst)h(acts)f(like)g Fk(CM.recomp)p
Fm(.)55 b(If)30 b(the)h(\(re-\)compilation)f(is)h(successful,)i(then)d
(it)h(proceeds)f(by)h(linking)f(all)h(modules.)0 1882
y(Pro)o(vided)21 b(there)f(are)h(no)g(link-time)g(errors,)f(it)h
(\002nally)g(introduces)g(ne)m(w)g(bindings)g(at)g(top)g(le)m(v)o(el.)0
2028 y(During)j(the)g(course)g(of)g(the)g(same)g Fk(CM.make)p
Fm(,)h(the)f(code)g(of)g(each)g(compilation)g(module)g(will)g(be)g(e)n
(x)o(ecuted)g(at)g(most)g(once.)35 b(Code)24 b(in)0 2127
y(units)c(that)g(are)h(mark)o(ed)f(as)g Fl(private)h
Fm(\(see)f(Section)g(4.3\))g(will)g(be)h(e)n(x)o(ecuted)f(e)o(xactly)g
(once.)26 b(Code)20 b(in)g(other)h(units)f(will)g(be)g(e)o(x)o(ecuted)g
(only)0 2227 y(if)f(the)g(unit)h(has)f(been)g(recompiled)g(since)g(it)g
(was)g(e)n(x)o(ecuted)g(last)h(time)f(or)g(if)g(it)g(depends)g(on)h
(another)f(compilation)g(unit)g(whose)g(code)g(has)0
2327 y(been)i(e)o(x)n(ecuted)g(since.)0 2473 y(In)h(ef)n(fect,)f(dif)n
(ferent)h(in)m(v)n(ocations)g(of)f Fk(CM.make)h Fm(\(and)g
Fk(CM.autoload)p Fm(\))f(will)h(share)g(dynamic)f(state)h(created)f(at)
h(link)g(time)f(as)h(much)0 2572 y(as)f(possible)g(unless)f(the)h
(compilation)g(units)g(in)f(question)h(ha)n(v)o(e)g(been)g(e)n
(xplicitly)g(mark)o(ed)g(pri)n(v)n(ate.)0 2718 y Fk(CM.autoload)g
Fm(acts)g(lik)o(e)f Fk(CM.make)p Fm(,)h(only)g(\223lazily\224.)26
b(See)20 b(Section)h(4.2)g(for)g(more)f(information.)0
2864 y(As)25 b(before,)g(the)g(result)f(of)h Fk(CM.make)f
Fm(indicates)h(success)g(or)f(f)o(ailure)h(of)f(the)h(operation.)37
b(The)25 b(result)f(of)h Fk(CM.autoload)f Fm(indicates)0
2964 y(success)d(or)g(f)o(ailure)f(of)h(the)g Fl(r)m(e)m(gistr)n(ation)
p Fm(.)26 b(\(It)21 b(does)g(not)f(kno)n(w)h(yet)g(whether)g(loading)f
(will)h(actually)g(succeed.\))0 3230 y Fi(Registers)0
3432 y Fm(Se)n(v)o(eral)36 b(internal)g(re)o(gisters)g(control)g(the)g
(operation)h(of)f(CM.)g(A)g(re)o(gister)g(of)g(type)g
Fg(T)48 b Fm(is)36 b(accessible)h(via)f(a)g(v)n(ariable)g(of)g(type)g
Fg(T)0 3531 y Fk(controller)p Fm(,)e(i.e.,)f(a)e(pair)h(of)f
Fk(get)g Fm(and)g Fk(set)g Fm(functions.)57 b(An)o(y)31
b(in)l(v)o(ocation)g(of)g(the)g(corresponding)g Fk(get)g
Fm(function)g(reads)g(the)0 3631 y(current)c(v)n(alue)g(of)h(the)f(re)o
(gister)-5 b(.)45 b(An)28 b(in)l(v)o(ocation)f(of)g(the)g
Fk(set)h Fm(function)f(replaces)g(the)g(current)h(v)m(alue)g(with)f
(the)g(ar)o(gument)g(gi)n(v)o(en)g(to)0 3731 y Fk(set)p
Fm(.)0 3877 y(Controllers)21 b(are)g(members)f(of)h Fk(CM.Control)p
Fm(,)g(a)g(sub-structure)f(of)h(structure)g Fk(CM)p Fm(.)100
4097 y Fk(type)50 b('a)g(controller)f(=)h({)g(get:)g(unit)g(->)g('a,)f
(set:)h('a)g(->)g(unit)g(})100 4197 y(structure)g(Control)g(:)f(sig)199
4296 y(val)h(verbose)g(:)f(bool)h(controller)199 4396
y(val)g(debug)g(:)f(bool)h(controller)199 4496 y(val)g(keep_going)g(:)f
(bool)h(controller)199 4595 y(val)g(parse_caching)g(:)f(int)h
(controller)199 4695 y(val)g(warn_obsolete)g(:)f(bool)h(controller)199
4795 y(val)g(conserve_memory)g(:)f(bool)h(controller)100
4894 y(end)0 5115 y(CM.Control.verbose)24 b Fm(can)g(be)h(used)f(to)g
(turn)g(of)n(f)g(CM')l(s)g(progress)g(messages.)36 b(The)24
b(default)g(is)g Fl(true)g Fm(and)g(can)g(be)h(o)n(v)o(erriden)f(at)0
5214 y(startup)d(time)g(by)f(the)h(en)m(vironment)f(v)n(ariable)h
Fk(CM)p 1469 5214 25 4 v 30 w(VERBOSE)p Fm(.)0 5360 y(In)27
b(the)f(case)h(of)g(a)f(compile-time)h(error)g Fk(CM.Contol.keep)p
1915 5360 V 30 w(going)f Fm(instructs)h(the)g Fk(CM.recomp)f
Fm(phase)h(to)g(continue)f(working)0 5460 y(on)d(parts)f(of)h(the)f
(dependenc)o(y)h(graph)f(that)h(are)f(not)h(related)g(to)f(the)h(error)
-5 b(.)32 b(\(This)22 b(does)h(not)f(w)o(ork)h(for)g(outright)f(syntax)
h(errors)f(because)1989 5709 y(6)p eop
%%Page: 7 7
7 6 bop 0 83 a Fm(a)26 b(correct)g(parse)g(is)f(needed)h(before)g(CM)g
(can)g(construct)g(the)f(dependenc)o(y)h(graph.\))41
b(The)26 b(def)o(ault)g(is)g Fl(false)g Fm(and)f(can)h(be)g(o)o(v)o
(erriden)f(at)0 183 y(startup)c(by)g(the)f(en)m(vironment)h(v)n
(ariable)f Fk(CM)p 1301 183 25 4 v 30 w(KEEP)p 1530 183
V 30 w(GOING)p Fm(.)0 332 y Fk(CM.Control.parse)p 805
332 V 30 w(caching)28 b Fm(sets)f(a)h(limit)g(on)f(ho)n(w)h(man)o(y)g
(parse)f(trees)h(are)g(cached)f(in)h(main)g(memory)-6
b(.)47 b(In)28 b(certain)f(cases)0 432 y(CM)e(must)g(parse)g(source)g
(\002les)g(in)g(order)g(to)h(be)f(able)g(to)g(calculate)g(the)g
(dependenc)o(y)g(graph.)38 b(Later)m(,)26 b(the)f(same)g(\002les)g(may)
g(need)h(to)f(be)0 531 y(compiled,)c(in)f(which)g(case)h(an)f(e)o
(xisting)g(parse)h(tree)f(sa)o(v)n(es)h(the)f(time)h(to)f(parse)h(the)f
(\002le)h(ag)o(ain.)26 b(K)n(eeping)20 b(parse)h(trees)f(can)g(be)h(e)o
(xpensi)n(v)n(e)0 631 y(in)e(terms)h(of)f(memory)g(usage.)26
b(Moreo)n(v)o(er)m(,)19 b(CM)h(mak)o(es)f(special)h(ef)n(forts)f(to)g
(a)o(v)n(oid)g(re-parsing)h(\002les)f(in)g(the)h(\002rst)f(place)g
(unless)h(the)o(y)f(ha)n(v)o(e)0 731 y(actually)i(been)g(modi\002ed.)27
b(Therefore,)21 b(it)g(may)h(not)f(mak)o(e)g(much)g(sense)g(to)g(set)h
(this)f(v)n(alue)g(v)o(ery)g(high.)27 b(The)21 b(def)o(ault)g(is)g
Fl(100)g Fm(and)g(can)h(be)0 830 y(o)o(v)o(erriden)e(at)h(startup)g
(time)g(by)f(the)h(en)m(vironment)f(v)n(ariable)h Fk(CM)p
1886 830 V 30 w(PARSE)p 2166 830 V 30 w(CACHING)p Fm(.)0
980 y(This)g(v)o(ersion)g(of)g(CM)g(uses)g(an)g(ML-inspired)g(syntax)g
(for)g(e)o(xpressions)g(in)g(its)g(conditional)g(compilation)h
(subsystem)f(\(see)g(Section)g(6\).)0 1079 y(Ho)n(we)n(v)o(er)l(,)28
b(for)e(the)g(time)g(being)g(it)g(will)h(accept)f(most)g(of)g(the)g
(original)g(C-inspired)g(e)o(xpressions)g(b)o(ut)g(produces)g(a)g(w)o
(arning)g(for)g(each)0 1179 y(occurrence)31 b(of)g(an)g(old-style)g
(operator)l(.)57 b Fk(CM.Control.warn)p 2031 1179 V 29
w(obsolete)31 b Fm(can)h(be)f(used)g(to)g(turn)g(these)g(w)o(arnings)g
(of)n(f.)57 b(The)0 1279 y(def)o(ault)21 b(is)g Fl(true)f
Fm(and)h(can)g(be)g(o)n(v)o(erriden)g(at)g(startup)f(time)h(by)g(the)g
(en)l(vironment)g(v)n(ariable)g Fk(CM)p 2743 1279 V 30
w(WARN)p 2973 1279 V 30 w(OBSOLETE)p Fm(.)0 1428 y Fk(CM.Control.debug)
d Fm(can)g(be)f(used)h(to)g(turn)g(on)f(deb)o(ug)h(mode.)24
b(This)18 b(currently)g(has)g(the)f(ef)n(fect)h(of)g(dumping)g(a)f
(trace)h(of)g(the)g(master)n(-)0 1528 y(sla)n(v)o(e)23
b(protocol)g(for)g(parallel)g(and)g(distrib)n(uted)g(compilation)g
(\(see)g(Section)g(11\))g(to)f(T)-5 b(e)n(xtIO.stdOut.)33
b(The)22 b(default)h(is)f Fl(false)h Fm(and)g(can)g(be)0
1627 y(o)o(v)o(erriden)d(at)h(startup)g(time)g(by)f(the)h(en)m
(vironment)f(v)n(ariable)h Fk(CM)p 1886 1627 V 30 w(DEBUG)p
Fm(.)0 1777 y(Using)g Fk(CM.Control.conserve)p 1174 1777
V 30 w(memory)p Fm(,)f(CM)h(can)g(be)f(told)h(to)g(be)f(slightly)h
(more)g(conserv)n(ati)n(v)n(e)g(with)g(its)g(use)f(of)h(main)g(mem-)0
1876 y(ory)31 b(at)f(the)h(e)n(xpense)g(of)f(occasionally)h(incurring)f
(additional)h(input)f(from)h(stable)f(library)h(\002les.)55
b(This)30 b(does)h(not)f(sa)o(v)n(e)h(v)o(ery)f(much)0
1976 y(and,)36 b(therefore,)h(is)c(normally)g(turned)h(of)n(f.)63
b(The)33 b(default)g(\()p Fl(false)p Fm(\))g(can)g(be)h(o)n(v)o
(erridden)g(at)f(startup)g(by)g(the)h(en)l(vironment)g(v)n(ariable)0
2076 y Fk(CM)p 105 2076 V 30 w(CONSERVE)p 535 2076 V
30 w(MEMORY)p Fm(.)0 2346 y Fi(P)o(ath)21 b(anchors)0
2552 y Fm(Structure)e Fk(CM)h Fm(also)f(pro)o(vides)g(functions)g(to)h
(e)n(xplicitly)g(manipulate)f(the)g(path)h(anchor)f(con\002guration.)25
b(These)20 b(functions)f(are)g(members)0 2652 y(of)i(structure)g
Fk(CM.Anchor)p Fm(.)100 2884 y Fk(structure)50 b(Anchor)g(:)f(sig)199
2984 y(val)h(anchor)g(:)f(string)h(->)g(string)g(option)g(controller)
199 3083 y(val)g(reset)g(:)f(unit)h(->)g(unit)100 3183
y(end)0 3415 y(CM.Anchor.anchor)24 b Fm(returns)g(a)h(pair)f(of)g
Fk(get)g Fm(and)h Fk(set)f Fm(functions)g(that)g(can)h(be)f(used)g(to)g
(query)h(and)f(modify)g(the)g(status)g(of)h(the)0 3515
y(named)17 b(anchor)l(.)24 b(Note)18 b(that)f(the)h Fk(get)p
Fm(-)p Fk(set)p Fm(-pair)f(operates)g(o)o(v)o(er)g(type)h
Fk(string)49 b(option)p Fm(;)19 b(a)e(v)n(alue)g(of)h
Fk(NONE)f Fm(means)h(that)f(the)g(anchor)0 3615 y(is)25
b(currently)h(not)f(bound)g(\(or)m(,)h(in)g(the)f(case)g(of)h
Fk(set)p Fm(,)g(that)f(it)h(is)f(being)g(cancelled\).)40
b(The)25 b(\(optional\))h(string)f(gi)n(v)o(en)g(to)g
Fk(set)g Fm(must)h(be)f(a)0 3714 y(directory)20 b(name)f(in)h(nati)n(v)
o(e)g(syntax.)25 b(If)20 b(it)g(is)f(speci\002ed)h(as)g(a)g(relati)m(v)
o(e)g(path)g(name,)g(then)f(it)h(will)g(be)g(e)n(xpanded)g(by)g
(prepending)g(the)f(name)0 3814 y(of)i(the)g(current)f(w)o(orking)h
(directory)-5 b(.)0 3963 y Fk(CM.Anchor.reset)21 b Fm(erases)g(the)f
(entire)h(e)o(xisting)g(path)f(con\002guration)h(mapping.)0
4234 y Fi(Setting)g(CM)g(v)o(ariables)0 4440 y Fm(CM)j(v)n(ariables)g
(are)g(used)g(by)g(the)g(conditional)g(compilation)g(system)g(\(see)g
(Section)g(6.1\).)36 b(Some)24 b(of)g(these)g(v)n(ariables)g(are)g
(prede\002ned,)0 4539 y(b)n(ut)d(the)g(user)g(can)f(add)h(ne)n(w)g
(ones)g(and)f(alter)h(or)g(remo)o(v)n(e)g(those)g(that)g(already)f(e)o
(xist.)100 4772 y Fk(val)50 b(symval)g(:)f(string)h(->)g(int)g(option)g
(controller)0 5004 y Fm(Function)25 b Fk(CM.symval)g
Fm(returns)g(a)g Fk(get)p Fm(-)p Fk(set)p Fm(-pair)g(for)g(the)g
(symbol)g(whose)g(name)g(string)g(w)o(as)g(speci\002ed)g(as)g(the)g(ar)
o(gument.)38 b(Note)0 5104 y(that)21 b(the)g Fk(get)p
Fm(-)p Fk(set)p Fm(-pair)f(operates)h(o)o(v)o(er)f(type)h
Fk(int)50 b(option)p Fm(;)21 b(a)f(v)n(alue)h(of)g Fk(NONE)g
Fm(means)f(that)h(the)g(v)n(ariable)g(is)f(not)h(de\002ned.)0
5253 y(Examples:)1989 5709 y(7)p eop
%%Page: 8 8
8 7 bop 0 83 a Fk(#get)50 b(\(CM.symval)g("X"\))f(\(\);)349
b(\(*)50 b(query)g(value)g(of)f(X)h(*\))0 183 y(#set)g(\(CM.symval)g
("Y"\))f(\(SOME)h(1\);)g(\(*)g(set)g(Y)g(to)f(1)h(*\))0
282 y(#set)g(\(CM.symval)g("Z"\))f(NONE;)250 b(\(*)49
b(remove)h(definition)g(for)g(Z)g(*\))0 498 y Fm(Some)21
b(care)g(is)g(necessary)g(as)f Fk(CM.symval)h Fm(does)g(not)g(check)g
(whether)g(the)g(syntax)g(of)g(the)g(ar)n(gument)g(string)g(is)g(v)n
(alid.)26 b(\(Ho)n(we)n(v)n(er)m(,)21 b(the)0 598 y(w)o(orst)d(thing)h
(that)f(could)g(happen)h(is)f(that)g(a)g(v)n(ariable)h(de\002ned)f(via)
g Fk(CM.symval)h Fm(is)f(not)g(accessible)2934 568 y
Ff(1)2985 598 y Fm(because)g(there)h(is)f(no)g(le)o(g)o(al)h(syntax)0
697 y(to)i(name)g(it.\))0 968 y Fi(Library)g(r)n(egistry)0
1174 y Fm(T)-7 b(o)23 b(be)f(able)h(to)g(share)f(associated)h(data)f
(structures,)h(CM)g(maintains)f(an)h(internal)g(re)n(gistry)g(of)f(all)
h(stable)g(libraries)f(that)h(it)f(has)h(encoun-)0 1273
y(tered)30 b(during)h(an)f(ongoing)g(interacti)n(v)o(e)g(session.)54
b(The)30 b Fk(CM.Library)h Fm(sub-structure)f(of)g(structure)g
Fk(CM)h Fm(pro)n(vides)g(access)f(to)g(this)0 1373 y(re)o(gistry)-6
b(.)100 1605 y Fk(structure)50 b(Library)g(:)f(sig)199
1705 y(type)h(lib)199 1805 y(val)g(known)g(:)f(unit)h(->)g(lib)g(list)
199 1904 y(val)g(descr)g(:)f(lib)h(->)g(string)199 2004
y(val)g(osstring)g(:)f(lib)h(->)g(string)199 2104 y(val)g(dismiss)g(:)f
(lib)h(->)g(unit)100 2203 y(end)0 2436 y(CM.Library.known)p
Fm(,)20 b(when)h(called,)f(produces)g(a)g(list)g(of)h(currently)f(kno)n
(wn)g(stable)g(libraries.)26 b(Each)20 b(such)g(library)g(is)g
(represented)0 2535 y(by)h(an)g(element)f(of)h(the)g(abstract)g(data)f
(type)h Fk(CM.Library.lib)p Fm(.)0 2685 y Fk(CM.Library.descr)32
b Fm(e)o(xtracts)g(a)g(string)f(describing)h(the)g(location)g(of)g(the)
g(CM)g(description)g(\002le)g(associated)g(with)g(the)g(gi)n(v)n(en)0
2784 y(library)-5 b(.)25 b(The)c(syntax)g(of)g(this)f(string)h(is)g
(the)g(same)f(that)h(is)g(also)g(being)f(used)h(by)g(CM')-5
b(s)21 b(master)n(-sla)o(v)o(e)f(protocol)h(\(see)g(section)g(11.1\).)0
2934 y Fk(CM.Library.osstring)g Fm(produces)f(a)h(string)g(denoting)f
(the)h(gi)n(v)n(en)g(library')l(s)f(description)h(\002le)f(using)h(the)
g(underlying)f(operating)0 3033 y(system')-5 b(s)30 b(nati)n(v)o(e)f
(pathname)h(syntax.)52 b(In)30 b(other)f(w)o(ords,)j(the)e(result)f(of)
h(a)f(call)h(to)f Fk(CM.Library.osstring)h Fm(is)g(suitable)f(as)h(an)0
3133 y(ar)o(gument)20 b(to)h Fk(TextIO.openIn)p Fm(.)0
3282 y Fk(CM.Library.dismiss)k Fm(is)h(used)f(to)h(remo)o(v)n(e)g(a)f
(stable)h(library)f(from)h(CM')-5 b(s)26 b(internal)f(re)o(gistry)-5
b(.)40 b(Although)25 b(remo)o(ving)g(a)h(library)0 3382
y(from)21 b(the)h(re)o(gistry)f(may)g(reco)o(v)o(er)g(considerable)h
(amounts)f(of)g(main)h(memory)-6 b(,)22 b(doing)f(so)h(also)f
(eliminates)g(an)o(y)h(chance)f(of)g(sharing)h(the)0
3482 y(associated)h(data)f(structures)h(with)g(later)f(references)h(to)
g(the)f(same)h(library)-6 b(.)32 b(Therefore,)23 b(it)g(is)f(not)h(al)o
(w)o(ays)g(in)g(the)f(interest)h(of)g(memory-)0 3581
y(conscious)e(users)g(to)f(use)h(this)g(feature.)0 3731
y(Sharing)g(of)g(link-time)f(state)h(created)g(by)g(the)f(library)h(is)
g Fl(not)g Fm(af)m(fected)g(by)g(this.)0 4002 y Fi(Inter)o(nal)g(state)
0 4207 y Fm(F)o(or)g(CM)g(to)g(w)o(ork)g(correctly)-5
b(,)21 b(it)g(must)g(maintain)g(an)g(up-to-date)g(picture)g(of)g(the)g
(state)g(of)g(the)g(surrounding)g(w)o(orld)g(\(as)g(f)o(ar)g(as)g(that)
g(state)0 4307 y(af)n(fects)26 b(CM')-5 b(s)26 b(operation\).)42
b(Most)26 b(of)g(the)g(time,)i(this)e(happens)g(automatically)g(and)g
(should)g(be)g(transparent)g(to)g(the)g(user)-5 b(.)42
b(Ho)n(we)n(v)o(er)l(,)0 4406 y(occasionally)21 b(it)g(may)f(become)h
(necessary)g(to)g(interv)n(ene)g(e)o(xpliticly)-6 b(.)0
4556 y(Access)21 b(to)g(CM')-5 b(s)21 b(internal)f(state)h(is)g(f)o
(acilitated)g(by)g(members)f(of)h(the)g Fk(CM.State)g
Fm(structure.)100 4788 y Fk(structure)50 b(State)g(:)f(sig)199
4888 y(val)h(pending)g(:)f(unit)h(->)g(string)g(list)199
4988 y(val)g(synchronize)g(:)f(unit)h(->)g(unit)199 5087
y(val)g(reset)g(:)f(unit)h(->)g(unit)100 5187 y(end)p
0 5241 1608 4 v 90 5297 a Fe(1)120 5320 y Fd(from)17
b(within)f(CM')m(s)g(description)h(\002les)1989 5709
y Fm(8)p eop
%%Page: 9 9
9 8 bop 0 83 a Fk(CM.State.pending)21 b Fm(produces)f(a)h(list)g(of)f
(strings,)h(each)g(string)f(naming)h(one)g(of)g(the)f(symbols)h(that)g
(are)f(currently)h(bound)g(b)n(ut)g(not)0 183 y(yet)g(resolv)o(ed)f(by)
h(the)g(autoloading)g(mechanism.)0 332 y Fk(CM.State.synchronize)e
Fm(updates)h(tables)f(internal)g(to)g(CM)h(to)f(re\003ect)g(changes)g
(in)h(the)f(\002le)g(system.)25 b(In)20 b(particular)l(,)g(this)f(will)
g(be)0 432 y(necessary)k(when)g(the)g(association)g(of)g(\002le)g
(names)g(to)g(\223\002le)g(IDs\224)g(\(in)g(Unix:)30
b(inode)23 b(numbers\))g(changes)g(during)g(an)g(ongoing)g(session.)0
531 y(In)e(practice,)g(the)f(need)h(for)g(this)g(tends)f(to)h(be)g
(rare.)0 681 y Fk(CM.State.reset)e Fm(completely)f(erases)h(all)f
(internal)h(state)g(in)f(CM.)h(T)-7 b(o)19 b(do)f(this)h(is)g(not)f(v)o
(ery)h(advisable)f(since)h(it)f(will)h(also)g(break)f(the)0
780 y(association)i(with)h(pre-loaded)f(libraries.)26
b(It)20 b(may)g(be)h(a)f(useful)g(tool)h(for)f(determining)h(the)f
(amount)g(of)h(space)f(tak)o(en)g(up)h(by)f(the)h(internal)0
880 y(state,)g(though.)0 1151 y Fi(Compile)g(ser)o(v)o(ers)0
1356 y Fm(On)g(Unix-lik)o(e)g(systems,)g(CM)g(supports)f(parallel)h
(compilation.)26 b(F)o(or)21 b(computers)g(connected)f(using)h(a)g
(LAN,)g(this)g(can)g(be)f(e)o(xtended)h(to)0 1456 y(distrib)n(uted)26
b(compilation)f(using)g(a)h(netw)o(ork)f(\002le)g(system)h(and)f(the)g
(operating)g(system')l(s)g(\223rsh\224)g(facility)-6
b(.)40 b(F)n(or)26 b(a)f(detailed)g(discussion,)0 1556
y(see)c(Section)g(11.)0 1705 y(Sub-structure)i Fk(CM.Server)g
Fm(pro)o(vides)g(access)g(to)g(and)g(manipulation)g(of)g(compile)g
(serv)o(ers.)32 b(Each)23 b(attached)g(serv)o(er)g(is)g(represented)0
1805 y(by)e(a)g(v)m(alue)g(of)g(type)g Fk(CM.Server.server)p
Fm(.)100 2037 y Fk(structure)50 b(Server)g(:)f(sig)199
2137 y(type)h(server)199 2236 y(val)g(start)g(:)f({)h(name:)g(string,)
897 2336 y(cmd:)g(string)g(*)f(string)h(list,)897 2436
y(pathtrans:)g(\(string)g(->)f(string\))h(option,)897
2535 y(pref:)g(int)g(})f(->)h(server)g(option)199 2635
y(val)g(stop)g(:)f(server)h(->)g(unit)199 2735 y(val)g(kill)g(:)f
(server)h(->)g(unit)199 2834 y(val)g(name)g(:)f(server)h(->)g(string)
100 2934 y(end)0 3166 y Fm(CM)23 b(is)h(put)f(into)h(\223parallel\224)f
(mode)h(by)f(attaching)h(at)f(least)h(one)f(compile)h(serv)n(er)l(.)34
b(Compile)23 b(serv)o(ers)g(are)h(attached)f(using)h(in)l(v)o(ocations)
0 3266 y(of)32 b Fk(CM.Server.start)p Fm(.)58 b(The)32
b(function)g(tak)o(es)g(the)f(name)h(of)g(the)g(serv)n(er)g(\(as)g(an)f
(arbitrary)h(b)o(ut)f(unique)h(string\))g(\()p Fk(name)p
Fm(\),)i(the)0 3366 y(Unix)24 b(command)h(used)f(to)h(start)f(the)h
(serv)n(er)g(in)f(a)h(form)f(suitable)g(as)h(an)f(ar)o(gument)g(to)h
Fk(Unix.execute)f Fm(\()p Fk(cmd)p Fm(\),)h(an)g(optional)f(\223path)0
3465 y(transformation)16 b(function\224)g(for)g(con)m(v)o(erting)g
(local)g(path)g(names)g(to)g(remote)g(pathnames)h(\()p
Fk(pathtrans)p Fm(\),)g(and)f(a)g(numeric)g(\223preference\224)0
3565 y(v)n(alue)32 b(that)h(is)f(used)h(to)f(choose)g(serv)o(ers)h(at)f
(times)g(when)h(more)f(than)h(one)f(is)g(idle)h(\()p
Fk(pref)p Fm(\).)61 b(The)32 b(optional)g(result)h(is)f(the)h(handle)0
3664 y(representing)21 b(the)g(successfully)f(attached)h(serv)o(er)-5
b(.)0 3814 y(An)29 b(e)n(xisting)g(serv)o(er)f(can)h(be)f(shut)h(do)n
(wn)f(and)h(detached)f(using)h Fk(CM.Server.stop)f Fm(or)h
Fk(CM.Server.kill)p Fm(.)49 b(The)29 b(ar)n(gument)0
3913 y(in)f(either)g(case)g(must)g(be)f(the)h(result)g(of)g(an)g
(earlier)g(call)g(to)g Fk(CM.Server.start)p Fm(.)47 b(Function)28
b Fk(CM.Server.stop)g Fm(uses)g(CM')-5 b(s)0 4013 y(master)n(-sla)o(v)n
(e)28 b(protocol)g(to)g(instruct)g(the)g(serv)o(er)g(to)g(shut)g(do)n
(wn)g(gracefully)-6 b(.)47 b(Only)28 b(if)g(this)g(f)o(ails)g(it)g(may)
g(become)g(necessary)g(to)g(use)0 4113 y Fk(CM.Server.kill)21
b Fm(which)g(will)f(send)h(a)g(Unix)g(TERM)f(signal)h(to)g(destro)o(y)g
(the)f(serv)o(er)l(.)0 4262 y(Gi)n(v)o(en)15 b(a)h(serv)o(er)g(handle,)
h(function)e Fk(CM.Server.name)h Fm(returns)g(the)g(string)f(that)h(w)o
(as)g(originally)g(gi)n(v)o(en)f(to)h(the)g(call)g(of)f
Fk(CM.Server.start)0 4362 y Fm(used)21 b(to)g(created)f(the)h(serv)o
(er)-5 b(.)0 4633 y Fi(Plug-ins)0 4838 y Fm(As)18 b(an)h(alternati)n(v)
n(e)g(to)f Fk(CM.make)g Fm(or)h Fk(CM.autoload)p Fm(,)f(where)h(the)f
(main)g(purpose)h(is)f(to)g(subsequently)h(be)f(able)g(to)g(access)h
(the)f(library)0 4938 y(from)j(interacti)n(v)n(ely)g(entered)g(code,)g
(one)f(can)h(instruct)g(CM)g(to)f(load)h(libraries)g(\223for)g(ef)n
(fect\224.)100 5170 y Fk(val)50 b(load_plugin)g(:)f(string)h(->)g(bool)
1989 5709 y Fm(9)p eop
%%Page: 10 10
10 9 bop 0 83 a Fm(Function)27 b Fk(CM.load)p 677 83
25 4 v 30 w(plugin)g Fm(acts)g(e)o(xactly)g(lik)o(e)h
Fk(CM.make)f Fm(e)n(xcept)h(that)f(e)n(v)n(en)h(in)f(the)g(case)g(of)g
(success)g(no)h(ne)m(w)g(symbols)f(will)0 183 y(be)c(bound)h(in)f(the)h
(interacti)m(v)o(e)g(top-le)n(v)n(el)g(en)l(vironment.)34
b(That)23 b(means)h(that)f(link-time)h(side-ef)n(fects)f(will)g(be)h
(visible,)g(b)n(ut)g(none)f(of)g(the)0 282 y(e)o(xported)d
(de\002nitions)g(become)h(a)n(v)n(ailable.)k(This)c(mechanism)f(can)g
(be)g(used)h(for)f(\223plug-in\224)g(modules:)26 b(a)20
b(core)g(library)h(pro)n(vides)g(hooks)0 382 y(where)c(additional)g
(functionality)g(can)h(be)f(re)o(gistered)g(later)g(via)g(side-ef)n
(fects;)h(e)o(xtensions)f(to)g(this)g(core)h(are)f(implemented)g(as)g
(additional)0 482 y(libraries)22 b(which,)g(when)g(loaded,)h(re)o
(gister)f(themselv)n(es)g(with)h(those)f(hooks.)29 b(By)22
b(using)g Fk(CM.load)p 2958 482 V 30 w(plugin)g Fm(instead)g(of)g
Fk(CM.make)p Fm(,)0 581 y(one)f(can)g(a)n(v)n(oid)g(polluting)g(the)f
(interacti)n(v)o(e)h(top-le)n(v)o(el)f(en)m(vironment)h(with)g
(spurious)f(e)o(xports)h(of)g(the)f(e)o(xtension)h(module.)0
714 y(CM)h(itself)g(uses)g(plug-in)g(modules)g(in)g(its)g(member)n
(-class)g(subsystem)g(\(see)g(section)g(5\).)29 b(This)22
b(makes)g(it)g(possible)g(to)g(add)f(ne)n(w)h(classes)0
814 y(and)f(tools)g(v)n(ery)g(easily)g(without)g(ha)n(ving)g(to)f
(recon\002gure)h(or)g(recompile)g(CM,)f(not)h(to)g(mention)g(modify)f
(its)h(source)g(code.)0 1061 y Fi(Building)g(stand-alone)g(pr)n(ograms)
0 1250 y Fm(CM)30 b(can)g(be)g(used)h(to)f(b)n(uild)g(stand-alone)g
(programs.)54 b(In)31 b(f)o(act)f(SML/NJ)g(itself\227including)g
(CM\227is)g(an)h(e)n(xample)f(of)h(this.)54 b(\(The)0
1349 y(interacti)n(v)o(e)20 b(system)h(cannot)g(rely)g(on)f(an)h(e)o
(xisting)g(compilation)f(manager)h(when)g(starting)g(up.\))0
1482 y(A)e(stand-alone)g(program)h(is)f(constructed)g(by)g(the)g
(runtime)g(system)h(from)f(e)o(xisting)g(bin\002les)g(or)g(members)g
(of)h(e)n(xisting)f(stable)h(libraries.)0 1582 y(CM)h(must)g(prepare)f
(those)h(bin\002les)g(or)g(libraries)f(together)h(with)g(a)g(list)f
(that)h(describes)g(them)g(to)f(the)h(runtime)g(system.)100
1756 y Fk(val)50 b(mk_standalone)g(:)f(bool)h(option)g(->)g(string)g
(->)g(string)f(list)h(option)0 1931 y Fm(Depending)35
b(on)g(the)h(optional)f(boolean)g(ar)n(gument,)k(function)c
Fk(CM.mk)p 2198 1931 V 30 w(standalone)h Fm(\002rst)f(acts)g(lik)o(e)g
(either)g Fk(CM.recomp)h Fm(or)0 2031 y Fk(CM.stabilize)p
Fm(.)56 b Fk(NONE)30 b Fm(means)h Fk(CM.recomp)p Fm(,)i(and)e
Fk(\(SOME)50 b Fg(r)r Fk(\))31 b Fm(means)f Fk(CM.stabilize)50
b Fg(r)s Fm(.)55 b(After)31 b(recompilation)g(\(or)0
2130 y(stabilization\))26 b(is)f(successful,)i Fk(CM.mk)p
1184 2130 V 30 w(standalone)e Fm(constructs)h(a)g(topologically)f
(sorted)h(list)f(of)h(strings)f(that,)i(when)f(written)f(to)0
2230 y(a)g(\002le,)h(can)f(be)g(passed)g(to)g(the)f(runtime)h(system)g
(in)g(order)g(to)g(perform)g(stand-alone)g(linkage)g(of)g(the)g(gi)m(v)
o(en)g(program.)38 b(Upon)25 b(f)o(ailure,)0 2330 y Fk(CM.mk)p
255 2330 V 30 w(standalone)c Fm(returns)f Fk(NONE)p Fm(.)0
2593 y Fj(4.2)100 b(The)25 b(autoloader)0 2782 y Fm(From)c(the)h(user')
-5 b(s)21 b(point)h(of)f(vie)n(w)-5 b(,)21 b(a)g(call)h(to)f
Fk(CM.autoload)g Fm(acts)h(v)n(ery)g(much)f(lik)o(e)h(the)f
(corresponding)g(call)g(to)h Fk(CM.make)f Fm(because)0
2882 y(the)h(same)g(bindings)g(that)g Fk(CM.make)g Fm(w)o(ould)g
(introduce)g(into)g(the)g(top-le)n(v)n(el)g(en)m(viroment)g(are)g(also)
g(introduced)g(by)g Fk(CM.autoload)p Fm(.)0 2981 y(Ho)n(we)n(v)o(er)l
(,)j(most)e(w)o(ork)h(will)f(be)h(deferred)g(until)f(some)h(code)f
(that)h(is)g(entered)f(later)h(refers)f(to)h(one)f(or)h(more)g(of)f
(these)h(bindings.)34 b(Only)0 3081 y(then)21 b(will)g(CM)f(go)h(and)g
(perform)g(just)f(the)h(minimal)g(w)o(ork)g(necessary)f(to)h(pro)o
(vide)g(the)g(actual)f(de\002nitions.)0 3214 y(The)25
b(autoloader)g(plays)f(a)h(central)g(role)g(for)f(the)h(interacti)n(v)o
(e)f(system.)38 b(Unlik)o(e)25 b(in)g(earlier)g(v)n(ersions,)h(it)f
(cannot)g(be)f(turned)h(of)n(f)g(since)g(it)0 3314 y(pro)o(vides)c(man)
n(y)g(of)g(the)g(standard)f(pre-de\002ned)h(top-le)n(v)o(el)f
(bindings.)0 3447 y(The)g(autoloader)h(is)f(a)g(con)m(v)o(enient)g
(mechanism)g(for)g(virtually)h(\223loading\224)f(an)g(entire)h(library)
f(without)g(incurring)g(an)h(undue)f(increase)g(in)0
3546 y(memory)h(consumption)g(for)f(library)h(modules)g(that)g(are)f
(not)h(actually)g(being)g(used.)0 3810 y Fj(4.3)100 b(Sharing)25
b(of)f(state)0 3999 y Fm(Whene)n(v)o(er)16 b(it)g(is)g(le)o(gal)g(to)g
(do)g(so,)h(CM)g(lets)f(multiple)g(in)m(v)n(ocations)g(of)g
Fk(CM.make)h Fm(or)f Fk(CM.autoload)g Fm(share)g(dynamic)g(state)h
(created)f(by)0 4098 y(link-time)j(ef)n(fects.)25 b(Of)18
b(course,)i(sharing)e(is)h(not)g(possible)f(\(and)h(hence)g(not)f
(\223le)o(gal\224\))g(if)h(the)g(compilation)g(unit)f(in)h(question)g
(has)f(recently)0 4198 y(been)i(recompiled)g(or)g(depends)g(on)g
(another)h(compilation)f(unit)g(whose)g(code)g(has)g(recently)g(been)g
(re-e)o(x)o(ecuted.)25 b(The)20 b(programmer)g(can)0
4298 y(e)o(xplicitly)27 b(mark)h(certain)f(ML)g(\002les)h(as)f
Fl(shar)m(ed)p Fm(,)i(in)e(which)h(case)f(CM)h(will)f(issue)g(a)h(w)o
(arning)f(whene)n(v)o(er)g(the)h(unit')-5 b(s)28 b(code)f(has)g(to)h
(be)0 4397 y(re-e)o(x)o(ecuted.)0 4530 y(State)16 b(created)h(by)f
(compilation)h(units)f(mark)o(ed)h(as)f Fl(private)h
Fm(is)f(ne)n(v)o(er)g(shared)h(across)f(multiple)h(calls)f(to)h
Fk(CM.make)f Fm(or)h Fk(CM.autoload)p Fm(.)0 4630 y(T)-7
b(o)23 b(understand)g(this)g(beha)o(vior)g(it)g(is)g(useful)g(to)g
(introduce)g(the)g(notion)g(of)g(a)g Fl(tr)n(aver)o(sal)p
Fm(.)33 b(A)23 b(tra)n(v)o(ersal)g(is)g(the)g(process)g(of)g(tra)n(v)o
(ersing)g(the)0 4729 y(dependenc)o(y)h(graph)g(on)h(behalf)f(of)g
Fk(CM.make)h Fm(or)f Fk(CM.autoload)p Fm(.)36 b(Se)n(v)o(eral)24
b(tra)o(v)n(ersals)h(can)f(be)g(e)o(x)o(ecuted)g(interlea)o(v)n(ed)h
(with)f(each)0 4829 y(other)c(because)h(a)f Fk(CM.autoload)h
Fm(tra)n(v)o(ersal)f(normally)g(stays)h(suspended)f(and)h(is)f
(performed)g(incrementally)h(dri)n(v)n(en)g(by)f(input)g(from)0
4929 y(the)h(interacti)n(v)n(e)g(top)g(le)n(v)o(el)f(loop.)0
5061 y(As)k(f)o(ar)g(as)f(sharing)h(is)g(concerned,)g(the)g(rule)g(is)f
(that)h(during)g(one)f(tra)o(v)n(ersal)h(each)g(compilation)g(unit)f
(will)h(be)g(e)n(x)o(ecuted)g(at)g(most)f(once.)0 5161
y(In)h(other)h(w)o(ords,)h(the)e(same)g(\223program\224)h(will)f(not)h
(see)f(multiple)h(instantiations)f(of)h(the)f(same)h(compilation)f
(unit)h(\(where)f(\223program\224)0 5261 y(refers)h(to)f(the)h(code)f
(managed)h(by)f(one)h(call)g(to)f Fk(CM.make)h Fm(or)f
Fk(CM.autoload)p Fm(\).)37 b(Each)25 b(compilation)g(unit)f(will)h(be)f
(link)o(ed)h(at)g(most)0 5360 y(once)e(during)g(a)g(tra)n(v)o(ersal)g
(and)g(pri)n(v)n(ate)g(state)g(will)g(not)g(be)g(confused)f(with)h(pri)
n(v)n(ate)g(state)g(of)g(other)g(tra)n(v)o(ersals)g(that)g(might)g(be)g
(acti)n(v)o(e)g(at)0 5460 y(the)e(same)g(time.)1968 5709
y(10)p eop
%%Page: 11 11
11 10 bop 0 83 a Fi(Sharing)21 b(annotations)0 289 y
Fm(ML)g(source)g(\002les)g(can)g(be)g(speci\002ed)g(as)g(being)h
Fl(private)f Fm(or)g Fl(shar)m(ed)p Fm(.)26 b(This)21
b(is)g(done)g(by)h(adding)f(a)g Fl(tool)g(par)n(ameter)h
Fm(speci\002cation)f(for)g(the)0 388 y(\002le)i(in)g(the)f(library-)h
(or)g(group)g(description)g(\002le)f(\(see)h(Section)g(5\).)32
b(In)23 b(other)f(w)o(ords,)i(to)f(mark)f(an)h(ML)g(\002le)g(as)f
Fl(private)p Fm(,)i(follo)n(w)e(the)h(\002le)0 488 y(name)e(with)g(the)
f(w)o(ord)h Fk(private)g Fm(in)g(parentheses.)k(F)o(or)c
Fl(shar)m(ed)g Fm(ML)f(\002les,)h(replace)g Fk(private)g
Fm(with)f Fk(shared)p Fm(.)0 637 y(An)30 b(ML)f(source)h(\002le)f(that)
h(is)g(not)f(annotated)h(will)f(typically)h(be)g(treated)f(as)h
Fl(shar)m(ed)f Fm(unless)h(it)f(statically)h(depends)g(on)f(some)h
(other)0 737 y Fl(private)21 b Fm(source.)k(It)c(is)g(an)g(error)g(for)
f(a)h Fl(shar)m(ed)g Fm(source)f(to)h(depend)g(on)g(a)f
Fl(private)h Fm(source.)0 1008 y Fi(Sharing)g(with)g(the)f(interacti)o
(ve)g(system)0 1213 y Fm(The)i(SML/NJ)g(interacti)n(v)o(e)g(system,)h
(which)f(includes)g(the)g(compiler)m(,)g(is)h(itself)f(created)g(by)g
(linking)g(modules)g(from)h(v)n(arious)f(libraries.)0
1313 y(Some)f(of)g(these)g(libraries)g(can)g(also)g(be)f(used)h(in)g
(user)g(programs.)26 b(Examples)21 b(are)g(the)g(Standard)g(ML)g(Basis)
g(Library)g Fk(basis.cm)p Fm(,)g(the)0 1412 y(SML/NJ)g(library)g
Fk(smlnj-lib.cm)p Fm(,)f(and)h(the)g(ML-Y)-9 b(acc)21
b(library)g Fk(ml-yacc-lib.cm)p Fm(.)0 1562 y(If)c(a)f(module)h(from)f
(a)h(library)g(is)f(used)h(by)f(both)h(the)g(interacti)n(v)n(e)g
(system)g(and)f(a)h(user)f(program)h(running)g(under)f(control)h(of)f
(the)h(interacti)n(v)o(e)0 1661 y(system,)k(then)g(CM)f(will)h(let)g
(them)g(share)f(code)h(and)g(dynamic)g(state.)0 1991
y Fn(5)120 b(Member)29 b(classes)h(and)g(tools)0 2227
y Fm(Most)h(members)g(of)g(groups)g(and)g(libraries)g(are)g(either)g
(plain)g(ML)g(\002les)f(or)h(other)g(description)g(\002les.)57
b(Ho)n(we)n(v)n(er)m(,)33 b(it)e(is)g(possible)g(to)0
2326 y(incorporate)19 b(other)f(types)h(of)f(\002les\227as)h(long)g(as)
f(their)h(contents)f(can)h(in)g(some)f(w)o(ay)h(be)g(e)n(xpanded)g
(into)g(ML)f(code)h(or)f(CM)h(descriptions.)0 2426 y(The)i(e)o
(xpansion)f(is)h(carried)g(out)g(by)f(CM')l(s)g Fl(tools)h
Fm(f)o(acility)-5 b(.)0 2576 y(CM)28 b(maintains)g(an)f(internal)h(re)o
(gistry)g(of)f Fl(classes)h Fm(and)g(associated)g Fl(rules)p
Fm(.)46 b(Each)28 b(class)g(represents)g(the)f(set)h(of)g(source)g
(\002les)f(that)h(its)0 2675 y(corresponding)h(rule)h(is)f(applicable)g
(to.)51 b(F)o(or)29 b(e)o(xample,)i(the)f(class)f Fk(mlyacc)g
Fm(is)g(responsible)h(for)f(\002les)g(that)h(contain)f(input)g(for)g
(the)0 2775 y(parser)23 b(generator)g(ML-Y)-8 b(acc)23
b([T)-7 b(A90].)33 b(The)23 b(rule)g(for)g Fk(mlyacc)h
Fm(tak)o(es)f(care)g(of)g(e)o(xpanding)g(an)h(ML-Y)-9
b(acc)24 b(speci\002cations)f Fk(foo.grm)0 2874 y Fm(by)d(in)m(v)n
(oking)g(the)g(auxiliary)g(program)g Fk(ml-yacc)p Fm(.)25
b(The)20 b(resulting)g(ML)g(\002les)g Fk(foo.grm.sig)g
Fm(and)g Fk(foo.grm.sml)g Fm(are)g(then)g(used)0 2974
y(as)h(if)g(their)f(names)h(had)g(directly)g(been)f(speci\002ed)h(in)g
(place)g(of)f Fk(foo.grm)p Fm(.)0 3123 y(CM)g(kno)n(ws)g(a)h(small)f
(number)g(of)g(b)o(uilt-in)g(classes.)25 b(In)c(man)n(y)g(situations)f
(these)g(classes)g(will)h(be)f(suf)n(\002cient,)g(b)n(ut)h(in)f(more)g
(complicated)0 3223 y(cases)h(it)g(may)f(be)h(w)o(orthwhile)g(to)g(add)
g(a)g(ne)n(w)f(class.)26 b(Since)21 b(class)g(rules)g(are)f(programmed)
h(in)g(ML,)g(adding)g(a)f(class)h(is)g(not)g(as)g(simple)f(a)0
3323 y(matter)g(as)g(writing)f(a)h(rule)g(for)i(U)t Fd(N)t(I)t(X)r
Fm(')e Fk(make)g Fm(program)f([Fel79].)26 b(Of)20 b(course,)g(using)f
(ML)h(has)g(also)g(adv)n(antages)f(because)h(it)g(k)o(eeps)g(CM)0
3422 y(e)o(xtremely)i(\003e)o(xible)g(in)g(what)g(rules)g(can)g(do.)30
b(Moreo)o(v)o(er)l(,)23 b(it)f(is)g(not)g(necessary)g(to)h(learn)f(yet)
g(another)g(\223little)g(language\224)g(in)g(order)h(to)f(be)0
3522 y(able)f(to)g(program)f(CM')l(s)g(tool)h(f)o(acility)-5
b(.)0 3671 y(When)21 b(looking)f(at)h(the)f(member)h(of)g(a)f
(description)h(\002le,)g(CM)f(determines)h(which)f(tool)h(to)g(use)f
(by)h(looking)g(at)f(clues)h(lik)o(e)g(the)f(\002le)h(name)0
3771 y(suf)n(\002x.)29 b(Ho)n(we)n(v)o(er)l(,)23 b(it)f(is)g(also)f
(possible)h(to)g(specify)g(the)g(class)g(of)g(a)g(member)g(e)o
(xplicitly)-6 b(.)30 b(F)n(or)22 b(this,)g(the)g(member)g(name)g(is)g
(follo)n(wed)g(by)0 3871 y(a)f(colon)g Fi(:)k Fm(and)c(the)g(name)g(of)
f(the)h(member)g(class.)26 b(All)20 b(class)h(names)g(are)g
(case-insensiti)m(v)o(e.)0 4020 y(In)f(addition)g(to)g(genuine)g(tool)g
(classes,)g(there)g(are)g(tw)o(o)g(member)g(classes)g(that)g(refer)g
(to)g(f)o(acilities)g(internal)g(to)g(CM:)g Fk(sml)f
Fm(is)h(the)g(class)g(of)0 4120 y(ordinary)h(ML)g(source)f(\002les)h
(and)g Fk(cm)g Fm(is)f(the)h(class)g(of)g(CM)f(library)h(or)g(group)g
(description)f(\002les.)0 4269 y(CM)d(automatically)h(classi\002es)f
(\002le)g(with)g(a)h Fk(.sml)f Fm(or)g Fk(.sig)g Fm(suf)n(\002x)h(as)f
(ML-source,)h(\002le)f(names)g(ending)h(in)f Fk(.cm)p
Fm(])g(as)g(CM)h(descriptions.)0 4557 y Fj(5.1)100 b(T)-10
b(ool)25 b(parameters)0 4762 y Fm(In)d(man)o(y)g(cases)g(the)g(name)h
(of)f(the)g(member)g(that)g(caused)h(a)f(rule)g(to)g(be)g(in)m(v)n(ok)o
(ed)h(is)f(the)g(only)g(input)g(to)g(that)h(rule.)30
b(Ho)n(we)m(v)o(er)m(,)22 b(rules)h(can)0 4862 y(be)g(written)g(in)f
(such)h(a)g(w)o(ay)g(that)f(the)o(y)h(tak)o(e)g(additional)g
(parameters.)31 b(Those)23 b(parameters,)g(if)g(present,)g(must)g(be)g
(speci\002ed)g(in)g(the)f(CM)0 4961 y(description)f(\002le)g(between)f
(parentheses)h(follo)n(wing)g(the)f(name)h(of)g(the)g(member)f(and)h
(the)g(optional)g(member)g(class.)0 5111 y(As)j(far)g(as)g(CM')l(s)g
(core)h(tool)f(mechanism)h(is)f(concerned,)h(tool)g(parameters)f(are)h
(uninterpreted\227the)n(y)g(are)f(just)h(list)f(of)h(strings.)36
b(Each)0 5210 y(rule)21 b(is)g(responsible)f(for)h(assigning)g(meaning)
g(to)f(its)h(o)n(wn)g(parameters.)0 5360 y(The)29 b Fk(sml)f
Fm(class)h(accepts)f(one)h(parameter)f(which)h(must)f(be)h(either)f
(the)h(w)o(ord)g Fk(shared)f Fm(or)h(the)f(w)o(ord)h
Fk(private)p Fm(.)49 b(If)28 b Fk(shared)h Fm(is)0 5460
y(speci\002ed,)21 b(then)f(dynamic)h(state)f(created)h(by)f(the)h
(compilation)f(unit)h(at)f(link-time)h(must)f(be)h(shared)f(across)h
(in)m(v)n(ocations)f(of)h Fk(CM.make)1968 5709 y Fm(11)p
eop
%%Page: 12 12
12 11 bop 0 83 a Fm(or)29 b Fk(CM.autoload)p Fm(.)49
b(As)29 b(e)n(xplained)g(earlier)g(\(Section)f(4.3\),)j(the)e
Fk(private)f Fm(annotation)h(means)g(that)f(dynamic)h(state)f(cannot)h
(be)0 183 y(shared)21 b(across)g(such)f(calls)h(to)g
Fk(CM.make)g Fm(or)f Fk(CM.autoload)p Fm(.)0 332 y(The)h
Fk(cm)g Fm(class)f(does)h(not)g(accept)g(an)n(y)g(parameters.)0
620 y Fj(5.2)100 b(Built-in)25 b(tools)0 825 y Fi(The)c(ML-Y)-7
b(acc)20 b(tool)0 1031 y Fm(The)29 b(ML-Y)-8 b(acc)28
b(tool)h(is)g(responsible)g(for)g(\002les)g(that)g(are)g(input)f(to)h
(the)g(ML-Y)-8 b(acc)29 b(parser)g(generator)-5 b(.)50
b(Its)29 b(class)g(name)g(is)g Fk(mlyacc)p Fm(.)0 1130
y(Recognized)24 b(\002le)g(name)g(suf)n(\002x)n(es)g(are)g
Fk(.grm)g Fm(and)g Fk(.y)p Fm(.)35 b(F)o(or)24 b(a)g(source)g(\002le)f
Fg(f)9 b Fm(,)25 b(the)f(tool)g(produces)g(tw)o(o)g(tar)n(gets)g
Fg(f)9 b Fk(.sig)24 b Fm(and)g Fg(f)9 b Fk(.sml)p Fm(,)0
1230 y(both)22 b(of)h(which)f(are)h(al)o(w)o(ays)g(treated)f(as)h(ML)f
(source)h(\002les.)31 b(P)o(arameters)22 b(are)h(passed)f(on)h(without)
f(change)h(to)f(the)h Fg(f)8 b Fk(.sml)23 b Fm(\002le)f(b)o(ut)g(not)0
1329 y(to)f(the)g Fg(f)8 b Fk(.sig)21 b Fm(\002le.)0
1479 y(The)i(tool)g(in)m(v)n(ok)o(es)h(the)f Fk(ml-yacc)g
Fm(command)g(if)g(the)g(tar)o(gets)g(are)g(\223outdated\224.)33
b(A)23 b(tar)o(get)g(is)g(outdated)g(if)g(it)g(is)h(missing)f(or)g
(older)g(than)0 1578 y(the)e(source.)26 b(Unless)c(anchored)f(using)g
(the)g(path)g(anchor)g(mechanism)g(\(see)g(Section)g(3.3\),)g(the)g
(command)g Fk(ml-yacc)g Fm(will)g(be)g(located)0 1678
y(using)g(the)g(operating)f(system')l(s)g(path)h(search)g(mechanism)g
(\(e.g.,)f(the)h Fk($PATH)g Fm(en)m(vironment)f(v)n(ariable\).)0
1949 y Fi(ML-Lex)0 2154 y Fm(The)d(ML-Le)o(x)g(tool)g(go)o(v)o(erns)g
(\002les)g(that)g(are)g(input)g(to)g(the)g(ML-Le)o(x)g(le)o(xical)g
(analyzer)g(generator)g([AMT89].)25 b(Its)17 b(class)g(name)g(is)g
Fk(mllex)p Fm(.)0 2254 y(Recognized)27 b(\002le)f(name)h(suf)n(\002x)o
(es)f(are)h Fk(.lex)g Fm(and)f Fk(.l)p Fm(.)44 b(F)n(or)27
b(a)g(source)f(\002le)h Fg(f)9 b Fm(,)28 b(the)f(tool)f(produces)h(one)
g(tar)n(gets)g Fg(f)9 b Fk(.sml)26 b Fm(which)h(will)0
2354 y(al)o(w)o(ays)21 b(be)g(treated)g(as)f(ML)h(source)g(code.)26
b(T)-7 b(ool)21 b(parameters)f(are)h(passed)g(on)g(without)g(change)f
(to)h(that)g(\002le.)0 2503 y(The)e(tool)f(in)m(v)n(ok)o(es)h(the)g
Fk(ml-lex)f Fm(command)h(if)f(the)h(tar)n(get)g(is)g(outdated)f(\(just)
h(lik)o(e)f(in)h(the)g(case)f(of)h(ML-Y)-9 b(acc\).)26
b(Unless)18 b(anchored)h(using)0 2603 y(the)26 b(path)f(anchor)h
(mechanism)g(\(see)f(Section)h(3.3\),)h(the)f(command)f
Fk(ml-lex)h Fm(will)g(be)f(located)h(using)g(the)f(operating)h(system')
-5 b(s)26 b(path)0 2702 y(search)21 b(mechanism)g(\(e.g.,)f(the)h
Fk($PATH)g Fm(en)l(vironment)g(v)n(ariable\).)0 2973
y Fi(ML-Bur)o(g)0 3179 y Fm(The)29 b(ML-Bur)o(g)g(tool)g(deals)g(with)g
(\002les)g(that)g(are)g(input)g(to)g(the)g(ML-Bur)n(g)g(code-generater)
g(generator)g([GG93].)51 b(Its)29 b(class)g(name)g(is)0
3278 y Fk(mlburg)p Fm(.)55 b(The)30 b(only)g(recognized)h(\002le)f
(name)h(suf)n(\002x)f(is)g Fk(.burg)p Fm(.)55 b(F)o(or)30
b(a)h(source)f(\002le)g Fg(f)9 b Fk(.burg)p Fm(,)33 b(the)e(tool)f
(produces)g(one)h(tar)n(gets)0 3378 y Fg(f)9 b Fk(.sml)20
b Fm(which)h(will)f(al)o(ways)g(be)g(treated)h(as)f(ML)h(source)f
(code.)26 b(An)o(y)20 b(tool)h(parameters)f(are)g(passed)h(on)f
(without)h(change)f(to)h(the)f(tar)o(get.)0 3527 y(The)27
b(tool)f(in)m(v)n(okes)g(the)h Fk(ml-burg)g Fm(command)g(if)f(the)h
(tar)o(get)f(is)h(outdated.)44 b(Unless)26 b(anchored)h(using)g(the)g
(path)f(anchor)h(mechanism)0 3627 y(\(see)e(Section)g(3.3\),)h(the)f
(command)g Fk(ml-lex)g Fm(will)g(be)g(located)g(using)g(the)f
(operating)h(system')l(s)g(path)g(search)g(mechanism)g(\(e.g.,)h(the)0
3727 y Fk($PATH)21 b Fm(en)l(vironment)g(v)n(ariable\).)0
3998 y Fi(Shell)0 4203 y Fm(The)i(Shell)h(tool)f(can)h(be)f(used)h(to)f
(specify)h(arbitrary)f(shell)h(commands)f(to)g(be)h(in)m(v)n(ok)o(ed)g
(on)f(behalf)g(of)h(a)f(gi)n(v)o(en)g(\002le.)34 b(The)24
b(name)f(of)h(the)0 4303 y(class)19 b(is)g Fk(shell)p
Fm(.)25 b(There)20 b(are)f(no)g(recognized)g(\002le)g(name)g(suf)n
(\002x)o(es.)25 b(This)19 b(means)g(that)g(in)g(order)g(to)h(use)f(the)
g(shell)g(tool)g(one)g(must)g(al)o(ways)0 4402 y(specify)i(the)g
Fk(shell)f Fm(member)h(class)g(e)o(xplicitly)-6 b(.)0
4552 y(The)25 b(rule)f(for)h(the)f Fk(shell)h Fm(class)g(relies)f(on)h
(tool)f(parameters.)38 b(The)24 b(parameter)h(list)f(must)h(be)g(gi)n
(v)n(en)g(in)g(parentheses)f(and)h(follo)n(w)f(the)0
4651 y Fk(shell)d Fm(class)g(speci\002cation.)0 4801
y(Consider)g(the)g(follo)m(wing)g(e)o(xample:)100 5033
y Fk(foo.pp)50 b(:)g(shell)f(\(target=foo.sml)h(options=shared)1196
5133 y(/lib/cpp)g(-P)g(-Dbar=baz)f(\045s)h(\045t\))1968
5709 y Fm(12)p eop
%%Page: 13 13
13 12 bop 0 83 a Fm(This)16 b(member)g(speci\002cation)h(says)f(that)g
(\002le)g Fk(foo.sml)g Fm(can)h(be)f(obtained)g(from)g
Fk(foo.pp)h Fm(by)f(running)g(it)g(through)g(the)h(C)f(preprocessor)0
183 y Fk(cpp)p Fm(.)25 b(The)20 b(f)o(act)g(that)f(the)h(tar)o(get)f
(\002le)h(is)f(gi)n(v)o(en)h(as)f(a)h(tool)g(parameter)f(implies)h
(that)g(the)f(member)h(itself)f(is)h(the)g(source.)25
b(The)20 b Fk(options=)0 282 y Fm(parameter)28 b(lists)g(the)g(tool)g
(parameters)g(to)g(be)f(used)h(for)g(that)g(tar)o(get.)47
b(The)28 b(command)g(line)g(itself)g(is)g(gi)m(v)o(en)g(by)g(the)g
(remaining)g(non-)0 382 y(k)o(e)o(yw)o(ord)22 b(parameters.)29
b(Here,)22 b(a)g(single)g Fi(\045s)g Fm(is)g(replaced)g(by)g(the)g
(source)g(\002le)g(name,)g(and)g(a)g(single)g Fi(\045t)g
Fm(is)f(replaced)h(by)g(the)g(tar)o(get)g(\002le)0 482
y(name.)0 631 y(In)31 b(the)g(speci\002cation)g(one)f(can)h(sw)o(ap)g
(the)g(positions)g(of)g(source)g(and)g(tar)n(get)g(\(i.e.,)i(let)e
(member)g(name)g(be)g(the)g(tar)n(get\))g(by)g(using)g(a)0
731 y Fk(source=)21 b Fm(parameter:)100 963 y Fk(foo.sml)50
b(:)g(shell)f(\(source=foo.pp)h(options=shared)1245 1063
y(/lib/cpp)g(-P)g(-Dbar=baz)f(\045s)h(\045t\))0 1295
y Fm(Exactly)21 b(one)f(of)h(the)g Fk(source=)f Fm(and)h
Fk(target=)g Fm(parameters)f(must)h(be)g(speci\002ed;)g(the)f(other)h
(one)g(is)f(tak)o(en)h(to)g(be)g(the)f(member)h(name)0
1395 y(itself.)26 b(The)20 b(tar)o(get)h(class)g(can)f(be)h(gi)n(v)o
(en)f(by)h(writing)g(a)g Fk(class=)f Fm(parameter)l(.)0
1544 y(If)i(the)h(member)f(name)g(is)g(written)h(using)f
Fl(native)g(path)h(syntax)p Fm(,)f(then)h(the)f(source-)g(or)g(tar)o
(get-name)g(in)h(the)f(parameter)g(list)g(is)h(also)f(con-)0
1644 y(sidered)d(to)g(be)f(using)h(nati)n(v)o(e)g(syntax.)25
b(Although)18 b(it)h(is)g(possible)g(to)g(enclose)f(tool)h(parameters)g
(in)g(double)g(quotes)f(to)h(a)n(v)o(oid)g(tok)o(enization)0
1743 y(at)i(delimiting)g(characters,)f(in)h(this)g(case)g(this)f(does)h
(not)g(ha)n(v)o(e)g(the)f(ef)n(fect)h(of)g(switching)g(from)f(standard)
h(to)g(nati)n(v)o(e)f(syntax.)0 1893 y(F)o(or)g(e)o(xample,)h(if)f(one)
h(were)f(w)o(orking)h(on)f(a)h(W)m(in32)f(system)h(and)f(the)h(tar)n
(get)g(\002le)f(is)h(supposed)f(to)h(be)f(in)h(the)f(root)h(directory)f
(on)h(v)n(olume)0 1993 y Fk(D:)p Fm(,)g(then)g(one)f(must)h(use)g(nati)
n(v)n(e)g(syntax)g(to)g(write)f(it.)26 b(One)21 b(w)o(ay)g(of)g(doing)f
(this)h(w)o(ould)g(be:)100 2225 y Fk("D:\\\\foo.sml")50
b(:)g(shell)f(\(source=foo.pp)h(options=shared)1544 2325
y(cpp)g(-P)g(-Dbar=baz)f(\045s)h(\045t\))0 2557 y Fm(As)23
b(a)h(result,)f Fk(foo.pp)h Fm(is)f(also)g(interpreted)h(as)f(a)g(nati)
n(v)o(e)g(path)g(name)h(\(although)f(in)g(this)g(case)h(it)f(does)g
(not)g(make)g(a)g(dif)n(ference\).)33 b(Had)0 2657 y(we)21
b(used)g(the)f Fk(target=)h Fm(v)o(ersion)g(from)f(abo)o(v)o(e,)h(it)f
(w)o(ould)h Fl(not)g Fm(be)g(suf)n(\002cient)f(to)h(do)g(the)g(follo)n
(wing:)100 2889 y Fk(foo.pp)50 b(:)g(shell)f(\("target=D:\\\\foo.sml")h
(options=shared)1644 2989 y(cpp)g(-P)g(-Dbar=baz)f(\045s)h(\045t\))0
3221 y Fm(Since)21 b(the)f(member)h(name)f Fk(foo.pp)h
Fm(is)g(in)f(standard)h(syntax,)f(the)h(tar)n(get)g(name)g(will)f(also)
h(be)f(interpreted)h(this)g(w)o(ay)f(re)o(gardless)g(of)h(the)0
3321 y(f)o(act)g(that)g(the)f(parameter)h(uses)g(double)g(quotes.)k
(The)c(correct)g(speci\002cation)g(is:)100 3553 y Fk("foo.pp")50
b(:)g(shell)f(\("target=D:\\\\foo.sml")h(options=shared)1594
3653 y(cpp)g(-P)g(-Dbar=baz)f(\045s)h(\045t\))0 3885
y Fm(Notice)21 b(that)g(double)f(quotes)h(around)g(the)g(tar)n(get)g
(parameter)g(are)f(still)h(necessary)g(because)g(the)f(name)h(contains)
g(delimiters.)0 4035 y(The)g(shell)g(tool)f(in)m(v)n(ok)o(es)h(its)g
(command)g(whene)n(v)n(er)g(the)g(tar)n(get)g(is)g(outdated)g(with)f
(respect)h(to)g(the)g(source.)0 4306 y Fi(Mak)o(e)0 4511
y Fm(The)e(Mak)o(e)g(tool)g(\(class)g Fk(make)p Fm(\))g(can)g
(\(almost\))g(be)g(seen)g(as)g(a)g(specialized)g(v)n(ersion)g(of)g(the)
g(Shell)g(tool.)25 b(It)19 b(has)g(no)g(source)g(and)g(one)g(tar)n(get)
0 4611 y(\(the)k(member)f(itself\))h(which)g(is)f(alw)o(ays)g
(considered)h(outdated.)32 b(As)22 b(with)h(the)g(Shell)f(tool,)h(it)g
(is)g(possible)g(to)f(specify)h(tar)n(get)g(class)g(and)0
4710 y(parameters)e(using)g(the)f Fk(class=)h Fm(and)g
Fk(options=)g Fm(k)o(e)n(yword)f(parameters.)0 4860 y(The)29
b(tool)g(in)m(v)n(ok)o(es)g(the)g(shell)h(command)f Fk(make)g
Fm(on)g(the)g(tar)n(get.)51 b(Unless)29 b(anchored)g(using)g(the)g
(path)g(anchor)g(mechanism)g(3.3,)j(the)0 4960 y(command)21
b(will)g(be)f(located)h(using)g(the)g(operating)f(system')l(s)g(path)h
(search)g(mechanism)g(\(e.g.,)g(the)f Fk($PATH)h Fm(en)m(vironment)f(v)
n(ariable\).)0 5109 y(An)o(y)30 b(tool)g(parameters)h(be)n(yond)g(the)f
(initial)g Fk(class=)g Fm(and)h Fk(options=)f Fm(are)g(gi)n(v)o(en)g
(as)h(additional)f(command)g(line)g(ar)o(guments)g(to)0
5209 y Fk(make)p Fm(.)c(The)20 b(tar)o(get)h(name)g(is)f(al)o(ways)g
(the)h(last)g(command)g(line)f(ar)o(gument.)0 5358 y(Example:)1968
5709 y(13)p eop
%%Page: 14 14
14 13 bop 100 83 a Fk(bar-grm)50 b(:)g(make)f(\(class=mlyacc)h(-f)g
(bar-grm.mk\))0 312 y Fm(Here,)21 b(\002le)g Fk(bar-grm)f
Fm(is)h(generated)g(\(and)g(k)o(ept)f(up-to-date\))h(by)g(in)m(v)n
(oking)g(the)g(command:)0 525 y Fk(make)50 b(-f)g(bar-grm.mk)f(bar-grm)
0 737 y Fm(The)21 b(tar)n(get)g(\002le)g(is)g(then)f(treated)h(as)g
(input)g(for)f Fk(ml-yacc)p Fm(.)0 886 y(Cascading)f(Shell-)f(and)h
(Mak)o(e-tools)g(is)f(trick)o(y)g(b)o(ut)g(possible.)25
b(Here)19 b(is)g(an)f(e)o(xample)g(that)h(\002rst)g(uses)f(Mak)o(e)h
(to)g(b)n(uild)f Fk(bar.pp)h Fm(and)g(then)0 985 y(\002lters)i(the)g
(contens)f(of)h Fk(bar.pp)g Fm(through)g(the)f(C)h(preprocessor)g(to)g
(arri)m(v)o(e)g(at)g Fk(bar.sml)p Fm(:)100 1214 y Fk(bar.pp)50
b(:)g(make)f(\(class=shell)1046 1314 y("options=target=bar.sml)h(cpp)g
(-Dbar=baz)f(\045s)h(\045t")847 1414 y(-f)g(bar-pp.mk\))0
1742 y Fn(6)120 b(Conditional)29 b(compilation)0 1976
y Fm(In)d(its)h(description)f(\002les,)h(CM)g(of)n(fers)f(a)g(simple)g
(conditional)h(compilation)f(f)o(acility)g(inspired)h(by)f(the)g
(pre-processor)g(for)h(the)f(C)g(lan-)0 2076 y(guage)d([KR88].)34
b(Ho)n(we)n(v)o(er)m(,)24 b(it)f(is)h(not)f(really)h(a)f
Fl(pr)m(e)p Fm(-processor)m(,)h(and)g(the)f(syntax)h(of)f(the)h
(controlling)f(e)o(xpressions)g(is)h(borro)n(wed)f(from)0
2176 y(SML.)0 2324 y(Sequences)18 b(of)g(members)g(can)g(be)h(guarded)f
(by)g Fk(#if)p Fm(-)p Fk(#endif)g Fm(brack)o(ets)g(with)g(optional)g
Fk(#elif)g Fm(and)h Fk(#else)f Fm(lines)g(in)g(between.)25
b(The)0 2424 y(same)19 b(guarding)g(syntax)g(can)g(also)g(be)g(used)g
(to)g(conditionalize)g(the)g(e)o(xport)g(list.)25 b Fk(#if)p
Fm(-,)20 b Fk(#elif)p Fm(-,)f Fk(#else)p Fm(-,)h(and)f
Fk(#endif)p Fm(-lines)g(must)0 2523 y(start)i(in)g(the)h(\002rst)f
(column)g(and)g(al)o(w)o(ays)h(e)n(xtend)g(to)f(the)g(end)g(of)g(the)g
(current)h(line.)27 b Fk(#if)21 b Fm(and)g Fk(#elif)g
Fm(must)g(be)g(follo)n(wed)h(by)f(a)g(boolean)0 2623
y(e)o(xpression.)0 2771 y(Boolean)27 b(e)o(xpressions)g(can)g(be)f
(formed)h(by)g(comparing)g(arithmetic)g(e)o(xpressions)g(\(using)g
(operators)g Fk(<)p Fm(,)h Fk(<=)p Fm(,)h Fk(=)p Fm(,)f
Fk(>=)p Fm(,)g Fk(>)p Fm(,)h(or)e Fk(<>)p Fm(\),)h(by)0
2871 y(logically)k(combining)f(tw)o(o)h(other)g(boolean)f(e)o
(xpressions)h(\(using)f(operators)h Fk(andalso)p Fm(,)j
Fk(orelse)p Fm(,)f Fk(=)p Fm(,)g(or)e Fk(<>)p Fm(,)i(by)e(querying)g
(the)0 2971 y(e)o(xistence)21 b(of)f(a)h(CM)g(symbol)g(de\002nition,)f
(or)h(by)g(querying)g(the)f(e)o(xistence)h(of)g(an)f(e)o(xported)h(ML)g
(de\002nition.)0 3119 y(Arithmetic)f(e)n(xpressions)g(can)g(be)g
(numbers)f(or)h(references)g(to)g(CM)f(symbols,)h(or)g(can)g(be)g
(formed)f(from)h(other)g(arithmetic)g(e)n(xpressions)0
3219 y(using)h(operators)g Fk(+)p Fm(,)f Fk(-)h Fm(\(subtraction\),)g
Fk(*)p Fm(,)g Fk(div)p Fm(,)f Fk(mod)p Fm(,)h(or)10 b
Fc(~)h Fm(\(unary)21 b(minus\).)k(All)c(arithmetic)g(is)g(done)f(on)h
(signed)g(inte)o(gers.)0 3367 y(An)o(y)g(e)n(xpression)g(\(arithmetic)g
(or)g(boolean\))f(can)h(be)g(surrounded)g(by)f(parentheses)h(to)g
(enforce)g(precedence.)0 3653 y Fj(6.1)100 b(CM)25 b(v)o(ariables)0
3858 y Fm(CM)e(pro)n(vides)g(a)f(number)h(of)g(\223v)m(ariables\224)g
(\(names)g(that)f(stand)h(for)f(certain)h(inte)o(gers\).)31
b(These)22 b(v)n(ariables)h(may)f(appear)h(in)f(e)o(xpressions)0
3957 y(of)e(the)h(conditional-compilation)f(f)o(acility)-5
b(.)25 b(The)20 b(e)o(xact)g(set)h(of)f(v)n(ariables)g(pro)o(vided)g
(depends)g(on)h(SML/NJ)f(v)o(ersion)g(number)l(,)h(machine)0
4057 y(architecture,)f(and)h(operating)f(system.)26 b(A)20
b(reference)g(to)g(a)h(CM)f(v)n(ariable)g(is)g(considered)h(an)f
(arithmetic)g(e)o(xpression.)26 b(If)20 b(the)g(v)n(ariable)g(is)0
4156 y(not)h(de\002ned,)g(then)g(it)g(e)n(v)n(aluates)g(to)g(0.)27
b(The)21 b(e)o(xpression)g Fk(defined)p Fm(\()p Fg(v)s
Fm(\))g(is)g(a)g(boolean)g(e)o(xpression)g(that)g(yields)g(true)g(if)g
(and)h(only)f(if)g Fg(v)j Fm(is)0 4256 y(a)d(de\002ned)g(CM)f(v)n
(ariable.)0 4405 y(The)d(names)h(of)f(CM)h(v)n(ariables)f(are)g(formed)
h(starting)f(with)h(a)f(letter)h(follo)m(wed)g(by)f(zero)h(or)f(more)h
(occurences)f(of)g(letters,)h(decimal)g(digits,)0 4504
y(apostrophes,)j(or)g(underscores.)0 4653 y(The)g(follo)n(wing)f(v)n
(ariables)h(will)g(be)g(de\002ned)f(and)h(bound)g(to)g(1:)125
4865 y Fh(\017)42 b Fm(depending)15 b(on)h(the)g(operating)g(system:)23
b Fk(OPSYS)p 1647 4865 25 4 v 30 w(UNIX)p Fm(,)16 b Fk(OPSYS)p
2161 4865 V 29 w(WIN32)p Fm(,)h Fk(OPSYS)p 2727 4865
V 30 w(MACOS)p Fm(,)f Fk(OPSYS)p 3291 4865 V 30 w(OS2)p
Fm(,)g(or)g Fk(OPSYS)p 3842 4865 V 30 w(BEOS)125 5030
y Fh(\017)42 b Fm(depending)29 b(on)h(processor)f(architecture:)44
b Fk(ARCH)p 1707 5030 V 30 w(SPARC)p Fm(,)29 b Fk(ARCH)p
2235 5030 V 30 w(ALPHA32)p Fm(,)j Fk(ARCH)p 2866 5030
V 30 w(MIPS)p Fm(,)e Fk(ARCH)p 3345 5030 V 30 w(X86)p
Fm(,)h Fk(ARCH)p 3776 5030 V 30 w(HPPA)p Fm(,)208 5130
y Fk(ARCH)p 413 5130 V 30 w(RS6000)p Fm(,)21 b(or)f Fk(ARCH)p
1072 5130 V 30 w(PPC)125 5295 y Fh(\017)42 b Fm(depending)20
b(on)h(the)g(processor')-5 b(s)21 b(endianness:)26 b
Fk(BIG)p 1763 5295 V 30 w(ENDIAN)20 b Fm(or)h Fk(LITTLE)p
2501 5295 V 30 w(ENDIAN)125 5460 y Fh(\017)42 b Fm(depending)20
b(on)h(the)g(nati)n(v)n(e)g(w)o(ord)g(size)g(of)g(the)f
(implementation:)26 b Fk(SIZE)p 2348 5460 V 30 w(32)21
b Fm(or)g Fk(SIZE)p 2787 5460 V 29 w(64)1968 5709 y Fm(14)p
eop
%%Page: 15 15
15 14 bop 125 83 a Fh(\017)42 b Fm(the)20 b(symbol)h
Fk(NEW)p 750 83 25 4 v 30 w(CM)0 299 y Fm(Furthermore,)32
b(the)e(symbol)f Fk(SMLNJ)p 1128 299 V 30 w(VERSION)h
Fm(will)f(be)h(bound)g(to)f(the)h(major)g(v)n(ersion)g(number)g(of)f
(SML/NJ)h(\(i.e.,)i(the)e(number)0 399 y(before)21 b(the)f(\002rst)h
(dot\))f(and)h Fk(SMLNJ)p 1054 399 V 30 w(MINOR)p 1333
399 V 30 w(VERSION)f Fm(will)h(be)f(bound)h(to)g(the)f(system')l(s)g
(minor)h(v)n(ersion)g(number)g(\(i.e.,)f(the)h(number)0
498 y(after)g(the)g(\002rst)f(dot\).)0 648 y(Using)h(the)g
Fk(CM.symval)f Fm(interf)o(ace)h(one)g(can)g(de\002ne)f(additional)h(v)
n(ariables)g(or)g(modify)f(e)o(xisting)h(ones.)0 935
y Fj(6.2)100 b(Querying)25 b(exported)f(de\002nitions)0
1141 y Fm(An)g(e)o(xpression)g(of)g(the)g(form)g Fk(defined)p
Fm(\()p Fg(n)g(s)p Fm(\),)g(where)g Fg(s)g Fm(is)g(an)g(ML)g(symbol)g
(and)g Fg(n)g Fm(is)g(an)g(ML)g(namespace)g(speci\002er)l(,)h(is)f(a)g
(boolean)0 1240 y(e)o(xpression)19 b(that)g(yields)h(true)f(if)g(and)h
(only)f(if)g(an)o(y)g(member)h(included)f(before)g(this)h(test)f(e)o
(xports)g(a)g(de\002nition)h(under)f(this)g(name.)25
b(There-)0 1340 y(fore,)20 b(order)g(among)g(members)g(matters)g(after)
g(all)g(\(b)n(ut)g(it)g(remains)g(unrelated)g(to)g(the)g(problem)g(of)g
(determining)g(static)g(dependencies\)!)0 1439 y(The)h(namespace)g
(speci\002er)f(must)h(be)g(one)g(of:)k Fk(structure)p
Fm(,)c Fk(signature)p Fm(,)g Fk(functor)p Fm(,)g(or)f
Fk(funsig)p Fm(.)0 1589 y(If)25 b(the)h(query)f(takes)g(place)g(in)h
(the)f(\223e)o(xports\224)h(section)f(of)h(a)f(description)g(\002le,)i
(then)f(it)f(yields)g(true)h(if)f Fl(any)h Fm(of)f(the)h(included)f
(members)0 1688 y(e)o(xports)c(the)f(named)h(symbol.)0
1838 y(Example:)0 2070 y Fk(Library)100 2170 y(structure)50
b(Foo)0 2270 y(#if)g(defined\(structure)g(Bar\))100 2369
y(structure)g(Bar)0 2469 y(#endif)0 2568 y(is)0 2668
y(#if)g(SMLNJ_VERSION)g(>)f(110)100 2768 y(new-foo.sml)0
2867 y(#else)100 2967 y(old-foo.sml)0 3067 y(#endif)0
3166 y(#if)h(defined\(structure)g(Bar\))100 3266 y(bar-client.sml)0
3366 y(#else)100 3465 y(no-bar-so-far.sml)0 3565 y(#endif)0
3797 y Fm(Here,)23 b(the)f(\002le)g Fk(bar-client.sml)g
Fm(gets)g(included)h(if)f Fk(SMLNJ)p 1968 3797 V 30 w(VERSION)g
Fm(is)g(greater)h(than)f(110)g(and)g Fk(new-foo.sml)g
Fm(e)o(xports)g(a)0 3897 y(structure)f Fk(Bar)g Fl(or)f
Fm(if)h Fk(SMLNJ)p 902 3897 V 30 w(VERSION)50 b(<=)g(110)20
b Fm(and)h Fk(old-foo.sml)g Fm(e)o(xports)f(structure)h
Fk(Bar)p Fm(.)0 3996 y(Otherwise)31 b Fk(no-bar-so-far.sml)f
Fm(gets)h(included)g(instead.)56 b(In)30 b(addition,)k(the)c(e)o(xport)
h(of)g(structure)f Fk(Bar)h Fm(is)g(guarded)g(by)f(its)0
4096 y(o)n(wn)d(e)n(xistence.)44 b(\(Structure)27 b Fk(Bar)f
Fm(could)h(also)g(be)g(de\002ned)f(by)h Fk(no-bar-so-far.sml)g
Fm(in)g(which)f(case)h(it)g(w)o(ould)g(get)f(e)o(xported)0
4196 y(re)o(g)o(ardless)21 b(of)g(the)g(outcome)f(of)h(the)g(other)g
Fk(defined)f Fm(test.\))0 4483 y Fj(6.3)100 b(Explicit)25
b(err)n(ors)0 4689 y Fm(A)j(pseudo-member)g(of)g(the)g(form)g
Fk(#error)49 b Fg(:)14 b(:)g(:)p Fm(,)30 b(which\227lik)o(e)e(other)g
Fk(#)p Fm(-items\227starts)g(in)g(the)f(\002rst)h(column)g(and)g(e)o
(xtends)g(to)g(the)0 4788 y(end)d(of)f(the)h(line,)g(causes)g(an)g(e)n
(xplicit)g(error)f(message)h(unless)g(it)f(gets)h(e)o(xcluded)f(by)h
(the)f(conditional)h(compilation)g(logic.)37 b(The)24
b(error)0 4888 y(message)d(is)g(gi)m(v)o(en)g(by)g(the)f(remainder)h
(of)g(the)g(line)f(after)h(the)g(w)o(ord)g Fk(error)p
Fm(.)1968 5709 y(15)p eop
%%Page: 16 16
16 15 bop 0 83 a Fj(6.4)100 b(EBNF)25 b(f)m(or)g(expr)n(essions)225
287 y Fl(letter)100 b Fh(!)f Fi(A)p 682 300 60 4 v 42
w Fh(j)21 b Fg(:)13 b(:)h(:)42 b Fh(j)20 b Fi(Z)p 1010
300 56 4 v 42 w Fh(j)h Fi(a)p 1151 302 42 4 v 41 w Fh(j)g
Fg(:)14 b(:)g(:)41 b Fh(j)21 b Fi(z)p 1460 300 37 4 v
248 387 a Fl(digit)100 b Fh(!)f Fi(0)p 682 402 42 4 v
42 w Fh(j)21 b Fg(:)13 b(:)h(:)42 b Fh(j)20 b Fi(9)p
991 402 V 253 486 a Fl(ldau)100 b Fh(!)f Fl(letter)42
b Fh(j)21 b Fl(digit)41 b Fh(j)21 b Fi(')p 1181 499 28
4 v 41 w Fh(j)p 1299 486 25 4 v 1294 499 30 4 v 147 686
a Fl(number)100 b Fh(!)f Fl(digit)21 b Fh(f)p Fl(digit)p
Fh(g)271 785 y Fl(sym)100 b Fh(!)f Fl(letter)21 b Fh(f)p
Fl(ldau)p Fh(g)193 985 y Fl(aatom)100 b Fh(!)f Fl(number)42
b Fh(j)21 b Fl(sym)41 b Fh(j)21 b Fi(\()p 1236 1012 28
4 v 21 w Fl(asum)f Fi(\))p 1480 1012 V 42 w Fh(j)10 b
Fc(~)p 1593 998 21 4 v 11 w Fl(aatom)206 1085 y(apr)l(od)100
b Fh(!)g(f)p Fl(aatom)20 b Fm(\()p Fi(*)p 980 1098 42
4 v 42 w Fh(j)h Fi(di)o(v)p 1107 1100 110 4 v 41 w Fh(j)g
Fi(mod)p 1302 1100 157 4 v Fm(\))p Fh(g)g Fl(aatom)225
1184 y(asum)100 b Fh(!)f(f)p Fl(apr)m(od)20 b Fm(\()p
Fi(+)p 967 1197 48 4 v 42 w Fh(j)h Fi(-)p 1100 1197 28
4 v Fm(\))p Fh(g)f Fl(apr)m(od)326 1384 y(ns)100 b Fh(!)f
Fi(structur)o(e)p 682 1399 326 4 v 41 w Fh(j)21 b Fi(signatur)o(e)p
1094 1414 331 4 v 41 w Fh(j)g Fi(functor)p 1510 1399
263 4 v 41 w Fh(j)g Fi(funsig)p 1858 1414 217 4 v 188
1487 a Fl(mlsym)100 b Fh(!)f Fl(a)21 b(Standar)m(d)g(ML)f(identi\002er)
211 1587 y(query)100 b Fh(!)f Fi(de\002ned)p 682 1602
259 4 v 21 w(\()p 962 1614 28 4 v 21 w Fl(sym)21 b Fi(\))p
1160 1614 V 41 w Fh(j)g Fi(de\002ned)p 1273 1602 259
4 v 21 w(\()p 1552 1614 28 4 v 20 w Fl(ns)g(mlsym)g Fi(\))p
1928 1614 V 220 1787 a Fl(acmp)100 b Fh(!)f Fl(ae)o(xp)20
b Fm(\()p Fk(<)p 886 1800 50 4 v 42 w Fh(j)h Fk(<=)p
1021 1800 100 4 v 41 w Fh(j)g Fk(>)p 1206 1800 50 4 v
41 w Fh(j)g Fk(>=)p 1341 1800 100 4 v 42 w Fh(j)f Fk(=)p
1526 1800 50 4 v 42 w Fh(j)h Fk(<>)p 1661 1800 100 4
v Fm(\))f Fl(ae)o(xp)193 1986 y(batom)100 b Fh(!)f Fl(query)42
b Fh(j)21 b Fl(acmp)41 b Fh(j)21 b Fi(not)p 1222 2001
116 4 v 21 w Fl(batom)41 b Fh(j)21 b Fi(\()p 1651 2013
28 4 v 21 w Fl(bdisj)f Fi(\))p 1882 2013 V 220 2086 a
Fl(bcmp)100 b Fh(!)f Fl(batom)21 b Fm([\()p Fk(=)p 967
2099 50 4 v 42 w Fh(j)f Fk(<>)p 1101 2099 100 4 v Fm(\))h
Fl(batom)p Fm(])216 2186 y Fl(bconj)100 b Fh(!)f(f)p
Fl(bcmp)21 b Fi(andalso)p 925 2201 273 4 v Fh(g)g Fl(bcmp)239
2285 y(bdisj)100 b Fh(!)f(f)p Fl(bconj)21 b Fi(or)o(else)p
929 2300 206 4 v Fh(g)f Fl(bconj)50 2485 y(e)n(xpr)m(ession)100
b Fh(!)g Fl(bdisj)0 2786 y Fn(7)120 b(Access)29 b(contr)n(ol)0
3021 y Fm(The)18 b(basic)g(idea)f(behind)h(CM')l(s)f(access)h(control)g
(is)g(the)f(follo)n(wing:)25 b(In)17 b(their)h(description)g(\002les,)g
(groups)g(and)g(libraries)g(can)g(specify)f(a)h(list)0
3121 y(of)k Fl(privile)m(g)o(es)h Fm(that)f(the)g(client)h(must)f(ha)n
(v)o(e)g(in)h(order)f(to)g(be)h(able)f(to)g(use)h(them.)30
b(Pri)n(vile)o(ges)22 b(at)h(this)f(le)n(v)o(el)g(are)g(just)h(names)f
(\(strings\))g(and)0 3220 y(must)h(be)f(written)h(in)g(front)f(of)h
(the)g(initial)f(ke)n(yw)o(ord)h Fk(Library)g Fm(or)f
Fk(Group)p Fm(.)32 b(If)23 b(one)f(group)h(or)g(library)f(imports)h
(from)g(another)f(group)0 3320 y(or)d(library)-6 b(,)19
b(then)g(pri)n(vile)o(ges)f(\(or)h(rather:)25 b(pri)n(vile)n(ge)19
b(requirements\))g(are)f(being)h(inherited.)25 b(In)19
b(ef)n(fect,)g(to)f(be)h(able)g(to)f(use)h(a)g(program,)g(one)0
3420 y(must)i(ha)n(v)o(e)g(all)f(pri)n(vile)o(ges)h(for)g(all)f(its)h
(libraries,)g(sub-libraries)g(and)f(library)h(components,)g(components)
g(of)f(sub-libraries,)h(and)g(so)g(on.)0 3569 y(Of)29
b(course,)i(this)f(alone)f(w)o(ould)g(not)g(yet)g(be)h(satisf)o(actory)
-6 b(.)51 b(The)29 b(main)h(service)f(of)g(the)g(access)g(control)g
(system)h(is)f(that)g(it)g(can)g(let)g(a)0 3669 y(client)h(use)g(an)g
(\223unsafe\224)g(library)g(\223safely\224.)53 b(F)o(or)30
b(e)n(xample,)j(a)d(library)g Fk(LSafe.cm)g Fm(could)f(\223wrap\224)h
(all)g(the)g(unsafe)g(operations)g(in)0 3768 y Fk(LUnsafe.cm)c
Fm(with)g(enough)g(error)g(checking)g(that)g(the)o(y)g(become)g(safe.)
42 b(Therefore,)27 b(a)f(user)g(of)g Fk(LSafe.cm)g Fm(should)g(not)g
(also)g(be)0 3868 y(required)21 b(to)g(possess)f(the)h(pri)n(vile)o
(ges)f(that)h(w)o(ould)g(be)g(required)g(if)f(one)h(were)g(to)g(use)f
Fk(LUnsafe.cm)h Fm(directly)-5 b(.)0 4017 y(In)21 b(CM')-5
b(s)21 b(access)g(control)g(model)g(it)g(is)g(possible)g(for)g(a)g
(library)g(to)g(\223wrap\224)g(pri)n(vile)o(ges.)26 b(If)21
b(a)g(pri)n(vile)n(ge)g Fg(P)33 b Fm(has)21 b(been)g(wrapped,)g(then)g
(the)0 4117 y(user)e(of)g(the)h(library)f(does)g(not)g(need)g(to)h(ha)n
(v)o(e)f(pri)n(vile)o(ge)g Fg(P)31 b Fm(e)n(v)n(en)20
b(though)f(the)g(library)g(is)g(using)h(another)f(library)g(that)g
(requires)g(pri)n(vile)o(ge)0 4217 y Fg(P)12 b Fm(.)25
b(In)c(essence,)g(the)g(library)f(acts)h(as)g(a)g(\223proxy\224)f(who)h
(pro)o(vides)g(the)f(necessary)h(credentials)g(for)g(pri)n(vile)n(ge)g
Fg(P)32 b Fm(to)21 b(the)g(sub-library)-6 b(.)0 4366
y(Of)22 b(course,)f(not)h(e)n(v)o(erybody)f(can)h(be)g(allo)n(wed)f(to)
h(establish)g(a)f(library)h(with)f(such)h(a)g(\223wrapped\224)f(pri)n
(vile)o(ge)h Fg(P)11 b Fm(.)29 b(The)21 b(programmer)h(who)0
4466 y(does)i(that)g(should)g(at)f(least)h(herself)g(ha)o(v)n(e)g(pri)n
(vile)o(ge)g(P)g(\(b)n(ut)g(perhaps)g(better)l(,)h(she)f(should)g(ha)n
(v)o(e)g Fl(permission)f(to)h(wr)o(ap)g Fg(P)11 b Fm(\227a)24
b(stronger)0 4565 y(requirement\).)0 4715 y(In)e(CM,)g(wrapping)g(a)h
(pri)n(vile)n(ge)f(is)h(done)f(by)g(specifying)g(the)g(name)g(of)h
(that)f(pri)n(vile)n(ge)h(within)f(parenthesis.)30 b(The)22
b(wrapping)g(becomes)0 4814 y(ef)n(fecti)n(v)o(e)f(once)g(the)g
(library)h(gets)f(stabilized)g(via)g Fk(CM.stabilize)p
Fm(.)28 b(The)21 b(\(not)g(yet)g(implemented\))h(enforcement)f
(mechanism)g(must)0 4914 y(ensure)g(that)g(an)n(yone)g(who)g
(stabilizes)g(a)f(library)h(that)g(wraps)g Fg(P)32 b
Fm(has)21 b(permission)f(to)h(wrap)g Fg(P)11 b Fm(.)0
5063 y(Note)21 b(that)g(pri)m(vile)o(ges)g(cannot)g(be)f(wrapped)h(at)g
(the)g(le)n(v)n(el)g(of)g(CM)g(groups.)0 5213 y(Access)e(control)f(is)h
(a)g(ne)n(w)f(feature.)25 b(At)19 b(the)g(moment,)g(only)g(the)f(basic)
h(mechanisms)g(are)f(implemented,)h(b)o(ut)g(there)f(is)h(no)g
(enforcement.)0 5312 y(In)i(other)h(w)o(ords,)g(e)m(v)o(erybody)g(is)f
(assumed)g(to)h(ha)n(v)o(e)f(e)n(v)o(ery)g(possible)h(pri)n(vile)n(ge.)
28 b(CM)21 b(merely)h(reports)f(which)h(pri)m(vile)o(ges)g(\223w)o
(ould)f(ha)o(v)n(e)0 5412 y(been)g(required\224.)1968
5709 y(16)p eop
%%Page: 17 17
17 16 bop 0 83 a Fn(8)120 b(The)29 b(per)o(v)o(asi)o(v)o(e)h(en)-5
b(vir)n(onment)0 318 y Fm(The)29 b Fl(pervasive)h(en)m(vir)l(onment)f
Fm(can)h(be)f(thought)h(of)f(as)h(a)f(compilation)h(unit)f(that)h(all)f
(compilation)h(units)f(implicitly)h(depend)f(upon.)0
418 y(The)23 b(perv)n(asi)n(v)o(e)g(en)m(viroment)g(e)o(xports)h(all)f
(non-modular)g(bindings)h(\(types,)g(v)n(alues,)g(in\002x)f(operators,)
h(o)o(v)n(erloaded)g(symbols\))f(that)h(are)0 518 y(mandated)i(by)g
(the)g(speci\002cation)f(for)h(the)g(Standard)g(ML)g(Basis)g(Library)g
([RG99].)41 b(\(All)25 b(other)h(bindings)g(of)g(the)g(Basis)g(Library)
g(are)0 617 y(e)o(xported)21 b(by)f Fk(basis.cm)h Fm(which)g(is)g(a)f
(genuine)h(CM)g(library)-6 b(.\))0 767 y(The)31 b(perv)n(asi)n(v)o(e)g
(en)l(vironment)h(is)f(the)g(only)g(place)g(where)g(CM)g(con)m(v)n(e)o
(ys)g(non-modular)g(bindings)g(from)h(one)f(compilation)g(unit)g(to)0
866 y(another)-5 b(.)0 1196 y Fn(9)120 b(Files)0 1432
y Fm(CM)21 b(uses)g(three)f(kinds)h(of)g(\002les)g(to)f(store)h(deri)n
(v)o(ed)f(information)h(during)g(and)g(between)g(sessions:)104
1664 y(1.)42 b Fl(Sk)o(eleton)17 b(\002les)g Fm(are)g(used)g(to)g
(store)g(a)g(highly)g(abbre)n(viated)g(v)o(ersion)g(of)g(each)g(ML)g
(source)g(\002le')l(s)g(abstract)g(syntax)g(tree\227just)g(barely)208
1764 y(suf)n(\002cient)26 b(to)g(dri)n(v)o(e)g(CM')l(s)g(dependenc)n(y)
h(analysis.)42 b(Sk)o(eleton)26 b(\002les)g(are)g(much)g(smaller)g(and)
h(easier)f(to)g(read)g(than)g(actual)g(ML)208 1863 y(source)g(code.)41
b(Therefore,)27 b(the)f(e)o(xistence)g(of)g(v)n(alid)f(skeleton)h
(\002les)f(makes)g(CM)h(a)g(lot)g(f)o(aster)g(because)g(usually)g(most)
g(parsing)208 1963 y(operations)21 b(can)g(be)f(a)o(v)n(oided)h(that)f
(way)-6 b(.)104 2129 y(2.)42 b Fl(Bin\002les)21 b Fm(are)g(the)g
(SML/NJ)g(equi)n(v)n(alent)g(of)g(object)h(\002les.)27
b(The)n(y)22 b(contain)f(e)o(x)n(ecutable)g(code)h(and)f(a)g(symbol)g
(table)g(for)h(the)f(associ-)208 2229 y(ated)g(ML)g(source)f(\002le.)
104 2395 y(3.)42 b Fl(Libr)n(ary)25 b(\002les)f Fm(\(sometimes)g
(called:)33 b Fl(stable\002les)p Fm(\))24 b(contain)g(dependenc)o(y)g
(graph,)h(e)o(x)o(ecutable)f(code,)h(and)f(symbol)h(tables)f(for)g(an)
208 2494 y(entire)d(CM)g(library)f(including)h(all)g(of)g(its)f
(components)h(\(groups\).)0 2727 y(Normally)-5 b(,)20
b(all)h(these)g(\002les)g(are)g(stored)f(in)h(a)g(subdirectory)g(of)g
(directory)f Fk(CM)p Fm(.)h Fk(CM)g Fm(itself)g(is)g(a)f(subdirectory)h
(of)g(the)g(directory)g(where)g(the)0 2826 y(original)g(ML)g(source)f
(\002le)h(or)n(\227in)g(the)g(case)g(of)f(library)h(\002les\227the)g
(original)g(CM)f(description)h(\002le)g(is)g(located.)0
2976 y(Sk)o(eleton)g(\002les)h(are)f(machine-)g(and)h(operating)f
(system-independent.)27 b(Therefore,)22 b(the)n(y)g(are)f(al)o(w)o(ays)
h(placed)f(into)g(the)h(same)f(directory)0 3076 y Fk(CM/SKEL)p
Fm(.)32 b(P)o(arsing)g(\(for)h(the)f(purpose)g(of)g(dependenc)o(y)g
(analysis\))h(will)f(be)g(done)g(only)h(once)f(e)n(v)n(en)h(if)f(the)g
(same)g(\002le)h(system)f(is)0 3175 y(accessible)21 b(from)g(machines)f
(of)h(dif)n(ferent)g(type.)0 3325 y(Bin\002les)34 b(and)g(library)h
(\002les)f(contain)g(e)o(x)o(ecutable)g(code)g(and)g(other)g
(information)h(that)f(is)g(potentially)g(system-)g(and)h(architecture-)
0 3424 y(dependent.)41 b(Therefore,)26 b(the)o(y)g(are)g(stored)f
(under)h Fk(CM/)p Fl(ar)m(c)o(h)p Fk(-)p Fl(os)f Fm(where)h
Fl(ar)m(c)o(h)f Fm(is)h(a)g(string)f(indicating)h(the)g(type)f(of)h
(the)g(current)f(CPU)0 3524 y(architecture)c(and)g Fl(os)f
Fm(a)h(string)g(denoting)g(the)f(current)h(operating)g(system)g(type.)0
3673 y(Library)26 b(\002les)f(are)h(a)g(bit)f(of)h(an)g(e)n(xception)g
(in)g(the)f(sense)h(that)g(the)n(y)g(do)g(not)f(require)h(an)o(y)g
(source)f(\002les)h(or)g(an)n(y)g(other)g(deri)n(v)n(ed)g(\002les)g(of)
0 3773 y(the)e(same)h(library)f(to)g(e)o(xist.)36 b(As)25
b(a)f(consequence,)h(the)f(location)h(of)f(such)g(a)h(library)f(\002le)
g(is)h(best)f(described)g(as)g(being)h(relati)n(v)n(e)g(to)f(\223the)0
3873 y(location)j(of)f(the)h(original)g(CM)f(description)h(\002le)f(if)
h(that)g(description)f(\002le)h(still)g(e)n(xisted\224.)44
b(\(Of)26 b(course,)j(nothing)d(precludes)h(the)g(CM)0
3972 y(description)21 b(\002le)g(from)f(actually)h(e)o(xisting,)g(b)n
(ut)g(in)f(the)h(presence)g(of)g(a)f(corresponding)h(library)g(\002le)g
(CM)f(will)h(not)g(tak)o(e)g(an)o(y)f(notice.\))0 4260
y Fj(9.1)100 b(T)n(ime)25 b(stamps)0 4465 y Fm(F)o(or)h(sk)o(eleton)g
(\002les)g(and)f(bin\002les,)j(CM)d(uses)h(\002le)g(system)g(time)g
(stamps)g(to)g(determine)f(whether)h(a)g(\002le)g(has)g(become)g
(outdated.)41 b(The)0 4565 y(rule)21 b(is)f(that)h(in)g(order)f(to)h
(be)g(considered)g(\223up-to-date\224)f(the)h(time)g(stamp)f(on)h(sk)o
(eleton)g(\002le)f(and)h(bin\002le)g(has)g(to)f(be)h(e)o(xactly)f(the)h
(same)g(as)0 4664 y(the)g(one)g(on)f(the)h(ML)g(source)g(\002le.)k
(This)c(guarantees)g(that)g(all)f(changes)h(to)g(a)g(source)f(will)h
(be)g(noticed)2981 4634 y Ff(2)3013 4664 y Fm(.)0 4814
y(CM)e(also)f(uses)h(time)g(stamps)g(to)f(decide)h(whether)g(tools)g
(such)f(as)h(ML-Y)-8 b(acc)19 b(or)f(ML-Le)o(x)h(need)g(to)f(be)h(run)g
(\(see)g(Section)f(10\).)25 b(Ho)n(we)n(v)o(er)m(,)0
4913 y(the)j(dif)n(ference)g(is)g(that)g(a)g(\002le)g(is)g(considered)g
(outdated)g(if)g(it)g(is)g(older)g(than)g(its)g(source.)47
b(Some)28 b(care)g(on)g(the)g(programmers)g(side)g(is)0
5013 y(necessary)18 b(since)h(this)f(scheme)g(does)h(not)f(allo)n(w)g
(CM)h(to)f(detect)g(the)h(situation)f(where)g(a)h(source)f(\002le)g
(gets)h(replaced)f(by)g(an)h(older)f(v)o(ersion)0 5113
y(of)j(itself.)p 0 5167 1608 4 v 90 5222 a Fe(2)120 5246
y Fd(e)o(xcept)c(for)f(the)h(pathological)f(case)h(where)g(tw)o(o)g
(dif)n(ferent)g(v)o(ersions)f(of)h(the)f(same)h(source)g(\002le)f(ha)o
(v)o(e)g(e)o(xactly)h(the)g(same)f(time)h(stamp)1968
5709 y Fm(17)p eop
%%Page: 18 18
18 17 bop 0 83 a Fn(10)120 b(T)-11 b(ools)0 317 y Fm(CM')-5
b(s)23 b(tool)f(set)h(is)f(e)o(xtensible:)29 b(ne)n(w)23
b(tools)f(can)h(be)f(added)h(by)f(writing)h(a)f(fe)n(w)g(lines)h(of)f
(ML)h(code.)31 b(The)22 b(necessary)h(hooks)f(for)h(this)f(are)0
417 y(pro)o(vided)f(by)f(a)h(structure)g Fk(Tools)g Fm(which)f(is)h(e)o
(xported)g(by)f(the)h Fk(smlnj/cm/tools.cm)g Fm(library)-6
b(.)0 565 y(If)21 b(the)g(tool)f(is)h(implemented)g(as)g(a)f
(\223typical\224)h(shell)g(command,)g(then)f(all)h(that)g(needs)g(to)f
(be)h(done)g(is)g(a)f(single)h(call)g(to:)0 792 y Fk
(Tools.registerStdShellCmdTool)0 1020 y Fm(F)o(or)28
b(e)o(xample,)i(suppose)e(you)g(ha)o(v)n(e)h(made)f(a)g(ne)n(w)-5
b(,)30 b(impro)o(v)n(ed)f(v)n(ersion)g(of)f(ML-Y)-8 b(acc)28
b(\(\223Ne)n(w-ML-Y)-9 b(acc\224\))29 b(and)f(w)o(ant)g(to)h(re)n
(gister)g(it)0 1119 y(under)21 b(a)g(class)f(called)h
Fk(nmlyacc)p Fm(.)26 b(Here)21 b(is)f(what)h(you)g(write:)0
1347 y Fk(val)50 b(_)g(=)f(Tools.registerStdShellCmdTool)100
1447 y({)h(tool)g(=)f("New-ML-Yacc",)199 1546 y(class)h(=)g("nmlyacc",)
199 1646 y(suffixes)g(=)g(["ngrm",)f("ny"],)199 1746
y(cmdStdPath)h(=)g("new-ml-yacc",)199 1845 y(template)g(=)g(NONE,)199
1945 y(extensionStyle)g(=)399 2044 y(Tools.EXTEND)g([\("sig",)g(SOME)f
("sml",)h(fn)g(_)g(=>)g(NONE\),)1096 2144 y(\("sml",)g(SOME)g("sml",)f
(fn)h(x)g(=>)g(x\)],)199 2244 y(dflopts)g(=)g(NONE)f(})0
2471 y Fm(This)16 b(code)g(can)f(either)h(be)g(packaged)g(as)f(a)h(CM)g
(library)g(or)g(entered)f(at)h(the)g(interacti)n(v)o(e)f(top)h(le)n(v)o
(el)g(after)f(loading)h(the)g Fk(smlnj/cm/tools.cm)0
2571 y Fm(library)21 b(\(via)g Fk(CM.make)f Fm(or)h Fk(CM.load)p
1206 2571 25 4 v 30 w(plugin)p Fm(\).)0 2719 y(In)28
b(our)f(e)o(xample,)i(the)f(shell)f(command)h(name)g(for)f(our)h(tool)f
(is)h Fk(new-ml-yacc)p Fm(.)46 b(When)28 b(looking)g(for)f(this)h
(command)f(in)h(the)g(\002le)0 2819 y(system,)d(CM)f(\002rst)h(tries)f
(to)g(treat)h(it)f(as)g(a)h(path)f(anchor)g(\(see)h(section)f(3.3\).)36
b(F)o(or)24 b(e)o(xample,)h(suppose)g Fk(new-ml-yacc)f
Fm(is)g(mapped)g(to)0 2918 y Fk(/bin)p Fm(.)h(In)20 b(this)g(case)g
(the)g(command)f(to)h(be)g(in)m(v)n(ok)o(ed)g(w)o(ould)g(be)g
Fk(/bin/new-ml-yacc)p Fm(.)25 b(If)20 b(path)g(anchor)g(resolution)g(f)
o(ails,)g(then)g(the)0 3018 y(command)h(name)g(will)f(be)h(used)g
(as-is.)26 b(Normally)20 b(this)h(causes)g(the)g(shell')-5
b(s)21 b(path)f(search)h(mechanism)g(to)g(be)g(used)f(as)h(a)g(f)o
(allback.)0 3166 y Fk(Tools.registerStdShellCmdTool)i
Fm(creates)f(the)h(class)f(and)h(installs)f(the)h(tool)f(for)h(it.)31
b(The)23 b(ar)n(guments)g(must)f(be)h(speci\002ed)0 3266
y(as)e(follo)n(ws:)0 3493 y Fi(tool)42 b Fm(a)20 b(descripti)n(v)o(e)h
(name)f(of)h(the)g(tool)g(\(used)f(in)h(error)g(messages\))0
3658 y Fi(class)42 b Fm(the)20 b(name)h(of)g(the)g(class;)f(the)h
(string)g(must)g(not)f(contain)h(upper)n(-case)g(letters)0
3822 y Fi(suf\002xes)42 b Fm(a)20 b(list)h(of)g(\002le)g(name)f(suf)n
(\002x)o(es)h(that)f(let)h(CM)g(automatically)g(recognize)g(\002les)f
(of)h(the)g(class)0 3987 y Fi(cmdStdP)o(ath)42 b Fm(the)20
b(command)h(string)g(from)g(abo)n(v)o(e)0 4152 y Fi(template)42
b Fm(an)20 b(optional)h(string)g(that)g(describes)f(ho)n(w)h(the)g
(command)f(line)h(is)g(to)g(be)g(constructed)f(from)h(pieces;)208
4251 y(The)g(string)g(is)f(tak)o(en)h(v)o(erbatim)g(e)n(xcept)g(for)g
(embedded)g(\045)f(format)h(speci\002ers:)208 4416 y
Fi(\045c)42 b Fm(the)20 b(command)h(name)g(\(i.e.,)g(the)f(elaboration)
h(of)g Fk(cmdStdPath)p Fm(\))208 4532 y Fi(\045s)42 b
Fm(the)20 b(source)h(\002le)g(name)g(in)f(nati)n(v)o(e)h(pathname)f
(syntax)208 4647 y Fi(\045)p Fg(n)p Fi(t)42 b Fm(the)20
b Fg(n)p Fm(-th)h(tar)o(get)f(\002le)h(in)g(nati)n(v)n(e)g(pathname)g
(syntax;)390 4747 y(\()p Fg(n)28 b Fm(is)f(speci\002ed)h(as)f(a)h
(decimal)f(number)m(,)i(counting)f(starts)g(at)f Fc(1)p
Fm(,)i(and)f(each)g(tar)n(get)g(\002le)f(name)h(is)f(constructed)h
(from)g(the)390 4846 y(corresponding)17 b Fk(extensionStyle)g
Fm(entry;)h(if)f Fg(n)g Fm(is)g Fc(0)g Fm(\(or)g(missing\),)h(then)f
(all)f(tar)o(gets\227separated)h(by)g(single)g(spaces\227)390
4946 y(are)26 b(inserted;)j(if)d Fg(n)g Fm(is)h(not)f(in)g(the)g(range)
g(between)h Fc(0)f Fm(and)g(the)g(number)g(of)g(a)o(v)n(ailable)g(tar)n
(gets,)i(then)e Fi(\045)p Fg(n)p Fi(t)g Fm(e)o(xpands)g(into)390
5046 y(itself\))208 5161 y Fi(\045)p Fg(n)p Fi(o)42 b
Fm(the)20 b Fg(n)p Fm(-th)h(option;)390 5261 y(\()p Fg(n)g
Fm(is)g(speci\002ed)g(as)g(a)g(decimal)g(number)m(,)g(counting)g
(starts)g(at)g Fc(1)p Fm(;)g(if)g Fg(n)g Fm(is)g Fc(0)g
Fm(\(or)g(missing\),)g(then)g(all)g(options\227separated)g(by)390
5360 y(single)g(spaces\227are)f(inserted;)h(if)f Fg(n)h
Fm(is)g(not)f(in)h(the)f(range)h(between)f Fc(0)h Fm(and)g(the)f
(number)h(of)f(a)o(v)n(ailable)g(options,)h(then)f Fi(\045)p
Fg(n)p Fi(o)390 5460 y Fm(e)o(xpands)h(into)f(itself\))1968
5709 y(18)p eop
%%Page: 19 19
19 18 bop 208 83 a Fi(\045)p Fg(x)42 b Fm(the)20 b(character)h
Fg(x)g Fm(\(where)g Fg(x)f Fm(is)h(neither)g Fi(c)p Fm(,)g(nor)f
Fi(s)p Fm(,)h Fi(t)p Fm(,)g(or)g Fi(o)p Fm(\))208 249
y(If)g(no)g(template)f(string)h(is)g(gi)n(v)n(en)g(it)g(def)o(aults)g
(to)g Fk("\045c)49 b(\045s")p Fm(.)0 415 y Fi(extensionStyle)42
b Fm(a)20 b(speci\002cation)h(of)g(ho)n(w)f(the)h(names)g(of)g(\002les)
f(generated)h(by)g(the)g(tool)g(relate)f(to)h(the)g(name)g(of)f(the)h
(tool)g(input)g(\002le;)208 515 y(Currently)-5 b(,)20
b(there)h(are)g(tw)o(o)g(possible)g(cases:)286 681 y(1.)42
b(\223)p Fk(Tools.EXTEND)20 b Fg(l)r Fm(\224)h(says)g(that)g(if)g(the)g
(tool)g(source)g(\002le)g(is)g Fl(\002le)f Fm(then)h(for)g(each)g(suf)n
(\002x)g Fl(sfx)g Fm(in)g Fk(\(map)50 b(#1)g Fg(l)q Fk(\))21
b Fm(there)g(will)390 780 y(be)26 b(one)h(tool)f(output)g(\002le)g
(named)h Fl(\002le)p Fk(.)p Fl(sfx)p Fm(.)42 b(The)26
b(list)g Fg(l)i Fm(consists)f(of)f(triplets)g(where)g(the)h(\002rst)f
(component)g(speci\002es)h(the)390 880 y(suf)n(\002x)e(string,)g(where)
g(the)g(second)f(component)h(optionally)f(speci\002es)h(the)g(member)f
(class)h(name)g(of)f(the)h(corresponding)390 980 y(deri)n(v)o(ed)c
(\002le,)h(and)g(where)g(the)g(third)f(component)h(is)g(a)g(function)f
(to)h(calculate)g(tool)g(options)f(for)h(the)g(tar)n(get)g(from)g
(those)g(of)390 1079 y(the)f(source.)k(\(Ar)o(gument)c(and)g(result)f
(type)h(of)g(these)g(functions)f(is)h Fk(string)50 b(list)g(option)p
Fm(.\))286 1212 y(2.)42 b(\223)p Fk(Tools.REPLACE)49
b Fc(\()p Fg(l)1181 1224 y Fb(1)1219 1212 y Fg(;)14 b(l)1281
1224 y Fb(2)1318 1212 y Fc(\))p Fm(\224)i(speci\002es)g(that)f(gi)n(v)o
(en)h(the)g(base)f(name)h Fl(base)g Fm(there)g(will)f(be)h(one)g(tool)g
(output)g(\002le)f Fl(base)p Fk(.)p Fl(sfx)390 1312 y
Fm(for)23 b(each)g(suf)m(\002x)g Fl(sfx)g Fm(in)g Fk(\(map)50
b(#1)f Fg(l)1520 1324 y Fb(2)1557 1312 y Fk(\))p Fm(.)32
b(Here,)23 b Fl(base)g Fm(is)g(determined)f(by)h(the)g(follo)n(wing)g
(rule:)29 b(If)23 b(the)g(name)g(of)f(the)h(tool)390
1411 y(input)18 b(\002le)g(has)f(a)h(suf)n(\002x)g(that)f(occurs)h(in)g
Fg(l)1574 1423 y Fb(1)1629 1411 y Fm(then)g Fl(base)g
Fm(is)f(the)h(name)g(without)g(that)f(suf)n(\002x.)25
b(Otherwise,)18 b(the)g(whole)g(\002le)g(name)390 1511
y(is)g(tak)o(en)g(as)g Fl(base)g Fm(\(just)g(lik)o(e)g(in)g(the)g(case)
g(of)g Fk(Tools.EXTEND)p Fm(\).)g(As)g(with)f Fk(Tools.EXTEND)p
Fm(,)h(the)g(second)g(components)390 1611 y(of)23 b(the)f(elements)h
(of)g Fg(l)1041 1623 y Fb(2)1100 1611 y Fm(can)g(optionally)f(specify)h
(the)g(member)f(class)h(name)g(of)f(the)h(corresponding)g(deri)m(v)o
(ed)g(\002le)g(and)f(the)390 1710 y(third)f(component)g(maps)f(source)h
(options)g(to)g(tar)n(get)g(options.)0 1876 y Fi(d\003opts)42
b Fm(an)30 b(optional)g(list)h(of)f(strings)h(which)f(is)h(used)f(for)h
(substituting)f Fi(\045)p Fg(n)p Fi(o)h Fm(\002elds)f(in)h
Fk(template)f Fm(\(see)h(abo)n(v)o(e\))g(if)f(no)g(options)208
1976 y(were)d(speci\002ed.)44 b(\(Note)27 b(that)g(the)g(v)n(alue)g(of)
g Fk(dflopts)g Fm(is)g(ne)n(v)o(er)g(passed)g(to)g(the)g(option)g
(mappers)f(in)h Fk(Tools.EXTEND)g Fm(or)208 2076 y Fk(Tools.REPLACE)p
Fm(.\))0 2308 y(Less)21 b(common)g(kinds)f(of)h(rules)g(can)g(also)f
(be)h(de\002ned)g(using)g(the)f(generic)h(interf)o(ace)g
Fk(Tools.registerClass)p Fm(.)0 2595 y Fj(10.1)100 b(Plug-in)25
b(T)-10 b(ools)0 2801 y Fm(If)28 b(CM)h(comes)f(across)g(a)h(member)f
(class)h(name)f Fg(c)g Fm(that)h(it)f(does)g(not)h(kno)n(w)f(about,)i
(then)f(it)f(tries)g(to)h(load)f(a)g(plugin)h(module)f(named)0
2901 y Fg(c)p Fk(-tool.cm)p Fm(.)37 b(If)24 b(it)g(sees)h(a)f(\002le)h
(whose)f(name)g(ends)h(in)f(suf)n(\002x)h Fg(s)f Fm(for)g(which)h(no)f
(member)h(class)f(has)g(been)h(speci\002ed)f(and)h(for)f(which)0
3000 y(member)29 b(classi\002cation)h(f)o(ails,)i(then)d(it)h(tries)f
(to)g(load)h(a)f(plugin)h(module)f(named)h Fg(s)p Fk(-ext.cm)p
Fm(.)51 b(The)30 b(so-loaded)f(module)h(can)f(then)0
3100 y(re)o(gister)21 b(the)f(required)h(tool)g(which)g(enables)f(CM)h
(to)g(successfully)g(deal)f(with)h(the)g(pre)n(viously)g(unkno)m(wn)g
(member)l(.)0 3249 y(This)j(mechanism)g(mak)o(es)g(it)g(possible)g(for)
g(ne)n(w)g(tools)g(to)g(be)g(added)g(by)g(simply)g(placing)f
(appropriately-named)h(plug-in)g(libraries)g(in)0 3349
y(such)d(a)g(w)o(ay)f(that)h(CM)g(can)g(\002nd)f(them.)26
b(This)21 b(can)g(be)f(done)h(in)g(one)g(of)f(two)g(ways:)104
3581 y(1.)42 b(F)n(or)21 b(general-purpose)f(tools)h(that)f(are)h
(installed)f(in)h(some)f(central)h(place,)f(corresponding)h(tool)f
(description)h(\002les)f Fg(c)p Fk(-tool.cm)208 3681
y Fm(and)j Fg(s)p Fk(-ext.cm)g Fm(should)f(be)h(re)o(gistered)g(using)f
(the)h(path)g(anchor)g(mechanism.)31 b(If)23 b(this)g(is)g(done,)g
(actual)g(description)f(\002les)h(can)208 3781 y(be)e(placed)g(in)f
(arbitrary)h(locations.)104 3947 y(2.)42 b(F)n(or)23
b(special-purpose)f(tools)h(that)f(are)h(part)f(of)g(a)h(speci\002c)f
(program)h(and)f(for)h(which)f(there)h(is)f(no)h(need)f(for)h(central)f
(installation,)208 4046 y(one)33 b(should)g(simply)h(put)f(the)g(tool)g
(description)h(\002les)f(into)g(the)g(same)g(directory)h(as)f(the)g
(one)g(that)h(contains)f(their)g(\223client\224)208 4146
y(description)21 b(\002le.)0 4476 y Fn(11)120 b(P)n(arallel)30
b(and)g(distrib)n(uted)g(compilation)0 4711 y Fm(T)-7
b(o)21 b(speed)g(up)f(recompilation)h(of)g(lar)n(ge)g(projects)f(with)h
(man)o(y)f(ML)h(source)g(\002les,)f(CM)h(can)g(e)n(xploit)g
(parallelism)g(that)f(is)h(inherent)f(in)h(the)0 4811
y(dependenc)o(y)i(graph.)34 b(Currently)-5 b(,)24 b(the)f(only)h(kind)f
(of)h(operating)f(system)h(for)f(which)h(this)f(is)h(implemented)f(is)h
(Unix)f(\()p Fk(OPSYS)p 3749 4811 25 4 v 30 w(UNIX)p
Fm(\),)0 4911 y(where)31 b(separate)f(processes)h(are)g(used.)55
b(From)31 b(there,)i(one)d(can)h(distrib)n(ute)g(the)g(w)o(ork)g
(across)f(a)h(netw)o(ork)g(of)f(machines)h(by)g(taking)0
5010 y(adv)n(antage)21 b(of)f(the)h(netw)o(ork)g(\002le)g(system)g(and)
f(the)h(\223rsh\224)g(f)o(acility)-5 b(.)0 5160 y(T)e(o)16
b(perform)g(parallel)g(compilations,)g(one)g(must)g(attach)g
(\223compile)g(serv)n(ers\224)g(to)g(CM.)g(This)f(is)h(done)g(using)g
(function)g Fk(CM.Server.start)0 5259 y Fm(with)21 b(the)g(follo)m
(wing)g(signature:)1968 5709 y(19)p eop
%%Page: 20 20
20 19 bop 100 83 a Fk(structure)50 b(Server)g(:)f(sig)199
183 y(type)h(server)199 282 y(val)g(start)g(:)f({)h(name:)g(string,)897
382 y(cmd:)g(string)g(*)f(string)h(list,)897 482 y(pathtrans:)g
(\(string)g(->)f(string\))h(option,)897 581 y(pref:)g(int)g(})f(->)h
(server)g(option)100 681 y(end)0 882 y Fm(Here,)21 b
Fk(name)g Fm(is)f(a)h(string)g(uniquely)g(identifying)f(the)h(serv)o
(er)g(and)f Fk(cmd)h Fm(is)g(a)g(v)n(alue)f(suitable)h(as)g(ar)n
(gument)g(to)g Fk(Unix.execute)p Fm(.)0 1022 y(The)32
b(program)h(to)f(be)h(speci\002ed)f(by)h Fk(cmd)f Fm(should)h(be)f
(another)h(instance)f(of)g(CM\227running)h(in)f(\223sla)o(v)n(e)h
(mode\224.)61 b(T)-7 b(o)33 b(start)f(CM)g(in)0 1122
y(sla)n(v)o(e)h(mode,)k(start)c Fk(sml)g Fm(with)h(a)f(single)g
(command-line)g(ar)o(gument)g(of)g Fk(@CMslave)p Fm(.)64
b(F)n(or)34 b(e)n(xample,)j(if)c(you)g(ha)o(v)o(e)g(installed)g(in)0
1222 y(/path/to/smlnj/bin/sml,)21 b(then)g(a)f(serv)o(er)h(process)g
(on)f(the)h(local)g(machine)g(could)f(be)h(started)g(by)100
1423 y Fk(CM.Server.start)50 b({)g(name)f(=)h("A",)g(pathtrans)g(=)g
(NONE,)g(pref)f(=)h(0,)996 1522 y(cmd)g(=)g
(\("/path/to/smlnj/bin/sml",)1345 1622 y(["@CMslave"]\))g(};)0
1823 y Fm(T)-7 b(o)24 b(run)f(a)g(process)g(on)g(a)g(remote)h(machine,)
f(e.g.,)h(\223thatmachine\224,)g(as)f(compute)g(serv)o(er)m(,)g(one)h
(can)f(use)g(\223rsh\224.)3265 1793 y Ff(3)3331 1823
y Fm(Unfortunately)-5 b(,)23 b(at)h(the)0 1923 y(moment)e(it)h(is)f
(necessary)h(to)f(specify)h(the)f(full)h(path)f(to)h(\223rsh\224)f
(because)h Fk(Unix.execute)f Fm(\(and)h(therefore)f Fk(CM.Server.start)
p Fm(\))0 2022 y(does)f(not)f(perform)h(a)g Fk(PATH)f
Fm(search.)26 b(The)21 b(remote)g(machine)f(must)h(share)g(the)f
(\002le)h(system)g(with)f(the)h(local)g(machine,)f(for)h(e)o(xample)g
(via)0 2122 y(NFS.)100 2323 y Fk(CM.Server.start)50 b({)g(name)f(=)h
("thatmachine",)996 2423 y(pathtrans)g(=)g(NONE,)f(pref)h(=)g(0,)996
2522 y(cmd)g(=)g(\("/usr/ucb/rsh",)1345 2622 y(["thatmachine",)1395
2722 y("/path/to/smlnj/bin/sml",)1395 2821 y("@CMslave"]\))g(};)0
3022 y Fm(Y)-9 b(ou)24 b(can)g(start)g(as)g(man)o(y)g(serv)o(ers)g(as)g
(you)g(want,)h(b)n(ut)f(the)o(y)g(all)g(must)g(ha)n(v)o(e)g(dif)n
(ferent)g(names.)36 b(If)24 b(you)h(attach)f(an)n(y)h(serv)n(ers)f(at)h
(all,)f(then)0 3122 y(you)c(should)h(attach)f(at)g(least)h(tw)o(o)f
(\(unless)g(you)h(w)o(ant)f(to)h(attach)f(one)g(that)h(runs)f(on)g(a)h
(machine)f(v)n(astly)g(more)h(po)m(werful)g(than)f(your)g(local)0
3222 y(one\).)32 b(Local)23 b(serv)n(ers)g(mak)o(e)g(sense)g(on)f
(multi-CPU)h(machines:)30 b(start)23 b(as)f(man)o(y)h(serv)o(ers)g(as)f
(there)h(are)g(CPUs.)32 b(P)n(arallel)23 b(mak)o(e)g(is)g(most)0
3321 y(ef)n(fecti)n(v)o(e)c(on)h(multiprocessor)f(machines)h(because)f
(network)g(latencies)h(can)f(ha)o(v)n(e)h(a)f(se)n(v)o(erely)h
(limiting)f(ef)n(fect)h(on)f(what)h(can)f(be)h(g)o(ained)0
3421 y(in)j(the)g(distrib)n(uted)g(case.)32 b(\(Be)23
b(careful,)h(though.)32 b(Since)23 b(there)g(is)g(no)g(memory-sharing)g
(to)g(speak)f(of)h(between)g(separate)g(instances)g(of)0
3521 y Fk(sml)p Fm(,)e(you)g(should)f(be)h(sure)g(to)g(check)f(that)h
(your)g(machine)g(has)f(enough)h(main)g(memory)-6 b(.\))0
3661 y(If)24 b(serv)n(ers)g(on)f(machines)h(of)f(dif)n(ferent)h(po)n
(wer)f(are)h(attached,)g(one)g(can)f(gi)n(v)o(e)g(some)h(preference)f
(to)h(f)o(aster)g(ones)f(by)h(setting)f(the)h Fk(pref)0
3761 y Fm(v)n(alue)19 b(higher)l(.)25 b(\(But)20 b(since)f(the)h
Fk(pref)f Fm(v)n(alue)h(is)f(consulted)h(only)f(in)h(the)f(rare)h(case)
f(that)h(more)g(than)f(one)h(serv)n(er)g(is)f(idle,)h(this)g(will)f
(rarely)0 3860 y(lead)k(to)h(v)m(astly)g(better)f(throughput.\))33
b(All)24 b(attached)f(serv)o(ers)g(must)g(use)h(the)f(same)g
(architecture-OS)g(combination)h(as)f(the)g(controlling)0
3960 y(machine.)0 4100 y(In)30 b(parallel)g(mode,)i(the)e(master)g
(process)g(itself)f(normally)h(does)g(not)g(compile)g(an)o(ything.)53
b(Therefore,)32 b(if)e(you)g(w)o(ant)g(to)g(utilize)g(the)0
4200 y(master')-5 b(s)20 b(CPU)f(for)h(compilation,)g(you)f(should)h
(start)f(a)h(compile)f(serv)o(er)h(on)f(the)h(same)f(machine)h(that)f
(the)h(master)f(runs)h(on)f(\(e)n(v)o(en)h(if)f(it)h(is)0
4300 y(a)h(uniprocessor)g(machine\).)0 4440 y(The)i Fk(pathtrans)g
Fm(ar)o(gument)g(is)g(used)h(when)f(connecting)g(to)g(a)h(machine)f
(with)g(a)g(dif)n(ferent)h(\002le-system)f(layout.)33
b(F)o(or)23 b(local)g(serv)o(ers,)0 4540 y(it)28 b(can)g(safely)g(be)h
(left)f(at)g Fk(NONE)p Fm(.)g(The)g(\223path)g(transformation\224)g
(function)h(is)f(used)g(to)g(translate)g(local)g(path)g(names)h(to)f
(their)g(remote)0 4639 y(counterparts.)42 b(This)26 b(can)g(be)g(a)h
(bit)f(trick)o(y)g(to)g(get)g(right,)i(especially)e(if)g(the)g
(machines)g(use)g(automounters)h(or)f(similar)g(de)n(vices.)42
b(The)0 4739 y Fk(pathtrans)21 b Fm(functions)g(consumes)f(and)h
(produces)g(names)g(in)f(CM')l(s)g(internal)h(\223protocol)g
(encoding\224)g(\(see)g(Section)f(11.1\).)0 4879 y(Once)25
b(serv)o(ers)g(ha)n(v)o(e)g(been)g(attached,)i(one)e(can)g(in)l(v)o(ok)
o(e)g(functions)g(lik)o(e)h Fk(CM.recomp)p Fm(,)g Fk(CM.make)p
Fm(,)g(and)f Fk(CM.stabilize)p Fm(.)39 b(The)o(y)0 4979
y(should)21 b(w)o(ork)g(the)f(way)g(the)h(al)o(w)o(ays)g(do,)g(b)n(ut)g
(during)g(compilation)g(the)n(y)g(will)g(tak)o(e)g(adv)n(antage)f(of)h
(parallelism.)0 5120 y(When)f(CM)h(is)f(interrupted)h(using)f
(Control-C)h(\(or)f(such\),)h(one)f(will)h(sometimes)f(e)o(xperience)g
(a)h(certain)f(delay)g(if)h(serv)o(ers)f(are)h(currently)0
5219 y(attached)j(and)g(b)n(usy)-5 b(.)36 b(This)24 b(is)g(because)g
(the)g(interrupt-handling)g(code)g(will)g(w)o(ait)g(for)g(the)g(serv)o
(ers)g(to)g(\002nish)g(what)g(the)o(y)g(are)g(currently)0
5319 y(doing)d(and)g(bring)f(them)h(back)g(to)g(an)f(\223idle\224)h
(state)g(\002rst.)p 0 5381 1608 4 v 90 5437 a Fe(3)120
5460 y Fd(On)c(certain)f(systems)h(it)f(may)h(be)g(necessary)f(to)h
(wrap)f Fa(rsh)h Fd(into)g(a)f(script)h(that)f(protects)h(rsh)g(from)f
(interrupt)h(signals.)1968 5709 y Fm(20)p eop
%%Page: 21 21
21 20 bop 0 83 a Fj(11.1)100 b(P)o(athname)25 b(pr)n(otocol)g(encoding)
0 289 y Fm(The)c(master)n(-sla)n(v)o(e)g(protocol)g(encodes)f
(pathnames)h(in)g(the)g(follo)n(wing)f(way:)0 438 y(A)30
b(pathname)g(consists)h(of)f Fi(/)p Fm(-separated)g(arcs)g(\(like)g
(Unix)g(patnames\).)54 b(The)30 b(\002rst)h(arc)f(can)g(be)g
(interpreted)h(relati)n(v)n(e)g(to)f(the)g(current)0
538 y(w)o(orking)21 b(directory)-5 b(,)20 b(relati)n(v)o(e)h(to)g(the)g
(root)f(of)h(the)g(\002le)g(system,)g(relati)n(v)n(e)g(to)g(the)g(root)
g(of)g(a)f(v)o(olume)h(\(on)f(systems)h(that)g(support)g(separate)0
637 y(v)n(olumes\),)i(or)f(relati)n(v)o(e)h(to)f(a)g(directory)h(that)f
(corresponds)g(to)h(a)f(pathname)g(anchor)l(.)30 b(The)23
b(\002rst)f(character)h(of)f(the)g(pathname)h(is)f(used)g(to)0
737 y(distinguish)f(between)g(these)f(cases.)125 969
y Fh(\017)42 b Fm(If)20 b(the)h(name)g(starts)g(with)f
Fi(./)p Fm(,)h(then)g(the)g(name)f(is)h(relati)n(v)o(e)g(to)f(the)h(w)o
(orking)g(directory)-5 b(.)125 1135 y Fh(\017)42 b Fm(If)20
b(the)h(name)g(starts)g(with)f Fi(/)p Fm(,)h(then)g(the)g(name)f(is)h
(relati)n(v)o(e)g(to)f(the)h(\002le)g(system)g(root.)125
1301 y Fh(\017)42 b Fm(If)20 b(the)h(name)f(starts)h(with)f
Fi(\045)p Fm(,)h(then)g(the)f(substring)h(between)f(this)h
Fi(\045)f Fm(and)h(the)g(\002rst)f Fi(/)h Fm(is)f(used)h(as)f(the)h
(name)g(of)f(a)h(v)n(olume)g(and)f(the)208 1401 y(remaining)h(arcs)g
(are)f(interpreted)h(relati)n(v)o(e)f(to)h(the)g(root)g(of)f(that)h(v)o
(olume.)125 1567 y Fh(\017)42 b Fm(If)23 b(the)g(name)h(starts)f(with)g
Fi($)p Fm(,)h(then)g(the)f(substring)h(between)f(this)g
Fi($)h Fm(and)f(the)g(\002rst)h Fi(/)f Fm(must)g(be)h(the)f(name)h(of)f
(a)g(pathname)h(anchor)-5 b(.)208 1667 y(The)21 b(remaining)g(arcs)f
(are)h(interpreted)g(relati)n(v)n(e)g(to)g(the)g(directory)f(that)h
(\(on)g(the)g(sla)n(v)o(e)g(side\))f(is)h(denoted)g(by)g(the)f(anchor)l
(.)125 1833 y Fh(\017)42 b Fm(An)n(y)21 b(other)g(name)g(is)f
(interpreted)h(relati)n(v)o(e)f(to)h(the)g(current)g(w)o(orking)g
(directory)-6 b(.)0 2120 y Fj(11.2)100 b(P)o(arallel)25
b(bootstrap)f(compilation)0 2326 y Fm(The)33 b(bootstrap)g(compiler)801
2296 y Ff(4)866 2326 y Fm(with)g(its)g(main)g(function)g
Fk(CMB.make)h Fm(and)f(the)g(corresponding)g(cross-compilation)g(v)n
(ariants)g(of)g(the)0 2425 y(bootstrap)25 b(compiler)g(will)g(also)g
(use)g(an)o(y)g(attached)g(compile)g(serv)n(ers.)39 b(If)25
b(one)g(intends)g(to)g(e)n(xclusi)n(v)o(ely)g(use)g(the)g(bootstrap)g
(compiler)m(,)0 2525 y(one)c(can)g(e)m(v)o(en)g(attach)g(serv)n(ers)g
(that)g(run)g(on)f(machines)h(with)g(dif)n(ferent)g(architecture)f(or)h
(operating)g(system.)0 2674 y(Since)d(the)h(master)n(-sla)n(v)o(e)f
(protocol)h(is)f(f)o(airly)g(simple,)h(it)f(cannot)h(handle)f
(complicated)g(scenarios)g(such)h(as)f(the)g(one)h(necessary)f(for)g
(com-)0 2774 y(piling)g(the)g(\223init)g(group\224)g(\(i.e.,)g(the)g
(small)g(set)g(of)g(\002les)g(necessary)g(for)g(setting)g(up)g(the)g
(\223perv)n(asi)n(v)n(e\224)g(en)m(vironment\))g(during)g
Fk(CMB.make)p Fm(.)0 2874 y(Therefore,)j(this)g(will)f(al)o(ways)g(be)h
(done)g(locally)g(by)f(the)h(master)g(process.)0 3204
y Fn(12)120 b(Example:)37 b(Dynamic)30 b(linking)0 3439
y Fm(Autoloading)23 b(is)h(con)m(v)n(enient)g(and)f(a)o(v)n(oids)g
(wasted)g(memory)g(for)h(modules)f(that)h(should)f(be)h(a)n(v)n
(ailable)g(at)f(the)g(interacti)n(v)o(e)h(prompt)f(b)n(ut)0
3539 y(ha)n(v)o(e)e(not)g(actually)g(been)g(used)g(so)f(far)-5
b(.)26 b(Ho)n(we)n(v)o(er)m(,)20 b(sometimes)h(one)g(w)o(ants)g(to)g
(be)g(e)n(v)o(en)g(more)g(aggressi)m(v)o(e)g(and)g(sa)n(v)o(e)g(the)g
(space)g(needed)0 3638 y(for)g(a)g(function)f(until\227at)h
(runtime\227that)g(function)g(is)f(actually)h(being)g(dynamically)g(in)
l(v)o(ok)o(ed.)0 3788 y(CM)k(does)h(not)f(pro)o(vide)g(immediate)h
(support)f(for)h(this)f(kind)g(of)h Fl(dynamic)f(linking)p
Fm(,)i(b)n(ut)f(it)f(is)g(quite)h(simple)f(to)h(achie)n(v)n(e)g(the)f
(ef)n(fect)g(by)0 3887 y(carefully)c(arranging)g(some)f(helper)h
(libraries)g(and)g(associated)f(stub)h(code.)0 4037 y(Consider)g(the)g
(follo)m(wing)g(module:)0 4253 y Fk(structure)50 b(F)g(=)f(struct)199
4352 y(fun)h(f)g(\(x:)f(int\):)h(int)g(=)399 4452 y(G.g)g(x)g(+)f(H.h)h
(\(2)g(*)g(x)g(+)g(1\))0 4551 y(end)0 4767 y Fm(Let)26
b(us)g(further)g(assume)f(that)h(the)g(implementations)g(of)g
(structures)g Fk(G)g Fm(and)g Fk(H)f Fm(are)h(rather)g(lar)o(ge)g(so)f
(that)h(it)g(w)o(ould)g(be)g(w)o(orthwhile)g(to)0 4867
y(a)n(v)o(oid)d(loading)g(the)h(code)f(for)h Fk(G)f Fm(and)g
Fk(H)h Fm(until)f Fk(F.f)h Fm(is)f(called)g(with)h(some)f(actual)h(ar)n
(gument.)34 b(Of)23 b(course,)h(if)g Fk(F)f Fm(were)h(bigger)l(,)g
(then)g(we)0 4967 y(also)d(w)o(ant)g(to)f(a)o(v)n(oid)h(loading)g
Fk(F)f Fm(itself.)0 5116 y(T)-7 b(o)32 b(achie)n(v)o(e)f(this)h(goal,)i
(we)d(\002rst)h(de\002ne)g(a)f Fl(hook)h Fm(module)f(which)h(will)f(be)
h(the)f(place)h(where)f(the)h(actual)g(implementation)f(of)h(our)0
5216 y(function)21 b(will)f(be)h(re)o(gistered)f(once)h(it)g(has)f
(been)h(loaded.)26 b(This)20 b(hook)h(module)g(is)f(then)h(wrapped)g
(into)f(a)h(hook)g(library)-6 b(.)26 b(Thus,)21 b(we)f(ha)o(v)o(e)0
5315 y Fk(f-hook.cm)p Fm(:)p 0 5369 1608 4 v 90 5425
a Fe(4)120 5448 y Fd(otherwise)d(not)f(mentioned)h(in)f(this)h
(document)1968 5709 y Fm(21)p eop
%%Page: 22 22
22 21 bop 0 83 a Fk(Library)399 183 y(structure)50 b(F_Hook)0
282 y(is)399 382 y(f-hook.sml)0 590 y Fm(and)21 b Fk(f-hook.sml)p
Fm(:)0 814 y Fk(structure)50 b(F_Hook)g(=)f(struct)199
913 y(local)399 1013 y(fun)h(placeholder)g(\(i:)f(int\))h(:)g(int)g(=)
598 1112 y(raise)g(Fail)g("F_Hook.f:)f(unitinialized")399
1212 y(val)h(r)g(=)f(ref)h(placeholder)199 1312 y(in)399
1411 y(fun)g(init)g(f)f(=)h(r)g(:=)g(f)399 1511 y(fun)g(f)g(x)f(=)h(!r)
g(x)199 1611 y(end)0 1710 y(end)0 1934 y Fm(The)26 b(hook)g(module)h
(pro)n(vides)g(a)f(reference)g(cell)g(into)g(which)h(a)f(function)g(of)
g(type)g(equal)h(to)f Fk(F.f)g Fm(can)g(be)h(installed.)42
b(Here)26 b(we)g(ha)n(v)o(e)0 2033 y(chosen)19 b(to)g(hide)g(the)g
(actual)g(reference)g(cell)g(behind)g(a)g Fi(local)g
Fm(construct.)25 b(Accessor)19 b(functions)g(are)g(pro)o(vided)g(to)g
(install)g(something)g(into)0 2133 y(the)i(hook)g(\()p
Fk(init)p Fm(\))f(and)h(to)g(in)l(v)o(ok)o(e)g(the)f(so-installed)h(v)n
(alue)g(\()p Fk(f)p Fm(\).)0 2280 y(W)m(ith)f(this)g(preparation)h(we)f
(can)g(write)h(the)f(implementation)g(module)h Fk(f-impl.sml)f
Fm(in)h(such)f(a)g(w)o(ay)h(that)f(not)g(only)h(does)f(it)h(pro)n(vide)
0 2379 y(the)g(actual)g(code)f(b)o(ut)g(also)h(installs)g(itself)g
(into)f(the)h(hook:)0 2588 y Fk(structure)50 b(F_Impl)g(=)f(struct)199
2687 y(local)399 2787 y(fun)h(f)g(\(x:)f(int\):)h(int)g(=)598
2886 y(G.g)g(x)g(+)f(H.h)h(\(2)g(*)g(x)g(+)g(1\))199
2986 y(in)399 3086 y(val)g(_)g(=)f(F_Hook.init)h(f)199
3185 y(end)0 3285 y(end)0 3493 y Fm(The)21 b(implementation)g(module)f
(is)h(wrapped)g(into)g(its)f(implementation)h(library)g
Fk(f-impl.cm)p Fm(:)0 3701 y Fk(Library)399 3801 y(structure)50
b(F_Impl)0 3901 y(is)399 4000 y(f-impl.sml)399 4100 y(f-hook.cm)399
4199 y(g.cm)349 b(\(*)50 b(imports)f(G)h(*\))399 4299
y(h.cm)349 b(\(*)50 b(imports)f(H)h(*\))0 4507 y Fm(Note)21
b(that)g Fk(f-impl.cm)f Fm(must)h(mention)g Fk(f-hook.cm)g
Fm(for)f Fk(f-impl.sml)h Fm(to)g(be)g(able)f(to)h(access)g(structure)g
Fk(F)p 3405 4507 25 4 v 29 w(Hook)p Fm(.)0 4654 y(Finally)-5
b(,)20 b(we)h(replace)g(the)g(original)f(contents)h(of)g
Fk(f.sml)g Fm(with)f(a)h(stub)g(module)g(that)f(de\002nes)h(structure)g
Fk(F)p Fm(:)0 4862 y Fk(structure)50 b(F)g(=)f(struct)199
4962 y(local)399 5061 y(val)h(initialized)g(=)f(ref)h(false)199
5161 y(in)399 5261 y(fun)g(f)g(x)f(=)598 5360 y(\(if)h(!initialized)g
(then)f(\(\))697 5460 y(else)h(if)g(CM.make)f("f-impl.cm")h(then)g
(initialized)g(:=)g(true)1968 5709 y Fm(22)p eop
%%Page: 23 23
23 22 bop 697 83 a Fk(else)50 b(raise)g(Fail)f("dynamic)h(linkage)g
(for)g(F.f)g(failed";)648 183 y(F_Hook.f)g(x\))199 282
y(end)0 382 y(end)0 598 y Fm(The)30 b(trick)g(here)g(is)g(to)g(e)o
(xplicitly)f(in)m(v)o(ok)o(e)h Fk(CM.make)g Fm(the)g(\002rst)g(time)f
Fk(F.f)h Fm(is)g(called.)54 b(This)30 b(will)g(then)g(cause)g
Fk(f-impl.cm)f Fm(\(and)0 697 y(therefore)19 b Fk(g.cm)g
Fm(and)h(also)f Fk(h.cm)p Fm(\))g(to)g(be)g(loaded)h(and)f(the)g
(\223real\224)g(implementation)g(of)g Fk(F.f)h Fm(to)f(be)g(re)o
(gistered)g(with)g(the)g(hook)h(module)0 797 y(from)h(where)g(it)f
(will)h(then)g(be)g(a)n(v)n(ailable)g(to)f(this)h(and)g(future)g(calls)
f(of)h Fk(F.f)p Fm(.)0 946 y(F)o(or)k(the)g(ne)n(w)g
Fk(f.sml)g Fm(to)g(be)g(compiled)g(successfully)g(it)g(must)g(be)g
(placed)g(into)g(a)g(library)g Fk(f.cm)g Fm(that)g(mentions)g
Fk(f-hook.cm)g Fm(and)0 1046 y Fk(full-cm.cm)p Fm(.)45
b(As)27 b(we)g(ha)n(v)o(e)g(seen,)h Fk(f-hook.cm)f Fm(e)o(xports)g
Fk(F)p 1985 1046 25 4 v 30 w(Hook.f)g Fm(and)g Fk(smlnj/cm/full.cm)g
Fm(is)g(needed)3626 1016 y Ff(5)3684 1046 y Fm(because)g(it)0
1146 y(e)o(xports)21 b Fk(CM.make)p Fm(:)0 1362 y Fk(Library)399
1461 y(structure)50 b(F)0 1561 y(is)399 1660 y(f.sml)399
1760 y(f-hook.cm)399 1860 y(smlnj/cm/full.cm)0 2076 y
Fi(Bewar)o(e!)30 b Fm(This)23 b(solution)f(makes)g(use)h(of)f
Fk(smlnj/cm/full.cm)h Fm(which)f(in)h(turn)f(requires)h(the)f(SML/NJ)h
(compiler)f(to)h(be)f(present.)0 2175 y(Therefore,)e(is)g(w)o
(orthwhile)g(only)g(for)g(really)g(lar)n(ge)g(program)g(modules)g
(where)g(the)g(bene\002ts)g(of)g(their)g(absence)g(are)g(not)g
(outweighed)g(be)0 2275 y(the)h(need)g(for)f(the)h(compiler)-5
b(.)0 2605 y Fn(13)120 b(Some)29 b(history)0 2840 y Fm(Although)20
b(its)g(programming)g(model)g(is)g(more)f(general,)i(CM')-5
b(s)20 b(implementation)g(is)g(closely)g(tied)g(to)f(the)h(Standard)g
(ML)g(programming)0 2940 y(language)h([MTHM97])g(and)f(its)h(SML/NJ)g
(implementation)g([AM91].)0 3089 y(The)16 b(current)g(v)n(ersion)g(is)g
(preceded)g(by)f(se)n(v)o(eral)h(other)g(compilation)f(managers,)i(the)
f(most)g(recent)f(goin)h(by)g(the)g(same)g(name)f(\223CM\224)h
([Blu95],)0 3189 y(while)23 b(earlier)f(ones)h(were)f(kno)n(wn)h(as)f
(IRM)h(\()p Fl(Incr)m(emental)g(Recompilation)f(Mana)o(ger)p
Fm(\))g([HLPR94b])h(and)f(SC)h(\(for)g Fl(Separ)n(ate)g(Compi-)0
3289 y(lation)p Fm(\))e([HLPR94a].)k(CM)c(o)n(wes)g(man)o(y)f(ideas)h
(to)g(SC)g(and)f(IRM.)0 3438 y(Separate)28 b(compilation)f(in)h(the)g
(SML/NJ)f(system)h(hea)n(vily)g(relies)f(on)h(mechanisms)g(for)f(con)m
(v)o(erting)g(static)h(en)m(vironments)f(\(i.e.,)j(the)0
3538 y(compiler')-5 b(s)22 b(symbol)g(tables\))g(into)f(linear)h(byte)g
(stream)g(suitable)g(for)f(storage)h(on)g(disks)g([AM94].)28
b(Ho)n(we)n(v)o(er)m(,)22 b(unlik)o(e)g(all)f(its)h(predeces-)0
3637 y(sors,)g(the)g(current)g(implementation)f(of)h(CM)g(is)g(inte)n
(grated)g(into)g(the)g(main)g(compiler)f(and)h(no)g(longer)g(relies)f
(on)h(the)g Fl(V)-6 b(isible)22 b(Compiler)0 3737 y Fm(interf)o(ace.)p
0 5381 1608 4 v 90 5436 a Fe(5)120 5460 y Fd(The)17 b(reduced)f(v)o
(ersion)h(of)f(structure)h Fa(CM)g Fd(as)f(e)o(xported)h(by)f(library)h
Fa(smlnj/cm/minimal.cm)g Fd(w)o(ould)g(ha)n(v)o(e)g(been)f(suf)o
(\002cient,)g(too.)1968 5709 y Fm(23)p eop
%%Page: 24 24
24 23 bop 0 83 a Fn(Contents)0 318 y Fi(1)83 b(Intr)o(oduction)3403
b(1)0 551 y(2)83 b(The)21 b(CM)g(model)3318 b(1)125 700
y Fm(2.1)87 b(Library)21 b(descriptions)30 b(.)42 b(.)f(.)h(.)g(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)139 b(2)125 850 y(2.2)87 b(Name)21
b(visibility)63 b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)
138 b(2)125 999 y(2.3)87 b(Groups)21 b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)139 b(2)125
1149 y(2.4)87 b(Multiple)21 b(occurences)g(of)f(the)h(same)g(member)77
b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)138
b(3)125 1298 y(2.5)87 b(T)-6 b(op-le)m(v)o(el)21 b(groups)80
b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)139
b(3)0 1531 y Fi(3)83 b(Naming)21 b(objects)g(in)f(the)h(\002le)g
(system)2694 b(4)125 1680 y Fm(3.1)87 b(Moti)n(v)n(ation)25
b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)139
b(4)125 1829 y(3.2)87 b(Basic)21 b(rules)j(.)41 b(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)139 b(4)125 1979
y(3.3)87 b(Anchor)21 b(con\002guration)51 b(.)42 b(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)138 b(4)0 2211 y Fi(4)83 b(Using)21 b(CM)3492
b(5)125 2361 y Fm(4.1)87 b(Structure)21 b(CM)60 b(.)42
b(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)139
b(5)125 2510 y(4.2)87 b(The)21 b(autoloader)77 b(.)41
b(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)97 b(10)125
2660 y(4.3)87 b(Sharing)21 b(of)g(state)56 b(.)41 b(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)g(.)97 b(10)0 2892 y Fi(5)83 b(Member)21
b(classes)g(and)f(tools)2911 b(11)125 3042 y Fm(5.1)87
b(T)-6 b(ool)20 b(parameters)42 b(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)
h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)97 b(11)125 3191 y(5.2)87 b(Built-in)21
b(tools)74 b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)97
b(12)0 3423 y Fi(6)83 b(Conditional)21 b(compilation)2952
b(14)125 3573 y Fm(6.1)87 b(CM)21 b(v)n(ariables)67 b(.)42
b(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)98
b(14)125 3722 y(6.2)87 b(Querying)21 b(e)o(xported)f(de\002nitions)81
b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)g(.)97 b(15)125 3872 y(6.3)87 b(Explicit)21
b(errors)37 b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
97 b(15)125 4021 y(6.4)87 b(EBNF)21 b(for)g(e)n(xpressions)28
b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)97 b(16)0
4254 y Fi(7)83 b(Access)21 b(contr)n(ol)3305 b(16)0 4486
y(8)83 b(The)21 b(per)o(v)o(asi)o(v)o(e)g(en)m(vir)n(onment)2852
b(17)0 4719 y(9)83 b(Files)3646 b(17)125 4868 y Fm(9.1)87
b(T)m(ime)21 b(stamps)29 b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)97 b(17)0 5100 y Fi(10)42 b(T)-8 b(ools)3626
b(18)125 5250 y Fm(10.1)46 b(Plug-in)20 b(T)-6 b(ools)67
b(.)41 b(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)98
b(19)1968 5709 y(24)p eop
%%Page: 25 25
25 24 bop 0 83 a Fi(11)42 b(P)o(arallel)20 b(and)h(distrib)o(uted)f
(compilation)2531 b(19)125 232 y Fm(11.1)46 b(P)n(athname)21
b(protocol)g(encoding)64 b(.)42 b(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f
(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)98
b(21)125 382 y(11.2)46 b(P)n(arallel)21 b(bootstrap)g(compilation)75
b(.)42 b(.)f(.)h(.)g(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)
f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h(.)f(.)h
(.)f(.)h(.)f(.)h(.)f(.)98 b(21)0 614 y Fi(12)42 b(Example:)25
b(Dynamic)c(linking)2857 b(21)0 847 y(13)42 b(Some)20
b(history)3349 b(23)1968 5709 y Fm(25)p eop
%%Page: 26 26
26 25 bop 0 83 a Fn(Refer)n(ences)0 302 y Fm([AM91])161
b(Andre)n(w)27 b(W)-7 b(.)26 b(Appel)h(and)g(Da)n(vid)g(B.)g(MacQueen.)
49 b(Standard)27 b(ML)f(of)h(Ne)n(w)g(Jerse)o(y)-6 b(.)49
b(In)27 b(Martin)g(W)m(irsing,)h(editor)l(,)h Fl(3r)m(d)434
401 y(International)17 b(Symp.)g(on)h(Pr)l(o)o(g)o(.)f(Lang)o(.)g
(Implementation)g(and)h(Lo)o(gic)f(Pr)l(o)o(gr)o(amming)p
Fm(,)h(pages)f(1\22613,)h(Ne)n(w)f(Y)-9 b(ork,)18 b(August)434
501 y(1991.)j(Springer)n(-V)-9 b(erlag.)0 667 y([AM94])161
b(Andre)n(w)21 b(W)-7 b(.)21 b(Appel)g(and)g(Da)n(vid)g(B.)g(MacQueen.)
31 b(Separate)21 b(compilation)g(for)g(Standard)g(ML.)31
b(In)21 b Fl(Pr)l(oc.)g(SIGPLAN)g('94)434 767 y(Symp.)g(on)g(Pr)l(o)o
(g)o(.)f(Languag)o(e)h(Design)f(and)h(Implementation)p
Fm(,)g(v)n(olume)g(29,)g(pages)f(13\22623.)h(A)m(CM)g(Press,)f(June)h
(1994.)0 933 y([AMT89])111 b(Andre)n(w)23 b(W)-7 b(.)23
b(Appel,)h(James)g(S.)g(Mattson,)g(and)f(Da)o(vid)g(R.)h(T)-7
b(arditi.)39 b(A)24 b(le)o(xical)f(analyzer)h(generator)f(for)h
(Standard)f(ML.)434 1032 y(Distrib)n(uted)e(with)g(Standard)g(ML)f(of)h
(Ne)n(w)g(Jerse)o(y)-6 b(,)21 b(December)g(1989.)0 1198
y([A)-9 b(TW94])115 b(Rolf)23 b(Adams,)h(W)-7 b(alter)23
b(T)n(ich)o(y)-5 b(,)23 b(and)g(Annette)h(W)-7 b(einert.)37
b(The)23 b(cost)g(of)h(selecti)m(v)o(e)f(recompilation)g(and)h(en)l
(vironment)f(pro-)434 1298 y(cessing.)30 b Fl(A)m(CM)21
b(T)o(OSEM)p Fm(,)f(3\(1\):3\22628,)h(January)g(1994.)0
1464 y([B)m(A99])183 b(Matthias)22 b(Blume)h(and)g(Andre)m(w)g(W)-8
b(.)23 b(Appel.)36 b(Hierarchical)22 b(modularity)-5
b(.)35 b Fl(A)n(CM)22 b(T)l(r)o(ans.)g(on)h(Pr)l(o)o(gr)o(amming)g
(Langua)o(g)o(es)434 1564 y(and)e(Systems)p Fm(,)g(21\(4\):790\226812,)
f(July)h(1999.)0 1730 y([Blu95])175 b(Matthias)25 b(Blume.)42
b(Standard)25 b(ML)f(of)h(Ne)n(w)f(Jerse)o(y)h(compilation)f(manager)l
(.)42 b(Manual)25 b(accompan)n(ying)g(SML/NJ)g(soft-)434
1829 y(w)o(are,)c(1995.)0 1995 y([Blu99])175 b(Matthias)31
b(Blume.)60 b(Dependenc)o(y)30 b(analysis)g(for)g(Standard)h(ML.)60
b Fl(A)n(CM)30 b(T)-5 b(r)o(ans.)30 b(on)h(Pr)l(o)o(gr)o(amming)f
(Langua)o(g)o(es)h(and)434 2095 y(Systems)p Fm(,)21 b
(21\(4\):813\226846,)g(July)f(1999.)0 2261 y([Fel79])189
b(S.)30 b(I.)g(Feldman.)60 b(Mak)o(e)31 b(\226)f(a)g(program)g(for)g
(maintaining)g(computer)g(programs.)60 b(In)30 b Fl(Unix)g(Pr)m(o)o(gr)
o(ammer')l(s)g(Manual,)434 2361 y(Se)o(venth)21 b(Edition,)f(V)-9
b(olume)21 b(2A)p Fm(.)g(Bell)f(Laboratories,)h(1979.)0
2527 y([GG93])175 b(Florent)25 b(Guillaume)g(and)g(Lal)f(Geor)o(ge.)43
b Fl(ML-Bur)m(g)24 b(Documentation)p Fm(.)43 b(A)-9 b(T&T)25
b(Bell)g(Laboratories,)g(1993.)43 b(distrib)n(uted)434
2626 y(with)21 b(SML/NJ)g(softw)o(are.)0 2792 y([HLPR94a])46
b(Robert)19 b(Harper)m(,)h(Peter)f(Lee,)g(Frank)h(Pfenning,)f(and)h
(Eugene)f(Rollins.)26 b(A)20 b(Compilation)f(Manager)g(for)g(Standard)h
(ML)f(of)434 2892 y(Ne)n(w)i(Jerse)n(y)-5 b(.)30 b(In)21
b Fl(1994)f(A)n(CM)h(SIGPLAN)f(W)-7 b(orkshop)21 b(on)f(ML)h(and)g(its)
g(Applications)p Fm(,)f(pages)h(136\226147,)g(1994.)0
3058 y([HLPR94b])42 b(Robert)30 b(Harper)m(,)j(Peter)d(Lee,)j(Frank)d
(Pfenning,)j(and)e(Eugene)f(Rollins.)61 b(Incremental)31
b(recompilation)f(for)h(Standard)434 3158 y(ML)20 b(of)f(Ne)n(w)h
(Jerse)n(y.)28 b(T)-6 b(echnical)20 b(Report)f(CMU-CS-94-116,)h
(Department)f(of)h(Computer)g(Science,)f(Carne)o(gie-Mellon)434
3257 y(Uni)n(v)o(ersity)-6 b(,)21 b(February)g(1994.)0
3423 y([KR88])180 b(Brian)21 b(W)-7 b(.)21 b(K)n(ernighan)g(and)h
(Dennis)f(M.)h(Ritchie.)32 b Fl(The)21 b(C)g(Pr)m(o)o(gr)o(amming)g
(Langua)o(g)o(e)o(,)h(Second)f(Edition)p Fm(.)32 b(Prentice)22
b(Hall,)434 3523 y(Engle)n(w)o(ood)f(Clif)n(fs,)g(Ne)m(w)g(Jerse)o(y)g
(07632,)f(1988.)0 3689 y([MTHM97])42 b(Robin)21 b(Milner)l(,)h(Mads)f
(T)-7 b(ofte,)21 b(Robert)g(Harper)m(,)g(and)g(Da)o(vid)g(MacQueen.)31
b Fl(The)21 b(De\002nition)g(of)g(Standar)m(d)h(ML)f(\(Re)n(vised\))p
Fm(.)434 3789 y(MIT)g(Press,)g(Cambridge,)f(MA,)h(1997.)0
3955 y([RG99])180 b(John)21 b(Repp)o(y)g(and)f(Emden)h(Gansner)l(.)29
b(Standard)21 b(ML)g(Basis)g(Library)-6 b(.)30 b(\(not)21
b(yet)g(in)f(paper)h(form\),)g(1999.)0 4121 y([T)-8 b(A90])193
b(Da)n(vid)18 b(R.)f(T)-6 b(arditi)17 b(and)h(Andre)n(w)f(W)-7
b(.)17 b(Appel.)23 b(ML-Yacc,)c(v)n(ersion)f(2.0.)23
b(Distrib)n(uted)18 b(with)g(Standard)f(ML)h(of)g(Ne)n(w)f(Jerse)o(y)-5
b(,)434 4220 y(April)21 b(1990.)1968 5709 y(26)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
