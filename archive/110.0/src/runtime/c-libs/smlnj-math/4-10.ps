%!PS
%%Version: 3.3
%%DocumentFonts: (atend)
%%Pages: (atend)
%%EndComments
%
% Version 3.3 prologue for troff files.
%

/#copies 1 store
/aspectratio 1 def
/formsperpage 1 def
/landscape false def
/linewidth .3 def
/magnification 1 def
/margin 0 def
/orientation 0 def
/resolution 720 def
/rotation 1 def
/xoffset 0 def
/yoffset 0 def

/roundpage true def
/useclippath true def
/pagebbox [0 0 612 792] def

/R  /Times-Roman def
/I  /Times-Italic def
/B  /Times-Bold def
/BI /Times-BoldItalic def
/H  /Helvetica def
/HI /Helvetica-Oblique def
/HB /Helvetica-Bold def
/HX /Helvetica-BoldOblique def
/CW /Courier def
/CO /Courier def
/CI /Courier-Oblique def
/CB /Courier-Bold def
/CX /Courier-BoldOblique def
/PA /Palatino-Roman def
/PI /Palatino-Italic def
/PB /Palatino-Bold def
/PX /Palatino-BoldItalic def
/Hr /Helvetica-Narrow def
/Hi /Helvetica-Narrow-Oblique def
/Hb /Helvetica-Narrow-Bold def
/Hx /Helvetica-Narrow-BoldOblique def
/KR /Bookman-Light def
/KI /Bookman-LightItalic def
/KB /Bookman-Demi def
/KX /Bookman-DemiItalic def
/AR /AvantGarde-Book def
/AI /AvantGarde-BookOblique def
/AB /AvantGarde-Demi def
/AX /AvantGarde-DemiOblique def
/NR /NewCenturySchlbk-Roman def
/NI /NewCenturySchlbk-Italic def
/NB /NewCenturySchlbk-Bold def
/NX /NewCenturySchlbk-BoldItalic def
/ZD /ZapfDingbats def
/ZI /ZapfChancery-MediumItalic def
/S  /S def
/S1 /S1 def
/GR /Symbol def

/inch {72 mul} bind def
/min {2 copy gt {exch} if pop} bind def

/setup {
	counttomark 2 idiv {def} repeat pop

	landscape {/orientation 90 orientation add def} if
	/scaling 72 resolution div def
	linewidth setlinewidth
	1 setlinecap

	pagedimensions
	xcenter ycenter translate
	orientation rotation mul rotate
	width 2 div neg height 2 div translate
	xoffset inch yoffset inch neg translate
	margin 2 div dup neg translate
	magnification dup aspectratio mul scale
	scaling scaling scale

	/Symbol /S Sdefs cf
	/Times-Roman /S1 S1defs cf
	0 0 moveto
} def

/pagedimensions {
	useclippath userdict /gotpagebbox known not and {
		/pagebbox [clippath pathbbox newpath] def
		roundpage currentdict /roundpagebbox known and {roundpagebbox} if
	} if
	pagebbox aload pop
	4 -1 roll exch 4 1 roll 4 copy
	landscape {4 2 roll} if
	sub /width exch def
	sub /height exch def
	add 2 div /xcenter exch def
	add 2 div /ycenter exch def
	userdict /gotpagebbox true put
} def

/pagesetup {
	/page exch def
	currentdict /pagedict known currentdict page known and {
		page load pagedict exch get cvx exec
	} if
} def

/decodingdefs [
	{counttomark 2 idiv {y moveto show} repeat}
	{neg /y exch def counttomark 2 idiv {y moveto show} repeat}
	{neg moveto {2 index stringwidth pop sub exch div 0 32 4 -1 roll widthshow} repeat}
	{neg moveto {spacewidth sub 0.0 32 4 -1 roll widthshow} repeat}
	{counttomark 2 idiv {y moveto show} repeat}
	{neg setfunnytext}
] def

/setdecoding {/t decodingdefs 3 -1 roll get bind def} bind def

/w {neg moveto show} bind def
/m {neg dup /y exch def moveto} bind def
/done {/lastpage where {pop lastpage} if} def

/f {
	dup /font exch def findfont exch
	dup /ptsize exch def scaling div dup /size exch def scalefont setfont
	linewidth ptsize mul scaling 10 mul div setlinewidth
	/spacewidth ( ) stringwidth pop def
} bind def

/changefont {
	/fontheight exch def
	/fontslant exch def
	currentfont [
		1 0
		fontheight ptsize div fontslant sin mul fontslant cos div
		fontheight ptsize div
		0 0
	] makefont setfont
} bind def

/sf {f} bind def

/cf {
	dup length 2 idiv
	/entries exch def
	/chtab exch def
	/newfont exch def

	findfont dup length 1 add dict
	/newdict exch def
	{1 index /FID ne {newdict 3 1 roll put} {pop pop} ifelse} forall

	newdict /Metrics entries dict put
	newdict /Metrics get
	begin
		chtab aload pop
		1 1 entries {pop def} for
		newfont newdict definefont pop
	end
} bind def

%
% A few arrays used to adjust reference points and character widths in some
% of the printer resident fonts. If square roots are too high try changing
% the lines describing /radical and /radicalex to,
%
%	/radical	[0 -75 550 0]
%	/radicalex	[-50 -75 500 0]
%
% Move braceleftbt a bit - default PostScript character is off a bit.
%

/Sdefs [
	/bracketlefttp		[201 500]
	/bracketleftbt		[201 500]
	/bracketrighttp		[-81 380]
	/bracketrightbt		[-83 380]
	/braceleftbt		[203 490]
	/bracketrightex		[220 -125 500 0]
	/radical		[0 0 550 0]
	/radicalex		[-50 0 500 0]
	/parenleftex		[-20 -170 0 0]
	/integral		[100 -50 500 0]
	/infinity		[10 -75 730 0]
] def

/S1defs [
	/underscore		[0 80 500 0]
	/endash			[7 90 650 0]
] def
%
% Tries to round clipping path dimensions, as stored in array pagebbox, so they
% match one of the known sizes in the papersizes array. Lower left coordinates
% are always set to 0.
%

/roundpagebbox {
    7 dict begin
	/papersizes [8.5 inch 11 inch 14 inch 17 inch] def

	/mappapersize {
		/val exch def
		/slop .5 inch def
		/diff slop def
		/j 0 def
		0 1 papersizes length 1 sub {
			/i exch def
			papersizes i get val sub abs
			dup diff le {/diff exch def /j i def} {pop} ifelse
		} for
		diff slop lt {papersizes j get} {val} ifelse
	} def

	pagebbox 0 0 put
	pagebbox 1 0 put
	pagebbox dup 2 get mappapersize 2 exch put
	pagebbox dup 3 get mappapersize 3 exch put
    end
} bind def

%%EndProlog
%%BeginSetup
mark
/xoffset 0 def
/yoffset 0 def
/#copies 1 store
/magnification 1 def
%%FormsPerPage: 1
/formsperpage 1 def

/landscape false def
/resolution 720 def
setup
2 setdecoding
%%EndSetup
%%Page: 1 1
/saveobj save def
mark
1 pagesetup
18 HB f
(A T)1 213 1 2538 2352 t
14 HB f
(&)2724 2352 w
18 HB f
(T)2798 2352 w
36 S1 f
()2108 2535 w
cleartomark
saveobj restore
%%BeginGlobal
/build_L1 {
    pop
    /picstr 40 string def
    gsave
    currentpoint translate
    .533 72 mul size mul 36 div
    .5 72 mul size mul 36 div
    scale
    160 150 1 [160 0 0 -150 0 150]
    {currentfile picstr readhexstring pop} image
    grestore
} def
%%EndGlobal
/saveobj save def
mark
36 S1 f
2108 2535 m
396 build_L1
FFFFFFFFFFFFFFFFFF0007FFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFF00000007FFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFE0000000007FFFFFFFFFFFFFFF
FFFFFFFFFFFFFF00000000000FFFFFFFFFFFFFFF
FFFFFFFFFFFFF8000000000001FFFFFFFFFFFFFF
FFFFFFFFFFFFE00000000000003FFFFFFFFFFFFF
FFFFFFFFFFFF000000000000000FFFFFFFFFFFFF
FFFFFFFFFFFC0000000000000003FFFFFFFFFFFF
FFFFFFFFFFF000000000000000007FFFFFFFFFFF
FFFFFFFFFFC000000000000000003FFFFFFFFFFF
FFFFFFFFFF8FFFFFFF00000000000FFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFF0000000007FFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFF000000000FFFFFFFFF
FFFFFFFFFFFFFFFFFFFFC00000000003FFFFFFFF
FFFFFFF81FFFFFFFFFC0000000000001FFFFFFFF
FFFFFFF0000000000000000000000000FFFFFFFF
FFFFFFE00000000000000000000000007FFFFFFF
FFFFFFC00000000000000000000000003FFFFFFF
FFFFFF800000000000000000000000001FFFFFFF
FFFFFF000000000000000000000000000FFFFFFF
FFFFFE0007FFFFFFFF8000000000000007FFFFFF
FFFFFE7FFFFFFFFFFFFFFE000000000003FFFFFF
FFFFFFFFFFFFFFFFFFFFFFFF0000000003FFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFE000000001FFFFF
FFFFFFFFFFFFFFFFFFFFFFFF80000000001FFFFF
FFFF01FFFFFFFFFFFFFFFFC000000000000FFFFF
FFFE00000000000000000000000000000007FFFF
FFFE00000000000000000000000000000007FFFF
FFFC00000000000000000000000000000003FFFF
FFFC00000000000000000000000000000003FFFF
FFF800000000000000000000000000000001FFFF
FFF800000000000000000000000000000000FFFF
FFF80FFFFFFFFFFFFFFFFFE0000000000000FFFF
FFFFFFFFFFFFFFFFFFFFFFFFFE0000000000FFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFC00000001FFF
FFFFFFFFFFFFFFFFFFFFFFFFFFC0000000001FFF
FF87FFFFFFFFFFFFFFFFFFFFC000000000000FFF
FF000000007FFFFFFFFFFC000000000000000FFF
FF000000000000000000000000000000000007FF
FF000000000000000000000000000000000007FF
FE000000000000000000000000000000000007FF
FE000000000000000000000000000000000003FF
FE000000000000000000000000000000000003FF
FE0007FFFFFFFFFFFFFFFFC000000000000003FF
FC0FFFFFFFFFFFFFFFFFFFFFFC000000000003FF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFC000000003FF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFC00000001FF
FFFFFFFFFFFFFFFFFFFFFFFFFF800000000001FF
F8FFFFFFFFFFFFFFFFFFFFFF80000000000000FF
F8000FFFFFFFFFFFFFFFFF0000000000000000FF
F8000000000000000000000000000000000000FF
F0000000000000000000000000000000000000FF
F0000000000000000000000000000000000000FF
F0000000000000000000000000000000000000FF
F00000000000000000000000000000000000007F
F00000007FFFFFFFFFFFE000000000000000007F
F000FFFFFFFFFFFFFFFFFFFF000000000000007F
F07FFFFFFFFFFFFFFFFFFFFFFFC000000000007F
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFF0000000000007F
F007FFFFFFFFFFFFFFFFFFFC000000000000007F
F00003FFFFFFFFFFFFFFF000000000000000007F
F00000000000000000000000000000000000007F
F00000000000000000000000000000000000007F
F0000000000000000000000000000000000000FF
F0000000000000000000000000000000000000FF
F8000000000000000000000000000000000000FF
F8000000000000000000000000000000000000FF
F80003FFFFFFFFFFFFFFF80000000000000000FF
F80FFFFFFFFFFFFFFFFFFFFFC0000000000000FF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFE00000000000003FF
FC003FFFFFFFFFFFFFFE000000000000000003FF
FE000000FFFFFFFFC800000000000000000003FF
FE000000000000000000000000000000000003FF
FE000000000000000000000000000000000003FF
FE000000000000000000000000000000000003FF
FF000000000000000000000000000000000007FF
FF000000000000000000000000000000000007FF
FF000000000000000000000000000000000007FF
FF80000000000000000000000000000000000FFF
FF8000000007FF80000000000000000000000FFF
FFC00007FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFC07FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFF03FFFFFFFFFFFFFFFC0000000000000007FFF
FFF0000007FFFFFE000000000000000000007FFF
FFF800000000000000000000000000000000FFFF
FFF800000000000000000000000000000000FFFF
FFF800000000000000000000000000000000FFFF
FFFC00000000000000000000000000000001FFFF
FFFE00000000000000000000000000000003FFFF
FFFE00000000000000000000000000000003FFFF
FFFF00000000000000000000000000000007FFFF
FFFF0000000000000000000000000000000FFFFF
FFFF8000000000000000000000000000000FFFFF
FFFFC000003FFFE00000000000000000001FFFFF
FFFFE007FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFC0000000000000000000000000001FFFFFF
FFFFFE0000000000000000000000000003FFFFFF
FFFFFF0000000000000000000000000003FFFFFF
FFFFFF0000000000000000000000000007FFFFFF
FFFFFF800000000000000000000000000FFFFFFF
FFFFFFC00000000000000000000000001FFFFFFF
FFFFFFE00000000000000000000000003FFFFFFF
FFFFFFF00000000000000000000000007FFFFFFF
FFFFFFFC000000000000000000000000FFFFFFFF
FFFFFFFE000000000000000000000003FFFFFFFF
FFFFFFFF000000000000000000000007FFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFF00000000000000000003FFFFFFFFFF
FFFFFFFFFF8000000000000000000FFFFFFFFFFF
FFFFFFFFFFE000000000000000001FFFFFFFFFFF
FFFFFFFFFFF000000000000000007FFFFFFFFFFF
FFFFFFFFFFFC0000000000000001FFFFFFFFFFFF
FFFFFFFFFFFF0000000000000007FFFFFFFFFFFF
FFFFFFFFFFFFE00000000000003FFFFFFFFFFFFF
FFFFFFFFFFFFF8000000000000FFFFFFFFFFFFFF
FFFFFFFFFFFFFF000000000007FFFFFFFFFFFFFF
FFFFFFFFFFFFFFF0000000007FFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFF00000007FFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFE0007FFFFFFFFFFFFFFFFFF
2504 2535 m
12 H f
(Bell Laboratories)1 902 1 2538 2492 t
10 H f
(Numerical Analysis Manuscript 90-10)3 1654 1 1873 2732 t
15 B f
(Correctly Rounded Binary-Decimal)2 2292 1 1554 3182 t
(and Decimal-Binary Conversions)2 2129 1 1635 3362 t
12 I f
(David M. Gay)2 682 1 2359 3632 t
12 R f
(November 30, 1990)2 956 1 2222 4082 t
cleartomark
showpage
saveobj restore
%%EndPage: 1 1
%%Page: 1 2
/saveobj save def
mark
2 pagesetup
14 B f
(Correctly Rounded Binary-Decimal and Decimal-Binary)4 3381 1 1189 1230 t
(Conversions)2510 1380 w
12 I f
(David M. Gay)2 682 1 2539 1680 t
12 R f
(AT&T Bell Laboratories)2 1194 1 2283 1905 t
(Murray Hill, New Jersey 07974)4 1523 1 2118 2055 t
12 I f
(ABSTRACT)2597 2515 w
12 R f
( discusses the main issues in performing correctly rounded)8 2891(This note)1 459 2 1330 2825 t
( recent)1 347( reviews)1 428( It)1 159(decimal-to-binary and binary-to-decimal conversions.)3 2666 4 1080 2975 t
( and)1 238(work by Clinger and by Steele and White on these conversions)10 3362 2 1080 3125 t
( experience with)2 809( Computational)1 784( enhancements.)1 748(describes some efficiency)2 1259 4 1080 3275 t
( that the average computational cost)5 1818(several kinds of arithmetic suggests)4 1782 2 1080 3425 t
( for)1 197( Source)1 420( conversions.)1 661(for correct rounding can be small for typical)7 2322 4 1080 3575 t
(conversion routines that support this claim is available from)8 2889 1 1080 3725 t
12 I f
(netlib)3999 3725 w
12 R f
(.)4274 3725 w
12 B f
(1. Introduction)1 805 1 720 4175 t
12 R f
( use non-decimal floating-point arithmetic, occasion often arises)7 3164(On computers that)2 906 2 970 4361 t
( decimal form to the internal floating-point form or vice versa,)10 3064(to convert a number from)4 1256 2 720 4511 t
( near to a given decimal number or to)8 1826(i.e., to find an internal floating-point number that is)8 2494 2 720 4661 t
( such)1 250( Ideally)1 394( number.)1 427(find a decimal number that is near to a given internal floating-point)11 3249 4 720 4811 t
( e.g., would yield the)4 1123(a conversion would be correctly rounded in a specified sense,)9 3197 2 720 4961 t
( the appropriate)2 762(nearest number expressible with at most a prescribed number of digits of)11 3558 2 720 5111 t
( of interest to ask how much correctly rounded conversions cost computation-)11 3819( is)1 117(kind. It)1 384 3 720 5261 t
( binary)1 342( IEEE)1 324( this question for some commonly used arithmetics:)7 2527( we examine)2 618(ally. Here)1 509 5 720 5411 t
( that the specified)3 939( IEEE arithmetic, we assume)4 1503( For)1 255([1], IBM-mainframe, and VAX.)3 1623 4 720 5561 t
(rounding sense is the IEEE round-nearest mode, i.e., unbiased rounding, which yields a)12 4320 1 720 5711 t
( there are two nearest numbers, yields the one)8 2262(nearest floating-point number and, in case)5 2058 2 720 5861 t
( the other arithmetics, we assume biased rounding, which)8 2757( For)1 227( is even.)2 397(whose trailing digit)2 939 4 720 6011 t
( floating-point number of larger magnitude when there are two nearest)10 3813(yields the)1 507 2 720 6161 t
( ordinarily rounded, but that, as)5 1533( that IBM arithmetic is not)5 1307( \(Note)1 338(floating-point numbers.)1 1142 4 720 6311 t
(illustrated in Appendix A, extended-precision instructions can be used to compute)10 4320 1 720 6461 t
(floating-point products and quotients rounded in this way.\))7 2833 1 720 6611 t
( relies on IEEE double-extended arith-)5 1866(Recently, Clinger [3] described a scheme that)6 2204 2 970 6797 t
( the next section we)4 966( In)1 163( conversion.)1 590(metic to perform correctly rounded decimal-to-binary)5 2601 4 720 6947 t
( needed.)1 400(show how to modify Clinger's method so that only double-precision arithmetic is)11 3920 2 720 7097 t
( [12] have recently described a method for binary-to-decimal conversion)9 3495(Steele and White)2 825 2 720 7247 t
(November 30, 1990)2 956 1 2387 7710 t
cleartomark
showpage
saveobj restore
%%EndPage: 1 2
%%Page: 2 3
/saveobj save def
mark
3 pagesetup
12 R f
(- 2 -)2 200 1 2780 500 t
( rounded back to the same)5 1332(that yields the shortest decimal number that, when correctly)8 2988 2 720 870 t
( results in the original number; they also describe variants)9 2811(binary floating-point precision,)2 1509 2 720 1020 t
( having at most a prescribed number of digits)8 2210(that yield correctly rounded decimal strings)5 2110 2 720 1170 t
( Section)1 392( In)1 161( prescribed number of digits after the decimal point \(fixed-point notation\).)10 3582(or a)1 185 4 720 1320 t
( 4 describes some com-)4 1144( Section)1 425( up such calculations.)3 1047(3 we explain several ways to speed)6 1704 4 720 1470 t
( intro-)1 308( rest of this section)4 954( The)1 257(putational experience, and \2475 offers concluding remarks.)6 2801 4 720 1620 t
( other work on conversions, see Coonen's)6 2142( For)1 249(duces some notation and assumptions.)4 1929 3 720 1770 t
( 4, 12].)2 320(thesis [4] and the works cited in [3,)7 1696 2 720 1920 t
( easy to treat, we restrict the discussion to conversion of nonnegative)11 3345(Since signs are)2 725 2 970 2106 t
(numbers.)720 2256 w
(We assume that nonnegative normalized internal floating-point numbers have the)9 4070 1 970 2442 t
(form)720 2592 w
(\(1\))720 2877 w
12 I f
(b)2428 2877 w
12 S f
(=)2548 2877 w
9 I f
(i)2684 2997 w
9 S f
(=)2731 2997 w
9 R f
(0)2796 2997 w
17 S f
(S)2712 2913 w
9 I f
(p)2673 2757 w
9 S f
(-)2740 2757 w
9 R f
(1)2805 2757 w
12 I f
(b)2860 2877 w
9 I f
(i)2935 2901 w
12 S f
(\264 b)1 142 1 2980 2877 t
9 I f
(e)3129 2829 w
9 S f
(-)3191 2829 w
9 I f
(i)3256 2829 w
12 R f
(,)3301 2877 w
(where the floating-point arithmetic base)4 1980 1 720 3198 t
12 S f
(b)2744 3198 w
12 R f
(and the number)2 775 1 2854 3198 t
12 I f
(p)3673 3198 w
12 R f
(of base)1 357 1 3777 3198 t
12 S f
(b)4178 3198 w
12 R f
(digits are fixed)2 752 1 4288 3198 t
(positive integers,)1 823 1 720 3348 t
12 I f
(e)1573 3348 w
12 R f
(is an integer that satisfies)4 1218 1 1656 3348 t
(\(2\))720 3573 w
12 I f
(e)2462 3573 w
9 R f
(min)2530 3597 w
12 S f
(\243)2730 3573 w
12 I f
(e)2846 3573 w
12 S f
(\243)2949 3573 w
12 I f
(e)3065 3573 w
9 R f
(max)3133 3597 w
12 R f
(for prescribed integers)2 1111 1 720 3798 t
12 I f
(e)1876 3798 w
9 R f
(min)1944 3822 w
12 R f
(and)2139 3798 w
12 I f
(e)2357 3798 w
9 R f
(max)2425 3822 w
12 R f
(, the digits)2 536 1 2590 3798 t
12 I f
(b)3171 3798 w
9 I f
(i)3246 3822 w
12 R f
( 0)1 106(are integers with)2 831 2 3326 3798 t
12 S f
(\243)4313 3798 w
12 I f
(b)4429 3798 w
9 I f
(i)4504 3822 w
12 S f
(< b)1 192 1 4599 3798 t
12 R f
(, and)1 249 1 4791 3798 t
12 I f
(b)720 3948 w
9 R f
(0)795 3972 w
12 S f
(\271)900 3948 w
12 R f
( IEEE arithmetic, it is also necessary to consider)8 2392(0. For)1 326 2 1016 3948 t
12 I f
(denormalized)3772 3948 w
12 R f
(numbers, in)1 576 1 4464 3948 t
(which)720 4098 w
12 I f
(e)1043 4098 w
12 S f
(=)1156 4098 w
12 I f
(e)1282 4098 w
9 R f
(min)1350 4122 w
12 R f
(,)1500 4098 w
12 I f
(b)1560 4098 w
9 R f
(0)1635 4122 w
12 S f
(=)1750 4098 w
12 R f
(0, and)1 293 1 1876 4098 t
12 I f
(b)2199 4098 w
12 S f
(\271)2309 4098 w
12 R f
(0.)2425 4098 w
(Corresponding to \(1\), we consider nonnegative decimal numbers of the form)10 3687 1 970 4284 t
(\(3\))720 4569 w
12 I f
(d)2401 4569 w
12 S f
(=)2521 4569 w
9 I f
(i)2657 4689 w
9 S f
(=)2704 4689 w
9 R f
(0)2769 4689 w
17 S f
(S)2685 4605 w
9 I f
(n)2646 4449 w
9 S f
(-)2713 4449 w
9 R f
(1)2778 4449 w
12 I f
(d)2833 4569 w
9 I f
(i)2908 4593 w
12 S f
(\264)2953 4569 w
12 R f
(10)3029 4569 w
9 I f
(k)3156 4521 w
9 S f
(-)3218 4521 w
9 I f
(i)3283 4521 w
12 R f
(,)3328 4569 w
(where)720 4890 w
12 I f
(n)1051 4890 w
12 R f
(is a positive integer and)4 1183 1 1150 4890 t
12 I f
(k)2373 4890 w
12 R f
(is an integer that may be positive, negative, or zero.)9 2574 1 2466 4890 t
(We assume that)2 763 1 720 5040 t
12 S f
(b)1514 5040 w
12 R f
( with 10 in the sense of Matula [10], i.e., that)10 2164(is not commensurable)2 1058 2 1611 5040 t
12 S f
(b)4863 5040 w
12 R f
(is)4959 5040 w
(not a power of 10, since conversions are easy if)9 2280 1 720 5190 t
12 S f
(b)3030 5190 w
12 R f
(is a power of 10.)4 803 1 3126 5190 t
(A)970 5376 w
12 I f
(floating-point integer)1 1035 1 1086 5376 t
12 R f
(is an integer that can be expressed in the form \(1\).)10 2406 1 2151 5376 t
(Suppose)970 5562 w
12 I f
(b)1410 5562 w
12 R f
(is the nearest value of the form \(1\) to)8 1807 1 1503 5562 t
12 I f
(d)3343 5562 w
12 R f
( \(2\) are ignored.)3 785(when the bounds)2 819 2 3436 5562 t
(If)720 5712 w
12 I f
(e)848 5712 w
12 S f
(>)961 5712 w
12 I f
(e)1087 5712 w
9 R f
(max)1155 5736 w
12 R f
(, then)1 285 1 1320 5712 t
12 I f
(d)1653 5712 w
12 R f
(is said to)2 465 1 1761 5712 t
12 I f
(overflow)2274 5712 w
12 R f
(, and if)2 373 1 2695 5712 t
12 I f
(e)3116 5712 w
12 S f
(<)3229 5712 w
12 I f
(e)3355 5712 w
9 R f
(min)3423 5736 w
12 R f
(, then)1 285 1 3573 5712 t
12 I f
(d)3905 5712 w
12 R f
(is said to)2 463 1 4012 5712 t
12 I f
(underflow)4522 5712 w
12 R f
(.)5010 5712 w
(Under IEEE arithmetic, we allow)4 1603 1 720 5862 t
12 I f
(gradual underflow)1 899 1 2353 5862 t
12 R f
(: if)1 168 1 3252 5862 t
12 S f
(b)1962 6091 w
9 I f
(e)2035 6027 w
6 R f
(min)2085 6045 w
12 S f
(- b)1 192 1 2256 6091 t
9 I f
(e)2455 6027 w
6 R f
(min)2505 6045 w
9 S f
(-)2621 6027 w
9 I f
(p)2686 6027 w
12 S f
(>)2801 6091 w
12 I f
(d)2927 6091 w
12 S f
(\263 b)1 182 1 3037 6091 t
9 I f
(e)3226 6027 w
6 R f
(min)3276 6045 w
9 S f
(-)3392 6027 w
9 I f
(p)3457 6027 w
9 S f
(+)3524 6027 w
9 R f
(1)3589 6027 w
12 I f
(/)3654 6091 w
12 R f
(2 ,)1 100 1 3698 6091 t
(we consider the desired approximation)4 1862 1 720 6316 t
12 I f
(b)2612 6316 w
12 R f
(to)2702 6316 w
12 I f
(d)2826 6316 w
12 R f
(to be the denormalized number nearest)5 1865 1 2916 6316 t
12 I f
(d)4811 6316 w
12 R f
(.)4871 6316 w
(Suppose an \(exact\) arithmetic operation yields a result)7 3497 1 970 6502 t
12 I f
(r)4623 6502 w
12 R f
(with)4826 6502 w
12 S f
(b)720 6656 w
9 I f
(e)793 6592 w
6 R f
(min)843 6610 w
12 S f
(- b)1 192 1 1014 6656 t
9 I f
(e)1213 6592 w
6 R f
(min)1263 6610 w
9 S f
(-)1379 6592 w
9 I f
(p)1444 6592 w
9 S f
(+)1511 6592 w
9 R f
(1)1576 6592 w
12 S f
(<)1691 6656 w
12 I f
(r)1817 6656 w
12 S f
(< b)1 192 1 1924 6656 t
9 I f
(e)2123 6592 w
6 R f
(max)2173 6610 w
9 S f
(+)2298 6592 w
9 R f
(1)2363 6592 w
12 S f
(- b)1 192 1 2478 6656 t
9 I f
(e)2677 6592 w
6 R f
(max)2727 6610 w
9 S f
(-)2852 6592 w
9 I f
(p)2917 6592 w
9 S f
(+)2984 6592 w
9 R f
(1)3049 6592 w
12 R f
(and that)1 438 1 3188 6656 t
12 I f
(r)3710 6656 w
12 R f
(is not a floating-point)3 1200 1 3840 6656 t
( two adjacent)2 716( there are)2 520( Then)1 343(number, i.e., cannot be represented in the form \(1\).)8 2741 4 720 6806 t
(floating-point numbers,)1 1141 1 720 6962 t
12 I f
(r)1895 6962 w
12 S f
(_)1889 6962 w
12 R f
(and)1976 6962 w
12 I f
(r)2183 6962 w
12 S1 f
(_)2180 6881 w
12 R f
(, with)1 278 1 2230 6962 t
12 I f
(r)2542 6962 w
12 S f
(_ <)1 179 1 2536 6962 t
12 I f
(r)2775 6962 w
12 S f
(<)2882 6962 w
12 I f
(r)3008 6962 w
12 S1 f
(_)3005 6881 w
12 R f
( a)1 87(. By)1 234 2 3055 6962 t
12 I f
(rounded floating-point operation)2 1600 1 3410 6962 t
12 R f
(,)5010 6962 w
(we mean a calculation that yields)5 1754 1 720 7118 t
12 I f
(r)2535 7118 w
12 S f
(_)2529 7118 w
12 R f
(if)2644 7118 w
12 I f
(r)2780 7118 w
12 S f
(-)2887 7118 w
12 I f
(r)3013 7118 w
12 S f
(_ <)1 179 1 3007 7118 t
12 I f
(r)3246 7118 w
12 S1 f
(_)3243 7037 w
12 S f
(-)3353 7118 w
12 I f
(r)3479 7118 w
12 R f
(,)3526 7118 w
12 I f
(r)3618 7118 w
12 S1 f
(_)3615 7037 w
12 R f
(if)3727 7118 w
12 I f
(r)3863 7118 w
12 S1 f
(_)3860 7037 w
12 S f
(-)3970 7118 w
12 I f
(r)4096 7118 w
12 S f
(<)4203 7118 w
12 I f
(r)4329 7118 w
12 S f
(-)4436 7118 w
12 I f
(r)4562 7118 w
12 S f
(_)4556 7118 w
12 R f
(, and, if)2 431 1 4609 7118 t
12 I f
(r)720 7274 w
12 S f
(-)827 7274 w
12 I f
(r)953 7274 w
12 S f
(_ =)1 179 1 947 7274 t
12 I f
(r)1186 7274 w
12 S1 f
(_)1183 7193 w
12 S f
(-)1293 7274 w
12 I f
(r)1419 7274 w
12 R f
(,)1466 7274 w
12 I f
(r)1539 7274 w
12 S f
(_)1533 7274 w
12 R f
(if we are using IEEE arithmetic and the least-significant digit of)10 3200 1 1628 7274 t
12 I f
(r)4870 7274 w
12 S f
(_)4864 7274 w
12 R f
(is)4959 7274 w
(November 30, 1990)2 956 1 2387 7710 t
cleartomark
showpage
saveobj restore
%%EndPage: 2 3
%%Page: 3 4
/saveobj save def
mark
4 pagesetup
12 R f
(- 3 -)2 200 1 2780 500 t
(even and)1 441 1 720 876 t
12 I f
(r)1203 876 w
12 S1 f
(_)1200 795 w
12 R f
( VAX arithmetic, the hardware arithmetic opera-)6 2422( IEEE and)2 516(otherwise. With)1 810 3 1292 876 t
( IBM arith-)2 580( With)1 317( the sense just defined.)4 1156(tions are rounded floating-point operations in)5 2267 4 720 1026 t
( Appendix A,)2 665(metic, one can use extended-precision instructions, such as those shown in)10 3655 2 720 1176 t
(to compute rounded floating-point products and quotients.)6 2803 1 720 1326 t
12 B f
( Conversion)1 617(2. Decimal-to-Binary)1 1104 2 720 1626 t
12 R f
(Suppose we wish to find the nearest floating-point number)8 2970 1 970 1812 t
12 I f
(b)3989 1812 w
12 R f
(to a given decimal)3 942 1 4098 1812 t
(number)720 1962 w
12 I f
(d)1117 1962 w
12 R f
( we assume that)3 764(. Initially)1 473 2 1177 1962 t
(\(4\))720 2191 w
12 S f
(b)1681 2191 w
9 I f
(e)1754 2127 w
6 R f
(min)1804 2145 w
12 S f
(- b)1 192 1 1975 2191 t
9 I f
(e)2174 2127 w
6 R f
(min)2224 2145 w
9 S f
(-)2340 2127 w
9 I f
(p)2405 2127 w
9 S f
(+)2472 2127 w
9 R f
(1)2537 2127 w
12 S f
(\243)2642 2191 w
12 I f
(d)2758 2191 w
12 S f
(\243 b)1 182 1 2868 2191 t
9 I f
(e)3057 2127 w
6 R f
(max)3107 2145 w
9 S f
(+)3232 2127 w
9 R f
(1)3297 2127 w
12 S f
(- b)1 192 1 3412 2191 t
9 I f
(e)3611 2127 w
6 R f
(max)3661 2145 w
9 S f
(-)3786 2127 w
9 I f
(p)3851 2127 w
9 S f
(+)3918 2127 w
9 R f
(1)3983 2127 w
12 R f
(,)4048 2191 w
( if)1 113( Clinger [3] notes,)3 899( As)1 201(so that over- and underflow are not an issue.)8 2195 4 720 2416 t
12 I f
(n)4167 2416 w
12 R f
(is small enough)2 774 1 4266 2416 t
(and)720 2566 w
12 I f
(k)945 2566 w
12 R f
( zero, then)2 545(is near enough to)3 890 2 1050 2566 t
12 I f
(d)2536 2566 w
12 R f
(can be expressed as the product or ratio of the)9 2393 1 2647 2566 t
(floating-point integers 10)2 1290 1 720 2776 t
9 S f
(\357)2017 2728 w
9 I f
(k)2062 2728 w
9 S f
(-)2139 2728 w
9 I f
(n)2226 2728 w
9 S f
(+)2308 2728 w
9 R f
(1)2395 2728 w
9 S f
(\357)2440 2728 w
12 R f
(and)2529 2776 w
9 I f
(i)2766 2896 w
9 S f
(=)2813 2896 w
9 R f
(1)2878 2896 w
17 S f
(S)2794 2812 w
9 I f
(n)2821 2656 w
12 I f
(d)2932 2776 w
9 I f
(i)3007 2800 w
9 S f
(-)3054 2800 w
9 R f
(1)3119 2800 w
12 S f
(\264)3184 2776 w
12 R f
(10)3260 2776 w
9 I f
(n)3387 2728 w
9 S f
(-)3454 2728 w
9 I f
(i)3519 2728 w
12 R f
( we can compute the)4 1122(. Thus)1 364 2 3554 2776 t
(correctly rounded)1 859 1 720 3022 t
12 I f
(b)1618 3022 w
12 R f
( case \(not noted)3 781( Another)1 461( floating-point operation.)2 1223(with one rounded)2 858 4 1717 3022 t
( rounded floating-point operation suffices is that where)7 2760(by Clinger\) where a single)4 1334 2 720 3172 t
12 I f
(k)4860 3172 w
12 R f
(is)4959 3172 w
(large enough that 10)3 1002 1 720 3322 t
9 I f
(k)1729 3274 w
12 R f
( positive integer)2 786(is not a floating-point integer, but there is a)8 2131 2 1815 3322 t
12 I f
(j)4767 3322 w
12 S f
(<)4861 3322 w
12 I f
(k)4987 3322 w
12 R f
(such that both 10)3 825 1 720 3574 t
9 I f
(k)1552 3526 w
9 S f
(-)1614 3526 w
9 I f
(j)1679 3526 w
12 R f
(and 10)1 323 1 1744 3574 t
9 I f
(j)2082 3526 w
12 R f
(.)2127 3538 w
12 S f
(\354)2177 3469 w
(\357)2177 3589 w
(\356)2177 3709 w
9 I f
(i)2236 3694 w
9 S f
(=)2283 3694 w
9 R f
(1)2348 3694 w
17 S f
(S)2264 3610 w
9 I f
(n)2291 3454 w
12 I f
(d)2402 3574 w
9 I f
(i)2477 3598 w
9 S f
(-)2524 3598 w
9 R f
(1)2589 3598 w
12 S f
(\264)2654 3574 w
12 R f
(10)2730 3574 w
9 I f
(n)2857 3526 w
9 S f
(-)2924 3526 w
9 I f
(i)2989 3526 w
12 S f
(\374)3024 3469 w
(\357)3024 3589 w
(\376)3024 3709 w
12 R f
( Fortunately,)1 646( integers.)1 442(are floating-point)1 839 3 3113 3574 t
(these cases are the typical ones in most applications.)8 2522 1 720 3850 t
( we can use a combination of floating-point)7 2191(If the above cases do not obtain, then)7 1879 2 970 4036 t
( on large integers to compute)5 1474(arithmetic and arithmetic)2 1243 2 720 4186 t
12 I f
(b)3482 4186 w
12 R f
( reasonable approach is to)4 1307(. A)1 191 2 3542 4186 t
(compute a series of approximations, say)5 1930 1 720 4336 t
12 I f
(b)2680 4336 w
9 R f
(\( 1 \))2 119 1 2755 4288 t
12 R f
(,)2884 4336 w
12 I f
(b)2944 4336 w
9 R f
(\( 2 \))2 119 1 3019 4288 t
12 R f
(,)3148 4336 w
(. . .)2 150 1 3238 4306 t
(,)3418 4336 w
12 I f
(b)3478 4336 w
9 R f
(\()3553 4288 w
9 I f
(m)3590 4288 w
9 R f
(\))3662 4288 w
12 R f
(, with)1 274 1 3702 4336 t
12 I f
(b)2290 4621 w
9 R f
(\()2365 4573 w
9 I f
(j)2417 4573 w
9 R f
(\))2449 4573 w
12 S f
(=)2559 4621 w
9 I f
(i)2695 4741 w
9 S f
(=)2742 4741 w
9 R f
(0)2807 4741 w
17 S f
(S)2723 4657 w
9 I f
(p)2684 4501 w
9 S f
(-)2751 4501 w
9 R f
(1)2816 4501 w
12 I f
(b)2861 4621 w
9 I f
(i)2928 4646 w
9 R f
(\()2928 4570 w
9 I f
(j)2980 4570 w
9 R f
(\))3012 4570 w
12 S f
(\264 b)1 142 1 3072 4621 t
9 I f
(e)3221 4573 w
6 R f
(\()3271 4525 w
6 I f
(j)3306 4525 w
6 R f
(\))3328 4525 w
9 S f
(-)3370 4573 w
9 I f
(i)3435 4573 w
12 R f
(and)720 4942 w
12 I f
(b)931 4942 w
9 R f
(\()1006 4894 w
9 I f
(m)1043 4894 w
9 R f
(\))1115 4894 w
12 S f
(=)1225 4942 w
12 I f
(b)1351 4942 w
12 R f
( com-)1 286( suggests using IEEE binary double-extended arithmetic to)7 2884(. Clinger)1 459 3 1411 4942 t
(pute)720 5092 w
12 I f
(b)969 5092 w
9 R f
(\( 1 \))2 119 1 1044 5044 t
12 R f
(; he describes a procedure that changes)6 1939 1 1173 5092 t
12 I f
(b)3153 5092 w
9 R f
(\()3228 5044 w
9 I f
(j)3280 5044 w
9 R f
(\))3312 5044 w
12 R f
(by one unit in the last place \(i.e.,)7 1647 1 3393 5092 t
(that adds or subtracts)3 1034 1 720 5242 t
12 S f
(b)1789 5242 w
9 I f
(e)1862 5194 w
6 R f
(\()1912 5146 w
6 I f
(j)1947 5146 w
6 R f
(\))1969 5146 w
9 S f
(-)2011 5194 w
9 I f
(p)2076 5194 w
9 S f
(+)2143 5194 w
9 R f
(1)2208 5194 w
12 R f
(to or from)2 498 1 2298 5242 t
12 I f
(b)2831 5242 w
9 R f
(\()2906 5194 w
9 I f
(j)2958 5194 w
9 R f
(\))2990 5194 w
12 R f
( that his choice of)4 879(\), and he argues)3 774 2 3030 5242 t
12 I f
(b)4719 5242 w
9 R f
(\( 1 \))2 119 1 4794 5194 t
12 R f
(is)4959 5242 w
( procedure is needed, i.e.,)4 1242(such that at most one iteration of the correction)8 2312 2 720 5392 t
12 I f
(m)4308 5392 w
12 S f
(\243)4444 5392 w
12 R f
(2. Unfor-)1 480 1 4560 5392 t
( support for IEEE)3 853(tunately, many systems that have IEEE arithmetic do not have hardware)10 3467 2 720 5542 t
( How-)1 347( and many other systems have non-IEEE arithmetic.)7 2608(double-extended arithmetic,)1 1365 3 720 5692 t
( native floating-point arithmetic together with high-precision)6 2947(ever, it is possible to use the)6 1373 2 720 5842 t
(integer calculations in a correction procedure that yields)7 2750 1 720 5992 t
12 I f
(b)3506 5992 w
9 R f
(\()3581 5944 w
9 I f
(m)3618 5944 w
9 R f
(\))3690 5944 w
12 S f
(=)3800 5992 w
12 I f
(b)3926 5992 w
12 R f
(with)4022 5992 w
12 I f
(m)4272 5992 w
12 S f
(\243)4408 5992 w
12 R f
(3, and that)2 516 1 4524 5992 t
(usually has)1 538 1 720 6142 t
12 I f
(m)1288 6142 w
12 S f
(\243)1424 6142 w
12 R f
(2.)1540 6142 w
(It is easy to use floating-point arithmetic to compute an initial guess)11 3275 1 970 6328 t
12 I f
(b)4275 6328 w
9 R f
(\( 1 \))2 119 1 4350 6280 t
12 R f
(with)4509 6328 w
(\(5\))720 6553 w
12 S f
(\357)2237 6553 w
12 I f
(b)2297 6553 w
12 S f
(-)2417 6553 w
12 I f
(b)2543 6553 w
9 R f
(\( 1 \))2 119 1 2618 6505 t
12 S f
(\357 <)1 176 1 2747 6553 t
12 I f
(c)2983 6553 w
12 S f
(b)3046 6553 w
9 I f
(e)3119 6505 w
6 R f
(\( 1 \))2 80 1 3169 6457 t
9 S f
(-)3271 6505 w
9 I f
(p)3336 6505 w
9 S f
(+)3403 6505 w
9 R f
(1)3468 6505 w
12 R f
(for a small constant)3 979 1 720 6778 t
12 I f
(c)1740 6778 w
12 R f
( example, \2474 describes an easy way to achieve)8 2317(. For)1 268 2 1793 6778 t
12 I f
(c)4419 6778 w
12 S f
(=)4532 6778 w
12 R f
( on)1 162(6. 01)1 220 2 4658 6778 t
(machines with IEEE, VAX, or IBM arithmetic; 6.01 is an upper bound on)12 4320 1 720 6928 t
(\( 1)1 110 1 720 7078 t
12 S f
(+ b)1 192 1 890 7078 t
9 R f
(1)1089 7030 w
9 S f
(-)1149 7030 w
9 I f
(p)1214 7030 w
12 R f
(\))1279 7078 w
9 R f
(6)1326 7030 w
12 S f
(-)1441 7078 w
12 R f
(1 \(as in the roundoff analysis in \24720 of [7]\).)9 2103 1 1567 7078 t
(November 30, 1990)2 956 1 2387 7710 t
cleartomark
showpage
saveobj restore
%%EndPage: 3 4
%%Page: 4 5
/saveobj save def
mark
5 pagesetup
12 R f
(- 4 -)2 200 1 2780 500 t
(Let)970 876 w
12 I f
(b)1169 876 w
12 S f
(_ <)1 186 1 1169 876 t
12 I f
(b)1415 876 w
12 R f
(and)1514 876 w
12 I f
(b)1726 876 w
12 S1 f
(_)1732 765 w
12 S f
(>)1846 876 w
12 I f
(b)1972 876 w
12 R f
( adjacent to)2 574(be the floating-point numbers)3 1454 2 2071 876 t
12 I f
(b)4139 876 w
12 R f
(. For)1 267 1 4199 876 t
12 I f
(b)4506 876 w
12 R f
(to be the)2 434 1 4606 876 t
(desired approximation to)2 1315 1 720 1032 t
12 I f
(d)2121 1032 w
12 R f
(, it is necessary and sufficient that)6 1964 1 2181 1032 t
12 I f
(b)4230 1032 w
12 S f
(_ <)1 186 1 4230 1032 t
12 I f
(d)4476 1032 w
12 S f
(<)4596 1032 w
12 I f
(b)4722 1032 w
12 S1 f
(_)4728 921 w
12 R f
(and)4867 1032 w
12 S f
(\357)720 1188 w
12 I f
(b)780 1188 w
12 S f
(-)900 1188 w
12 I f
(d)1026 1188 w
12 S f
(\357 \243)1 166 1 1086 1188 t
12 R f
(min {)1 256 1 1302 1188 t
12 I f
(d)1568 1188 w
12 S f
(-)1688 1188 w
12 I f
(b)1814 1188 w
12 S f
(_)1814 1188 w
12 R f
(,)1884 1188 w
12 I f
(b)1964 1188 w
12 S1 f
(_)1970 1077 w
12 S f
(-)2084 1188 w
12 I f
(d)2210 1188 w
12 R f
(}, with)1 352 1 2280 1188 t
12 I f
(b)2682 1188 w
12 R f
(chosen properly if equality holds \(i.e.,)5 1935 1 2792 1188 t
12 I f
(b)4778 1188 w
9 I f
(p)4853 1212 w
9 S f
(-)4920 1212 w
9 R f
(1)4985 1212 w
12 R f
( unbiased rounding and)3 1262(even for)1 443 2 720 1338 t
12 I f
(b)2501 1338 w
12 S f
(-)2621 1338 w
12 I f
(d)2747 1338 w
12 S f
(=)2867 1338 w
12 I f
(d)2993 1338 w
12 S f
(-)3113 1338 w
12 I f
(b)3239 1338 w
12 S f
(_)3239 1338 w
12 R f
( for)1 216( Thus)1 346(for biased rounding\).)2 1103 3 3375 1338 t
12 I f
(b)720 1488 w
9 R f
(\()795 1440 w
9 I f
(j)847 1440 w
9 R f
(\))879 1440 w
12 S f
(=)989 1488 w
12 I f
(b)1115 1488 w
12 R f
(, it is necessary that)4 946 1 1175 1488 t
(\(6\))720 1713 w
12 S f
(\357)2212 1713 w
12 I f
(d)2272 1713 w
12 S f
(-)2392 1713 w
12 I f
(b)2518 1713 w
9 R f
(\()2593 1665 w
9 I f
(j)2645 1665 w
9 R f
(\))2677 1665 w
12 S f
(\357 \243)1 166 1 2717 1713 t
12 S1 f
()2933 1713 w
cleartomark
saveobj restore
%%BeginGlobal
/build_12 {
    pop
    /optsize ptsize def
    /osize size def
    /ofont font def

    optsize 2 div dup R exch R f
    0 size 2 mul 3 div dup neg exch 0 exch rmoveto

    (1) show
    rmoveto
    optsize R f
    (\244) show
    f
    (2) show

    optsize ofont f
} def
%%EndGlobal
/saveobj save def
mark
12 S1 f
2933 1713 m
90 build_12
3023 1713 m
12 S f
(b)3033 1713 w
9 I f
(e)3106 1665 w
6 R f
(\()3156 1617 w
6 I f
(j)3191 1617 w
6 R f
(\))3213 1617 w
9 S f
(-)3255 1665 w
9 I f
(p)3320 1665 w
9 S f
(+)3387 1665 w
9 R f
(1)3452 1665 w
12 I f
(.)3517 1713 w
12 R f
(In the special case that)4 1088 1 720 1938 t
12 I f
(b)1838 1938 w
12 S f
(= b)1 192 1 1958 1938 t
9 I f
(e)2157 1890 w
12 R f
(, it is also necessary that)5 1170 1 2207 1938 t
(\(7\))720 2163 w
12 I f
(d)2280 2163 w
12 S f
(-)2400 2163 w
12 I f
(b)2526 2163 w
9 R f
(\()2601 2115 w
9 I f
(j)2653 2115 w
9 R f
(\))2685 2115 w
12 S f
(\263 -)1 192 1 2785 2163 t
12 S1 f
()2997 2163 w
2997 2163 m
90 build_12
3087 2163 m
12 S f
(b)3097 2163 w
9 I f
(e)3170 2115 w
6 R f
(\()3220 2067 w
6 I f
(j)3255 2067 w
6 R f
(\))3277 2067 w
9 S f
(-)3319 2115 w
9 I f
(p)3384 2115 w
12 I f
(.)3449 2163 w
12 R f
( multiplying and subtracting)3 1410(Condition \(6\) is easily reduced to a test that only requires)10 2910 2 720 2388 t
(large integers; it is equivalent to)5 1549 1 720 2538 t
(\(8\))720 2763 w
12 S f
(\357)2067 2763 w
12 R f
(2)2127 2763 w
12 I f
(M)2197 2763 w
12 R f
(\()2307 2763 w
12 I f
(d)2357 2763 w
12 S f
(-)2477 2763 w
12 I f
(b)2603 2763 w
9 R f
(\()2678 2715 w
9 I f
(j)2730 2715 w
9 R f
(\))2762 2715 w
12 R f
(\))2812 2763 w
12 S f
(\357 \243)1 166 1 2852 2763 t
12 I f
(M)3068 2763 w
12 S f
(b)3178 2763 w
9 I f
(e)3251 2715 w
6 R f
(\()3301 2667 w
6 I f
(j)3336 2667 w
6 R f
(\))3358 2667 w
9 S f
(-)3400 2715 w
9 I f
(p)3465 2715 w
9 S f
(+)3532 2715 w
9 R f
(1)3597 2715 w
12 R f
(,)3662 2763 w
(where)720 2988 w
12 I f
(M)1047 2988 w
12 R f
(is chosen so that 2)4 902 1 1182 2988 t
12 I f
(Md)2094 2988 w
12 R f
(, 2)1 126 1 2254 2988 t
12 I f
(Mb)2390 2988 w
9 R f
(\()2565 2940 w
9 I f
(j)2617 2940 w
9 R f
(\))2649 2940 w
12 R f
(, and)1 239 1 2689 2988 t
12 I f
(M)2964 2988 w
12 S f
(b)3074 2988 w
9 I f
(e)3147 2940 w
6 R f
(\()3197 2892 w
6 I f
(j)3232 2892 w
6 R f
(\))3254 2892 w
9 S f
(-)3296 2940 w
9 I f
(p)3361 2940 w
9 S f
(+)3428 2940 w
9 R f
(1)3493 2940 w
12 R f
( example,)1 473( For)1 233(are all integers.)2 750 3 3584 2988 t
12 I f
(M)720 3138 w
12 R f
(:)870 3138 w
12 S f
(=)924 3138 w
12 R f
(max { 1 ,)3 385 1 1050 3138 t
12 S f
(b)1485 3138 w
9 I f
(p)1558 3090 w
9 S f
(-)1625 3090 w
9 I f
(e)1690 3090 w
6 R f
(\()1740 3042 w
6 I f
(j)1775 3042 w
6 R f
(\))1797 3042 w
9 S f
(-)1839 3090 w
9 R f
(1)1904 3090 w
12 R f
(})1969 3138 w
(.)2037 3102 w
(max { 10)2 405 1 2077 3138 t
9 I f
(n)2489 3090 w
9 S f
(-)2556 3090 w
9 I f
(k)2621 3090 w
9 S f
(-)2683 3090 w
9 R f
(1)2748 3090 w
12 R f
( in \2474,)2 384( suffices, though, as illustrated)4 1635( })1 68(, 1)1 140 4 2813 3138 t
(smaller choices of)2 875 1 720 3288 t
12 I f
(M)1625 3288 w
12 R f
( \(8\) fails to hold, and consider)6 1446( Suppose)1 467(are often possible.)2 878 3 1755 3288 t
12 S f
(d)1768 3519 w
13 R f
(\304)1776 3483 w
9 R f
(\()1834 3437 w
9 I f
(j)1886 3437 w
9 R f
(\))1918 3437 w
12 R f
(:)2018 3519 w
12 S f
(=)2072 3519 w
12 S1 f
()2198 3519 w
2198 3519 m
90 build_12
2288 3519 m
12 S f
(\264)2298 3519 w
12 R f
([ 2)1 110 1 2374 3519 t
12 I f
(M)2494 3519 w
12 R f
(\()2604 3519 w
12 I f
(d)2654 3519 w
12 S f
(-)2774 3519 w
12 I f
(b)2900 3519 w
9 R f
(\()2975 3471 w
9 I f
(j)3027 3471 w
9 R f
(\))3059 3471 w
12 R f
(\) ])1 90 1 3109 3519 t
12 I f
(/)3209 3519 w
12 R f
([)3253 3519 w
12 I f
(M)3303 3519 w
12 S f
(b)3413 3519 w
9 I f
(e)3486 3471 w
6 R f
(\()3536 3423 w
6 I f
(j)3571 3423 w
6 R f
(\))3593 3423 w
9 S f
(-)3635 3471 w
9 I f
(p)3700 3471 w
9 S f
(+)3767 3471 w
9 R f
(1)3832 3471 w
12 R f
(] ;)1 94 1 3897 3519 t
(note that)1 430 1 720 3750 t
12 I f
(b)1192 3750 w
9 R f
(\()1267 3702 w
9 I f
(j)1319 3702 w
9 R f
(\))1351 3702 w
12 S f
(+ d)1 185 1 1461 3750 t
13 R f
(\304)1595 3714 w
9 R f
(\()1653 3668 w
9 I f
(j)1705 3668 w
9 R f
(\))1737 3668 w
12 S f
(b)1797 3750 w
9 I f
(e)1870 3702 w
6 R f
(\()1920 3654 w
6 I f
(j)1955 3654 w
6 R f
(\))1977 3654 w
9 S f
(-)2019 3702 w
9 I f
(p)2084 3702 w
9 S f
(+)2151 3702 w
9 R f
(1)2216 3702 w
12 S f
(=)2331 3750 w
12 I f
(d)2457 3750 w
12 R f
(, so)1 179 1 2517 3750 t
12 S f
(d)2738 3750 w
13 R f
(\304)2746 3714 w
9 R f
(\()2804 3668 w
9 I f
(j)2856 3668 w
9 R f
(\))2888 3668 w
12 R f
(is the number of units in the last place of)9 2070 1 2970 3750 t
12 I f
(b)720 3900 w
9 R f
(\()795 3852 w
9 I f
(j)847 3852 w
9 R f
(\))879 3852 w
12 R f
( to perturb)2 503(by which we would like)4 1161 2 951 3900 t
12 I f
(b)2646 3900 w
9 R f
(\()2721 3852 w
9 I f
(j)2773 3852 w
9 R f
(\))2805 3852 w
12 R f
( floating-point arithmetic that starts by)5 1863(. With)1 332 2 2845 3900 t
( approximations to the integers 2)5 1631(obtaining floating-point)1 1157 2 720 4050 t
12 I f
(M)3518 4050 w
12 R f
(\()3628 4050 w
12 I f
(d)3678 4050 w
12 S f
(-)3798 4050 w
12 I f
(b)3924 4050 w
9 R f
(\()3999 4002 w
9 I f
(j)4051 4002 w
9 R f
(\))4083 4002 w
12 R f
(\) and)1 253 1 4133 4050 t
12 I f
(M)4426 4050 w
12 S f
(b)4536 4050 w
9 I f
(e)4609 4002 w
6 R f
(\()4659 3954 w
6 I f
(j)4694 3954 w
6 R f
(\))4716 3954 w
9 S f
(-)4758 4002 w
9 I f
(p)4823 4002 w
9 S f
(+)4890 4002 w
9 R f
(1)4955 4002 w
12 R f
(,)5010 4050 w
(we can compute an excellent approximation)5 2178 1 720 4206 t
12 S f
(d)2940 4206 w
9 R f
(\()3006 4158 w
9 I f
(j)3058 4158 w
9 R f
(\))3090 4158 w
12 R f
(to)3172 4206 w
12 S f
(d)3308 4206 w
13 R f
(\304)3316 4170 w
9 R f
(\()3374 4124 w
9 I f
(j)3426 4124 w
9 R f
(\))3458 4124 w
12 R f
( new approximation)2 983(and then a)2 517 2 3540 4206 t
12 I f
(b)720 4356 w
9 R f
(\()795 4308 w
9 I f
(j)847 4308 w
9 S f
(+)887 4308 w
9 R f
(1 \))1 82 1 952 4308 t
12 R f
(to)1089 4356 w
12 I f
(b)1228 4356 w
12 R f
(, i.e.,)1 252 1 1288 4356 t
12 I f
(b)1586 4356 w
9 R f
(\()1661 4308 w
9 I f
(j)1713 4308 w
9 S f
(+)1753 4308 w
9 R f
(1 \))1 82 1 1818 4308 t
12 S f
(=)1980 4356 w
12 I f
(f l)1 78 1 2116 4356 t
12 R f
(\()2204 4356 w
12 I f
(b)2254 4356 w
9 R f
(\()2329 4308 w
9 I f
(j)2381 4308 w
9 R f
(\))2413 4308 w
12 S f
(+ d)1 185 1 2523 4356 t
9 R f
(\()2715 4308 w
9 I f
(j)2767 4308 w
9 R f
(\))2799 4308 w
12 S f
(b)2859 4356 w
9 I f
(e)2932 4308 w
6 R f
(\()2982 4260 w
6 I f
(j)3017 4260 w
6 R f
(\))3039 4260 w
9 S f
(-)3081 4308 w
9 I f
(p)3146 4308 w
9 S f
(+)3213 4308 w
9 R f
(1)3278 4308 w
12 R f
(\), where)1 408 1 3343 4356 t
12 I f
(f l)1 78 1 3797 4356 t
12 R f
(\()3885 4356 w
(.)3935 4320 w
(\) denotes an approxi-)3 1065 1 3975 4356 t
(mation to \()2 609 1 720 4506 t
(.)1339 4470 w
( If)1 179( arithmetic.)1 588(\) computed with floating-point)3 1601 3 1379 4506 t
12 I f
(e)3816 4506 w
9 R f
(\()3884 4458 w
9 I f
(j)3936 4458 w
9 S f
(+)3976 4458 w
9 R f
(1 \))1 82 1 4041 4458 t
12 S f
(=)4203 4506 w
12 I f
(e)4329 4506 w
12 R f
(\(the correct)1 589 1 4451 4506 t
(exponent for the desired floating-point approximation)5 2599 1 720 4656 t
12 I f
(b)3351 4656 w
12 R f
(\) and either)2 551 1 3411 4656 t
12 I f
(b)3994 4656 w
9 R f
(\()4069 4608 w
9 I f
(j)4121 4608 w
9 R f
(\))4153 4608 w
12 R f
(is not a power of)4 815 1 4225 4656 t
12 S f
(b)720 4806 w
12 R f
(or)821 4806 w
12 S f
(d)956 4806 w
9 R f
(\()1022 4758 w
9 I f
(j)1074 4758 w
9 R f
(\))1106 4758 w
12 S f
(>)1216 4806 w
12 R f
(0, then)1 332 1 1342 4806 t
12 I f
(b)1709 4806 w
9 R f
(\()1784 4758 w
9 I f
(j)1836 4758 w
9 S f
(+)1876 4758 w
9 R f
(1 \))1 82 1 1941 4758 t
12 R f
(will differ from)2 759 1 2068 4806 t
12 I f
(b)2862 4806 w
12 R f
( most one unit in the last place, and if)9 1841(by at)1 242 2 2957 4806 t
12 S f
(d)720 4956 w
9 R f
(\()786 4908 w
9 I f
(j)838 4908 w
9 R f
(\))870 4908 w
12 R f
(differs from the nearest odd multiple of)6 1928 1 945 4956 t
12 S1 f
()2908 4956 w
2908 4956 m
90 build_12
2998 4956 m
12 R f
(by more than a modest multiple of)6 1688 1 3033 4956 t
12 S f
(b)4757 4956 w
9 R f
(1)4830 4908 w
9 S f
(-)4890 4908 w
9 I f
(p)4955 4908 w
12 R f
(,)5010 4956 w
(then)720 5106 w
12 I f
(b)957 5106 w
9 R f
(\()1032 5058 w
9 I f
(j)1084 5058 w
9 S f
(+)1124 5058 w
9 R f
(1 \))1 82 1 1189 5058 t
12 S f
(=)1351 5106 w
12 I f
(b)1477 5106 w
12 R f
(.)1537 5106 w
(It could happen that)3 973 1 970 5292 t
12 I f
(b)1978 5292 w
9 R f
(\()2053 5244 w
9 I f
(j)2105 5244 w
9 S f
(+)2145 5244 w
9 R f
(1 \))1 82 1 2210 5244 t
12 S f
(=)2372 5292 w
12 I f
(b)2498 5292 w
9 R f
(\()2573 5244 w
9 I f
(j)2625 5244 w
9 R f
(\))2657 5244 w
12 S f
(\271)2757 5292 w
12 I f
(b)2873 5292 w
12 R f
(if)2968 5292 w
12 I f
(b)3078 5292 w
12 R f
(differs from)1 584 1 3174 5292 t
12 I f
(b)3794 5292 w
9 R f
(\()3869 5244 w
9 I f
(j)3921 5244 w
9 R f
(\))3953 5244 w
12 R f
(by)4029 5292 w
12 S f
(\261 b)1 142 1 4185 5292 t
9 I f
(e)4334 5244 w
6 R f
(\()4384 5196 w
6 I f
(j)4419 5196 w
6 R f
(\))4441 5196 w
9 S f
(-)4483 5244 w
9 I f
(p)4548 5244 w
9 S f
(+)4615 5244 w
9 R f
(1)4680 5244 w
12 R f
(and)4771 5292 w
12 I f
(d)4980 5292 w
12 R f
(differs from)1 594 1 720 5442 t
12 I f
(b)1360 5442 w
9 R f
(\()1435 5394 w
9 I f
(j)1487 5394 w
9 R f
(\))1519 5394 w
12 R f
(by very nearly)2 723 1 1604 5442 t
12 S1 f
()2372 5442 w
2372 5442 m
90 build_12
2462 5442 m
12 S f
(b)2472 5442 w
9 I f
(e)2545 5394 w
6 R f
(\()2595 5346 w
6 I f
(j)2630 5346 w
6 R f
(\))2652 5346 w
9 S f
(-)2694 5394 w
9 I f
(p)2759 5394 w
9 S f
(+)2826 5394 w
9 R f
(1)2891 5394 w
12 R f
( preclude the infinite loop that might)6 1856(. To)1 238 2 2946 5442 t
(otherwise result, it suffices to replace)5 1817 1 720 5592 t
12 S f
(d)2571 5592 w
9 R f
(\()2637 5544 w
9 I f
(j)2689 5544 w
9 R f
(\))2721 5544 w
12 R f
( \()1 50(by sign)1 355 2 2795 5592 t
12 S f
(d)3210 5592 w
9 R f
(\()3276 5544 w
9 I f
(j)3328 5544 w
9 R f
(\))3360 5544 w
12 R f
( {)1 68(\) max)1 267 2 3410 5592 t
12 S f
(\357d)3745 5592 w
9 R f
(\()3871 5544 w
9 I f
(j)3923 5544 w
9 R f
(\))3955 5544 w
12 S f
(\357)3995 5592 w
12 R f
(,)4055 5592 w
12 S f
(b)4135 5592 w
9 I f
(e)4208 5544 w
6 R f
(\()4258 5496 w
6 I f
(j)4293 5496 w
6 R f
(\))4315 5496 w
9 S f
(-)4357 5544 w
9 I f
(p)4422 5544 w
9 S f
(+)4489 5544 w
9 R f
(1)4554 5544 w
12 R f
(}. Simi-)1 421 1 4619 5592 t
(larly, if)1 367 1 720 5742 t
12 I f
(b)1129 5742 w
9 R f
(\()1204 5694 w
9 I f
(j)1256 5694 w
9 R f
(\))1288 5694 w
12 R f
(is a power of)3 659 1 1370 5742 t
12 S f
(b)2071 5742 w
12 R f
(and)2179 5742 w
12 I f
(b)2394 5742 w
9 R f
(\()2469 5694 w
9 I f
(j)2521 5694 w
9 R f
(\))2553 5694 w
12 S f
(-)2663 5742 w
12 I f
(d)2789 5742 w
12 R f
(is very close to)3 761 1 2891 5742 t
12 S1 f
()3694 5742 w
3694 5742 m
90 build_12
3784 5742 m
12 S f
(b)3794 5742 w
9 I f
(e)3867 5694 w
6 R f
(\()3917 5646 w
6 I f
(j)3952 5646 w
6 R f
(\))3974 5646 w
9 S f
(-)4054 5694 w
9 I f
(p)4149 5694 w
12 R f
( happen)1 387(, it could)2 449 2 4204 5742 t
(that)720 5892 w
12 I f
(b)940 5892 w
9 R f
(\()1015 5844 w
9 I f
(j)1067 5844 w
9 S f
(+)1107 5844 w
9 R f
(1 \))1 82 1 1172 5844 t
12 S f
(=)1334 5892 w
12 I f
(b)1460 5892 w
9 R f
(\()1535 5844 w
9 I f
(j)1587 5844 w
9 R f
(\))1619 5844 w
12 R f
(unless)1698 5892 w
12 S f
(d)2038 5892 w
9 R f
(\()2104 5844 w
9 I f
(j)2156 5844 w
9 R f
(\))2188 5844 w
12 R f
(is suitably modified; in this special case \(when)7 2320 1 2267 5892 t
12 I f
(b)4627 5892 w
9 R f
(\()4702 5844 w
9 I f
(j)4754 5844 w
9 R f
(\))4786 5844 w
12 R f
(is a)1 174 1 4866 5892 t
(power of)1 429 1 720 6042 t
12 S f
(b)1179 6042 w
12 R f
(and)1275 6042 w
12 S f
(d)1478 6042 w
9 R f
(\()1544 5994 w
9 I f
(j)1596 5994 w
9 R f
(\))1628 5994 w
12 S f
(<)1738 6042 w
12 R f
(0\), it suffices to replace)4 1132 1 1864 6042 t
12 S f
(d)3026 6042 w
9 R f
(\()3092 5994 w
9 I f
(j)3144 5994 w
9 R f
(\))3176 5994 w
12 R f
(by)3246 6042 w
12 S f
(-)3396 6042 w
12 R f
(max {)1 275 1 3482 6042 t
12 S f
(\357d)3757 6042 w
9 R f
(\()3883 5994 w
9 I f
(j)3935 5994 w
9 R f
(\))3967 5994 w
12 S f
(\357)4007 6042 w
12 R f
(,)4067 6042 w
12 S f
(b)4147 6042 w
9 I f
(e)4220 5994 w
6 R f
(\()4270 5946 w
6 I f
(j)4305 5946 w
6 R f
(\))4327 5946 w
9 S f
(-)4369 5994 w
9 I f
(p)4434 5994 w
12 R f
(}.)4499 6042 w
(In the worst case, the procedure just described yields)8 2611 1 970 6228 t
12 I f
(b)3620 6228 w
9 R f
(\()3695 6180 w
9 I f
(m)3732 6180 w
9 R f
(\))3804 6180 w
12 S f
(=)3914 6228 w
12 I f
(b)4040 6228 w
12 R f
(with)4140 6228 w
12 I f
(m)4394 6228 w
12 S f
(=)4540 6228 w
12 R f
(3. This)1 374 1 4666 6228 t
(could happen if)2 771 1 720 6378 t
12 S f
(\357)1533 6378 w
12 I f
(b)1593 6378 w
9 R f
(\( 2 \))2 119 1 1668 6330 t
12 S f
(-)1867 6378 w
12 I f
(b)1993 6378 w
12 S f
( b)1 126(\357 =)1 176 2 2053 6378 t
9 I f
(e)2362 6330 w
9 S f
(-)2424 6330 w
9 I f
(p)2489 6330 w
9 S f
(+)2556 6330 w
9 R f
(1)2621 6330 w
12 R f
(, i.e.,)1 249 1 2676 6378 t
12 I f
(b)2967 6378 w
9 R f
(\( 2 \))2 119 1 3042 6330 t
12 R f
(differs from)1 590 1 3213 6378 t
12 I f
(b)3844 6378 w
12 R f
(by one unit in the last)5 1095 1 3945 6378 t
(place of)1 401 1 720 6528 t
12 I f
(b)1169 6528 w
12 R f
( the procedure yields)3 1058(. Otherwise)1 601 2 1229 6528 t
12 I f
(b)2936 6528 w
12 S f
(=)3056 6528 w
12 I f
(b)3182 6528 w
9 R f
(\( 1 \))2 119 1 3257 6480 t
12 R f
(or)3434 6528 w
12 I f
(b)3582 6528 w
12 S f
(=)3702 6528 w
12 I f
(b)3828 6528 w
9 R f
(\( 2 \))2 119 1 3903 6480 t
12 R f
(. \(Whenever)1 640 1 4032 6528 t
12 S f
(d)4720 6528 w
9 R f
(\()4786 6480 w
9 I f
(j)4838 6480 w
9 R f
(\))4870 6480 w
12 R f
(is)4959 6528 w
(modified as described in the previous paragraph,)6 2339 1 720 6678 t
12 I f
(b)3089 6678 w
9 R f
(\()3164 6630 w
9 I f
(j)3216 6630 w
9 S f
(+)3256 6630 w
9 R f
(1 \))1 82 1 3321 6630 t
12 S f
(=)3483 6678 w
12 I f
(b)3609 6678 w
12 R f
(.\))3669 6678 w
( suppose the left-hand side of \(4\) is)7 1833(Consider IEEE arithmetic for a moment and)6 2237 2 970 6864 t
(relaxed to)1 520 1 720 7018 t
12 S f
(b)1313 7018 w
9 I f
(e)1386 6954 w
6 R f
(min)1436 6972 w
9 S f
(-)1552 6954 w
9 I f
(p)1617 6954 w
9 S f
(+)1684 6954 w
9 R f
(1)1749 6954 w
12 R f
( to adjust the)3 745( handle denormalized numbers, it suffices)5 2225(. To)1 266 3 1804 7018 t
(exponents of)1 629 1 720 7168 t
12 S f
(b)1391 7168 w
12 R f
( if)1 117( Specifically,)1 678( and \(8\) appropriately.)3 1113(in \(6\), \(7\),)2 518 4 1499 7168 t
12 I f
(L)3968 7168 w
9 I f
(j)4050 7192 w
12 R f
(is the least integer)3 912 1 4128 7168 t
(such that)1 431 1 720 7318 t
12 I f
(b)1181 7318 w
9 I f
(L)1248 7343 w
6 I f
(j)1308 7361 w
9 R f
(\()1248 7267 w
9 I f
(j)1300 7267 w
9 R f
(\))1332 7267 w
12 S f
(\271)1432 7318 w
12 R f
(0, then we replace)3 872 1 1548 7318 t
12 I f
(p)2450 7318 w
12 R f
(by \()1 190 1 2540 7318 t
12 I f
(p)2740 7318 w
12 S f
(-)2860 7318 w
12 I f
(L)2986 7318 w
9 I f
(j)3068 7342 w
12 R f
(\) in \(6\), \(7\), and \(8\).)5 967 1 3113 7318 t
(November 30, 1990)2 956 1 2387 7710 t
cleartomark
showpage
saveobj restore
%%EndPage: 4 5
%%Page: 5 6
/saveobj save def
mark
6 pagesetup
12 R f
(- 5 -)2 200 1 2780 500 t
( example, it)2 583( For)1 236( over- and underflow requires some extra tests.)7 2318(Correctly detecting)1 933 4 970 870 t
(is necessary to avoid over- and underflow in the computation of)10 3150 1 720 1020 t
12 I f
(b)3907 1020 w
9 R f
(\( 1 \))2 119 1 3982 972 t
12 R f
( implementa-)1 646(. The)1 283 2 4111 1020 t
(tion discussed in \2474 does this by testing)7 1987 1 720 1170 t
12 I f
(n)2748 1170 w
12 R f
(and)2849 1170 w
12 I f
(k)3063 1170 w
12 R f
( and)1 215(in \(3\) to screen out obvious over-)6 1668 2 3157 1170 t
( temporarily modifying\) the exponent of the)6 2166(underflows and checking \(and, if necessary,)5 2154 2 720 1320 t
( before the final multiplication or division; in borderline cases, it sets)11 3413(intermediate result)1 907 2 720 1470 t
12 I f
(b)720 1620 w
9 R f
(\( 1 \))2 119 1 795 1572 t
12 R f
( similarly)1 463( It)1 137( appropriate.)1 610(to the smallest or largest positive floating-point number, as)8 2872 4 958 1620 t
( computing)1 549(avoids over- and underflow in)4 1459 2 720 1770 t
12 I f
(b)2762 1770 w
9 R f
(\()2837 1722 w
9 I f
(j)2889 1722 w
9 S f
(+)2929 1722 w
9 R f
(1 \))1 82 1 2994 1722 t
12 R f
(from)3120 1770 w
12 I f
(b)3388 1770 w
9 R f
(\()3463 1722 w
9 I f
(j)3515 1722 w
9 R f
(\))3547 1722 w
12 R f
(, detecting over- or underflow)4 1453 1 3587 1770 t
(if)720 1920 w
12 I f
(b)847 1920 w
9 R f
(\()922 1872 w
9 I f
(j)974 1872 w
9 R f
(\))1006 1872 w
12 R f
( or smallest positive floating-point number and)6 2393(is the largest)2 655 2 1099 1920 t
12 I f
(b)4199 1920 w
9 R f
(\()4274 1872 w
9 I f
(j)4326 1872 w
9 S f
(+)4366 1872 w
9 R f
(1 \))1 82 1 4431 1872 t
12 R f
(would be)1 465 1 4575 1920 t
(larger or smaller, respectively, than)4 1703 1 720 2070 t
12 I f
(b)2453 2070 w
9 R f
(\()2528 2022 w
9 I f
(j)2580 2022 w
9 R f
(\))2612 2022 w
12 R f
(.)2652 2070 w
12 B f
( Conversion)1 617(3. Binary-to-Decimal)1 1104 2 720 2370 t
12 R f
( than decimal-to-binary conversion in the)5 2077(Binary-to-decimal conversion is simpler)3 1993 2 970 2556 t
( straightforward approach that only)4 1791( A)1 170( underflow are not issues.)4 1327(sense that over- and)3 1032 4 720 2706 t
( is to maintain an invari-)5 1226(involves arithmetic on integers \(sometimes very large integers\))7 3094 2 720 2856 t
( Let)1 224(ant described by Steele and White [12].)6 1922 2 720 3006 t
12 I f
(b)2900 3006 w
12 R f
( to be)2 273(denote the floating-point number \(1\))4 1773 2 2994 3006 t
( we determine integers)3 1091(converted. First)1 785 2 720 3156 t
12 I f
(b)2626 3156 w
9 R f
(\( 0 \))2 119 1 2701 3108 t
12 S f
(\263)2890 3156 w
12 R f
(1,)3006 3156 w
12 I f
(S)3126 3156 w
12 S f
(\263)3236 3156 w
12 R f
(1 and)1 263 1 3352 3156 t
12 I f
(k)3645 3156 w
12 R f
(such that)1 431 1 3728 3156 t
(\(9a\))720 3381 w
12 I f
(b)2411 3381 w
12 S f
(=)2531 3381 w
12 R f
(\()2657 3381 w
12 I f
(b)2707 3381 w
9 R f
(\( 0 \))2 119 1 2782 3333 t
12 I f
(/ S)1 104 1 2921 3381 t
12 R f
(\))3035 3381 w
12 S f
(\264)3095 3381 w
12 R f
(10)3171 3381 w
9 I f
(k)3298 3333 w
12 R f
(and)720 3606 w
(\(9b\) 1)1 1775 1 720 3831 t
12 S f
(\243)2545 3831 w
12 I f
(b)2661 3831 w
9 R f
(\( 0 \))2 119 1 2736 3783 t
12 I f
(/ S)1 104 1 2875 3831 t
12 S f
(<)3039 3831 w
12 R f
(10)3165 3831 w
12 I f
(.)3295 3831 w
12 R f
(Then we compute digits)3 1158 1 720 4056 t
12 I f
(d)1908 4056 w
9 I f
(j)1983 4080 w
12 R f
(and residuals)1 631 1 2048 4056 t
12 I f
(b)2709 4056 w
9 R f
(\()2784 4008 w
9 I f
(j)2836 4008 w
9 R f
(\))2868 4008 w
12 R f
(to maintain)1 546 1 2938 4056 t
(\(10\))720 4341 w
12 I f
(b)1934 4341 w
12 S f
(=)2054 4341 w
12 R f
(\()2180 4341 w
12 I f
(b)2230 4341 w
9 R f
(\()2305 4293 w
9 I f
(j)2357 4293 w
9 R f
(\))2389 4293 w
12 I f
(/ S)1 104 1 2439 4341 t
12 R f
(\))2553 4341 w
12 S f
(\264)2613 4341 w
12 R f
(10)2689 4341 w
9 I f
(k)2816 4293 w
9 S f
(-)2878 4293 w
9 I f
(j)2943 4293 w
12 S f
(+)3038 4341 w
9 I f
(i)3174 4461 w
9 S f
(=)3221 4461 w
9 R f
(0)3286 4461 w
17 S f
(S)3202 4377 w
9 I f
(j)3177 4221 w
9 S f
(-)3217 4221 w
9 R f
(1)3282 4221 w
12 I f
(d)3340 4341 w
9 I f
(i)3415 4365 w
12 S f
(\264)3460 4341 w
12 R f
(10)3536 4341 w
9 I f
(k)3663 4293 w
9 S f
(-)3725 4293 w
9 I f
(i)3790 4293 w
12 R f
(by setting)1 472 1 720 4662 t
(\(11\))720 4887 w
12 I f
(d)2490 4887 w
9 I f
(j)2565 4911 w
12 R f
(:)2650 4887 w
12 S f
(= \353)1 186 1 2704 4887 t
12 I f
(b)2900 4887 w
9 R f
(\()2975 4839 w
9 I f
(j)3027 4839 w
9 R f
(\))3059 4839 w
12 I f
(/ S)1 104 1 3109 4887 t
12 S f
(\373)3223 4887 w
12 R f
(and)720 5112 w
(\(12\))720 5337 w
12 I f
(b)1552 5337 w
9 R f
(\()1627 5289 w
9 I f
(j)1679 5289 w
9 S f
(+)1719 5289 w
9 R f
(1 \))1 82 1 1784 5289 t
12 R f
(:)1936 5337 w
12 S f
(=)1990 5337 w
12 R f
(10)2116 5337 w
12 S f
(\264)2246 5337 w
12 R f
(\()2322 5337 w
12 I f
(b)2372 5337 w
9 R f
(\()2447 5289 w
9 I f
(j)2499 5289 w
9 R f
(\))2531 5289 w
12 S f
(-)2641 5337 w
12 I f
(d)2767 5337 w
9 I f
(j)2842 5361 w
12 S f
(\264)2887 5337 w
12 I f
(S)2963 5337 w
12 R f
(\))3033 5337 w
12 S f
(=)3143 5337 w
12 R f
(10)3269 5337 w
12 S f
(\264)3399 5337 w
12 R f
(\()3475 5337 w
12 I f
(b)3525 5337 w
9 R f
(\()3600 5289 w
9 I f
(j)3652 5289 w
9 R f
(\))3684 5289 w
12 R f
(mod)3784 5337 w
12 I f
(S)4048 5337 w
12 R f
(\) ,)1 90 1 4118 5337 t
(where)720 5562 w
12 S f
(\353)1042 5562 w
12 I f
(x)1112 5562 w
12 S f
(\373)1175 5562 w
12 R f
(denotes the greatest integer)3 1312 1 1251 5562 t
12 S f
(\243)2593 5562 w
12 I f
(x)2709 5562 w
12 R f
(.)2762 5562 w
(Steele and White [12] suggest an iterative procedure that uses integer arithmetic to)12 4070 1 970 5748 t
(compute the)1 597 1 720 5898 t
12 I f
(k)1353 5898 w
12 R f
(for which \(9\) holds, but it is generally more efficient to use floating-point)12 3599 1 1441 5898 t
(arithmetic to compute)2 1071 1 720 6054 t
12 I f
(k)1828 6054 w
13 R f
(\303)1839 6018 w
12 R f
(with)1918 6054 w
12 I f
(k)2170 6054 w
12 S f
(\243)2273 6054 w
12 I f
(k)2389 6054 w
13 R f
(\303)2400 6018 w
12 S f
(\243)2492 6054 w
12 I f
(k)2608 6054 w
12 S f
(+)2721 6054 w
12 R f
(1 and, if necessary, to then use integer arith-)8 2193 1 2847 6054 t
(metic to compute)2 888 1 720 6210 t
12 I f
(k)1664 6210 w
12 R f
(from)1773 6210 w
12 I f
(k)2063 6210 w
13 R f
(\303)2074 6174 w
12 R f
( it is)2 259( the floating-point arithmetics considered here,)5 2382(. For)1 283 3 2116 6210 t
(straightforward to compute an integer)4 1980 1 720 6360 t
12 S1 f
()2771 6360 w
cleartomark
saveobj restore
%%BeginGlobal
/build_Sl {
pop
gsave
size .0022 mul dup scale
currentpoint translate
14 93 moveto
14 96 lineto
29 110 lineto
44 121 lineto
54 127 lineto
55 132 lineto
57 146 lineto
59 157 lineto
62 171 lineto
66 186 lineto
70 199 lineto
75 213 lineto
81 228 lineto
88 243 lineto
96 257 lineto
106 272 lineto
118 287 lineto
133 300 lineto
148 307 lineto
163 308 lineto
178 304 lineto
191 293 lineto
197 281 lineto
198 277 lineto
198 260 lineto
194 246 lineto
187 231 lineto
179 217 lineto
168 202 lineto
155 187 lineto
141 172 lineto
126 158 lineto
111 146 lineto
96 136 lineto
94 131 lineto
93 123 lineto
92 112 lineto
91 103 lineto
90 93 lineto
89 81 lineto
89 40 lineto
92 28 lineto
97 18 lineto
108 10 lineto
122 10 lineto
134 18 lineto
145 33 lineto
152 48 lineto
158 62 lineto
168 58 lineto
168 59 lineto
163 45 lineto
157 31 lineto
148 16 lineto
133 3 lineto
118 -1 lineto
103 0 lineto
88 5 lineto
73 18 lineto
64 31 lineto
58 46 lineto
55 59 lineto
53 73 lineto
52 111 lineto
37 101 lineto
22 86 lineto
14 93 lineto

97 152 moveto
97 153 lineto
99 166 lineto
101 178 lineto
103 190 lineto
106 205 lineto
109 218 lineto
113 232 lineto
118 246 lineto
124 261 lineto
132 275 lineto
144 290 lineto
157 298 lineto
171 298 lineto
181 291 lineto
186 283 lineto
187 279 lineto
187 264 lineto
186 260 lineto
181 246 lineto
174 233 lineto
165 218 lineto
155 204 lineto
142 190 lineto
127 175 lineto
112 162 lineto
97 152 lineto

eofill
grestore
} def
%%EndGlobal
/saveobj save def
mark
12 S1 f
2771 6360 m
60 build_Sl
2831 6360 m
12 R f
(and a floating-point number)3 1469 1 2902 6360 t
12 I f
(x)4442 6360 w
12 R f
(such that)1 473 1 4567 6360 t
(1)720 6510 w
12 S f
(\243)830 6510 w
12 I f
(x)946 6510 w
12 S f
(<)1059 6510 w
12 R f
(2 and)1 263 1 1185 6510 t
12 I f
(b)1478 6510 w
12 S f
(=)1598 6510 w
12 I f
(x)1724 6510 w
12 S f
(\264)1787 6510 w
12 R f
(2)1863 6510 w
9 S1 f
()1930 6462 w
1930 6462 m
45 build_Sl
1975 6462 m
12 R f
(. Now)1 322 1 1985 6510 t
12 I f
(k)1703 6735 w
12 S f
(= \353)1 186 1 1816 6735 t
12 R f
(log)2012 6735 w
9 R f
(10)2181 6759 w
12 R f
(\()2291 6735 w
12 I f
(b)2341 6735 w
12 R f
(\))2411 6735 w
12 S f
(\373 = \353)2 292 1 2471 6735 t
12 S1 f
()2773 6735 w
2773 6735 m
60 build_Sl
2833 6735 m
12 R f
(.)2843 6699 w
(log)2883 6735 w
9 R f
(10)3052 6759 w
12 R f
(\( 2 \))2 160 1 3162 6735 t
12 S f
(+)3392 6735 w
12 R f
(log)3518 6735 w
9 R f
(10)3687 6759 w
12 R f
(\()3797 6735 w
12 I f
(x)3847 6735 w
12 R f
(\))3910 6735 w
12 S f
(\373)3970 6735 w
12 R f
(,)4026 6735 w
(log)1570 6960 w
9 R f
(10)1739 6984 w
12 R f
(\()1849 6960 w
12 I f
(x)1899 6960 w
12 R f
(\))1962 6960 w
12 S f
(\243)2062 6960 w
12 R f
(log)2178 6960 w
9 R f
(10)2347 6984 w
12 R f
(\( 1. 5 \))3 260 1 2457 6960 t
12 S f
(+)2787 6960 w
12 R f
([)2913 6960 w
12 I f
(x)2963 6960 w
12 S f
(-)3066 6960 w
12 R f
(1. 5 ])2 210 1 3182 6960 t
12 I f
(/)3402 6960 w
12 R f
(\( 1. 5)2 210 1 3446 6960 t
(.)3666 6924 w
( ,)1 50(log \( 10 \) \))4 434 2 3706 6960 t
(and, for the arithmetics considered here,)5 1932 1 720 7185 t
12 S f
(\357)2682 7185 w
12 S1 f
()2742 7185 w
2742 7185 m
60 build_Sl
2802 7185 m
12 S f
(\357 \243)1 166 1 2802 7185 t
12 R f
(1077, so)1 407 1 3018 7185 t
(November 30, 1990)2 956 1 2387 7710 t
cleartomark
showpage
saveobj restore
%%EndPage: 5 6
%%Page: 6 7
/saveobj save def
mark
7 pagesetup
12 R f
(- 6 -)2 200 1 2780 500 t
12 I f
(k)1320 876 w
12 S f
(\243)1423 876 w
12 I f
(k)1539 876 w
13 R f
(\303)1550 840 w
12 R f
(:)1642 876 w
12 S f
(= \353)1 186 1 1696 876 t
12 I f
(f l)1 78 1 1902 876 t
12 R f
(\()1990 876 w
12 S1 f
()2040 876 w
2040 876 m
60 build_Sl
2100 876 m
12 S f
(\264)2110 876 w
12 R f
(0. 301029995663981)1 1000 1 2186 876 t
12 S f
(+)3246 876 w
12 R f
(\()3372 876 w
12 I f
(x)3422 876 w
12 S f
(-)3525 876 w
12 R f
(1. 5 \))2 210 1 3641 876 t
12 S f
(\264)3871 876 w
12 R f
(0. 289529654602168)1 1000 1 3947 876 t
12 S f
(+)3246 1101 w
12 R f
(0. 1760912590558 \))2 930 1 3372 1101 t
12 S f
(\373)4322 1101 w
12 R f
(,)4378 1101 w
( the constant term log)4 1055(where we have approximated)3 1414 2 720 1326 t
9 R f
(10)3204 1350 w
12 R f
(\( 1. 5 \))3 260 1 3314 1326 t
12 S f
(=)3644 1326 w
12 R f
(0. 176091259055681242...)1 1270 1 3770 1326 t
(by 0.1760912590558 to ensure)3 1580 1 720 1482 t
12 I f
(k)2361 1482 w
13 R f
(\303)2372 1446 w
12 S f
(\263)2464 1482 w
12 I f
(k)2580 1482 w
12 R f
( that)1 241(; it is easy to see from Taylor's theorem)8 2166 2 2633 1482 t
12 I f
(k)720 1638 w
13 R f
(\303)731 1602 w
12 S f
(\243)823 1638 w
12 I f
(k)939 1638 w
12 S f
(+)1052 1638 w
12 R f
(1.)1178 1638 w
( we can compute an arbi-)5 1274(Using high-precision integer arithmetic in \(11\) and \(12\),)7 2796 2 970 1824 t
(trarily close decimal approximation)3 1721 1 720 1974 t
12 I f
(d)2473 1974 w
12 R f
(to)2564 1974 w
12 I f
(b)2689 1974 w
12 R f
( an approximation of only a few signifi-)7 1927(. Often)1 364 2 2749 1974 t
( simplest)1 458( The)1 271( is desired.)2 568(cant decimal places or a few places past the decimal point)10 3023 4 720 2124 t
( of digits and then to round the final digit)9 2145(approach is to generate the desired number)6 2175 2 720 2274 t
12 I f
(d)720 2424 w
9 I f
(n)795 2448 w
9 S f
(-)862 2448 w
9 R f
(1)927 2448 w
12 R f
( course, this rounding sometimes involves propagating carries,)7 3136(appropriately. Of)1 875 2 1029 2424 t
(i.e., changing)1 654 1 720 2574 t
12 I f
(d)1411 2574 w
9 I f
(i)1486 2598 w
12 R f
(for some values of)3 912 1 1558 2574 t
12 I f
(i)2507 2574 w
12 S f
(<)2601 2574 w
12 I f
(n)2727 2574 w
12 S f
(-)2847 2574 w
12 R f
( Steele and)2 539( alternative advocated by)3 1225(1. An)1 303 3 2973 2574 t
(White [12] is to use a stopping test that assures that we compute each)13 3401 1 720 2724 t
12 I f
(d)4157 2724 w
9 I f
(i)4232 2748 w
12 R f
(correctly. This)1 737 1 4303 2724 t
( structure described in [12], and sometimes it saves work,)9 2795(is convenient for the co-routine)4 1525 2 720 2874 t
(but other times it costs more work, because it requires computing with larger integers.)13 4139 1 720 3024 t
(Suppose we have chosen)3 1210 1 970 3210 t
12 I f
(n)2215 3210 w
12 R f
( decimal number of)3 956(, and we wish to compute the nearest)7 1809 2 2275 3210 t
(the form \(3\) to)3 705 1 720 3360 t
12 I f
(b)1455 3360 w
12 R f
( \(10\), if)2 364( From)1 321(\(with ties broken appropriately\).)3 1556 3 1545 3360 t
(\(13\))720 3585 w
12 I f
(b)2182 3585 w
9 R f
(\()2257 3537 w
9 I f
(j)2309 3537 w
9 R f
(\))2341 3537 w
12 R f
(mod)2441 3585 w
12 I f
(S)2705 3585 w
12 S f
(<)2825 3585 w
12 R f
(5)2951 3585 w
12 S f
(\264)3021 3585 w
12 I f
(S)3097 3585 w
12 S f
(\264)3167 3585 w
12 R f
(10)3243 3585 w
9 I f
(j)3378 3537 w
9 S f
(-)3418 3537 w
9 I f
(n)3483 3537 w
12 R f
(,)3548 3585 w
(then \(11\) delivers the desired)4 1402 1 720 3810 t
12 I f
(d)2152 3810 w
9 I f
(j)2227 3834 w
12 R f
(and)2292 3810 w
12 I f
(d)2495 3810 w
9 I f
(i)2570 3834 w
12 S f
(=)2665 3810 w
12 R f
(0 for)1 230 1 2791 3810 t
12 I f
(j)3051 3810 w
12 S f
(<)3145 3810 w
12 I f
(i)3271 3810 w
12 S f
(<)3365 3810 w
12 I f
(n)3491 3810 w
12 R f
( if)1 104(. Similarly,)1 570 2 3551 3810 t
(\(14\))720 4035 w
12 I f
(b)2004 4035 w
9 R f
(\()2079 3987 w
9 I f
(j)2131 3987 w
9 R f
(\))2163 3987 w
12 R f
(mod)2263 4035 w
12 I f
(S)2527 4035 w
12 S f
(>)2647 4035 w
12 I f
(S)2773 4035 w
12 S f
(\264)2843 4035 w
12 R f
(\( 1)1 110 1 2919 4035 t
12 S f
(-)3089 4035 w
12 R f
(5)3215 4035 w
12 S f
(\264)3285 4035 w
12 R f
(10)3361 4035 w
9 I f
(j)3496 3987 w
9 S f
(-)3536 3987 w
9 I f
(n)3601 3987 w
12 R f
(\) ,)1 90 1 3666 4035 t
(then)720 4260 w
12 I f
(d)960 4260 w
9 I f
(j)1035 4284 w
12 R f
(from \(11\) must be increased by one and again)8 2225 1 1103 4260 t
12 I f
(d)3361 4260 w
9 I f
(i)3436 4284 w
12 S f
(=)3531 4260 w
12 R f
(0 for)1 234 1 3657 4260 t
12 I f
(j)3925 4260 w
12 S f
(<)4019 4260 w
12 I f
(i)4145 4260 w
12 S f
(<)4239 4260 w
12 I f
(n)4365 4260 w
12 R f
( can hap-)2 447(. It)1 168 2 4425 4260 t
(pen that)1 411 1 720 4410 t
12 I f
(j)1188 4410 w
12 S f
(=)1282 4410 w
12 R f
(0 and \(11\) gives)3 858 1 1408 4410 t
12 I f
(d)2322 4410 w
9 R f
(0)2397 4434 w
12 S f
(=)2512 4410 w
12 R f
(9, in which case we must increment)6 1874 1 2638 4410 t
12 I f
(k)4568 4410 w
12 R f
(and set)1 363 1 4677 4410 t
12 I f
(d)720 4560 w
9 R f
(0)795 4584 w
12 R f
(:)900 4560 w
12 S f
(=)954 4560 w
12 R f
( of)1 141( computation)1 642(1. The)1 346 3 1080 4560 t
12 I f
(k)2250 4560 w
12 R f
( precludes this special case, but it is more effi-)9 2331(in [12])1 365 2 2344 4560 t
(cient to compute and correct)4 1424 1 720 4710 t
12 I f
(k)2188 4710 w
12 R f
( that by scaling)3 771( Note)1 306(as just described.)2 853 3 2285 4710 t
12 I f
(b)4258 4710 w
9 R f
(\( 0 \))2 119 1 4333 4662 t
12 R f
(and)4505 4710 w
12 I f
(S)4721 4710 w
12 R f
(by a)1 216 1 4824 4710 t
( tests \(13\) and \(14\) only involve)6 1627(nonnegative integral power of 10, we can arrange that)8 2693 2 720 4860 t
(integer arithmetic.)1 883 1 720 5010 t
( necessary to use)3 831(If the left- and right-hand sides of \(13\) or \(14\) are equal, then it is)14 3239 2 970 5196 t
(the appropriate tie-breaking rule to decide whether and how to stop generating digits.)12 4095 1 720 5346 t
( there are times when it is desirable to compute the shortest)11 3125(As argued in [12],)3 945 2 970 5532 t
(decimal string that correctly rounds to a given floating-point number)9 3458 1 720 5682 t
12 I f
(b)4224 5682 w
12 R f
( example,)1 483(. For)1 273 2 4284 5682 t
( elements in the AMPL modeling)5 1707(this is the ``right'' way to represent numbers as set)9 2613 2 720 5832 t
( For)1 246( the present work.)3 917(language [8], which was a prime motivation for)7 2429 3 720 5982 t
12 I f
(d)4361 5982 w
12 R f
(to correctly)1 570 1 4470 5982 t
(round to)1 404 1 720 6132 t
12 I f
(b)1154 6132 w
12 R f
(, it suffices that)3 743 1 1214 6132 t
(\(15\))720 6363 w
12 S1 f
()2128 6363 w
2128 6363 m
90 build_12
2218 6363 m
12 R f
(\()2228 6363 w
12 I f
(b)2278 6363 w
12 S f
(_ +)1 186 1 2278 6363 t
12 I f
(b)2524 6363 w
12 R f
(\))2594 6363 w
12 S f
(<)2704 6363 w
12 I f
(d)2830 6363 w
12 S f
(<)2950 6363 w
12 S1 f
()3076 6363 w
3076 6363 m
90 build_12
3166 6363 m
12 R f
(\()3176 6363 w
12 I f
(b)3226 6363 w
12 S f
(+)3346 6363 w
12 I f
(b)3472 6363 w
12 S1 f
(_)3478 6252 w
12 R f
(\) ,)1 90 1 3542 6363 t
(where, as before,)2 824 1 720 6594 t
12 I f
(b)1577 6594 w
12 S f
(_)1577 6594 w
12 R f
(and)1670 6594 w
12 I f
(b)1876 6594 w
12 S1 f
(_)1882 6483 w
12 R f
( to)1 128(are the floating-point numbers adjacent)4 1902 2 1969 6594 t
12 I f
(b)4033 6594 w
12 R f
(, and [12] tells how)4 947 1 4093 6594 t
(to compute the shortest)3 1141 1 720 6744 t
12 I f
(d)1898 6744 w
12 R f
( involves stopping tests similar to \(13\))6 1890( This)1 281(that satisfies \(15\).)2 874 3 1995 6744 t
( whether)1 432( taking account of)3 909( By)1 215(and \(14\).)1 448 4 720 6894 t
12 I f
(d)2770 6894 w
12 R f
(will to be converted to binary by biased or)8 2164 1 2876 6894 t
( strict inequalities in \(15\) to be an equality,)8 2150(unbiased rounding, we can allow one of the)7 2170 2 720 7044 t
( shorter)1 381(which can lead to a)4 990 2 720 7194 t
12 I f
(d)2138 7194 w
12 R f
( example, with binary double-precision IEEE arith-)6 2568(. For)1 274 2 2198 7194 t
(metic, 10)1 484 1 720 7344 t
9 R f
(23)1211 7296 w
12 R f
( floating-point number which \(15\) would render as)7 2684(rounds to a binary)3 979 2 1377 7344 t
(November 30, 1990)2 956 1 2387 7710 t
cleartomark
showpage
saveobj restore
%%EndPage: 6 7
%%Page: 7 8
/saveobj save def
mark
8 pagesetup
12 R f
(- 7 -)2 200 1 2780 500 t
(9. 999999999999999)1 1000 1 720 870 t
12 S f
(\264)1730 870 w
12 R f
(10)1806 870 w
9 R f
(22)1933 822 w
12 R f
( into)1 242(, but taking the unbiased rounding of IEEE arithmetic)8 2765 2 2033 870 t
(account, we can render this number as 10)7 2084 1 720 1020 t
9 R f
(23)2811 972 w
12 R f
( implementation described in \2474 will)5 1839(. The)1 290 2 2911 1020 t
( or a relaxed version that allows equalities in \(15\) when the appropriate)12 3496(honor either \(15\))2 824 2 720 1170 t
(rounding rule will yield)3 1140 1 720 1320 t
12 I f
(b)1890 1320 w
12 R f
(.)1950 1320 w
( arithmetic of high precision in \(11\) and \(12\),)8 2197(In general it is necessary to use integer)7 1873 2 970 1506 t
( partic-)1 344( In)1 160(but often it is possible \320 and faster \320 to get by with floating-point arithmetic.)14 3816 3 720 1656 t
(ular, if)1 321 1 720 1806 t
12 I f
(b)1071 1806 w
12 R f
(is a floating-point integer with)4 1465 1 1161 1806 t
(\(16\))720 2031 w
12 S f
(\353)2098 2031 w
12 R f
(log)2168 2031 w
9 R f
(10)2337 2055 w
12 R f
(\()2447 2031 w
12 I f
(b)2497 2031 w
12 R f
(\))2567 2031 w
12 S f
(\373 <)1 172 1 2627 2031 t
12 R f
(log)2859 2031 w
9 R f
(10)3028 2055 w
12 R f
(\()3138 2031 w
12 S f
(b)3188 2031 w
9 I f
(p)3261 1983 w
12 R f
(\))3326 2031 w
12 S f
(-)3436 2031 w
12 R f
(1 ,)1 100 1 3562 2031 t
(then)720 2260 w
12 I f
(S)973 2260 w
12 R f
(:)1083 2260 w
12 S f
(=)1137 2260 w
12 R f
(10)1263 2260 w
9 S f
(\353)1390 2196 w
9 R f
(log)1442 2196 w
6 R f
(10)1567 2214 w
9 R f
(\()1641 2196 w
9 I f
(b)1678 2196 w
9 R f
(\))1730 2196 w
9 S f
(\373)1775 2196 w
12 R f
(,)1819 2260 w
12 I f
(i)1895 2260 w
12 R f
(.)1939 2224 w
12 I f
(S)1979 2260 w
12 R f
(, 1)1 136 1 2039 2260 t
12 S f
(\243)2225 2260 w
12 I f
(i)2341 2260 w
12 S f
(\243)2425 2260 w
12 R f
(9, and all the)3 672 1 2541 2260 t
12 I f
(b)3260 2260 w
9 R f
(\()3335 2212 w
9 I f
(j)3387 2212 w
9 R f
(\))3419 2212 w
12 R f
(are floating-point integers, and)3 1534 1 3506 2260 t
(there is no roundoff error when \(11\) and \(12\) are carried out straightforwardly in)13 4320 1 720 2410 t
(floating-point arithmetic.)1 1212 1 720 2560 t
( suffices is that where the)5 1355(Another case in which floating-point arithmetic often)6 2715 2 970 2746 t
(number)720 2896 w
12 I f
(n)1117 2896 w
12 R f
(of significant decimal digits required is sufficiently small, say)8 2981 1 1207 2896 t
(\(17\))720 3121 w
12 I f
(n)2309 3121 w
12 S f
(<)2429 3121 w
12 R f
(log)2555 3121 w
9 R f
(10)2724 3145 w
12 R f
(\()2834 3121 w
12 S f
(b)2884 3121 w
9 I f
(p)2957 3073 w
9 S f
(-)3024 3073 w
9 R f
(1)3089 3073 w
12 R f
(\))3154 3121 w
12 S f
(-)3264 3121 w
12 R f
(1)3390 3121 w
(\(e.g.,)720 3346 w
12 I f
(n)1022 3346 w
12 S f
(\243)1132 3346 w
12 R f
( that case, it is often)5 1113( In)1 190( arithmetic\).)1 619(14 for binary double-precision IEEE)4 1870 4 1248 3346 t
(worthwhile to compute)2 1115 1 720 3496 t
(\(18\))720 3727 w
12 I f
(b)2354 3727 w
13 R f
(\304)2369 3691 w
9 R f
(\( 0 \))2 119 1 2429 3645 t
12 R f
(:)2618 3727 w
12 S f
(=)2672 3727 w
12 I f
(f l)1 78 1 2808 3727 t
12 R f
(\()2896 3727 w
12 I f
(b)2946 3727 w
12 R f
(.)3016 3691 w
(10)3056 3727 w
9 S f
(-)3191 3679 w
9 I f
(k)3256 3679 w
12 R f
(\) ,)1 90 1 3316 3727 t
(and, for)1 373 1 720 3952 t
12 I f
(j)1123 3952 w
12 S f
(=)1217 3952 w
12 R f
( ,)1 40( 1)1 110(0 ,)1 100 3 1343 3952 t
(. . .)2 150 1 1673 3922 t
(,)1863 3952 w
12 I f
(n)1943 3952 w
12 S f
(-)2053 3952 w
12 R f
(1,)2169 3952 w
(\(19\))720 4183 w
12 I f
(d)2542 4183 w
13 R f
(\304)2557 4147 w
9 I f
(j)2617 4207 w
12 R f
(:)2702 4183 w
12 S f
(= \353)1 186 1 2756 4183 t
12 I f
(b)2952 4183 w
13 R f
(\304)2967 4147 w
9 R f
(\()3027 4101 w
9 I f
(j)3079 4101 w
9 R f
(\))3111 4101 w
12 S f
(\373)3171 4183 w
12 R f
(and)720 4408 w
(\(20\))720 4639 w
12 I f
(b)2090 4639 w
13 R f
(\304)2105 4603 w
9 R f
(\()2165 4557 w
9 I f
(j)2217 4557 w
9 S f
(+)2257 4557 w
9 R f
(1 \))1 82 1 2322 4557 t
12 S f
(=)2484 4639 w
12 I f
(f l)1 78 1 2620 4639 t
12 R f
(\( 10)1 170 1 2708 4639 t
12 S f
(\264)2888 4639 w
12 R f
([)2964 4639 w
12 I f
(b)3014 4639 w
13 R f
(\304)3029 4603 w
9 R f
(\()3089 4557 w
9 I f
(j)3141 4557 w
9 R f
(\))3173 4557 w
12 S f
(-)3283 4639 w
12 I f
(d)3409 4639 w
13 R f
(\304)3424 4603 w
9 I f
(j)3484 4663 w
12 R f
(] \))1 90 1 3529 4639 t
12 I f
(.)3639 4639 w
12 R f
(If \(18\) involves)2 748 1 720 4864 t
12 S f
(m)1498 4864 w
12 R f
(floating-point operations, then)2 1461 1 1598 4864 t
(\(21a\))720 5095 w
12 I f
(b)2299 5095 w
12 S f
(=)2419 5095 w
12 R f
(\()2545 5095 w
12 I f
(b)2595 5095 w
13 R f
(\304)2610 5059 w
9 R f
(\( 0 \))2 119 1 2670 5013 t
12 S f
(+ h)1 198 1 2869 5095 t
9 R f
(0)3082 5119 w
12 R f
(\))3147 5095 w
12 S f
(\264)3207 5095 w
12 R f
(10)3283 5095 w
9 I f
(k)3410 5047 w
12 R f
(with)720 5320 w
(\(21b\))720 5551 w
12 S f
(\357h)1980 5551 w
9 R f
(0)2127 5575 w
12 S f
(\357 <)1 176 1 2182 5551 t
12 R f
([ \( 1)2 160 1 2418 5551 t
12 S f
(- b)1 192 1 2638 5551 t
9 R f
(1)2837 5503 w
9 S f
(-)2897 5503 w
9 I f
(p)2962 5503 w
12 R f
(\))3027 5551 w
9 S f
(- m)1 117 1 3082 5503 t
12 S f
(-)3269 5551 w
12 R f
(1 ])1 110 1 3395 5551 t
12 I f
(b)3525 5551 w
13 R f
(\304)3540 5515 w
9 R f
(\( 0 \))2 119 1 3600 5469 t
12 I f
(.)3749 5551 w
12 R f
(\(In fact, for rounded arithmetic,)4 1522 1 720 5776 t
12 S f
(\357h)2272 5776 w
9 R f
(0)2419 5800 w
12 S f
(\357 <)1 176 1 2474 5776 t
12 R f
(\( 1)1 110 1 2710 5776 t
12 S f
(-)2880 5776 w
12 S1 f
()3006 5776 w
3006 5776 m
90 build_12
3096 5776 m
12 S f
(b)3106 5776 w
9 R f
(1)3179 5728 w
9 S f
(-)3239 5728 w
9 I f
(p)3304 5728 w
12 R f
(\))3369 5776 w
9 S f
(- m)1 117 1 3424 5728 t
12 S f
(-)3611 5776 w
12 R f
( \(20\) is tan-)3 558(1.\) Calculation)1 745 2 3737 5776 t
( is always exact, and the multiplica-)6 1733(tamount to a fixed-point computation; the subtraction)6 2587 2 720 5926 t
( in)1 133( Indeed,)1 425( \(20\), can lose a cumulative total of at most 3 bits.)11 2509(tion, over all iterations of)4 1253 4 720 6076 t
(VAX or binary IEEE arithmetic \()5 1603 1 720 6226 t
12 S f
(b =)1 192 1 2323 6226 t
12 R f
(2\),)2575 6226 w
(\(22a\))720 6511 w
12 I f
(b)1789 6511 w
13 R f
(\304)1804 6475 w
9 R f
(\( 0 \))2 119 1 1864 6429 t
12 S f
(=)2063 6511 w
12 R f
(\()2189 6511 w
12 I f
(b)2239 6511 w
13 R f
(\304)2254 6475 w
9 R f
(\()2314 6429 w
9 I f
(j)2366 6429 w
9 R f
(\))2398 6429 w
12 S f
(+ h)1 198 1 2508 6511 t
13 R f
(\304)2649 6505 w
9 I f
(j)2721 6535 w
12 R f
(\))2766 6511 w
12 S f
(\264)2826 6511 w
12 R f
(10)2902 6511 w
9 S f
(-)3037 6463 w
9 I f
(j)3102 6463 w
12 S f
(+)3197 6511 w
9 I f
(i)3333 6631 w
9 S f
(=)3380 6631 w
9 R f
(0)3445 6631 w
17 S f
(S)3361 6547 w
9 I f
(j)3336 6391 w
9 S f
(-)3376 6391 w
9 R f
(1)3441 6391 w
12 I f
(d)3499 6511 w
13 R f
(\304)3514 6475 w
9 I f
(i)3574 6535 w
12 S f
(\264)3619 6511 w
12 R f
(10)3695 6511 w
9 S f
(-)3830 6463 w
9 I f
(i)3895 6463 w
12 R f
(,)3940 6511 w
(with)720 6832 w
(\(22b\))720 7063 w
12 S f
(\357h)2343 7063 w
13 R f
(\304)2418 7057 w
9 I f
(j)2490 7087 w
12 S f
(\357 <)1 176 1 2525 7063 t
12 R f
(7)2761 7063 w
12 S f
(\264 b)1 142 1 2831 7063 t
9 R f
(1)2980 7015 w
9 S f
(-)3040 7015 w
9 I f
(p)3105 7015 w
12 S f
(\264)3170 7063 w
12 R f
(10)3246 7063 w
9 I f
(j)3381 7015 w
12 R f
(\(and)720 7294 w
12 S f
(h)977 7294 w
13 R f
(\304)992 7288 w
9 R f
(0)1064 7318 w
12 S f
(=)1179 7294 w
12 R f
(0\); in IBM arithmetic \()4 1160 1 1305 7294 t
12 S f
(b =)1 192 1 2465 7294 t
12 R f
(16\), \(22a\) holds with)3 1053 1 2717 7294 t
12 S f
(h)3815 7294 w
13 R f
(\304)3830 7288 w
9 I f
(j)3902 7318 w
12 S f
(\272)3987 7294 w
12 R f
( right-hand)1 546(0. \(The)1 391 2 4103 7294 t
(November 30, 1990)2 956 1 2387 7710 t
cleartomark
showpage
saveobj restore
%%EndPage: 7 8
%%Page: 8 9
/saveobj save def
mark
9 pagesetup
12 R f
(- 8 -)2 200 1 2780 500 t
( from bounding)2 756(side of \(22b\) comes)3 966 2 720 876 t
12 S f
(h)2476 876 w
13 R f
(\304)2491 870 w
9 I f
(j)2563 900 w
12 R f
(by the error that would be introduced by ignoring)8 2408 1 2632 876 t
( significant bits of)3 886(the three least)2 674 2 720 1026 t
12 I f
(b)2314 1026 w
9 R f
(\( 0 \))2 119 1 2389 978 t
12 R f
(\320 with these bits set to 0, \(20\) would introduce no)10 2488 1 2552 1026 t
( \(21\) and \(22\), we have)5 1118( Combining)1 602(further rounding errors.\))2 1171 3 720 1176 t
12 I f
(b)1812 1461 w
12 S f
(=)1932 1461 w
12 R f
(\()2058 1461 w
12 I f
(b)2108 1461 w
13 R f
(\304)2123 1425 w
9 R f
(\()2183 1379 w
9 I f
(j)2235 1379 w
9 R f
(\))2267 1379 w
12 S f
(+ h)1 198 1 2377 1461 t
9 I f
(j)2590 1485 w
12 R f
(\))2635 1461 w
12 S f
(\264)2695 1461 w
12 R f
(10)2771 1461 w
9 I f
(k)2898 1413 w
9 S f
(-)2960 1413 w
9 I f
(j)3025 1413 w
12 S f
(+)3120 1461 w
9 I f
(i)3256 1581 w
9 S f
(=)3303 1581 w
9 R f
(0)3368 1581 w
17 S f
(S)3284 1497 w
9 I f
(j)3259 1341 w
9 S f
(-)3299 1341 w
9 R f
(1)3364 1341 w
12 I f
(d)3422 1461 w
13 R f
(\304)3437 1425 w
9 I f
(i)3497 1485 w
12 S f
(\264)3542 1461 w
12 R f
(10)3618 1461 w
9 I f
(k)3745 1413 w
9 S f
(-)3807 1413 w
9 I f
(i)3872 1413 w
12 R f
(,)3917 1461 w
(with)720 1782 w
12 S f
(\357h)1008 2049 w
9 I f
(j)1155 2073 w
12 S f
( \357)1 109(\357 =)1 176 2 1190 2049 t
12 R f
(10)1476 2049 w
9 I f
(j)1611 2001 w
12 S f
(\264 h)1 148 1 1656 2049 t
9 R f
(0)1819 2073 w
12 S f
(+ h)1 198 1 1934 2049 t
13 R f
(\304)2075 2043 w
9 I f
(j)2147 2073 w
12 S f
(\357 <)1 176 1 2182 2049 t
(\354)2428 2004 w
(\356)2428 2124 w
12 R f
([ \( 1)2 160 1 2487 2076 t
12 S f
(- b)1 192 1 2707 2076 t
9 R f
(1)2906 2028 w
9 S f
(-)2966 2028 w
9 I f
(p)3031 2028 w
12 R f
(\))3096 2076 w
9 S f
(- m)1 117 1 3151 2028 t
12 S f
(-)3338 2076 w
12 R f
(1 ])1 110 1 3464 2076 t
12 I f
(b)3594 2076 w
13 R f
(\304)3609 2040 w
9 R f
(\( 0 \))2 119 1 3669 1994 t
12 S f
(+)3868 2076 w
12 R f
(7)3994 2076 w
12 S f
(\264 b)1 142 1 4064 2076 t
9 R f
(1)4213 2028 w
9 S f
(-)4273 2028 w
9 I f
(p)4338 2028 w
12 S f
(\374)4393 2004 w
(\376)4393 2124 w
(\264)4462 2049 w
12 R f
(10)4538 2049 w
9 I f
(j)4673 2001 w
12 R f
(;)4718 2049 w
( 1)1 70(with \(18\) carried out as in \2474, \()7 1495 2 720 2340 t
12 S f
(- b)1 192 1 2345 2340 t
9 R f
(1)2544 2292 w
9 S f
(-)2604 2292 w
9 I f
(p)2669 2292 w
12 R f
(\))2734 2340 w
9 S f
(- m)1 117 1 2789 2292 t
12 S f
(-)2976 2340 w
12 R f
(1)3102 2340 w
12 S f
(<)3222 2340 w
12 R f
(\()3348 2340 w
12 S f
(m +)1 196 1 3398 2340 t
12 R f
(1 \))1 110 1 3654 2340 t
12 S f
(\264 b)1 142 1 3784 2340 t
9 R f
(1)3933 2292 w
9 S f
(-)3993 2292 w
9 I f
(p)4058 2292 w
12 R f
(and)4143 2340 w
(\(23\))720 2607 w
12 S f
(\357h)1561 2607 w
9 I f
(j)1708 2631 w
12 S f
( h)1 132(\357 <)1 176 2 1743 2607 t
12 S1 f
(_)1985 2526 w
9 I f
(j)2066 2631 w
12 R f
(:)2151 2607 w
12 S f
(=)2205 2607 w
12 I f
(f l)1 78 1 2341 2607 t
12 S f
(\354)2439 2562 w
(\356)2439 2682 w
12 R f
(\( [)1 90 1 2498 2634 t
12 S f
(m +)1 196 1 2598 2634 t
12 R f
(1 ])1 110 1 2854 2634 t
12 I f
(b)2984 2634 w
13 R f
(\304)2999 2598 w
9 R f
(\( 0 \))2 119 1 3059 2552 t
12 S f
(+)3258 2634 w
12 R f
(7 \))1 110 1 3384 2634 t
12 S f
(\264 b)1 142 1 3514 2634 t
9 R f
(1)3663 2586 w
9 S f
(-)3723 2586 w
9 I f
(p)3788 2586 w
12 S f
(\264)3853 2634 w
12 R f
(10)3929 2634 w
9 I f
(j)4064 2586 w
12 S f
(\374)4099 2562 w
(\376)4099 2682 w
12 I f
(.)4168 2607 w
12 R f
(If)720 2898 w
(\(24a\))720 3129 w
12 I f
(b)2466 3129 w
13 R f
(\304)2481 3093 w
9 R f
(\()2541 3047 w
9 I f
(n)2578 3047 w
9 R f
(\))2630 3047 w
12 S f
(<)2740 3129 w
12 R f
(5)2866 3129 w
12 S f
(- h)1 198 1 2986 3129 t
12 S1 f
(_)3118 3048 w
9 I f
(n)3199 3153 w
12 R f
(,)3264 3129 w
(then \(3\) with)2 621 1 720 3360 t
12 I f
(d)1371 3360 w
9 I f
(i)1446 3384 w
12 S f
(=)1541 3360 w
12 I f
(d)1667 3360 w
13 R f
(\304)1682 3324 w
9 I f
(i)1742 3384 w
12 R f
(is the desired decimal approximation to)5 1902 1 1807 3360 t
12 I f
(b)3739 3360 w
12 R f
(; otherwise, if)2 665 1 3799 3360 t
(\(24b\))720 3591 w
12 I f
(b)2466 3591 w
13 R f
(\304)2481 3555 w
9 R f
(\()2541 3509 w
9 I f
(n)2578 3509 w
9 R f
(\))2630 3509 w
12 S f
(>)2740 3591 w
12 R f
(5)2866 3591 w
12 S f
(+ h)1 198 1 2986 3591 t
12 S1 f
(_)3118 3510 w
9 I f
(n)3199 3615 w
12 R f
(,)3264 3591 w
(then we obtain \(3\) by incrementing)5 1712 1 720 3822 t
12 I f
(d)2466 3822 w
13 R f
(\304)2481 3786 w
9 I f
(n)2541 3846 w
9 S f
(-)2608 3846 w
9 R f
(1)2673 3846 w
12 R f
(and propagating carries if necessary; otherwise)5 2278 1 2762 3822 t
(\(18\26120\) and \(23\) do not conclusively yield the desired rounded decimal approximation)11 4198 1 720 3972 t
12 I f
(d)4950 3972 w
12 R f
(,)5010 3972 w
(and we must resort to using high-precision integer arithmetic in \(11\) and \(12\).)12 3751 1 720 4122 t
( tests \(24\) that involves more computation)6 2105(As in [12], we can use an alternative to)8 1965 2 970 4308 t
( may save time if some of the trailing digits)9 2188(per digit, but that)3 863 2 720 4458 t
12 I f
(d)3811 4458 w
9 I f
(i)3886 4482 w
12 R f
( \(Note)1 343(in \(3\) are zero.)3 736 2 3961 4458 t
(that with \(24\) there is no need to compute)8 2090 1 720 4614 t
12 S f
(h)2850 4614 w
12 S1 f
(_)2856 4533 w
9 I f
(j)2937 4638 w
12 R f
(for)3013 4614 w
12 I f
(j)3194 4614 w
12 S f
(<)3288 4614 w
12 I f
(n)3414 4614 w
12 R f
( alternative works as fol-)4 1239(.\) The)1 327 2 3474 4614 t
( compute)1 444(lows. We)1 483 2 720 4764 t
(\(25a\))720 5031 w
12 S f
(h)1442 5031 w
13 R f
(\303)1457 5025 w
9 I f
(j)1529 5055 w
12 R f
(:)1614 5031 w
12 S f
(=)1668 5031 w
12 I f
(f l)1 78 1 1804 5031 t
12 S f
(\354)1902 4986 w
(\356)1902 5106 w
12 R f
([ 5)1 110 1 1961 5058 t
12 S f
(\264)2081 5058 w
12 R f
(10)2157 5058 w
9 S f
(-)2292 5010 w
9 I f
(n)2357 5010 w
12 S f
(-)2472 5058 w
12 R f
(\( \()1 90 1 2598 5058 t
12 S f
(m +)1 196 1 2698 5058 t
12 R f
(1 \))1 110 1 2954 5058 t
12 I f
(b)3084 5058 w
13 R f
(\304)3099 5022 w
9 R f
(\( 0 \))2 119 1 3159 4976 t
12 S f
(+)3358 5058 w
12 R f
(7 \))1 110 1 3484 5058 t
12 S f
(\264 b)1 142 1 3614 5058 t
9 R f
(1)3763 5010 w
9 S f
(-)3823 5010 w
9 I f
(p)3888 5010 w
12 R f
(])3953 5058 w
12 S f
(\264)4013 5058 w
12 R f
(10)4089 5058 w
9 I f
(j)4224 5010 w
12 S f
(\374)4259 4986 w
(\376)4259 5106 w
12 R f
(and test whether)2 787 1 720 5322 t
(\(25b\))720 5553 w
12 I f
(b)2453 5553 w
13 R f
(\304)2468 5517 w
9 R f
(\()2528 5471 w
9 I f
(j)2580 5471 w
9 R f
(\))2612 5471 w
12 S f
(-)2722 5553 w
12 I f
(d)2848 5553 w
13 R f
(\304)2863 5517 w
9 I f
(j)2923 5577 w
12 S f
(< h)1 198 1 3018 5553 t
13 R f
(\303)3159 5547 w
9 I f
(j)3231 5577 w
12 R f
(,)3276 5553 w
(in which case)2 667 1 720 5784 t
12 I f
(d)1424 5784 w
9 I f
(i)1499 5808 w
12 S f
(=)1594 5784 w
12 I f
(d)1720 5784 w
13 R f
(\304)1735 5748 w
9 I f
(i)1795 5808 w
12 R f
(for)1867 5784 w
12 I f
(i)2044 5784 w
12 S f
(\243)2128 5784 w
12 I f
(j)2254 5784 w
12 R f
(and)2325 5784 w
12 I f
(d)2535 5784 w
9 I f
(i)2610 5808 w
12 S f
(=)2705 5784 w
12 R f
(0 for)1 237 1 2831 5784 t
12 I f
(j)3106 5784 w
12 S f
(<)3200 5784 w
12 I f
(i)3326 5784 w
12 S f
(<)3420 5784 w
12 I f
(n)3546 5784 w
12 R f
( \(25b\) is not satisfied, we)5 1256(. If)1 178 2 3606 5784 t
(test whether)1 584 1 720 5934 t
(\(25c\))720 6165 w
12 I f
(f l)1 78 1 2181 6165 t
12 R f
(\( 1)1 110 1 2269 6165 t
12 S f
(-)2439 6165 w
12 R f
([)2565 6165 w
12 I f
(b)2615 6165 w
13 R f
(\304)2630 6129 w
9 R f
(\()2690 6083 w
9 I f
(j)2742 6083 w
9 R f
(\))2774 6083 w
12 S f
(-)2884 6165 w
12 I f
(d)3010 6165 w
13 R f
(\304)3025 6129 w
9 I f
(j)3085 6189 w
12 R f
(] \))1 90 1 3130 6165 t
12 S f
(< h)1 198 1 3290 6165 t
13 R f
(\303)3431 6159 w
9 I f
(j)3503 6189 w
12 R f
(,)3548 6165 w
(in which case)2 673 1 720 6396 t
12 I f
(d)1433 6396 w
9 I f
(j)1508 6420 w
12 S f
(=)1603 6396 w
12 I f
(d)1729 6396 w
13 R f
(\304)1744 6360 w
9 I f
(j)1804 6420 w
12 S f
(+)1899 6396 w
12 R f
(1,)2025 6396 w
12 I f
(d)2155 6396 w
9 I f
(i)2230 6420 w
12 S f
(=)2325 6396 w
12 I f
(d)2451 6396 w
13 R f
(\304)2466 6360 w
9 I f
(i)2526 6420 w
12 R f
(for)2601 6396 w
12 I f
(i)2781 6396 w
12 S f
(<)2875 6396 w
12 I f
(j)3011 6396 w
12 R f
(, and again)2 543 1 3045 6396 t
12 I f
(d)3628 6396 w
9 I f
(i)3703 6420 w
12 S f
(=)3798 6396 w
12 R f
(0 for)1 241 1 3924 6396 t
12 I f
(j)4206 6396 w
12 S f
(<)4300 6396 w
12 I f
(i)4426 6396 w
12 S f
(<)4520 6396 w
12 I f
(n)4646 6396 w
12 R f
(. Note)1 334 1 4706 6396 t
(that the quantity)2 841 1 720 6552 t
12 I f
(b)1620 6552 w
13 R f
(\304)1635 6516 w
9 R f
(\()1695 6470 w
9 I f
(j)1747 6470 w
9 R f
(\))1779 6470 w
12 S f
(-)1889 6552 w
12 I f
(d)2015 6552 w
13 R f
(\304)2030 6516 w
9 I f
(j)2090 6576 w
12 R f
(that appears in \(25\) is part of \(20\), and that \(25\) with)11 2856 1 2184 6552 t
12 I f
(j)720 6708 w
12 S f
(=)814 6708 w
12 I f
(n)940 6708 w
12 S f
(-)1060 6708 w
12 R f
(1 reduces to \(24\), since \(24b\) is equivalent to 10)9 2422 1 1186 6708 t
12 S f
(-)3668 6708 w
12 I f
(b)3794 6708 w
13 R f
(\304)3809 6672 w
9 R f
(\()3869 6626 w
9 I f
(n)3906 6626 w
9 R f
(\))3958 6626 w
12 S f
(<)4068 6708 w
12 R f
(5)4194 6708 w
12 S f
(- h)1 198 1 4314 6708 t
12 S1 f
(_)4446 6627 w
9 I f
(n)4527 6732 w
12 R f
( if)1 116(. Thus)1 342 2 4582 6708 t
(we reach)1 429 1 720 6858 t
12 I f
(j)1180 6858 w
12 S f
(=)1274 6858 w
12 I f
(n)1400 6858 w
12 S f
(-)1520 6858 w
12 R f
( nor \(25c\) holds, then again we must resort to using)10 2474(1 and neither \(25b\))3 920 2 1646 6858 t
(high-precision integer arithmetic in \(11\) and \(12\).)6 2395 1 720 7008 t
(On average, when \(17\) holds, i.e.,)5 1695 1 970 7194 t
12 I f
(n)2709 7194 w
12 R f
( is probably most efficient)4 1324(is not too large, it)4 903 2 2813 7194 t
( this fails or if)4 713( If)1 149( and \(20\).)2 481(first to try \(18\), \(19\),)4 1043 4 720 7344 t
12 I f
(n)3145 7344 w
12 R f
(is too large \(which includes the case)6 1796 1 3244 7344 t
(November 30, 1990)2 956 1 2387 7710 t
cleartomark
showpage
saveobj restore
%%EndPage: 8 9
%%Page: 9 10
/saveobj save def
mark
10 pagesetup
12 R f
(- 9 -)2 200 1 2780 500 t
( to check whether)3 873(where we wish \(15\) to hold\), then it is reasonable)9 2438 2 720 870 t
12 I f
(b)4069 870 w
12 R f
(is a floating-point)2 873 1 4167 870 t
( \(16\) holds, which means we can use floating-point arithmetic in \(11\) and)12 3763(integer and)1 557 2 720 1020 t
( The)1 251( may be unavoidable.)3 1042( resorting to high-precision integer arithmetic)5 2210(\(12\). Otherwise,)1 817 4 720 1170 t
(test \(17\) suggested above for)4 1444 1 720 1320 t
12 I f
(n)2208 1320 w
12 R f
(not being too large comes from requiring \(23\) to yield)9 2728 1 2312 1320 t
12 S f
(h)720 1476 w
12 S1 f
(_)726 1395 w
9 I f
(n)807 1500 w
12 S f
(<)922 1476 w
12 R f
(1 with [)2 374 1 1048 1476 t
12 S f
(m +)1 196 1 1432 1476 t
12 R f
(1 ])1 110 1 1688 1476 t
12 I f
(b)1818 1476 w
13 R f
(\304)1833 1440 w
9 R f
(\( 0 \))2 119 1 1893 1394 t
12 S f
(+)2092 1476 w
12 R f
(7 approximated by 10.)3 1081 1 2218 1476 t
12 B f
( Experience)1 603(4. Computational)1 925 2 720 1776 t
12 R f
(We have written functions,)3 1310 1 970 1962 t
12 CW f
(strtod)2355 1962 w
12 R f
(and)2820 1962 w
12 CW f
(dtoa)3069 1962 w
12 R f
(, that do the calculations described)5 1683 1 3357 1962 t
(in \2472 and \2473, respectively;)4 1296 1 720 2112 t
12 CW f
(strtod)2094 2112 w
12 R f
( standard [2])2 617(is designed to conform to the ANSI C)7 1861 2 2562 2112 t
(\(in "C" locale\);)2 799 1 720 2262 t
12 CW f
(dtoa)1624 2262 w
12 R f
( in)1 158(has modes that correspond to fixed-point formatting \(as)7 2907 2 1975 2262 t
(Fortran's)720 2412 w
12 CW f
(F)1235 2412 w
12 I f
(w.d)1307 2412 w
12 R f
(or)1509 2412 w
12 CW f
(printf)1683 2412 w
12 R f
('s)2115 2412 w
12 CW f
(%)2276 2412 w
12 I f
(w.d)2348 2412 w
12 CW f
(f)2518 2412 w
12 R f
(format specifiers\), to floating-point formatting \(as)5 2418 1 2622 2412 t
(in)720 2562 w
12 CW f
(E)911 2562 w
12 I f
(w.d)983 2562 w
12 R f
(or)1208 2562 w
12 CW f
(%)1405 2562 w
12 I f
(w.d)1477 2562 w
12 CW f
(e)1647 2562 w
12 R f
( shortest decimal string that)4 1436(\), and to \(15\), i.e., to computing the)7 1885 2 1719 2562 t
(rounds to a given binary floating-point number)6 2300 1 720 2712 t
12 I f
(b)3057 2712 w
12 R f
(. Thus)1 337 1 3117 2712 t
12 CW f
(dtoa)3533 2712 w
12 R f
( the)1 183(could be used inside)3 999 2 3858 2712 t
(ANSI C routines)2 809 1 720 2862 t
12 CW f
(fprintf)1602 2862 w
12 R f
(,)2106 2862 w
12 CW f
(printf)2209 2862 w
12 R f
(, and)1 234 1 2641 2862 t
12 CW f
(sprintf)2948 2862 w
12 R f
( shortest)1 407(, but it can also compute)5 1181 2 3452 2862 t
( source code is compilable by)5 1425( The)1 247(decimal strings as advocated by Steele and White [12].)8 2648 3 720 3012 t
( compiler, and, by defining appropriate preprocessor variables,)7 3051( 13])1 180( or C++ [6,)3 549(an ANSI C)2 540 4 720 3162 t
( IEEE, conventional)2 970(one can compile the functions so they are suitable for use with binary)12 3350 2 720 3312 t
( the functions is avail-)4 1098( for)1 176( Source)1 399(IBM-mainframe, or VAX double-precision arithmetic.)4 2647 4 720 3462 t
(able from)1 476 1 720 3612 t
12 I f
(netlib)1238 3612 w
12 R f
( details, send)2 647([5]; for)1 356 2 1555 3612 t
12 CW f
(netlib@research.att.com)2641 3612 w
12 R f
(the electronic-)1 702 1 4338 3612 t
(mail message)1 652 1 720 3762 t
12 CW f
(send index from fp)3 1296 1 2232 3912 t
12 R f
(For decimal-to-binary conversions, we obtain)4 2229 1 970 4098 t
12 I f
(b)3238 4098 w
9 R f
(\( 1 \))2 119 1 3313 4050 t
12 R f
( with)1 254(so that \(5\) holds)3 806 2 3481 4098 t
12 I f
(c)4581 4098 w
12 S f
(=)4694 4098 w
12 R f
(6. 01)1 220 1 4820 4098 t
(by using a mixture of integer and floating-point arithmetic to compute the integer)12 3917 1 720 4248 t
(\(26\))720 4575 w
12 I f
(f l)1 78 1 1953 4575 t
12 S f
(\354)2051 4470 w
(\357)2051 4590 w
(\356)2051 4710 w
9 I f
(i)2318 4695 w
9 S f
(=)2365 4695 w
9 R f
(0)2430 4695 w
17 S f
(S)2346 4611 w
9 R f
(min { 17 ,)3 317 1 2109 4455 t
9 I f
(n)2455 4455 w
9 S f
(-)2522 4455 w
9 R f
(1 })1 95 1 2587 4455 t
12 I f
(d)2692 4575 w
9 I f
(i)2767 4599 w
12 S f
(\264)2812 4575 w
12 R f
(10)2888 4575 w
9 R f
(min { 17 ,)3 317 1 3015 4527 t
9 I f
(n)3361 4527 w
9 S f
(-)3428 4527 w
9 R f
(1 })1 95 1 3493 4527 t
9 S f
(-)3625 4527 w
9 I f
(i)3712 4527 w
12 S f
(\374)3747 4470 w
(\357)3747 4590 w
(\376)3747 4710 w
12 R f
( by the appropriate)3 961(with at most one rounding error, then multiplying or dividing \(26\))10 3359 2 720 4926 t
(power of 10, expressed as the product of factors from the set)11 2908 1 720 5076 t
({ 10)1 188 1 1750 5301 t
9 I f
(i)1945 5253 w
12 R f
(: 0)1 144 1 1990 5301 t
12 S f
(\243)2184 5301 w
12 I f
(i)2300 5301 w
12 S f
(\243)2384 5301 w
12 R f
(15 })1 188 1 2500 5301 t
17 S f
(\310)2758 5337 w
12 R f
({ 10)1 188 1 2959 5301 t
9 R f
(\( 2)1 82 1 3154 5253 t
6 I f
(i)3241 5205 w
9 R f
(\))3272 5253 w
12 R f
(: 4)1 144 1 3332 5301 t
12 S f
(\243)3526 5301 w
12 I f
(i)3642 5301 w
12 S f
(\243)3726 5301 w
12 R f
(8 })1 128 1 3842 5301 t
12 I f
(.)3980 5301 w
12 R f
( 6 possibly inexact floating-point operations;)5 2202(\(For IEEE arithmetic, this involves at most)6 2118 2 720 5538 t
(for IBM arithmetic, at most 4, and for VAX, at most 3.\))11 2681 1 720 5688 t
(The choices of)2 710 1 970 5874 t
12 I f
(M)1712 5874 w
12 R f
(in \(8\) and of)3 603 1 1844 5874 t
12 I f
(S)2479 5874 w
12 R f
(and)2571 5874 w
12 I f
(b)2776 5874 w
9 R f
(\( 0 \))2 119 1 2851 5826 t
12 R f
( Since)1 329(in \(9\) deserve brief discussion.)4 1487 2 3012 5874 t
12 S f
(b)4860 5874 w
12 R f
(is)4959 5874 w
( the arithmetics considered here, the computations involving)7 2984(a power of 2 for)4 820 2 720 6024 t
12 I f
(M)4565 6024 w
12 R f
(,)4665 6024 w
12 I f
(S)4736 6024 w
12 R f
(, and)1 244 1 4796 6024 t
12 I f
(b)720 6174 w
9 R f
(\( 0 \))2 119 1 795 6126 t
12 R f
(entail multiplications by factors of the form 2)7 2275 1 966 6174 t
9 S f
(k)3248 6126 w
12 R f
(and 5)1 276 1 3351 6174 t
9 S f
(l)3634 6126 w
12 R f
(for nonnegative integers)2 1194 1 3737 6174 t
12 S f
(k)4974 6174 w
12 R f
(and)720 6324 w
12 S f
(l)930 6324 w
12 R f
( keeping separate track of)4 1261(. By)1 237 2 996 6324 t
12 S f
(k)2531 6324 w
12 R f
(and)2634 6324 w
12 S f
(l)2844 6324 w
12 R f
(,)2910 6324 w
12 CW f
(strtod)3019 6324 w
12 R f
(and)3488 6324 w
12 CW f
(dtoa)3740 6324 w
12 R f
( arrange to)2 525(often can)1 450 2 4065 6324 t
(use smaller values of)3 1111 1 720 6474 t
12 I f
(M)1894 6474 w
12 R f
(,)1994 6474 w
12 I f
(S)2087 6474 w
12 R f
(, and)1 267 1 2147 6474 t
12 I f
(b)2478 6474 w
9 R f
(\( 0 \))2 119 1 2553 6426 t
12 R f
(than the most straightforward choices)4 1946 1 2746 6474 t
12 I f
(M)4756 6474 w
12 R f
(:)4920 6474 w
12 S f
(=)4974 6474 w
12 R f
(max { 1 ,)3 385 1 720 6624 t
12 S f
(b)1155 6624 w
9 I f
(p)1228 6576 w
9 S f
(-)1295 6576 w
9 I f
(e)1360 6576 w
6 R f
(\()1410 6528 w
6 I f
(j)1445 6528 w
6 R f
(\))1467 6528 w
9 S f
(-)1509 6576 w
9 R f
(1)1574 6576 w
12 R f
(})1639 6624 w
12 S f
(\264)1750 6624 w
12 R f
(max { 10)2 405 1 1868 6624 t
9 I f
(n)2280 6576 w
9 S f
(-)2347 6576 w
9 I f
(k)2412 6576 w
9 S f
(-)2474 6576 w
9 R f
(1)2539 6576 w
12 R f
( or)1 152( })1 68(, 1)1 140 3 2604 6624 t
12 I f
(S)3016 6624 w
12 R f
(:)3128 6624 w
12 S f
(=)3182 6624 w
12 R f
(max { 1 ,)3 385 1 3300 6624 t
12 S f
(b)3735 6624 w
9 I f
(p)3808 6576 w
9 S f
(-)3875 6576 w
9 I f
(e)3940 6576 w
9 S f
(+)4002 6576 w
9 R f
(1)4067 6576 w
12 R f
(})4132 6624 w
12 S f
(\264)4242 6624 w
12 R f
( 10)1 170(max { 1 ,)3 385 2 4360 6624 t
9 I f
(k)4922 6576 w
12 R f
(})4982 6624 w
(would give.)1 567 1 720 6774 t
( of)1 141(Below are tables showing average microseconds for 10000 or 20000 repetitions)10 3929 2 970 6960 t
(various conversions on three machines:)4 1896 1 720 7110 t
(November 30, 1990)2 956 1 2387 7710 t
cleartomark
showpage
saveobj restore
%%EndPage: 9 10
%%Page: 10 11
/saveobj save def
mark
11 pagesetup
12 R f
(- 10 -)2 260 1 2750 500 t
12 S f
(\267)970 870 w
12 I f
(pyxis)1059 870 w
12 R f
( R3000 cpu chips, running IRIX Sys-)6 1821(is an SGI 4D/240S with 25MHz MIPS)6 1879 2 1340 870 t
( is by the standard)4 995( Compilation)1 693( with binary IEEE arithmetic.)4 1539(tem V Release 3.3.1,)3 1093 4 720 1020 t
(vendor-supplied C compiler \()3 1419 1 720 1170 t
12 CW f
(cc -O)1 360 1 2139 1170 t
12 R f
(\).)2499 1170 w
12 S f
(\267)970 1356 w
12 I f
(odin)1079 1356 w
12 R f
(is an Amdahl 5890, running UNIX)5 1798 1 1347 1356 t
9 S f
(\322)3145 1296 w
12 R f
(UTS System V Release 2.6b, with)5 1769 1 3271 1356 t
( On)1 241(IBM-mainframe floating-point arithmetic.)2 2100 2 720 1506 t
12 I f
(odin)3126 1506 w
12 R f
( a single possibly inexact)4 1346(, when)1 354 2 3340 1506 t
(floating-point operation suffices,)2 1625 1 720 1656 t
12 CW f
(strtod)2439 1656 w
12 R f
( product or)2 573(computes the relevant rounded)3 1544 2 2923 1656 t
( The)1 252(quotient using the assembly-coded routines whose source is shown in Appendix A.)11 4068 2 720 1806 t
(ANSI C routines were converted to old-style C by)8 2568 1 720 1956 t
12 CW f
(cfront)3380 1956 w
12 R f
(version 2.1 \(part of the)4 1178 1 3862 1956 t
(AT&T C++ translator\), then compiled by the vendor-supplied C compiler \()10 3616 1 720 2106 t
12 CW f
(cc -O\).)1 504 1 4336 2106 t
12 S f
(\267)970 2292 w
12 I f
(pipe)1066 2292 w
12 R f
( was by)2 390( Compilation)1 675( system.)1 407(is a VAX 8550 running a 10th Edition UNIX)8 2254 4 1314 2292 t
12 CW f
(lcc)720 2442 w
12 R f
(, an experimental C compiler by Chris Fraser and Dave Hanson \320 see [9].)13 3584 1 936 2442 t
(Tables 1 and 2 show approximate times for our)8 2365 1 970 2628 t
12 CW f
(strtod)3419 2628 w
12 R f
( to do the)3 490(, based on \2472,)3 699 2 3851 2628 t
( show corresponding times for the)5 1789(indicated decimal-to-binary conversions, and they)4 2531 2 720 2778 t
12 CW f
(atof)720 2928 w
12 R f
( conversions)1 613( The)1 255(routine from the standard C library on the machine in question.)10 3126 3 1046 2928 t
(in Table 1 fall into the ``typical'' cases, in which)9 2450 1 720 3078 t
12 CW f
(strtod)3253 3078 w
12 R f
(gets by with floating-point)3 1314 1 3726 3078 t
( as)1 135(arithmetic; in these cases, it takes roughly the same time)9 2751 2 720 3228 t
12 CW f
(atof)3683 3228 w
12 R f
(on)4006 3228 w
12 I f
(odin)4161 3228 w
12 R f
(and runs fas-)2 630 1 4410 3228 t
(ter than)1 373 1 720 3378 t
12 CW f
(atof)1174 3378 w
12 R f
(on)1501 3378 w
12 I f
(pyxis)1660 3378 w
12 R f
(and)1946 3378 w
12 I f
(pipe)2158 3378 w
12 R f
( the ``typical'' cases include all)5 1553( the VAX,)2 513(. \(On)1 285 3 2365 3378 t
12 I f
(d)4754 3378 w
12 S f
(\263)4864 3378 w
12 R f
(1)4980 3378 w
(with)720 3528 w
12 I f
(n)975 3528 w
12 S f
(\243)1085 3528 w
12 R f
( Table 2 have so large or small an)8 1717( conversions in)2 750( The)1 257(16 significant figures.\))2 1115 4 1201 3528 t
(exponent)720 3678 w
12 I f
(k)1202 3678 w
12 R f
( many digits that)3 840(or so)1 249 2 1297 3678 t
12 CW f
(strtod)2469 3678 w
12 R f
(must resort to high-precision integer arith-)5 2098 1 2942 3678 t
( than)1 245(metic, which makes it take considerably longer)6 2309 2 720 3828 t
12 CW f
(atof)3354 3828 w
12 R f
( is easy to find examples)5 1226(. It)1 172 2 3642 3828 t
(on all three machines where)4 1375 1 720 3978 t
12 CW f
(strtod)2174 3978 w
12 R f
(returns the correctly rounded value and)5 1914 1 2643 3978 t
12 CW f
(atof)4635 3978 w
12 R f
(is)4959 3978 w
( \(On)1 246(less accurate.)1 640 2 720 4128 t
12 I f
(pyxis)1636 4128 w
12 R f
(, such examples seem to need at least 18 decimal digits.\))10 2719 1 1883 4128 t
12 S f
(_ ___________________________________________________________)1 3570 1 1095 4233 t
12 I f
( pipe)1 896(pyxis odin)1 1131 2 2291 4383 t
12 R f
( arith.)1 281( VAX)1 634( arith.)1 281( IBM)1 603(IEEE arith.)1 540 5 2145 4533 t
12 I f
(Input)1155 4683 w
12 CW f
( atof)1 348( strtod)1 552( atof)1 348( strtod)1 552(strtod atof)1 780 5 2025 4683 t
12 R f
( 82)1 450( 7 33)2 900( 7)1 480( 18)1 420(1.23 9)1 1146 5 1155 4908 t
( 70)1 450( 8 38)2 900( 8)1 480( 15)1 420(1.23e+20 11)1 1146 5 1155 5058 t
( 305)1 450( 8 43)2 900( 8)1 480( 19)1 420(1.23e\26120 12)1 1146 5 1155 5208 t
( 150)1 450( 57)1 480( 12)1 420( 12)1 480( 27)1 420(1.23456789 15)1 1146 6 1155 5358 t
( 85)1 450( 63)1 480( 13)1 420( 12)1 480( 24)1 420(1.23456589e+20 16)1 1146 6 1155 5508 t
( 102)1 450( 42)1 480( 10)1 420( 7)1 480( 20)1 420(1.23e+30 11)1 1146 6 1155 5658 t
12 S f
( \347)1 -3570(_ ___________________________________________________________)1 3570 2 1095 5688 t
(\347)1095 5673 w
(\347)1095 5553 w
(\347)1095 5433 w
(\347)1095 5313 w
(\347)1095 5193 w
(\347)1095 5073 w
(\347)1095 4953 w
(\347)1095 4833 w
(\347)1095 4713 w
(\347)1095 4593 w
(\347)1095 4473 w
(\347)1095 4353 w
(\347)4665 5688 w
(\347)4665 5673 w
(\347)4665 5553 w
(\347)4665 5433 w
(\347)4665 5313 w
(\347)4665 5193 w
(\347)4665 5073 w
(\347)4665 4953 w
(\347)4665 4833 w
(\347)4665 4713 w
(\347)4665 4593 w
(\347)4665 4473 w
(\347)4665 4353 w
12 B f
(Table 1.)1 414 1 1423 5913 t
12 R f
(Decimal-to-binary microseconds, ``typical'' cases.)3 2440 1 1897 5913 t
(November 30, 1990)2 956 1 2387 7710 t
cleartomark
showpage
saveobj restore
%%EndPage: 10 11
%%Page: 11 12
/saveobj save def
mark
12 pagesetup
12 R f
(- 11 -)2 260 1 2750 500 t
12 S f
(_ _________________________________________________________________)1 3930 1 915 825 t
12 I f
( pipe)1 896(pyxis odin)1 1131 2 2471 975 t
12 R f
( arith.)1 281( VAX)1 634( arith.)1 281( IBM)1 603(IEEE arith.)1 540 5 2325 1125 t
12 I f
(Input)975 1275 w
12 CW f
( atof)1 348( strtod)1 552( atof)1 348( strtod)1 552(strtod atof)1 780 5 2205 1275 t
12 R f
( 413)1 420( 380)1 510( 10)1 390( 80)1 510( 20)1 390(1.23e\26130 101)1 1536 6 975 1500 t
( 370)1 420( 458)1 510( 13)1 390( 98)1 510( 28)1 390(1.23456789e\26120 130)1 1536 6 975 1650 t
( 493)1 420( 552)1 510( 15)1 390( 95)1 510( 28)1 390(1.23456789e\26130 134)1 1536 6 975 1800 t
( 290)1 420( 640)1 510( 22)1 390( 110)1 510( 39)1 390(1.234567890123456789 156)1 1536 6 975 1950 t
12 S f
( \347)1 -3930(_ _________________________________________________________________)1 3930 2 915 1980 t
(\347)915 1905 w
(\347)915 1785 w
(\347)915 1665 w
(\347)915 1545 w
(\347)915 1425 w
(\347)915 1305 w
(\347)915 1185 w
(\347)915 1065 w
(\347)915 945 w
(\347)4845 1980 w
(\347)4845 1905 w
(\347)4845 1785 w
(\347)4845 1665 w
(\347)4845 1545 w
(\347)4845 1425 w
(\347)4845 1305 w
(\347)4845 1185 w
(\347)4845 1065 w
(\347)4845 945 w
12 B f
(Table 2.)1 414 1 1560 2205 t
12 R f
(Decimal-to-binary microseconds, hard cases.)3 2165 1 2034 2205 t
( approximate times for)3 1144(Tables 3\2618 show)2 845 2 970 2391 t
12 CW f
(dtoa)3048 2391 w
12 R f
(, based on \2473, to do the indicated)7 1704 1 3336 2391 t
( they show corresponding times for the)6 1984(binary-to-decimal conversions, and)2 1737 2 720 2541 t
12 CW f
(ecvt)4531 2541 w
12 R f
(and)4867 2541 w
12 CW f
(sprintf)720 2691 w
12 R f
( numbers)1 445( The)1 247(routines from the standard C library on the machine in question.)10 3093 3 1255 2691 t
( numbers in the)3 757(to be converted are the binary versions of the)8 2208 2 720 2841 t
12 I f
(Input)3719 2841 w
12 R f
(column, as computed)2 1033 1 4007 2841 t
(by)720 2991 w
12 CW f
(strtod)920 2991 w
12 R f
( 2 and 3 give times for)6 1130(. Columns)1 533 2 1352 2991 t
12 CW f
(dtoa)3095 2991 w
12 R f
(computing)3421 2991 w
12 I f
(n)3974 2991 w
12 S f
(=)4094 2991 w
12 R f
( fig-)1 213(6 significant)1 607 2 4220 2991 t
( first six input numbers in Tables 3, 5, and 7 are such that)13 2840(ures. The)1 482 2 720 3141 t
12 CW f
(dtoa)4119 3141 w
12 R f
(gets by with)2 598 1 4442 3141 t
( seventh allows use of floating-point arithmetic in \(11\) and)9 2911(floating-point arithmetic; the)2 1409 2 720 3291 t
( input numbers in Tables 4, 6, and 8 are chosen to force computation with)14 3824(\(12\). The)1 496 2 720 3441 t
( computations in column 2 use a mode that may need to pro-)12 2936( The)1 247(high-precision integers.)1 1137 3 720 3591 t
(pagate carries when rounding to)4 1564 1 720 3741 t
12 I f
(n)2320 3741 w
12 R f
( in column 3 use the)5 997(significant figures, whereas those)3 1627 2 2416 3741 t
( carry propagations at the)4 1249(approach advocated by Steele and White [12] of avoiding such)9 3071 2 720 3891 t
( 4 shows times for computing the shortest decimal)8 2548( Column)1 465(cost of extra computation.)3 1307 3 720 4041 t
( correctly rounds to the input binary floating-point number)8 2916(string that)1 497 2 720 4191 t
12 I f
(b)4175 4191 w
12 R f
( generally)1 489(. This)1 316 2 4235 4191 t
( with large integers, unless)4 1306(requires computing)1 938 2 720 4341 t
12 I f
(b)2999 4341 w
12 R f
(is a floating-point integer that is not too)7 1946 1 3094 4341 t
( the time taken)3 715( 5 shows)2 420( Column)1 448(large, such as the last input number in Tables 3, 5, and 7.)12 2737 4 720 4491 t
(for the C library routine)4 1245 1 720 4641 t
12 CW f
(ecvt)2061 4641 w
12 R f
(to compute 6 significant figures for the given input)8 2637 1 2403 4641 t
(number, and column 6 shows the time taken for)8 2325 1 720 4791 t
12 CW f
(sprintf\("%g"\))3121 4791 w
12 R f
(to do this computa-)3 948 1 4092 4791 t
(tion. The)1 471 1 720 4941 t
12 CW f
(dtoa)1270 4941 w
12 R f
(times are generally longer than those for)6 1985 1 1595 4941 t
12 CW f
(ecvt)3659 4941 w
12 R f
(but shorter than those)3 1057 1 3983 4941 t
(for)720 5091 w
12 CW f
(sprintf)943 5091 w
12 R f
(\(which obviously has extra overhead\); but)5 2080 1 1488 5091 t
12 CW f
(dtoa)3651 5091 w
12 R f
(is more accurate than)3 1060 1 3980 5091 t
12 CW f
(ecvt)720 5241 w
12 R f
(or)1038 5241 w
12 CW f
(sprintf)1210 5241 w
12 R f
(on all three machines.)3 1055 1 1744 5241 t
(November 30, 1990)2 956 1 2387 7710 t
cleartomark
showpage
saveobj restore
%%EndPage: 11 12
%%Page: 12 13
/saveobj save def
mark
13 pagesetup
12 R f
(- 12 -)2 260 1 2750 500 t
12 S f
(_ _____________________________________________________________)1 3661 1 1049 825 t
12 CW f
(dtoa)2249 975 w
12 R f
(,)2537 975 w
12 I f
(n)2597 975 w
12 R f
(= 6)1 157 1 2687 975 t
12 CW f
(dtoa)3192 975 w
12 R f
(carries no)1 758 1 2136 1125 t
12 I f
(n)3174 1125 w
12 R f
(from)3264 1125 w
12 I f
(Input)1109 1275 w
12 R f
( \(15\))1 442(possible carries)1 895 2 2099 1275 t
12 CW f
(ecvt sprintf)1 972 1 3678 1275 t
12 R f
( 77)1 576( 21)1 456( 109)1 532( 29)1 538(1.23 31)1 1247 5 1109 1500 t
( 71)1 576( 25)1 456( 137)1 532( 31)1 538(1.23e+20 33)1 1247 5 1109 1650 t
( 77)1 576( 26)1 456( 195)1 532( 31)1 538(1.23e\26120 33)1 1247 5 1109 1800 t
( 78)1 576( 17)1 456( 261)1 532( 37)1 538(1.23456789 30)1 1247 5 1109 1950 t
( 85)1 576( 22)1 456( 285)1 532( 38)1 538(1.23456589e+20 32)1 1247 5 1109 2100 t
( 76)1 576( 22)1 456( 415)1 532( 39)1 538(1.23456789e\26120 32)1 1247 5 1109 2250 t
( 68)1 576( 26)1 456( 36)1 532( 53)1 538(1234565 47)1 1247 5 1109 2400 t
12 S f
( \347)1 -3661(_ _____________________________________________________________)1 3661 2 1049 2430 t
(\347)1049 2385 w
(\347)1049 2265 w
(\347)1049 2145 w
(\347)1049 2025 w
(\347)1049 1905 w
(\347)1049 1785 w
(\347)1049 1665 w
(\347)1049 1545 w
(\347)1049 1425 w
(\347)1049 1305 w
(\347)1049 1185 w
(\347)1049 1065 w
(\347)1049 945 w
(\347)4710 2430 w
(\347)4710 2385 w
(\347)4710 2265 w
(\347)4710 2145 w
(\347)4710 2025 w
(\347)4710 1905 w
(\347)4710 1785 w
(\347)4710 1665 w
(\347)4710 1545 w
(\347)4710 1425 w
(\347)4710 1305 w
(\347)4710 1185 w
(\347)4710 1065 w
(\347)4710 945 w
12 B f
(Table 3.)1 414 1 1015 2655 t
12 R f
(Binary-to-decimal microseconds on)2 1723 1 1489 2655 t
12 I f
(pyxis)3242 2655 w
12 R f
(\(binary IEEE arithmetic\),)2 1225 1 3519 2655 t
(``typical'' cases for)2 941 1 2256 2805 t
12 I f
(n)3227 2805 w
12 R f
(= 6.)1 187 1 3317 2805 t
12 S f
(_ ___________________________________________________________)1 3541 1 1109 2910 t
12 CW f
(dtoa)2189 3060 w
12 R f
(,)2477 3060 w
12 I f
(n)2537 3060 w
12 R f
(= 6)1 157 1 2627 3060 t
12 CW f
(dtoa)3132 3060 w
12 R f
(carries no)1 758 1 2076 3210 t
12 I f
(n)3114 3210 w
12 R f
(from)3204 3210 w
12 I f
(Input)1169 3360 w
12 R f
( \(15\))1 442(possible carries)1 895 2 2039 3360 t
12 CW f
(ecvt sprintf)1 972 1 3618 3360 t
12 R f
( 76)1 576( 17)1 456( 210)1 502( 268)1 538(1.234565 131)1 1157 5 1169 3585 t
( 74)1 576( 22)1 456( 237)1 502( 285)1 538(1.234565e+20 157)1 1157 5 1169 3735 t
( 80)1 576( 23)1 456( 335)1 502( 341)1 538(1.234565e\26120 208)1 1157 5 1169 3885 t
12 S f
( \347)1 -3541(_ ___________________________________________________________)1 3541 2 1109 3915 t
(\347)1109 3870 w
(\347)1109 3750 w
(\347)1109 3630 w
(\347)1109 3510 w
(\347)1109 3390 w
(\347)1109 3270 w
(\347)1109 3150 w
(\347)1109 3030 w
(\347)4650 3915 w
(\347)4650 3870 w
(\347)4650 3750 w
(\347)4650 3630 w
(\347)4650 3510 w
(\347)4650 3390 w
(\347)4650 3270 w
(\347)4650 3150 w
(\347)4650 3030 w
12 B f
(Table 4.)1 414 1 1015 4140 t
12 R f
(Binary-to-decimal microseconds on)2 1723 1 1489 4140 t
12 I f
(pyxis)3242 4140 w
12 R f
(\(binary IEEE arithmetic\),)2 1225 1 3519 4140 t
(hard cases for)2 666 1 2393 4290 t
12 I f
(n)3089 4290 w
12 R f
(= 6.)1 187 1 3179 4290 t
12 S f
(_ _____________________________________________________________)1 3661 1 1049 4395 t
12 CW f
(dtoa)2249 4545 w
12 R f
(,)2537 4545 w
12 I f
(n)2597 4545 w
12 R f
(= 6)1 157 1 2687 4545 t
12 CW f
(dtoa)3192 4545 w
12 R f
(carries no)1 758 1 2136 4695 t
12 I f
(n)3174 4695 w
12 R f
(from)3264 4695 w
12 I f
(Input)1109 4845 w
12 R f
( \(15\))1 442(possible carries)1 895 2 2099 4845 t
12 CW f
(ecvt sprintf)1 972 1 3678 4845 t
12 R f
( 39)1 576( 10)1 456( 87)1 532( 20)1 538(1.23 23)1 1247 5 1109 5070 t
( 46)1 576( 13)1 456( 108)1 532( 22)1 538(1.23e+20 23)1 1247 5 1109 5220 t
( 41)1 576( 13)1 456( 136)1 532( 22)1 538(1.23e\26120 23)1 1247 5 1109 5370 t
( 38)1 576( 9)1 456( 203)1 532( 25)1 538(1.23456789 20)1 1247 5 1109 5520 t
( 41)1 576( 12)1 456( 222)1 532( 25)1 538(1.23456589e+20 23)1 1247 5 1109 5670 t
( 42)1 576( 13)1 456( 298)1 532( 25)1 538(1.23456789e\26120 22)1 1247 5 1109 5820 t
( 37)1 576( 14)1 456( 23)1 532( 33)1 538(1234565 32)1 1247 5 1109 5970 t
12 S f
( \347)1 -3661(_ _____________________________________________________________)1 3661 2 1049 6000 t
(\347)1049 5955 w
(\347)1049 5835 w
(\347)1049 5715 w
(\347)1049 5595 w
(\347)1049 5475 w
(\347)1049 5355 w
(\347)1049 5235 w
(\347)1049 5115 w
(\347)1049 4995 w
(\347)1049 4875 w
(\347)1049 4755 w
(\347)1049 4635 w
(\347)1049 4515 w
(\347)4710 6000 w
(\347)4710 5955 w
(\347)4710 5835 w
(\347)4710 5715 w
(\347)4710 5595 w
(\347)4710 5475 w
(\347)4710 5355 w
(\347)4710 5235 w
(\347)4710 5115 w
(\347)4710 4995 w
(\347)4710 4875 w
(\347)4710 4755 w
(\347)4710 4635 w
(\347)4710 4515 w
12 B f
(Table 5.)1 414 1 1216 6225 t
12 R f
(Binary-to-decimal microseconds on)2 1723 1 1690 6225 t
12 I f
(odin)3443 6225 w
12 R f
(\(IBM arithmetic\),)1 856 1 3687 6225 t
(``typical'' cases for)2 941 1 2256 6375 t
12 I f
(n)3227 6375 w
12 R f
(= 6.)1 187 1 3317 6375 t
(November 30, 1990)2 956 1 2387 7710 t
cleartomark
showpage
saveobj restore
%%EndPage: 12 13
%%Page: 13 14
/saveobj save def
mark
14 pagesetup
12 R f
(- 13 -)2 260 1 2750 500 t
12 S f
(_ ___________________________________________________________)1 3541 1 1109 825 t
12 CW f
(dtoa)2189 975 w
12 R f
(,)2477 975 w
12 I f
(n)2537 975 w
12 R f
(= 6)1 157 1 2627 975 t
12 CW f
(dtoa)3132 975 w
12 R f
(carries no)1 758 1 2076 1125 t
12 I f
(n)3114 1125 w
12 R f
(from)3204 1125 w
12 I f
(Input)1169 1275 w
12 R f
( \(15\))1 442(possible carries)1 895 2 2039 1275 t
12 CW f
(ecvt sprintf)1 972 1 3618 1275 t
12 R f
( 38)1 576( 9)1 456( 163)1 502( 200)1 538(1.234565 88)1 1157 5 1169 1500 t
( 41)1 576( 12)1 456( 184)1 502( 212)1 538(1.234565e+20 108)1 1157 5 1169 1650 t
( 41)1 576( 13)1 456( 246)1 502( 242)1 538(1.234565e\26120 137)1 1157 5 1169 1800 t
12 S f
( \347)1 -3541(_ ___________________________________________________________)1 3541 2 1109 1830 t
(\347)1109 1785 w
(\347)1109 1665 w
(\347)1109 1545 w
(\347)1109 1425 w
(\347)1109 1305 w
(\347)1109 1185 w
(\347)1109 1065 w
(\347)1109 945 w
(\347)4650 1830 w
(\347)4650 1785 w
(\347)4650 1665 w
(\347)4650 1545 w
(\347)4650 1425 w
(\347)4650 1305 w
(\347)4650 1185 w
(\347)4650 1065 w
(\347)4650 945 w
12 B f
(Table 6.)1 414 1 1216 2055 t
12 R f
(Binary-to-decimal microseconds on)2 1723 1 1690 2055 t
12 I f
(odin)3443 2055 w
12 R f
(\(IBM arithmetic\),)1 856 1 3687 2055 t
(hard cases for)2 666 1 2393 2205 t
12 I f
(n)3089 2205 w
12 R f
(= 6.)1 187 1 3179 2205 t
12 S f
(_ _____________________________________________________________)1 3661 1 1049 2310 t
12 CW f
(dtoa)2249 2460 w
12 R f
(,)2537 2460 w
12 I f
(n)2597 2460 w
12 R f
(= 6)1 157 1 2687 2460 t
12 CW f
(dtoa)3192 2460 w
12 R f
(carries no)1 758 1 2136 2610 t
12 I f
(n)3174 2610 w
12 R f
(from)3264 2610 w
12 I f
(Input)1109 2760 w
12 R f
( \(15\))1 442(possible carries)1 895 2 2099 2760 t
12 CW f
(ecvt sprintf)1 972 1 3678 2760 t
12 R f
( 144)1 576( 78)1 456( 428)1 532( 88)1 538(1.23 82)1 1277 5 1109 2985 t
( 168)1 576( 294)1 456( 518)1 532( 98)1 538(1.23e+20 105)1 1277 5 1109 3135 t
( 168)1 576( 107)1 456( 716)1 532( 95)1 538(1.23e\26120 100)1 1277 5 1109 3285 t
( 152)1 576( 80)1 456( 1024)1 532( 108)1 538(1.23456789 92)1 1277 5 1109 3435 t
( 174)1 576( 291)1 456( 1109)1 532( 120)1 538(1.23456589e+20 98)1 1277 5 1109 3585 t
( 181)1 576( 112)1 456( 1565)1 532( 115)1 538(1.23456789e\26120 93)1 1277 5 1109 3735 t
( 149)1 576( 108)1 456( 125)1 532( 177)1 538(1234565 162)1 1277 5 1109 3885 t
12 S f
( \347)1 -3661(_ _____________________________________________________________)1 3661 2 1049 3915 t
(\347)1049 3870 w
(\347)1049 3750 w
(\347)1049 3630 w
(\347)1049 3510 w
(\347)1049 3390 w
(\347)1049 3270 w
(\347)1049 3150 w
(\347)1049 3030 w
(\347)1049 2910 w
(\347)1049 2790 w
(\347)1049 2670 w
(\347)1049 2550 w
(\347)1049 2430 w
(\347)4710 3915 w
(\347)4710 3870 w
(\347)4710 3750 w
(\347)4710 3630 w
(\347)4710 3510 w
(\347)4710 3390 w
(\347)4710 3270 w
(\347)4710 3150 w
(\347)4710 3030 w
(\347)4710 2910 w
(\347)4710 2790 w
(\347)4710 2670 w
(\347)4710 2550 w
(\347)4710 2430 w
12 B f
(Table 7.)1 414 1 1204 4140 t
12 R f
(Binary-to-decimal microseconds on)2 1723 1 1678 4140 t
12 I f
(pipe)3431 4140 w
12 R f
(\(VAX arithmetic\),)1 887 1 3668 4140 t
(``typical'' cases for)2 941 1 2256 4290 t
12 I f
(n)3227 4290 w
12 R f
(= 6.)1 187 1 3317 4290 t
12 S f
(_ ___________________________________________________________)1 3541 1 1109 4395 t
12 CW f
(dtoa)2189 4545 w
12 R f
(,)2477 4545 w
12 I f
(n)2537 4545 w
12 R f
(= 6)1 157 1 2627 4545 t
12 CW f
(dtoa)3132 4545 w
12 R f
(carries no)1 758 1 2076 4695 t
12 I f
(n)3114 4695 w
12 R f
(from)3204 4695 w
12 I f
(Input)1169 4845 w
12 R f
( \(15\))1 442(possible carries)1 895 2 2039 4845 t
12 CW f
(ecvt sprintf)1 972 1 3618 4845 t
12 R f
( 154)1 576( 83)1 456( 804)1 502( 998)1 568(1.234565 450)1 1157 5 1169 5070 t
( 173)1 576( 288)1 456( 907)1 502( 1092)1 568(1.234565e+20 565)1 1157 5 1169 5220 t
( 176)1 576( 111)1 456( 1273)1 502( 1223)1 568(1.234565e\26120 737)1 1157 5 1169 5370 t
12 S f
( \347)1 -3541(_ ___________________________________________________________)1 3541 2 1109 5400 t
(\347)1109 5355 w
(\347)1109 5235 w
(\347)1109 5115 w
(\347)1109 4995 w
(\347)1109 4875 w
(\347)1109 4755 w
(\347)1109 4635 w
(\347)1109 4515 w
(\347)4650 5400 w
(\347)4650 5355 w
(\347)4650 5235 w
(\347)4650 5115 w
(\347)4650 4995 w
(\347)4650 4875 w
(\347)4650 4755 w
(\347)4650 4635 w
(\347)4650 4515 w
12 B f
(Table 8.)1 414 1 1204 5625 t
12 R f
(Binary-to-decimal microseconds on)2 1723 1 1678 5625 t
12 I f
(pipe)3431 5625 w
12 R f
(\(VAX arithmetic\),)1 887 1 3668 5625 t
(hard cases for)2 666 1 2393 5775 t
12 I f
(n)3089 5775 w
12 R f
(= 6.)1 187 1 3179 5775 t
12 B f
( Remarks)1 496(5. Concluding)1 745 2 720 6075 t
12 R f
( decimal-to-binary)1 911(We have shown that it is possible to do binary-to-decimal and)10 3159 2 970 6261 t
( always yield the correctly rounded results, with little time)9 3051(conversions in ways that)3 1269 2 720 6411 t
(penalty in common cases.)3 1242 1 720 6561 t
( conversion)1 568( The)1 256(In hard cases, we must resort to high-precision integer arithmetic.)9 3246 3 970 6747 t
(functions \()1 545 1 720 6897 t
12 CW f
(strtod)1265 6897 w
12 R f
(and)1753 6897 w
12 CW f
(dtoa)2024 6897 w
12 R f
(\) described in \2474 have machine-independent routines,)6 2728 1 2312 6897 t
( versions of these routines)4 1312( Assembly-coded)1 881( C, that carry out this arithmetic.)6 1649(written in)1 478 4 720 7047 t
(might run significantly faster on some machines.)6 2350 1 720 7197 t
(November 30, 1990)2 956 1 2387 7710 t
cleartomark
showpage
saveobj restore
%%EndPage: 13 14
%%Page: 14 15
/saveobj save def
mark
15 pagesetup
12 R f
(- 14 -)2 260 1 2750 500 t
(Under IEEE arithmetic,)2 1155 1 970 870 t
12 CW f
(strtod)2206 870 w
12 R f
(and)2677 870 w
12 CW f
(dtoa)2931 870 w
12 R f
(could be modified to reset, then test)6 1781 1 3259 870 t
( avoid high-precision integer computations in)5 2289(the ``inexact'' flag, and they could then)6 2031 2 720 1020 t
( this would be worthwhile obviously depends on)7 2361( extent to which)3 780( The)1 249(some further cases.)2 930 4 720 1170 t
( of resetting and testing the ``inexact'' flag and on the distribution of numbers)13 3934(the cost)1 386 2 720 1320 t
(presented for conversion.)2 1217 1 720 1470 t
(The Numeric C Extensions Group is drafting a ``standard'' in which correct or)12 4070 1 970 1656 t
( Some)1 346(nearly correct binary-to-decimal and decimal-to-binary conversions are required.)7 3974 2 720 1806 t
( expressed concern about the cost of such a requirement; this note should)12 3727(people have)1 593 2 720 1956 t
(serve to demonstrate that the cost can be modest in common cases.)11 3212 1 720 2106 t
( there are many situations where precise conversions are not needed and)11 3563(Of course,)1 507 2 970 2292 t
( these situations, it would be helpful to)7 1880( For)1 229( accuracy is desirable.)3 1066(where trading speed for)3 1145 4 720 2442 t
( the)1 179( But)1 236( routines that make a reasonable such trade.)7 2109(have a library of alternate conversion)5 1796 4 720 2592 t
( the)1 203(principle of least surprise suggests that correctly rounded conversions should be)10 4117 2 720 2742 t
(default.)720 2892 w
12 B f
(Acknowledgments)720 3192 w
12 R f
(Howard Trickey [private communication] has written a program for testing conver-)10 4070 1 970 3378 t
( useful in detecting)3 955(sion routines with numbers of the form that Schryer [11] has found)11 3365 2 720 3528 t
( thank Howard for his help in testing)7 1927( I)1 123(floating-point arithmetic bugs.)2 1515 3 720 3678 t
12 CW f
(strtod)4381 3678 w
12 R f
(and)4867 3678 w
12 CW f
(dtoa)720 3828 w
12 R f
( comments on the)3 903( also thank Norm Schryer and Margaret Wright for helpful)9 2981(. I)1 148 3 1008 3828 t
(manuscript.)720 3978 w
12 B f
(References)720 4278 w
12 R f
([1])720 4575 w
12 I f
( Arithmetic,)1 596(IEEE Standard for Binary Floating-Point)4 2112 2 970 4575 t
12 R f
(Institute of Electrical and)3 1304 1 3736 4575 t
( Std 754-1985.)2 711( ANSI/IEEE)1 632(Electronics Engineers, New York, NY, 1985.)5 2174 3 970 4725 t
([2])720 4986 w
12 I f
( Standard for Information Systems \320 Programming Language \320)8 3152(American National)1 918 2 970 4986 t
(C,)970 5136 w
12 R f
( X3.159-)1 445( ANSI)1 358( York, NY, 1990.)3 895(American National Standards Institute, New)4 2212 4 1130 5136 t
(1989.)970 5286 w
( Clinger, ``How to Read Floating Point Numbers Accurately,'' pp. 92\261101 in)11 3776( D.)1 151([3] W.)1 393 3 720 5547 t
12 I f
( Language)1 543(Proceedings of the ACM SIGPLAN'90 Conference on Programming)7 3527 2 970 5697 t
( Plains, NY, June 20-22, 1990)5 1441( White)1 341(Design and Implementation.)2 1364 3 970 5847 t
12 R f
(.)4116 5847 w
( Coonen, ``Contributions to a Proposed Standard for Binary Floating-Point)9 3835( T.)1 158([4] J.)1 327 3 720 6108 t
( Berkeley.)1 523( of California,)2 678( Univ.)1 330(Arithmetic,'' Ph.D. Dissertation \(1984\),)3 1927 4 970 6258 t
( Electronic)1 527( J. Dongarra and E. Grosse, ``Distribution of Mathematical Software by)10 3466([5] J.)1 327 3 720 6519 t
(Mail,'')970 6669 w
12 I f
(Communications of the ACM)3 1398 1 1338 6669 t
12 B f
(30)2766 6669 w
12 R f
(#5 \(May 1987\), pp. 403\261407.)4 1410 1 2916 6669 t
(November 30, 1990)2 956 1 2387 7710 t
cleartomark
showpage
saveobj restore
%%EndPage: 14 15
%%Page: 15 16
/saveobj save def
mark
16 pagesetup
12 R f
(- 15 -)2 260 1 2750 500 t
( A. Ellis and B. Stroustrup,)5 1393([6] M.)1 387 2 720 870 t
12 I f
( C++ Reference Manual,)3 1274(The Annotated)1 722 2 2548 870 t
12 R f
(Addison-)4593 870 w
(Wesley, 1990.)1 690 1 970 1020 t
( B. Moler,)2 550( Forsythe and C.)3 875([7] G.)1 366 3 720 1281 t
12 I f
(Computer Solution of Linear Algebraic Systems,)5 2471 1 2569 1281 t
12 R f
(Prentice-Hall, 1967.)1 971 1 970 1431 t
( for Mathemat-)2 730( Fourer, D. M. Gay, and B. W. Kernighan, ``A Modeling Language)11 3230([8] R.)1 360 3 720 1692 t
(ical Programming,'')1 976 1 970 1842 t
12 I f
(Management Science)1 1022 1 1976 1842 t
12 B f
(36)3028 1842 w
12 R f
(#5 \(1990\), pp. 519\261554.)3 1160 1 3178 1842 t
( Generators,'')1 667( W. Fraser, ``A Language for Writing Code)7 2089([9] C.)1 360 3 720 2103 t
12 I f
(SIGPLAN Notices)1 871 1 3867 2103 t
12 B f
(24)4769 2103 w
12 R f
(#7)4920 2103 w
(\(1989\), pp. 238\261245.)2 1010 1 970 2253 t
( Formalization of Floating-Point Numeric Base Conversion,'')6 3108( W. Matula, ``A)3 836([10] D.)1 376 3 720 2514 t
12 I f
(IEEE Trans. Computers)2 1157 1 970 2664 t
12 B f
(C-19)2157 2664 w
12 R f
(#8 \(1970\), pp. 681\261692.)3 1160 1 2433 2664 t
( Schryer, ``A Test of a Computer's Floating-point Arithmetic Unit,'' in)10 3777( L.)1 167([11] N.)1 376 3 720 2925 t
12 I f
( Mathematical Software)2 1174(Sources and Development of)3 1406 2 970 3075 t
12 R f
(, ed. W. Cowell, Prentice-Hall)4 1490 1 3550 3075 t
(\(1981\).)970 3225 w
( L. Steele and J. L. White, ``How to Print Floating-Point Numbers Accurately,'')12 3944([12] G.)1 376 2 720 3486 t
(pp. 112\261126 in)2 730 1 970 3636 t
12 I f
( Conference on Programming)3 1442(Proceedings of the ACM SIGPLAN'90)4 1865 2 1733 3636 t
( Plains, NY, June 20-22, 1990)5 1441( White)1 341(Language Design and Implementation.)3 1874 3 970 3786 t
12 R f
(.)4626 3786 w
( Stroustrup,)1 562([13] B.)1 370 2 720 4047 t
12 I f
(The C++ Programming Language,)3 1697 1 1682 4047 t
12 R f
(Addison-Wesley, 1986.)1 1137 1 3409 4047 t
(November 30, 1990)2 956 1 2387 7710 t
cleartomark
showpage
saveobj restore
%%EndPage: 15 16
%%Page: 16 17
/saveobj save def
mark
17 pagesetup
12 R f
(- 16 -)2 260 1 2750 500 t
12 B f
(Appendix A: Rounded Products and Quotients with IBM Extended Precision)9 3948 1 720 870 t
12 R f
( code, suitable for use on)5 1491(The following assembly)2 1276 2 970 1056 t
12 I f
(odin)3825 1056 w
12 R f
(, defines functions)2 1001 1 4039 1056 t
12 CW f
(rnd_prod)720 1206 w
12 R f
(and)1326 1206 w
12 CW f
(rnd_quot)1571 1206 w
12 R f
(that correspond to the ANSI C headers)6 1860 1 2177 1206 t
12 CW f
(double rnd_prod\(double a, double b\); /* rounded a*b */)8 3888 1 900 1431 t
(double rnd_quot\(double a, double b\); /* rounded a/b */)8 3888 1 900 1581 t
12 R f
(These functions compute the rounded product or quotient required in)9 3341 1 720 1806 t
12 CW f
(strtod)4136 1806 w
12 R f
(when the)1 439 1 4601 1806 t
(result can be expressed as a single possibly inexact product or quotient.)11 3432 1 720 1956 t
12 CW f
(entry rnd_prod)1 1008 1 1260 2256 t
(rnd_prod:)720 2406 w
(using rnd_prod,15)1 1272 1 1260 2556 t
(ld 0,0+64\(13\))1 1200 1 1260 2706 t
(mxd 0,8+64\(13\))1 1200 1 1260 2856 t
(lrdr 0,0)1 696 1 1260 3006 t
(b 2\(,14\))1 912 1 1260 3156 t
(drop)1260 3306 w
(entry rnd_quot)1 1056 1 1260 3456 t
(rnd_quot:)720 3606 w
(using rnd_quot,15)1 1272 1 1260 3756 t
(ld 0,0+64\(13\))1 1200 1 1260 3906 t
(ldr 2,0)1 696 1 1260 4056 t
(ld 4,8+64\(13\))1 1200 1 1260 4206 t
(ddr 2,4)1 696 1 1260 4356 t
(std 2,32\(13\))1 1056 1 1260 4506 t
(mxdr 4,2)1 696 1 1260 4656 t
(sdr 2,2)1 696 1 1260 4806 t
(sxr 0,4)1 696 1 1260 4956 t
(dd 0,8+64\(13\))1 1200 1 1260 5106 t
(sdr 2,2)1 696 1 1260 5256 t
(ld 4,32\(13\))1 1056 1 1260 5406 t
(sdr 6,6)1 696 1 1260 5556 t
(axr 0,4)1 696 1 1260 5706 t
(lrdr 0,0)1 696 1 1260 5856 t
(b 2\(,14\))1 912 1 1260 6006 t
12 R f
(November 30, 1990)2 956 1 2387 7710 t
cleartomark
showpage
saveobj restore
%%EndPage: 16 17
%%Trailer
done
%%Pages: 17
%%DocumentFonts: Times-Roman Symbol Courier Times-Roman Helvetica-Bold Times-Bold Helvetica Times-Italic
