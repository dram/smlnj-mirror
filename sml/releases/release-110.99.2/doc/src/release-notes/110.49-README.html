<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html> <head>
<title>SML/NJ 110.49 NEWS</title>
</head>

<body>
<pre>
                         S  M  L   /   N  J

                   1  1  0  .  4  9      N  E  W  S
			
                          September 13, 2004

                                WARNING

        This working version is believed to be stable, but
        we have not run our full regression-test suite.
</pre>

<dl>
  <dt>HOME:</dt>
  <dd><a href="http://www.smlnj.org/index.html">http://www.smlnj.org/index.html</a></dd>
  <dt>FILES:</dt>
  <dd><a href="http://smlnj.cs.uchicago.edu/dist/working/110.49/">http://smlnj.cs.uchicago.edu/dist/working/110.49/</a></dd>
</dl>

<h2>Summary:</h2>

     This is a bugfix release.  Its main purpose is to solve a another
     showstopper problem introduced into the x86 c-calls
     implementation which is used by NLFFI.  It also fixes a problem
     with the signal masking/unmasking code.

<hr>

<h2>Details:</h2>

<dl>
  <dt>Basis:</dt>
  <dd>
    <ul>
      <li>Fixed the signal masking code to properly nest mask/unmask
          operations on a per-signal basis.
      </li>
    </ul>
  </dd>

  <dt>MLRISC:</dt>
  <dd>
    <ul>
      <li>fixed problem in x86/c-calls that caused NLFFI to generate
      bogus code</li>
      <li>bug fix in <tt>udgraph.sml</tt></li>
      <li>The IBM/MacOS syntax switch on PPC was incorrectly
      swapped. Fixed.</li>
    </ul>
  </dd>

  <dt>Runtime:</dt>
  <dd>
    <ul>
      <li>heap image magic number updated
      (causes a graceful exit rather than a crash when an outdated
      heap image is being loaded)</li>
      <li>Cygwin support</li>
    </ul>
  </dd>

  <dt>Libraries:</dt>
  <dd>
    <ul>
      <li>added some exports to <tt>src/compiler/core.cm</tt></li>
      <li>added a <tt>ptreql</tt> functon to structure <tt>InlineT</tt>
      (exported from <tt>$smlnj/init/init.cmi</tt>)</li>
    </ul>
  </dd>

  <dt>Installer:</dt>
  <dd>
    <ul>
      <li>falls back to copying when renaming of files fails
      (usually this happens when source and destination are in different
      file systems)</li>
    </ul>
  </dd>
</dl>

</body>
</html>
