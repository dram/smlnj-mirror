<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>SML/NJ 110.50 NEWS</title>
</head>

<body>
<pre>
                         S  M  L   /   N  J

                   1  1  0  .  5  0      N  E  W  S
			
                           October 28, 2004

                                WARNING

        This working version is believed to be stable, but
        we have not run our full regression-test suite.
</pre>

<dl>
  <dt>HOME:</dt>
  <dd><a href="http://www.smlnj.org/index.html">http://www.smlnj.org/index.html</a></dd>
  <dt>FILES:</dt>
  <dd><a href="http://smlnj.cs.uchicago.edu/dist/working/110.50/">http://smlnj.cs.uchicago.edu/dist/working/110.50/</a></dd>
</dl>

<h2>Summary:</h2>

   This release fixes important bugs and provides some additional
   functionality.

<hr>

<h2>Details:</h2>

<dl>
  <dt>Basis:</dt>
  <dd>
    <ul>
      <li>Added specialized implementation of Int31.fromString. </li>
    </ul>
  </dd>

  <dt>MLRISC:</dt>
  <dd>
    <ul>
      <li>Fixed bugs in <tt>x86/c-calls</tt> related to passing
      structs as arguments or results.</li>

      <li>Fixed bug in x86 assembly syntax (<tt>FU?COMIP?</tt>).</li>
    </ul>
  </dd>
      
  <dt>Libraries:</dt>
  <dd>
    <ul>
      <li>Minor enhancements to interfaces exported from the
      <tt>controls</tt> library.</li>

      <li>Added libraries <tt>$smlnj-tdp/plugins.cm</tT>,
      <tt>$smlnj-tdp/back-trace.cm</tt>, and
      <tt>$smlnj-tdp/coverage.cm</tt>.  This moves back-trace support
      out of the main compiler and into a library of
      trace/debug/profile plugins.</li>

      <li> The test-coverage plugin is new.</li>
    </ul>
  </dd>

  <dt>Command-line:</dt>
  <dd>
    <ul>
      <li>Added flags <tt>-e</tt> and <tt>-E</tt> which print the
      names of environment variables that can be used to control
      internal settings.</li>

      <li>Added support for tracing, debugging, and profiling (using
      stuff from <tt>$smlnj-tdp/plugins.cm</tt>) for stand-alone
      programs.  (Stand-alone programs are those constructed using
      </tt>ml-build</tt>.)</li>
    </ul>
  </dd>
      

  <dt>Runtime:</dt>
  <dd>
    <ul>
      <li>Applied patch for setting rounding modes under Mac OS X.</li>
    </ul>
  </dd>

  <dt>Compiler:</dt>
  <dd>
    <ul>
      <li>PPC backend now silent (by default) even when it uses the "long
      form of branch"</li>

      <li>Made the former backtrace-instrumentation pass more generic.</li>

      <li>Some internal cleanup (consolidation of duplicated
      functionality).</li>
    </ul>
  </dd>

  <dt>Compilation Manager:</dt>
  <dd>
    <ul>
      <li>Direct support for lazy sml (keyword <tt>lazy</tt>) via new
      toolclass <tt>lazysml</tt> and filename suffix
      <tt>.lml</tt>.</li>
      
      <li>Support for selectively setting arbitrary control flags on
      a per-sourcefile basis.</li>

      <li>Fixed handling of CM keywords, thereby eliminating a bug
      with the shell tool.</li>
    
      <li>CM now issues an <i>obsolete feature</i> warning when group files
      use the old <i>owner</i> syntax.</li>
    </ul>
  </dd>
      
  <dt>Bootstrap compiler:</dt>
  <dd>
    <ul>
      <li>Adde a <i>version tool</i> and some CM magic to have the
      file <tt>version.sml</tt> be auto-generated during
      <tt>CMB.make</tt>.</li>
      
      <li>Moved version.sml (and above-mentioned magic) into its own
      library.</li>
    </ul>
  </dd>
</dl>

</body>
</html>
