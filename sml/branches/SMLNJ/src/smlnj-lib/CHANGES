This is a list of changes to the SML/NJ Library; the version numbers
correspond to SML/NJ releases.


--------------------------------------------------------------------------------
[1999-09-21]
	Changed the getOpt API.  Errors are now reported using a callback
	and both usage and getOpt take records as arguments.  Also changed
	the NoArg descriptor to take a function so that imperative argument
	processing can be supported.

[1999-09-20]
	Changed CM files to be compatible with both the old (110.0.x) and
	new (110.20+) versions of CM.

[1999-09-17]
	Added PropList:PROP_LIST structure.  This structure implements
	property lists using Stephen Weeks's technique.

[1999-09-17]
	Improved the red-black tree implementations with linear-time union,
	intersection, difference, and filter operations.  Also reimplemented
	the delete function in a way that does not require an extra constructor.

[1999-09-09]
	Added Red-Black-Tree implementation of sets and maps.  Two new
	functors (RedBlackMapFn and RedBlackSetFn) and four new structures
	(IntRedBlackMap, IntRedBlackSet, AtomIntRedBlackMap, and IntRedBlackSet).
	Also added aliases AtomMap and AtomSet that for the RB implementations.

[1999-09-03]
	Added missing support for WORD and WORD8 format items to Format structure.
	Still need to handle LWORD items!!

[1999-08-17]
	Added DynamicArray:DYNAMIC_ARRAY structure.

[1999-07-06]
	Added declarative representation of pretty-printing to PPStreamFn.
	This replaces the PPDescFn and PP_DESC components (which were not
	implemented anyway).

[1999-07-02]
	Moved SockUtil structure into a new INet library.  Also split out the
	Unix-specific socket operations into a UnixSockUtil module.  (Sockets
	are now supported on Win32).

[1999-06-17]
	Added listKeys function to ORD_MAP API.

[1999-06-14]
	Added Riccardo Pucella's GetOpt structure to Util library.

[1999-06-14]
	Added singleton and inDomain functions to ORD_MAP API.

[1999-06-02]
	Merged in some bug fixes from the compiler's version of the IntInf
	structure.

[1999-05-05]
	Fixed a couple of bugs in the PP library having to do with nesting
	absolute and relative indentations.

[1999-04-21]
	Added a way to pass control information to a PP device via the PP
	stream (function control in PP_STREAM).

[1999-04-16]
	Added better style support to the HTML PP device.

[1998-09-04]
	Added isEmpty predicate and first fucntion to ORD_MAP
	signature (and to implementations).

[1998-06-23]
	Fixed a bug in ParserComb.bind (reported by Andrew Kennedy).

--------------------------------------------------------------------------------
[1998-04-15] 110 --> 110.5
--------------------------

There is now a regular expression library (mostly implemented by Riccardo
Pucella).  The implementation separates front-ends (which specify the
syntax of REs) from back-ends (which implement the matching algorithms).
Currently, we support AWK syntax as the only front-end and two different
back-ends.

Added an implementation of the SML/NJ PP API to the pretty-printer examples.

Fixed a bug in the IntInf structure with scanning strings of the form "1+2".
Also did some clean-up of the code.


--------------------------------------------------------------------------------
[1997-12-07] 109.32 --> 110
---------------------------

Added the function add' to the ORD_SET signature and the function insert'
to the ORD_MAP signature.  These functions fit the pattern of the fold
functions. (110 patch 3)

Added the IntInf:INT_INF structure to the Util library.  This is a subset
of the optional IntInf structure defined by the SML'97 basis.

Changed the Rand structure to use words as seeds and results.  This also
fixes bug 1047. (110 patch 3)

Added a clear operation to the Queue and various hash table structures.

Changed the ListFormat.formatList to ListFormat.fmt and ListFormat.scanList
to ListFormat.scan.  Added the function ListFormat.listToString.

Updated the HTML library to the final 3.2 specification.  This involved adding
a new BODY element type (with attributes).  Also, removed the header/footer
arguments to the pretty-printer (they were a gross hack).

Added PathUtil structure to Util library.  This is a more general version
of the old UnixPath module.


--------------------------------------------------------------------------------
[1997-10-01] 109.31 --> 109.32
------------------------------

Changed the type of the exec instruction in the Reactive library.


--------------------------------------------------------------------------------
[1997-09-09] 109.30 --> 109.31
------------------------------

Added the Reactive library, which supports reactive scripting.  This is a
first cut, and hasn't been extensively tested.

Changed the names of SockUtil.sock{Recv,Send}* to SockUtil.{recv,send}*
(since the sock prefix was redundant).

Added some bug fixes to IntListSet that had previously been added to
the ListSetFn implementation.


--------------------------------------------------------------------------------
[1997-07-17] 109.29 --> 109.30
------------------------------

Added a missing case to {ListSetFn,IntListSet}.isSubset.

The bug fix for unionWith was broken.  I think I've got it right this
time.


--------------------------------------------------------------------------------
[1997-07-17] 109.29 --> 109.30
------------------------------

Fixed a bug in the binary-tree and splay-tree implementations of the
unionWith[i] and intersectWith[i] functions.  The bug caused the order
of arguments to the merging function to be wrong in some cases.

Fixed uses of System.Unsafe.

Removed Array2:ARRAY2 from Util library, since the basis now defines these.

Added MonoArrayFn functor for easy creation of monomorphic array structures.

Added Atom.atom' operation for turning substrings into atoms.


--------------------------------------------------------------------------------
[1997-06-13] 109.28 --> 109.29
------------------------------

Added collate operation to ORD_MAP signature.

Added compare operation to ORD_SET signature.

Changed the type of and intersectWith[i] in the ORD_MAP signature to be
more general.

Changed the type of the map function in the ORD_SET signature to return
a new set (instead of a list).


--------------------------------------------------------------------------------
[1997-05-22] 109.27 --> 109.28
------------------------------

Changed various sharing constraints to "where type" definitions to
compile in SML'97.

Added AtomBinaryMap and AtomBinarySet structures to Util library.


--------------------------------------------------------------------------------
[1997-03-03] 109.25.1 --> 109.25.2
----------------------------------

Changed Util/time-limit.sml to reflect new location of callcc/throw.


--------------------------------------------------------------------------------
[1997-02-25] 109.25 --> 109.25.1
--------------------------------

Added a bunch of new operations to the ordered map modules (BinaryMapFn,
IntBinaryMap, ListMapFn, IntListFn, and SplayMapFn).  The new operations
are:
    val unionWith  : ('a * 'a -> 'a) -> ('a map * 'a map) -> 'a map
    val unionWithi : (Key.ord_key * 'a * 'a -> 'a) -> ('a map * 'a map) -> 'a map
    val intersectWith  : ('a * 'a -> 'a) -> ('a map * 'a map) -> 'a map
    val intersectWithi : (Key.ord_key * 'a * 'a -> 'a) -> ('a map * 'a map) -> 'a map
    val filter  : ('a -> bool) -> 'a map -> 'a map
    val filteri : (Key.ord_key * 'a -> bool) -> 'a map -> 'a map
    val mapPartial  : ('a -> 'b option) -> 'a map -> 'b map
    val mapPartiali : (Key.ord_key * 'a -> 'b option) -> 'a map -> 'b map

Added IOUtil : IO_UTIL structure to the Util library.  This provides
support for dynamically rebinding stdIn and stdOut.

Added KeywordFn functor to the Util library.  This provides support for
implementing scanners, where keyword recognition is done outside the
basic lexical analysis.

Fixed several bugs in the ListSetFn functor.


--------------------------------------------------------------------------------
[1997-01-10] 109.23 --> 109.24
------------------------------

Changed the HASH_TABLE, MONO_HASH_TABLE, MONO_HASH2_TABLE, and ORD_MAP
interfaces to provide two forms of the listItems function.  listItemsi
returns a list of (key, value) pairs and listItems returns just the values.
The previous version of listItems was like listItemsi.

Added a missing case for BASEFONT in CheckHTMLFn.check.


--------------------------------------------------------------------------------
[1996-12-07] 109.21.1 --> 109.22
--------------------------------

Changed the MONO_DYNAMIC_ARRAY signature to make array an eqtype (also changed
the implementation of DynamicArrayFn).

Fixed a bug in Array2.column


--------------------------------------------------------------------------------
[1996-10-18] 109.19 --> 109.20
------------------------------

Added functions for sending/receiving strings over TCP sockets to the
SockUtil structure.

Fixed a bug with reading on a closed socket in SockUtil.sockRecvVec

Fixed a bug in the implementation of the intersection operation
in binary sets (BinarySetFn and IntBinarySet).


--------------------------------------------------------------------------------
[1996-10-01] 109.18 --> 109.19
------------------------------

Updated the HTML library to the August 21 version of the 3.2 DTD.

Added html-defaults.sml to the HTML Library.

Added Parsing combinators to the Util library.

Added Socket utilities to the Unix library.

